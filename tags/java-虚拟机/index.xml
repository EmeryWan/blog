<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Java è™šæ‹Ÿæœº on ä¸€å±‚</title><link>https://emerywan.github.io/blog/tags/java-%E8%99%9A%E6%8B%9F%E6%9C%BA/</link><description>Recent content in Java è™šæ‹Ÿæœº on ä¸€å±‚</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Mon, 08 Aug 2022 15:02:02 +0800</lastBuildDate><atom:link href="https://emerywan.github.io/blog/tags/java-%E8%99%9A%E6%8B%9F%E6%9C%BA/index.xml" rel="self" type="application/rss+xml"/><item><title>JVM å†…å­˜åŒºåŸŸ</title><link>https://emerywan.github.io/blog/p/java/jvm/memory-area/</link><pubDate>Mon, 08 Aug 2022 15:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/java/jvm/memory-area/</guid><description>&lt;img src="https://emerywan.github.io/blog/p/java/jvm/memory-area/area.png" alt="Featured image of post JVM å†…å­˜åŒºåŸŸ" />&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/memory-area/area.png"
width="1240"
height="583"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/memory-area/area_hu7d264de33d14753fd73bf351bb5dce63_911596_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/memory-area/area_hu7d264de33d14753fd73bf351bb5dce63_911596_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="area"
class="gallery-image"
data-flex-grow="212"
data-flex-basis="510px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ðŸ§ çº¿ç¨‹éš”ç¦»&lt;/p>
&lt;ul>
&lt;li>ç¨‹åºè®¡æ•°å™¨&lt;/li>
&lt;li>è™šæ‹Ÿæœºæ ˆ&lt;/li>
&lt;li>æœ¬åœ°æ–¹æ³•æ ˆ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>â˜ºï¸ çº¿ç¨‹å…±äº«&lt;/p>
&lt;ul>
&lt;li>æ–¹æ³•åŒº&lt;/li>
&lt;li>å †&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="-ç¨‹åºè®¡æ•°å™¨">ðŸŽ‹ ç¨‹åºè®¡æ•°å™¨&lt;/h2>
&lt;p>å½“å‰çº¿ç¨‹æ‰§è¡Œå­—èŠ‚ç çš„è¡Œå·æŒ‡ç¤ºå™¨ã€‚&lt;/p>
&lt;p>å”¯ä¸€ä¸€ä¸ªä¸ä¼šå‡ºçŽ° &lt;code>OutOfMemoryError&lt;/code> çš„å†…å­˜åŒºåŸŸï¼Œéšçº¿ç¨‹çš„åˆ›å»ºè€Œåˆ›å»ºï¼Œéšçº¿ç¨‹çš„ç»“æŸè€Œæ­»äº¡ã€‚&lt;/p>
&lt;h2 id="-è™šæ‹Ÿæœºæ ˆ">ðŸŽ‹ è™šæ‹Ÿæœºæ ˆ&lt;/h2>
&lt;p>æ¯ä¸€æ¬¡æ–¹æ³•çš„è°ƒç”¨éƒ½ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„æ ˆå¸§è¢«åŽ‹å…¥æ ˆä¸­ï¼Œæ¯ä¸€ä¸ªæ–¹æ³•è°ƒç”¨ç»“æŸåŽï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªæ ˆå¸§è¢«å¼¹å‡ºã€‚&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/memory-area/stack.png"
width="1223"
height="184"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/memory-area/stack_huec65210ac7484aa7992e4fd9421e2f2b_282459_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/memory-area/stack_huec65210ac7484aa7992e4fd9421e2f2b_282459_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="stack"
class="gallery-image"
data-flex-grow="664"
data-flex-basis="1595px"
>&lt;/p>
&lt;p>å½“çº¿ç¨‹è¯·æ±‚æ ˆçš„æ·±åº¦è¶…è¿‡å½“å‰ Java è™šæ‹Ÿæœºæœ€å¤§æ·±åº¦æ—¶ï¼Œä¼šæŠ›å‡º &lt;code>StackOverFlowError&lt;/code>ã€‚&lt;/p>
&lt;ul>
&lt;li>
&lt;p>å±€éƒ¨å˜é‡è¡¨&lt;/p>
&lt;p>å­˜æ”¾ç¼–è¯‘æœŸå¯çŸ¥çš„å„ç§æ•°æ®ç±»åž‹ï¼Œå¯¹è±¡å¼•ç”¨åœ°å€ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ“ä½œæ•°æ ˆ&lt;/p>
&lt;p>æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­çš„è®¡ç®—ç»“æžœï¼Œè®¡ç®—è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¸´æ—¶å˜é‡ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åŠ¨æ€é“¾æŽ¥&lt;/p>
&lt;p>æœåŠ¡äºŽä¸€ä¸ªæ–¹æ³•éœ€è¦è°ƒç”¨å…¶ä»–æ–¹æ³•çš„åœºæ™¯ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ–¹æ³•è¿”å›žåœ°å€&lt;/p>
&lt;ul>
&lt;li>æ­£å¸¸è¿”å›žï¼ˆreturnï¼‰&lt;/li>
&lt;li>å¼‚å¸¸è¿”å›žï¼ˆExceptionï¼‰&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="-æœ¬åœ°æ–¹æ³•æ ˆ">ðŸŽ‹ æœ¬åœ°æ–¹æ³•æ ˆ&lt;/h2>
&lt;p>æœ¬åœ°æ–¹æ³•æ ˆç”¨äºŽè™šæ‹Ÿæœºæ‰§è¡Œ Native æ–¹æ³•ï¼Œå…·ä½“ä¸Žè™šæ‹Ÿæœºæ ˆç±»ä¼¼ã€‚&lt;/p>
&lt;h2 id="-æ–¹æ³•åŒº">ðŸŽ æ–¹æ³•åŒº&lt;/h2>
&lt;p>æ–¹æ³•åŒºæ˜¯ Java è™šæ‹Ÿæœºçš„æŠ½è±¡æ¦‚å¿µã€‚å®žçŽ°æ–¹å¼åœ¨ä¸åŒè™šæ‹Ÿæœºä¸­å¯èƒ½ä¸åŒã€‚&lt;/p>
&lt;ul>
&lt;li>JDK 8 ä¹‹å‰ï¼ŒHotSpot è™šæ‹Ÿæœºä½¿ç”¨æ°¸ä¹…å¸¦å®žçŽ°æ–¹æ³•åŒº&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/memory-area/function-before.png"
width="547"
height="530"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/memory-area/function-before_hucbc502332944514d4c1f41f29f96205d_115360_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/memory-area/function-before_hucbc502332944514d4c1f41f29f96205d_115360_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="before"
class="gallery-image"
data-flex-grow="103"
data-flex-basis="247px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>JDK 8 åŠä¹‹åŽï¼Œä½¿ç”¨å…ƒç©ºé—´ï¼ˆç›´æŽ¥å†…å­˜ï¼‰å®žçŽ°&lt;/p>
&lt;p>å­—ç¬¦ä¸²å¸¸é‡æ± ä¸Žé™æ€å˜é‡è½¬ç§»åˆ°äº†å †ä¸­ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/memory-area/function-after.png"
width="695"
height="524"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/memory-area/function-after_hub8d0c407ad61dc44d980ad0db8ff77fa_132600_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/memory-area/function-after_hub8d0c407ad61dc44d980ad0db8ff77fa_132600_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="after"
class="gallery-image"
data-flex-grow="132"
data-flex-basis="318px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ç±»çš„å…ƒä¿¡æ¯&lt;/p>
&lt;p>ç±»åï¼Œè®¿é—®ä¿®é¥°ç¬¦ï¼Œå­—æ®µæè¿°ï¼Œæ–¹æ³•æè¿°ç­‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>è¿è¡Œæ—¶å¸¸é‡æ± &lt;/p>
&lt;p>å­˜æ”¾ç¼–è¯‘åŽçš„å„ç§å­—é¢é‡ï¼Œç¬¦å·å¼•ç”¨ï¼Œå¸¸é‡ï¼ˆfinalï¼‰æ± è¡¨ç­‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å­—ç¬¦ä¸²å¸¸é‡æ± &lt;/p>
&lt;p>JVM ä¸ºäº†å‡å°‘å­—ç¬¦ä¸²å¯¹å†…å­˜çš„æ¶ˆè€—ï¼Œå¹¶æå‡æ€§èƒ½ï¼Œä¸“é—¨å¼€è¾Ÿçš„åŒºåŸŸ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>é™æ€å˜é‡&lt;/p>
&lt;p>ç±»å˜é‡ï¼ˆstaticï¼‰&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="-å †">ðŸŽ å †&lt;/h2>
&lt;p>ç”¨æ¥å­˜æ”¾å’Œç®¡ç†å¯¹è±¡å®žä¾‹ï¼Œå‡ ä¹Žæ‰€æœ‰çš„å¯¹è±¡å®žä¾‹éƒ½åœ¨è¿™é‡Œåˆ†é…ã€‚ï¼ˆå­˜åœ¨é€ƒé€¸åˆ†æžï¼Œæ ˆä¸Šåˆ†é…ï¼Œæœ‰äº›å¯¹è±¡ä¸ä¸€å®šåœ¨å †ä¸­ï¼‰&lt;/p>
&lt;p>Java å †æ˜¯åžƒåœ¾å›žæ”¶çš„ä¸»è¦åŒºåŸŸï¼Œå› æ­¤ä¹Ÿè¢«ç§°ä¸º GC å †ã€‚&lt;/p>
&lt;ul>
&lt;li>
&lt;p>JDK 8 ä¹‹å‰ï¼Œå †è¢«åˆ†ä¸º&lt;/p>
&lt;ul>
&lt;li>æ–°ç”Ÿä»£ï¼ˆEdenã€Survivor0ã€Survivor1ï¼‰&lt;/li>
&lt;li>è€å¹´ä»£&lt;/li>
&lt;li>æ°¸ä¹…ä»£ï¼ˆæ–¹æ³•åŒºä¹Ÿç”±æ°¸ä¹…ä»£å®žçŽ°ï¼‰&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>JDK 8 ä¹‹åŽï¼Œæ°¸ä¹…ä»£è¢«å–æ¶ˆ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå¯¹è±¡é¦–å…ˆä¼šåœ¨æ–°ç”Ÿä»£çš„ Eden åŒºè¿›è¡Œåˆ†é…ï¼›åœ¨ä¸€æ¬¡åžƒåœ¾å›žæ”¶åŽï¼Œå¦‚æžœå¯¹è±¡è¿˜å­˜æ´»ï¼Œä¼šè¿›å…¥ S0 æˆ– S1ï¼›å½“å¯¹è±¡å¹´é¾„å¢žé•¿åˆ°ä¸€å®šç¨‹åº¦ï¼ˆé»˜è®¤ 15ï¼‰ï¼Œæˆ–ç´¯ç§¯çš„å¹´é¾„è¶…è¿‡äº† Survivor çš„ä¸€åŠï¼Œä¼šæ™‹å‡åˆ°è€å¹´ä»£ã€‚&lt;/p>
&lt;h2 id="å‚è€ƒ">å‚è€ƒ&lt;/h2>
&lt;ul>
&lt;li>å›¾æ¥æºäºŽç½‘ç»œã€‚&lt;/li>
&lt;li>æ·±å…¥ç†è§£ Java è™šæ‹Ÿæœº&lt;/li>
&lt;/ul></description></item><item><title>JVM åžƒåœ¾å›žæ”¶</title><link>https://emerywan.github.io/blog/p/java/jvm/garbage-collection/</link><pubDate>Sun, 07 Aug 2022 12:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/java/jvm/garbage-collection/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/26.jpeg" alt="Featured image of post JVM åžƒåœ¾å›žæ”¶" />&lt;h2 id="-å¯¹è±¡å­˜æ´»åˆ¤å®š">ðŸŒ´ å¯¹è±¡å­˜æ´»åˆ¤å®š&lt;/h2>
&lt;h3 id="-å¼•ç”¨è®¡æ•°æ³•">ðŸª¨ å¼•ç”¨è®¡æ•°æ³•&lt;/h3>
&lt;p>ç»™æ¯ä¸ªå¯¹è±¡æ·»åŠ ä¸€ä¸ªå¼•ç”¨è®¡æ•°å™¨ï¼š&lt;/p>
&lt;ul>
&lt;li>å½“æœ‰åœ°æ–¹å¼•ç”¨è¯¥å¯¹è±¡ï¼Œè®¡æ•°å™¨ &lt;code>+1&lt;/code>&lt;/li>
&lt;li>å½“å¼•ç”¨å¤±æ•ˆï¼Œè®¡æ•°å™¨ &lt;code>-1&lt;/code>&lt;/li>
&lt;li>å½“è®¡æ•°å™¨ä¸º &lt;code>0&lt;/code> æ—¶ï¼Œè¡¨ç¤ºå¯¹è±¡ä¸å¯ç”¨&lt;/li>
&lt;/ul>
&lt;p>è¯¥æ–¹æ³•ç®€å•é«˜æ•ˆï¼Œä½†ä¸»æµçš„è™šæ‹Ÿæœºéƒ½æ²¡æœ‰é€‰æ‹©è¯¥æ–¹æ³•ç®¡ç†å†…å­˜ï¼Œéš¾ä»¥è§£å†³å¯¹è±¡ä¹‹é—´å¾ªçŽ¯å¼•ç”¨çš„é—®é¢˜ã€‚&lt;/p>
&lt;h3 id="-å¯è¾¾æ€§åˆ†æžæ³•">ðŸª¨ å¯è¾¾æ€§åˆ†æžæ³•&lt;/h3>
&lt;p>é€šè¿‡ä¸€ç³»åˆ—ç§°ä¸º &lt;code>GC Root&lt;/code> çš„å¯¹è±¡ä½œä¸ºèµ·ç‚¹ï¼Œä»Žè¿™äº›èµ·ç‚¹å‘ä¸‹æœç´¢ï¼ŒèŠ‚ç‚¹èµ°è¿‡çš„è·¯å¾„ç§°ä¸ºå¼•ç”¨é“¾ï¼Œå½“ä¸€ä¸ªå¯¹è±¡ä¸Ž &lt;code>GC Root&lt;/code> ä¹‹é—´æ²¡æœ‰ä»»ä½•å¼•ç”¨é“¾ç›¸è¿žçš„è¯ï¼Œè¯´æ˜Žå¯¹è±¡ä¸å¯ç”¨ï¼Œéœ€è¦è¢«å›žæ”¶ã€‚&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/gcroot.png"
width="935"
height="581"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/gcroot_hud8e4c62b0ef63778b91f8329965428a2_102739_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/gcroot_hud8e4c62b0ef63778b91f8329965428a2_102739_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="gcroot"
class="gallery-image"
data-flex-grow="160"
data-flex-basis="386px"
>&lt;/p>
&lt;p>å¯ä»¥ä½œä¸º &lt;code>GC Root&lt;/code> çš„å¯¹è±¡ï¼š&lt;/p>
&lt;ul>
&lt;li>è™šæ‹Ÿæœºæ ˆï¼ˆæ ˆå¸§ä¸­å±€éƒ¨å˜é‡è¡¨ï¼‰å¼•ç”¨çš„å¯¹è±¡&lt;/li>
&lt;li>æœ¬åœ°æ–¹æ³•æ ˆä¸­å¼•ç”¨çš„å¯¹è±¡&lt;/li>
&lt;li>ç±»é™æ€å±žæ€§å¼•ç”¨çš„å¯¹è±¡&lt;/li>
&lt;li>æ–¹æ³•åŒºä¸­å¸¸é‡å¼•ç”¨çš„å¯¹è±¡&lt;/li>
&lt;li>æ‰€æœ‰è¢«åŒæ­¥é”ï¼ˆsynchronizedï¼‰æŒæœ‰çš„å¯¹è±¡&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;h2 id="-åžƒåœ¾å›žæ”¶ç®—æ³•">ðŸŒ´ åžƒåœ¾å›žæ”¶ç®—æ³•&lt;/h2>
&lt;h3 id="-æ ‡è®°-æ¸…é™¤">ðŸªµ æ ‡è®°-æ¸…é™¤&lt;/h3>
&lt;ul>
&lt;li>æ ‡è®°å‡ºæ‰€æœ‰éœ€è¦å›žæ”¶çš„å¯¹è±¡&lt;/li>
&lt;li>æ ‡è®°ç»“æŸåŽï¼Œç»Ÿä¸€å›žæ”¶æŽ‰æ‰€æœ‰è¢«æ ‡è®°çš„å¯¹è±¡&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/clear.png"
width="962"
height="488"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/clear_hu3ebff86a38831b55ce513a2b74335841_65435_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/clear_hu3ebff86a38831b55ce513a2b74335841_65435_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="clear"
class="gallery-image"
data-flex-grow="197"
data-flex-basis="473px"
>&lt;/p>
&lt;ul>
&lt;li>æ‰§è¡Œæ•ˆçŽ‡ä¸ç¨³å®šï¼Œå¤§éƒ¨åˆ†å¯¹è±¡éœ€è¦å›žæ”¶æ—¶ï¼Œéœ€è¦å¤§é‡æ ‡è®°å’Œæ¸…é™¤æ“ä½œ&lt;/li>
&lt;li>å†…å­˜ç©ºé—´ç¢Žç‰‡åŒ–é—®é¢˜&lt;/li>
&lt;/ul>
&lt;h3 id="-æ ‡è®°-å¤åˆ¶">ðŸªµ æ ‡è®°-å¤åˆ¶&lt;/h3>
&lt;ul>
&lt;li>å°†å†…å­˜åˆ†ä¸ºä¸¤å—ï¼Œæ¯æ¬¡åªä½¿ç”¨å…¶ä¸­çš„ä¸€å—&lt;/li>
&lt;li>å½“ä¸€å—å†…å­˜ä½¿ç”¨å®ŒåŽï¼Œå°†å­˜æ´»çš„å¯¹è±¡å¤åˆ¶åˆ°å¦å¤–ä¸€å—åŽ»&lt;/li>
&lt;li>å°†å·²ç»ä½¿ç”¨çš„ç©ºé—´ä¸€æ¬¡æ€§æ¸…é™¤æŽ‰&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/copy.png"
width="955"
height="495"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/copy_hu6b5a3b19d23e61d87d481fdc4629a5cf_68281_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/copy_hu6b5a3b19d23e61d87d481fdc4629a5cf_68281_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="copy"
class="gallery-image"
data-flex-grow="192"
data-flex-basis="463px"
>&lt;/p>
&lt;ul>
&lt;li>å¯ç”¨å†…å­˜å˜å°‘ï¼Œæœ‰ç©ºé—´æµªè´¹é—®é¢˜&lt;/li>
&lt;/ul>
&lt;h3 id="-æ ‡è®°-æ•´ç†">ðŸªµ æ ‡è®°-æ•´ç†&lt;/h3>
&lt;ul>
&lt;li>æ ‡è®°å‡ºæ‰€æœ‰éœ€è¦å›žæ”¶çš„å¯¹è±¡&lt;/li>
&lt;li>è®©è¿™äº›å­˜æ´»å¯¹è±¡å‘å†…å­˜çš„ä¸€ç«¯ç§»åŠ¨&lt;/li>
&lt;li>ç›´æŽ¥æ¸…é™¤æŽ‰è¾¹ç•Œä»¥å¤–çš„å†…å­˜&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/move.png"
width="944"
height="480"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/move_hu0eec74bf9ebb0cbf4f6fd4cbe2be3a39_63153_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/move_hu0eec74bf9ebb0cbf4f6fd4cbe2be3a39_63153_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="move"
class="gallery-image"
data-flex-grow="196"
data-flex-basis="472px"
>&lt;/p>
&lt;h3 id="-åˆ†ä»£æ”¶é›†">ðŸªµ åˆ†ä»£æ”¶é›†&lt;/h3>
&lt;p>æ ¹æ®å¯¹è±¡å­˜æ´»å‘¨æœŸçš„ä¸åŒï¼Œå°† Java å †åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Œä¾æ®å„ä¸ªåŒºåŸŸçš„ç‰¹ç‚¹ï¼Œé€‰æ‹©å›žæ”¶ç®—æ³•ã€‚&lt;/p>
&lt;ul>
&lt;li>åœ¨æ–°ç”Ÿä»£ä¸­ï¼Œæ¯æ¬¡æ”¶é›†éƒ½ä¼šæœ‰å¤§é‡çš„å¯¹è±¡æ­»åŽ»ï¼Œé€‰æ‹© &lt;code>æ ‡è®°-å¤åˆ¶&lt;/code> ç®—æ³•&lt;/li>
&lt;li>åœ¨è€å¹´ä»£ä¸­ï¼Œå­˜æ´»å¯¹è±¡çš„å‡ çŽ‡è¾ƒé«˜ï¼Œæ²¡æœ‰é¢å¤–çš„ç©ºé—´è¿›è¡Œåˆ†é…æ‹…ä¿ï¼Œé€‰æ‹© &lt;code>æ ‡è®°-æ¸…é™¤&lt;/code> æˆ– &lt;code>æ ‡è®°-æ•´ç†&lt;/code> ç®—æ³•&lt;/li>
&lt;/ul>
&lt;h2 id="-åžƒåœ¾æ”¶é›†æ–¹å¼">ðŸŒ´ åžƒåœ¾æ”¶é›†æ–¹å¼&lt;/h2>
&lt;h3 id="-éƒ¨åˆ†æ”¶é›†">ðŸª¨ éƒ¨åˆ†æ”¶é›†&lt;/h3>
&lt;p>æ”¶é›†å †éƒ¨åˆ†åŒºåŸŸã€‚&lt;code>Partial GC&lt;/code>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>æ–°ç”Ÿä»£æ”¶é›† &lt;code>Minor GC / Young GC&lt;/code>&lt;/p>
&lt;p>ç›®æ ‡åªæ˜¯æ–°ç”Ÿä»£çš„åžƒåœ¾æ”¶é›†ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>è€å¹´ä»£æ”¶é›† &lt;code>Major GC / Old GC&lt;/code>&lt;/p>
&lt;p>ç›®æ ‡åªæ˜¯è€å¹´ä»£çš„åžƒåœ¾æ”¶é›†ï¼Œç›®å‰åªæœ‰ CMS æ”¶é›†å™¨ä¼šæœ‰å•ç‹¬æ”¶é›†è€å¹´ä»£çš„è¡Œä¸ºã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ··åˆæ”¶é›† &lt;code>Mixed GC&lt;/code>&lt;/p>
&lt;p>ç›®æ ‡æ˜¯æ•´ä¸ªæ–°ç”Ÿä»£å’Œéƒ¨åˆ†è€å¹´ä»£çš„åžƒåœ¾æ”¶é›†ï¼Œç›®å‰åªæœ‰ G1 æ”¶é›†å™¨ä¼šæœ‰è¿™ç§è¡Œä¸ºã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-æ•´å †æ”¶é›†">ðŸª¨ æ•´å †æ”¶é›†&lt;/h3>
&lt;p>æ”¶é›†æ•´ä¸ªå †å’Œæ–¹æ³•åŒºã€‚&lt;code>Full GC&lt;/code>&lt;/p>
&lt;ul>
&lt;li>æ™‹å‡åˆ°è€å¹´ä»£çš„å¯¹è±¡å¤§äºŽè€å¹´ä»£çš„å‰©ä½™ç©ºé—´&lt;/li>
&lt;li>Minor GC åŽï¼Œæ–°ç”Ÿä»£å­˜æ´»å¯¹è±¡è¶…è¿‡äº†è€å¹´ä»£çš„ç©ºé—´ï¼ˆåˆ†é…æ‹…ä¿æœºåˆ¶ï¼‰&lt;/li>
&lt;li>æ‰‹åŠ¨ System.gc()&lt;/li>
&lt;li>ï¼ˆJava 8 ä¹‹å‰ï¼‰æ°¸ä¹…ä»£ç©ºé—´ä¸è¶³&lt;/li>
&lt;/ul>
&lt;h2 id="-åžƒåœ¾æ”¶é›†å™¨">ðŸŒ´ åžƒåœ¾æ”¶é›†å™¨&lt;/h2>
&lt;h3 id="-serial--serial-old">ðŸªµ Serial / Serial Old&lt;/h3>
&lt;p>â€œå•çº¿ç¨‹â€çš„åžƒåœ¾æ”¶é›†å™¨ï¼Œåœ¨è¿›è¡Œåžƒåœ¾æ”¶é›†æ—¶ï¼Œå¿…é¡»æš‚åœå…¶ä»–æ‰€æœ‰å·¥ä½œçº¿ç¨‹&lt;code>stop the world&lt;/code>ï¼Œç›´åˆ°æ”¶é›†ç»“æŸã€‚&lt;/p>
&lt;ul>
&lt;li>æ–°ç”Ÿä»£é‡‡ç”¨ æ ‡è®°-å¤åˆ¶ ç®—æ³•ï¼Œè€å¹´ä»£é‡‡ç”¨ æ ‡è®°-æ•´ç† ç®—æ³•ã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/serial.png"
width="953"
height="209"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/serial_hu902bd566aebd83355bfe0e2769bbc345_79667_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/serial_hu902bd566aebd83355bfe0e2769bbc345_79667_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="serial"
class="gallery-image"
data-flex-grow="455"
data-flex-basis="1094px"
>&lt;/p>
&lt;ul>
&lt;li>ç®€å•é«˜æ•ˆ&lt;/li>
&lt;li>ä¾æ—§æ˜¯çŽ°åœ¨ HotSpot è™šæ‹Ÿæœºè¿è¡Œåœ¨å®¢æˆ·ç«¯æ¨¡å¼ä¸‹çš„é»˜è®¤æ–°ç”Ÿä»£åžƒåœ¾å›žæ”¶æ–¹å¼&lt;/li>
&lt;/ul>
&lt;h3 id="-parnew">ðŸªµ ParNew&lt;/h3>
&lt;p>Serial çš„å¤šçº¿ç¨‹ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨å¤šæ¡çº¿ç¨‹è¿›è¡Œåžƒåœ¾å›žæ”¶ã€‚ï¼ˆæ–°ç”Ÿä»£ï¼‰&lt;/p>
&lt;ul>
&lt;li>é‡‡ç”¨æ ‡è®°-å¤åˆ¶ç®—æ³•&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/parnew.png"
width="960"
height="202"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/parnew_hub4e3375e7b496e8b6ebc251ec3bf2f26_87679_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/parnew_hub4e3375e7b496e8b6ebc251ec3bf2f26_87679_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="parnew"
class="gallery-image"
data-flex-grow="475"
data-flex-basis="1140px"
>&lt;/p>
&lt;h3 id="-parallel-scavenge--parallel-old">ðŸªµ Parallel Scavenge / Parallel Old&lt;/h3>
&lt;ul>
&lt;li>åŸºäºŽ æ ‡è®°-å¤åˆ¶ ç®—æ³•å®žçŽ°çš„æ–°ç”Ÿä»£åžƒåœ¾æ”¶é›†å™¨ï¼Œèƒ½å¤Ÿå¹¶è¡Œæ”¶é›†çš„å¤šçº¿ç¨‹æ”¶é›†å™¨ï¼Œç›®æ ‡æ˜¯è¾¾åˆ°ä¸€ä¸ªå¯æŽ§åˆ¶çš„â€œåžåé‡â€ã€‚&lt;/li>
&lt;li>åŸºäºŽ æ ‡è®°-æ•´ç† ç®—æ³•å®žçŽ°çš„è€å¹´ä»£å¤šçº¿ç¨‹æ”¶é›†å™¨ã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/parallel.png"
width="934"
height="199"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/parallel_hu519cfc57a4a5c97f5f81fc0feaeb8730_92362_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/parallel_hu519cfc57a4a5c97f5f81fc0feaeb8730_92362_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="parallel"
class="gallery-image"
data-flex-grow="469"
data-flex-basis="1126px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Java 8 é»˜è®¤çš„æ”¶é›†å™¨ä¸º Parallel Sacvenge + Parallel Old&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åžåé‡ TPS ï¼šç³»ç»Ÿåœ¨å•ä½æ—¶é—´å†…å¤„ç†è¯·æ±‚çš„æ•°é‡&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-cms">ðŸªµ CMS&lt;/h3>
&lt;p>&lt;code>Concurrent Mark Swap&lt;/code> èŽ·å–æœ€çŸ­åœé¡¿æ—¶é—´çš„æ”¶é›†å™¨ã€‚&lt;/p>
&lt;p>æ˜¯ HotSpot è™šæ‹Ÿæœºç¬¬ä¸€æ¬¾çœŸæ­£æ„ä¹‰ä¸Šçš„å¹¶å‘åžƒåœ¾æ”¶é›†å™¨ï¼Œå®žçŽ°äº†ç”¨æˆ·çº¿ç¨‹å’Œåžƒåœ¾å›žæ”¶çº¿ç¨‹åŒæ—¶å·¥ä½œã€‚åŸºäºŽ æ ‡è®°-æ¸…é™¤ ç®—æ³•çš„ &lt;strong>è€å¹´ä»£&lt;/strong> æ”¶é›†å™¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/CMS.png"
width="1121"
height="230"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/CMS_hu7a65fd9981325c5387fcf294cec67078_167761_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/CMS_hu7a65fd9981325c5387fcf294cec67078_167761_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="CMS"
class="gallery-image"
data-flex-grow="487"
data-flex-basis="1169px"
>&lt;/p>
&lt;p>CMS æ”¶é›†å™¨æ•´ä¸ªè¿‡ç¨‹åˆ†ä¸ºå››ä¸ªæ­¥éª¤ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ðŸ¾ åˆå§‹æ ‡è®°&lt;/p>
&lt;p>æ ‡è®°ä¸Ž GC Root ç›´æŽ¥å…³è”çš„å¯¹è±¡ã€‚æš‚åœç”¨æˆ·çº¿ç¨‹ï¼ˆstop the worldï¼‰ï¼Œä½†é€Ÿåº¦è¾ƒå¿«ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ðŸ¾ å¹¶å‘æ ‡è®°&lt;/p>
&lt;p>ç”¨æˆ·çº¿ç¨‹å’Œåžƒåœ¾å›žæ”¶çº¿ç¨‹åŒæ—¶å·¥ä½œï¼Œä»Ž GC Root ç›´æŽ¥å…³è”çš„å¯¹è±¡å¼€å§‹éåŽ†ï¼Œæ ¹æ®å¯è¾¾æ€§åˆ†æžï¼Œæ‰¾å‡ºå­˜æ´»å¯¹è±¡ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ðŸ¾ é‡æ–°æ ‡è®°&lt;/p>
&lt;p>ä¿®æ­£å¹¶å‘æ ‡è®°è¿‡ç¨‹ä¸­ï¼Œç”±äºŽç¨‹åºç»§ç»­è¿è¡Œï¼Œå¯¼è‡´çš„æ ‡è®°é”™è¯¯ã€‚æš‚åœç”¨æˆ·çº¿ç¨‹ï¼ˆstop the worldï¼‰ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ðŸ¾ å¹¶å‘æ¸…é™¤&lt;/p>
&lt;p>å¹¶å‘åœ°æ¸…ç†æœªè¢«æ ‡è®°çš„åŒºåŸŸã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>ç¼ºç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>å¯¹ CPU èµ„æºæ•æ„Ÿ&lt;/li>
&lt;li>æ— æ³•å¤„ç†æµ®åŠ¨åžƒåœ¾ï¼šè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸€äº›åžƒåœ¾åœ¨å½“æ¬¡æ— æ³•å¤„ç†ï¼Œéœ€è¦ç­‰å¾…ä¸‹æ¬¡åžƒåœ¾å›žæ”¶&lt;/li>
&lt;li>ä¼šäº§ç”Ÿå†…å­˜ç¢Žç‰‡ï¼Œå¯¼è‡´è¿žç»­ç©ºé—´å‡å°‘ï¼Œå¯¼è‡´ Full GC&lt;/li>
&lt;/ul>
&lt;h3 id="-g1">ðŸªµ G1&lt;/h3>
&lt;p>G1 å¼€åˆ›äº†æ”¶é›†å™¨é¢å‘å±€éƒ¨æ”¶é›†çš„è®¾è®¡æ€è·¯å’ŒåŸºäºŽ Region çš„å†…å­˜å¸ƒå±€å½¢å¼ã€‚&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/g1heap.png"
width="902"
height="676"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/g1heap_huc8187154c5204389b583a76e76e7dffa_88685_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/g1heap_huc8187154c5204389b583a76e76e7dffa_88685_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="g1heap"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
>&lt;/p>
&lt;p>å°† Java å †åˆ†ä¸º 2048 ä¸ªå¤§å°ç›¸åŒçš„ç‹¬ç«‹ Regionï¼Œæ¯ä¸ª Region çš„å¤§å°ä¾æ®å †ç©ºé—´çš„å¤§å°è€Œå®šï¼Œåœ¨ JVM ç”Ÿå‘½å‘¨æœŸä¸­ä¸ä¼šæ”¹å˜ã€‚&lt;/p>
&lt;p>æ¯ä¸ª Region éƒ½å¯ä»¥æ ¹æ®éœ€è¦ï¼Œä½œä¸ºæ–°ç”Ÿä»£çš„ Eden åŒºï¼ŒSurvivor åŒºï¼Œæˆ–è€…æ˜¯è€å¹´ä»£ï¼›æ–°ç”Ÿä»£å’Œè€å¹´ä»£åœ¨å†…å­˜ä¸­ä¸æ˜¯è¿žç»­çš„ç©ºé—´ï¼Œæ”¶é›†å™¨ä¼šæ ¹æ®åŒºåŸŸçš„ä¸åŒé‡‡å–ä¸åŒçš„ç­–ç•¥ã€‚&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/g1.png"
width="941"
height="209"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/g1_hu2c13cc7a5d500b4a818a8d3a4dfa26ed_139186_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/g1_hu2c13cc7a5d500b4a818a8d3a4dfa26ed_139186_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="g1"
class="gallery-image"
data-flex-grow="450"
data-flex-basis="1080px"
>&lt;/p>
&lt;p>Region ä¸­è¿˜ä¼šæœ‰ä¸€ç±»ç‰¹æ®Šçš„å·¨å¤§åŒºåŸŸ Humongousï¼Œä¸“é—¨ç”¨æ¥å­˜å‚¨å¤§å¯¹è±¡ã€‚å½“å¯¹è±¡çš„å¤§å°è¶…è¿‡äº†ä¸€ä¸ª Region çš„ä¸€åŠï¼Œå°±è¢«åˆ¤å®šä¸ºå¤§å¯¹è±¡ã€‚&lt;/p>
&lt;p>G1 æ”¶é›†å™¨å›žæ”¶çš„æ­¥éª¤ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ðŸ¾ åˆå§‹æ ‡è®°&lt;/p>
&lt;p>æ ‡è®° GC Root èƒ½å¤Ÿç›´æŽ¥å…³è”åˆ°çš„å¯¹è±¡ï¼Œéœ€è¦åœé¡¿çº¿ç¨‹ï¼ˆstop the worldï¼‰ï¼Œè€—æ—¶è¾ƒçŸ­ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ðŸ¾ å¹¶å‘æ ‡è®°&lt;/p>
&lt;p>ä»Ž GC Root å¼€å§‹å¯¹å †ä¸­çš„å¯¹è±¡è¿›è¡Œå¯è¾¾æ€§åˆ†æžï¼Œæ‰¾å‡ºéœ€è¦å›žæ”¶çš„å¯¹è±¡ï¼Œä¸Žç”¨æˆ·çº¿ç¨‹åŒæ—¶æ‰§è¡Œã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ðŸ¾ æœ€ç»ˆæ ‡è®°&lt;/p>
&lt;p>ä¿®æ­£å¹¶å‘æ ‡è®°æœŸé—´å› ç”¨æˆ·ç¨‹åºç»§ç»­è¿ä½œè€Œå¯¼è‡´æ ‡è®°äº§ç”Ÿçš„å˜åŠ¨ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ðŸ¾ ç­›é€‰å›žæ”¶&lt;/p>
&lt;p>å¯¹å„ä¸ª Region çš„å›žæ”¶ä»·å€¼å’Œæˆæœ¬è¿›è¡ŒæŽ’åºï¼Œä¼šé€‰æ‹©ä»·å€¼æœ€å¤§çš„åŒºåŸŸè¿›è¡Œå›žæ”¶ã€‚&lt;/p>
&lt;p>å°†å›žæ”¶çš„ Region ä¸­çš„å­˜æ´»å¯¹è±¡ï¼Œå¤åˆ¶åˆ°ç©ºçš„ Region ä¸­ï¼Œå†æ¸…ç†æŽ‰æ•´ä¸ªæ—§çš„ Region åŒºåŸŸã€‚&lt;/p>
&lt;p>æ¶‰åŠå¯¹è±¡çš„ç§»åŠ¨ï¼Œå¿…é¡»æš‚åœç”¨æˆ·çº¿ç¨‹ï¼ˆstop the worldï¼‰ï¼Œæœ‰å¤šæ¡åžƒåœ¾æ”¶é›†å™¨å¹¶å‘æ‰§è¡Œã€‚ä½†æ˜¯åªå›žæ”¶ä¸€éƒ¨åˆ†Regionï¼Œæ—¶é—´æ˜¯ç”¨æˆ·å¯æŽ§åˆ¶çš„ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;h2 id="-å¯¹è±¡åˆ†é…å’Œå›žæ”¶åŽŸåˆ™">ðŸŒ´ å¯¹è±¡åˆ†é…å’Œå›žæ”¶åŽŸåˆ™&lt;/h2>
&lt;ul>
&lt;li>ðŸª¨ å¯¹è±¡ä¼˜å…ˆåœ¨ Eden åŒºåˆ†é…&lt;/li>
&lt;/ul>
&lt;p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¯¹è±¡åœ¨æ–°ç”Ÿä»£ Eden åŒºåˆ†é…ï¼Œå½“ Eden åŒºæ²¡æœ‰è¶³å¤Ÿç©ºé—´æ—¶ï¼Œè™šæ‹Ÿæœºä¼šå‘èµ·ä¸€æ¬¡ Minor GCã€‚&lt;/p>
&lt;ul>
&lt;li>ðŸª¨ å¤§å¯¹è±¡ç›´æŽ¥è¿›å…¥è€å¹´ä»£&lt;/li>
&lt;/ul>
&lt;p>éœ€è¦å¤§é‡è¿žç»­å†…å­˜ç©ºé—´çš„ Java å¯¹è±¡ï¼ˆæ•°ç»„ï¼Œå¾ˆé•¿çš„å­—ç¬¦ä¸²ï¼‰ï¼Œç›´æŽ¥åœ¨è€å¹´ä»£åˆ†é…ï¼Œé¿å…åœ¨ Eden åŒºå’Œä¸¤ä¸ª Survivor åŒºä¹‹é—´æ¥å›žå¤åˆ¶ï¼Œäº§ç”Ÿå¤§é‡çš„å†…å­˜å¤åˆ¶æ“ä½œã€‚&lt;/p>
&lt;ul>
&lt;li>ðŸª¨ é•¿æœŸå­˜æ´»çš„å¯¹è±¡è¿›å…¥è€å¹´ä»£&lt;/li>
&lt;/ul>
&lt;p>è™šæ‹Ÿæœºç»™æ¯ä¸ªå¯¹è±¡ä¸€ä¸ªå¯¹è±¡å¹´é¾„è®¡æ•°å™¨ï¼Œæ¯ç»è¿‡ä¸€æ¬¡ MinorGCï¼Œå¹´é¾„å°±ä¼š +1ï¼Œ&lt;/p>
&lt;p>å½“å¹´é¾„å¢žåŠ åˆ°ä¸€å®šç¨‹åº¦ï¼ˆé»˜è®¤ 15ï¼‰ï¼Œæˆ–æŸä¸ªå¹´é¾„è¶…è¿‡äº† Survivor åŒºçš„ä¸€åŠæ—¶ï¼Œä¼šæ™‹å‡åˆ°è€å¹´ä»£ã€‚&lt;/p>
&lt;ul>
&lt;li>ðŸª¨ ç©ºé—´åˆ†é…æ‹…ä¿&lt;/li>
&lt;/ul>
&lt;p>ç¡®ä¿åœ¨ Minor GC ä¹‹å‰ï¼Œè€å¹´ä»£è¿˜æœ‰å®¹çº³æ–°ç”Ÿä»£æ‰€æœ‰å¯¹è±¡çš„å‰©ä½™ç©ºé—´ã€‚&lt;/p>
&lt;p>è¿›è¡Œä¸€æ¬¡ Minor GC ä¹‹åŽï¼ŒEden åŒºä¸­ä»»ç„¶å­˜åœ¨å¤§é‡å¯¹è±¡ï¼ŒSurvivor ä¸­æ— æ³•å®¹çº³ï¼Œç›´æŽ¥é€åˆ°è€å¹´ä»£ï¼Œè®©è€å¹´ä»£è¿›è¡Œç©ºé—´åˆ†é…æ‹…ä¿ã€‚&lt;/p></description></item><item><title>JVM å†…å­˜æ¨¡åž‹</title><link>https://emerywan.github.io/blog/p/java/jvm/memory-model/</link><pubDate>Sun, 07 Aug 2022 06:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/java/jvm/memory-model/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/28.jpeg" alt="Featured image of post JVM å†…å­˜æ¨¡åž‹" />&lt;h2 id="jmm">JMM&lt;/h2>
&lt;p>Java å†…å­˜æ¨¡åž‹ï¼ˆJava Memory Modelï¼‰å±è”½äº†ä¸åŒæ“ä½œç³»ç»Ÿå’Œå„ç§ç¡¬ä»¶çš„å†…å­˜è®¿é—®å·®å¼‚ï¼Œå®žçŽ°äº† Java ç¨‹åºåœ¨å„ç§å¹³å°ä¸‹ï¼Œéƒ½èƒ½è¾¾åˆ°ä¸€è‡´æ€§çš„è®¿é—®æ•ˆæžœã€‚&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/memory-model/JMM.png"
width="613"
height="530"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/memory-model/JMM_hu7e11e9092393e4f5c6cb98b7857d5889_99528_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/memory-model/JMM_hu7e11e9092393e4f5c6cb98b7857d5889_99528_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="JMM"
class="gallery-image"
data-flex-grow="115"
data-flex-basis="277px"
>&lt;/p>
&lt;p>JMM è§„å®šäº†ï¼š&lt;/p>
&lt;ul>
&lt;li>æ‰€æœ‰çš„å˜é‡éƒ½å­˜å‚¨åœ¨ä¸»å­˜ä¸­&lt;/li>
&lt;li>æ¯æ¡çº¿ç¨‹æœ‰è‡ªå·±çš„å·¥ä½œå†…å­˜&lt;/li>
&lt;li>çº¿ç¨‹å¯¹å˜é‡çš„æ‰€æœ‰æ“ä½œï¼ˆè¯»å–ã€èµ‹å€¼ç­‰ï¼‰ï¼Œä¸èƒ½ç›´æŽ¥è¯»å†™ä¸»å­˜ä¸­çš„æ•°æ®ï¼Œéƒ½å¿…é¡»åœ¨å·¥ä½œå†…å­˜ä¸­è¿›è¡Œ&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/memory-model/memory.png"
width="942"
height="383"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/memory-model/memory_hue7fb17d3eb7c4a77bd28c7215dc28c3d_104935_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/memory-model/memory_hue7fb17d3eb7c4a77bd28c7215dc28c3d_104935_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="memory"
class="gallery-image"
data-flex-grow="245"
data-flex-basis="590px"
>&lt;/p>
&lt;h2 id="åŽŸå­æ€§å¯è§æ€§æœ‰åºæ€§">åŽŸå­æ€§ã€å¯è§æ€§ã€æœ‰åºæ€§&lt;/h2>
&lt;p>Java å†…å­˜æ¨¡åž‹æ˜¯å›´ç»•ç€åœ¨å¹¶å‘è¿‡ç¨‹ä¸­å¦‚ä½•å¤„ç†åŽŸå­æ€§ã€å¯è§æ€§å’Œæœ‰åºæ€§ä¸‰ä¸ªç‰¹å¾æ¥å»ºç«‹çš„ã€‚&lt;/p>
&lt;h3 id="-åŽŸå­æ€§">ðŸ¥ åŽŸå­æ€§&lt;/h3>
&lt;p>ä¸€æ¬¡æˆ–å¤šæ¬¡æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œä¸”ä¸å—åˆ°ä»»ä½•å¹²æ‰°ï¼Œè¦ä¹ˆå…¨éƒ½ä¸æ‰§è¡Œã€‚&lt;/p>
&lt;ul>
&lt;li>åˆ©ç”¨é”ï¼Œå¯ä»¥è®©ä»»ä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹è®¿é—®ä»£ç å—ã€‚&lt;code>synchronized&lt;/code> &lt;code>Lock&lt;/code>&lt;/li>
&lt;li>åˆ©ç”¨ &lt;code>CAS&lt;/code> åŽŸå­ç±»ï¼Œä¿è¯åŽŸå­æ“ä½œã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="-å¯è§æ€§">ðŸ¤ å¯è§æ€§&lt;/h3>
&lt;p>ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†å…±äº«å˜é‡çš„å€¼ï¼Œå…¶ä»–çº¿ç¨‹èƒ½å¤Ÿç«‹å³å¾—çŸ¥è¿™ä¸ªä¿®æ”¹ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;code>volatile&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>è§„å®šæ¯æ¬¡å†™æ“ä½œï¼Œéƒ½ç«‹å³åŒæ­¥åˆ°ä¸»å­˜ï¼›æ¯æ¬¡è¯»æ“ä½œï¼Œéƒ½ä»Žä¸»å­˜ä¸­è¯»å–ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;code>synchronized&lt;/code> &lt;code>lock&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>å¯¹ä¸€ä¸ªå˜é‡æ‰§è¡Œæ‰§è¡Œ unlock ä¹‹å‰ï¼Œå¿…é¡»æŠŠå˜é‡åŒæ­¥å›žä¸»å­˜ä¸­ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;code>final&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="-æœ‰åºæ€§">ðŸ£ æœ‰åºæ€§&lt;/h3>
&lt;p>æŒ‡ä»¤é‡æŽ’é—®é¢˜ï¼Œä»£ç çš„æ‰§è¡Œé¡ºåºä¸ä¸€å®šã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;code>volatile&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>åŒ…å«ç¦æ­¢æŒ‡ä»¤é‡æŽ’åºçš„è¯­ä¹‰ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;code>synchronized&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>åªæœ‰ä¸€æ¡çº¿ç¨‹èƒ½å¤Ÿè¿›å…¥ä¸´ç•ŒåŒºã€‚&lt;/p>
&lt;h2 id="volatile">volatile&lt;/h2>
&lt;p>Java è™šæ‹Ÿæœºæä¾›çš„è½»é‡çº§å†…å­˜åŒæ­¥æœºåˆ¶ã€‚&lt;/p>
&lt;p>ä½œç”¨ï¼š&lt;/p>
&lt;ul>
&lt;li>âœ”ï¸ ä¿éšœäº†æ­¤å˜é‡å¯¹æ‰€æœ‰çº¿ç¨‹çš„å¯è§æ€§&lt;/li>
&lt;/ul>
&lt;p>volatile çš„å†™æ“ä½œï¼Œéƒ½ä¼šåˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­ï¼Œå¹¶ä½¿å…¶ä»–çº¿ç¨‹ä¸­çš„ volatile å˜é‡å¤±æ•ˆï¼›volatile çš„è¯»æ“ä½œï¼Œéƒ½ä¼šä»Žä¸»å­˜ä¸­è¯»å–ã€‚&lt;/p>
&lt;ul>
&lt;li>âœ”ï¸ ç¦æ­¢æŒ‡ä»¤é‡æŽ’ä¼˜åŒ–ï¼ˆæœ‰åºæ€§ï¼‰&lt;/li>
&lt;/ul>
&lt;p>é˜²æ­¢å†™æ“ä½œä¹‹å‰çš„ä»£ç ï¼Œé‡æŽ’åˆ°å†™æ“ä½œä¹‹åŽï¼›é˜²æ­¢è¯»æ“ä½œä¹‹åŽçš„ä»£ç ï¼Œé‡æŽ’åˆ°è¯»æ“ä½œä¹‹å‰ã€‚&lt;/p>
&lt;ul>
&lt;li>â—ï¸æ— æ³•ä¿éšœåŽŸå­æ€§&lt;/li>
&lt;/ul>
&lt;p>ä¸€æ¡å­—èŠ‚ç åœ¨æ‰§è¡Œæ—¶ï¼Œæ˜¯éœ€è¦è¿è¡Œå¤šæ¡æŒ‡ä»¤æ‰èƒ½å®žçŽ°ã€‚&lt;/p>
&lt;p>å®žçŽ°æ–¹å¼ï¼šå†…å­˜å±éšœã€‚é‡æŽ’åºæ—¶ï¼Œä¸èƒ½æŠŠåŽé¢çš„æŒ‡ä»¤é‡æŽ’åºåˆ°å†…å­˜å±éšœä¹‹å‰çš„ä½ç½®ã€‚&lt;/p>
&lt;p>ä¿è¯ï¼šä¹‹å‰çš„æŒ‡ä»¤ä¸€å®šå…¨éƒ¨æ‰§è¡Œï¼Œä¹‹åŽçš„æŒ‡ä»¤ä¸€å®šéƒ½æ²¡æœ‰æ‰§è¡Œï¼Œå¹¶ä¸”å‰é¢è¯­å¥çš„ç»“æžœå¯¹åŽé¢çš„è¯­å¥å¯è§ã€‚&lt;/p>
&lt;h2 id="happens-before-åŽŸåˆ™">happens-before åŽŸåˆ™&lt;/h2>
&lt;p>å¯¹äºŽä¸¤ä¸ªæ“ä½œ A å’Œ Bï¼Œè¿™ä¸¤ä¸ªæ“ä½œå¯ä»¥åœ¨ä¸åŒçš„çº¿ç¨‹ä¸­æ‰§è¡Œã€‚å¦‚æžœ A happens-before Bï¼ˆA ä¼˜å…ˆäºŽ B æ‰§è¡Œï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥ä¿è¯ï¼Œå½“ A æ“ä½œå®ŒåŽï¼ŒA çš„æ“ä½œå¯¹äºŽ B æ“ä½œæ˜¯å¯è§çš„ã€‚&lt;/p>
&lt;p>æŒ‡ä»¤é‡æŽ’æé«˜äº†å¹¶å‘æ€§èƒ½ï¼Œä½†æ˜¯ Java è™šæ‹Ÿæœºä¼šå¯¹æŒ‡ä»¤é‡æŽ’åšä¸€äº›è§„åˆ™é™åˆ¶ï¼Œå¹¶ä¸èƒ½è®©æ‰€æœ‰çš„æŒ‡ä»¤éƒ½éšæ„æ”¹å˜æ‰§è¡Œä½ç½®ã€‚&lt;/p>
&lt;p>Java å†…å­˜æ¨¡åž‹å¤©ç„¶çš„å…ˆè¡Œå‘ç”Ÿå…³ç³»ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ç¨‹åºé¡ºåºè§„åˆ™&lt;/p>
&lt;p>åœ¨ä¸€ä¸ªçº¿ç¨‹å†…ï¼Œå‰é¢çš„ä»£ç æ“ä½œä¼˜äºŽåŽé¢çš„ä»£ç æ“ä½œã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>é”å®šè§„åˆ™&lt;/p>
&lt;p>ä¸€ä¸ª unlock æ“ä½œä¼˜äºŽåŽé¢å¯¹äºŽåŒä¸€ä¸ªé”çš„ lock æ“ä½œã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>volatile è§„åˆ™&lt;/p>
&lt;p>ä¸€ä¸ª volatile å˜é‡çš„å†™æ“ä½œï¼Œä¼˜äºŽåŽé¢è¿™ä¸ªå˜é‡çš„è¯»æ“ä½œã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä¼ é€’è§„åˆ™&lt;/p>
&lt;p>å¦‚æžœ A happens-before Bï¼Œä¸” B happens-before Cï¼Œé‚£ä¹ˆ A happens-before Cã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>çº¿ç¨‹å¯åŠ¨è§„åˆ™&lt;/p>
&lt;p>Thread å¯¹è±¡çš„ start() æ–¹æ³• happens-before çº¿ç¨‹çš„æ¯ä¸€ä¸ªåŠ¨ä½œã€‚&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>ç±»åŠ è½½å™¨</title><link>https://emerywan.github.io/blog/p/java/jvm/classloader/</link><pubDate>Sat, 06 Aug 2022 16:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/java/jvm/classloader/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/25.jpeg" alt="Featured image of post ç±»åŠ è½½å™¨" />&lt;h2 id="ç±»åŠ è½½å™¨">ç±»åŠ è½½å™¨&lt;/h2>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/classloader/menu.png"
width="1707"
height="638"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/classloader/menu_hu8b8ca38d973bcbde05d207eb8795320e_321907_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/classloader/menu_hu8b8ca38d973bcbde05d207eb8795320e_321907_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="menu"
class="gallery-image"
data-flex-grow="267"
data-flex-basis="642px"
>&lt;/p>
&lt;h3 id="-bootstrapclassloader">ðŸ™ˆ BootstrapClassLoader&lt;/h3>
&lt;p>å¯åŠ¨ç±»åŠ è½½å™¨ï¼Œæœ€é¡¶å±‚çš„åŠ è½½ç±»ï¼Œç”± C/C++ å®žçŽ°ã€‚&lt;/p>
&lt;p>è´Ÿè´£åŠ è½½ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>%JAVA_HOME%/lib&lt;/code> ç›®å½•ä¸‹çš„ jar åŒ…å’Œç±»&lt;/li>
&lt;li>è¢« &lt;code>-Xbootclasspath&lt;/code> å‚æ•°æŒ‡å®šçš„è·¯å¾„ä¸­çš„æ‰€æœ‰ç±»ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="-extensionclassloader">ðŸ™‰ ExtensionClassLoader&lt;/h3>
&lt;p>æ‰©å±•ç±»åŠ è½½å™¨ã€‚&lt;/p>
&lt;p>æ˜¯ä¸€ç§ Java ç³»ç»Ÿç±»åº“çš„æ‰©å±•æœºåˆ¶ã€‚è´Ÿè´£åŠ è½½ &lt;code>%JRE_HOME%/lib/ext&lt;/code> ç›®å½•ä¸‹çš„ jar åŒ…å’Œç±»ï¼Œæˆ–è¢« &lt;code>java.ext.dirs&lt;/code> ç³»ç»Ÿå˜é‡æ‰€æŒ‡å®šçš„è·¯å¾„ä¸‹çš„ jar åŒ…ã€‚&lt;/p>
&lt;h3 id="-applicationclassloader">ðŸ™Š ApplicationClassLoader&lt;/h3>
&lt;p>é¢å‘ç”¨æˆ·çš„åŠ è½½å™¨ï¼Œè´Ÿè´£åŠ è½½å½“å‰åº”ç”¨ &lt;code>classpath&lt;/code> ä¸‹çš„æ‰€æœ‰ jar åŒ…å’Œç±»ã€‚&lt;/p>
&lt;h2 id="åŒäº²å§”æ´¾æ¨¡åž‹">åŒäº²å§”æ´¾æ¨¡åž‹&lt;/h2>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/classloader/classloader.png"
width="1279"
height="699"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/classloader/classloader_hu2885d6b96687a867396da9eda76d4bf0_289144_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/classloader/classloader_hu2885d6b96687a867396da9eda76d4bf0_289144_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="classloader"
class="gallery-image"
data-flex-grow="182"
data-flex-basis="439px"
>&lt;/p>
&lt;p>æ¯ä¸ªç±»åŠ è½½å™¨éƒ½æœ‰è‡ªå·±çš„å‘½åç©ºé—´ï¼Œç”¨ä¸åŒçš„ç±»åŠ è½½å™¨åŠ è½½äº†åŒä¸€ä¸ªé™å®šåçš„ç±»ï¼ŒJVM ä¹Ÿä¼šè®¤ä¸ºæ˜¯ä¸¤ä¸ªä¸åŒçš„ç±»ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">protected&lt;/span> &lt;span class="n">Class&lt;/span>&lt;span class="o">&amp;lt;?&amp;gt;&lt;/span> &lt;span class="n">loadClass&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kt">boolean&lt;/span> &lt;span class="n">resolve&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">throws&lt;/span> &lt;span class="n">ClassNotFoundException&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">synchronized&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">getClassLoadingLock&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">))&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// (1) åˆ¤æ–­æ˜¯å¦åŠ è½½è¿‡è¯¥ç±»
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">Class&lt;/span>&lt;span class="o">&amp;lt;?&amp;gt;&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">findLoadedClass&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">c&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">long&lt;/span> &lt;span class="n">t0&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">nanoTime&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">parent&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">parent&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">loadClass&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// (2) parent == null çº¦å®šä¸ºï¼šparnet ä¸º Bootstracp ClassLoader
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">findBootstrapClassOrNull&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">ClassNotFoundException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ClassNotFoundException thrown if class not found
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// from the non-null parent class loader
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">c&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// (3) è¯´æ˜Ž parent åŠ è½½ä¸äº†ï¼Œå½“å‰ loader å°è¯•åŠ è½½ class
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="n">t1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">nanoTime&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">findClass&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// this is the defining class loader; record the stats
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">sun&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">misc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">PerfCounter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getParentDelegationTime&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">addTime&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">t1&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">t0&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sun&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">misc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">PerfCounter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getFindClassTime&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">addElapsedTimeFrom&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">t1&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sun&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">misc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">PerfCounter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getFindClasses&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">increment&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">resolve&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">resolveClass&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€ä¸ªé™å®šåçš„ç±»åªä¼šè¢«ä¸€ä¸ªç±»åŠ è½½å™¨åŠ è½½å¹¶è§£æžä½¿ç”¨ï¼Œåœ¨ç¨‹åºä¸­æ˜¯å”¯ä¸€çš„ï¼Œä¸ä¼šäº§ç”Ÿæ­§ä¹‰ã€‚&lt;/p>
&lt;p>åœ¨åŠ è½½æ—¶ï¼Œé¦–å…ˆä¼šåˆ¤æ–­å½“å‰ç±»æ˜¯å¦è¢«åŠ è½½è¿‡ï¼Œå¦‚æžœå·²ç»åŠ è½½ï¼Œä¼šç›´æŽ¥è¿”å›žï¼Œå¦åˆ™æ‰ä¼šå°è¯•åŠ è½½ã€‚&lt;/p>
&lt;p>å°è¯•åŠ è½½æ—¶ï¼Œä¸ä¼šè‡ªå·±è¿›è¡ŒåŠ è½½ï¼Œè€Œæ˜¯å°†è¯·æ±‚å§”æ´¾ç»™çˆ¶ç±»åŠ è½½å™¨ï¼Œå½“çˆ¶ç±»åŠ è½½å™¨æ— æ³•åŠ è½½æ—¶ï¼Œæ‰ä¼šç”±è‡ªå·±å¤„ç†ã€‚&lt;/p></description></item><item><title>ç±»åŠ è½½æœºåˆ¶</title><link>https://emerywan.github.io/blog/p/java/jvm/class-loading/</link><pubDate>Sat, 06 Aug 2022 13:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/java/jvm/class-loading/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/24.jpeg" alt="Featured image of post ç±»åŠ è½½æœºåˆ¶" />&lt;h2 id="java-ç±»ç”Ÿå‘½å‘¨æœŸ">Java ç±»ç”Ÿå‘½å‘¨æœŸ&lt;/h2>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/life.png"
width="973"
height="331"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/life_hue0715323a61c74c3a1d0de4b0a99146c_113100_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/life_hue0715323a61c74c3a1d0de4b0a99146c_113100_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="java-class-life"
class="gallery-image"
data-flex-grow="293"
data-flex-basis="705px"
>&lt;/p>
&lt;h2 id="ç±»åŠ è½½è¿‡ç¨‹">ç±»åŠ è½½è¿‡ç¨‹&lt;/h2>
&lt;p>ç±»åŠ è½½ä¸»è¦æœ‰ä¸‰æ­¥ï¼š&lt;code>åŠ è½½ - é“¾æŽ¥ - åˆå§‹åŒ–&lt;/code>ã€‚&lt;/p>
&lt;h3 id="-åŠ è½½">ðŸ¥Ž åŠ è½½&lt;/h3>
&lt;p>åŠ è½½æ˜¯ä¸€ä¸ªè¯»å– Class æ–‡ä»¶ï¼Œå°†å…¶è½¬åŒ–ä¸ºæŸç§é™æ€æ•°æ®ç»“æž„å­˜å‚¨åœ¨æ–¹æ³•åŒºå†…ï¼Œå¹¶åœ¨å †ä¸­ç”Ÿæˆä¸€ä¸ªä¾¿äºŽè°ƒç”¨çš„ &lt;code>java.lang.Class&lt;/code> ç±»åž‹çš„å¯¹è±¡çš„è¿‡ç¨‹ã€‚&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/loading.png"
width="707"
height="335"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/loading_hu8b469e8111e2814cd40ca0f04de26462_22328_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/loading_hu8b469e8111e2814cd40ca0f04de26462_22328_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="loading"
class="gallery-image"
data-flex-grow="211"
data-flex-basis="506px"
>&lt;/p>
&lt;p>åˆ†ä¸ºä¸‰æ­¥è¿›è¡Œï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>èŽ·å–å®šä¹‰ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµï¼ˆä¸é™åˆ¶ä»Žå“ªé‡ŒèŽ·å–ï¼Œå¯ä»¥ä»Žæ–‡ä»¶ã€ç½‘ç»œã€å³æ—¶ç”Ÿæˆï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å°†å­—èŠ‚æµä»£è¡¨çš„é™æ€å­˜å‚¨ç»“æž„ï¼Œè½¬æ¢æˆæ–¹æ³•åŒºä¸­è¿è¡Œæ—¶æ•°æ®ç»“æž„&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åœ¨å †ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¯¥ç±»çš„ &lt;code>java.lang.Class&lt;/code> å¯¹è±¡ï¼Œä½œä¸ºæ–¹æ³•åŒºè¿™ä¸ªç±»çš„å„ç§æ•°æ®è®¿é—®å…¥å£&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-é“¾æŽ¥">ðŸ¥Ž é“¾æŽ¥&lt;/h3>
&lt;h4 id="-éªŒè¯">âš¾ï¸ éªŒè¯&lt;/h4>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/verify.png"
width="915"
height="390"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/verify_hu8c1a3959f1e343b5f02da51e1aaf01f3_138925_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/verify_hu8c1a3959f1e343b5f02da51e1aaf01f3_138925_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="verify"
class="gallery-image"
data-flex-grow="234"
data-flex-basis="563px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>æ–‡ä»¶æ ¼å¼éªŒè¯&lt;/p>
&lt;p>éªŒè¯å­—èŠ‚æµæ˜¯å¦ç¬¦åˆ Class æ–‡ä»¶æ ¼å¼çš„è§„èŒƒï¼Œèƒ½è¢«å½“å‰ç‰ˆæœ¬çš„è™šæ‹Ÿæœºå¤„ç†ã€‚&lt;strong>å‘ç”Ÿåœ¨åŠ è½½é˜¶æ®µ&lt;/strong>ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å…ƒæ•°æ®ã€å­—èŠ‚ç éªŒè¯&lt;/p>
&lt;p>å¯¹å­—èŠ‚ç è¿›è¡Œè¯­æ³•ã€è¯­ä¹‰çš„åˆ†æžï¼Œä¿è¯å…¶ç¬¦åˆ Java è™šæ‹Ÿæœºçš„è§„èŒƒï¼Œä¸ä¼šæœ‰å±å®³è™šæ‹Ÿæœºçš„è¡Œä¸ºã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç¬¦å·å¼•ç”¨éªŒè¯&lt;/p>
&lt;p>ç¡®ä¿è§£æžè¡Œä¸ºèƒ½å¤Ÿæ­£å¸¸æ‰§è¡Œã€‚&lt;strong>å‘ç”Ÿåœ¨è§£æžé˜¶æ®µ&lt;/strong>ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h4 id="-å‡†å¤‡">âš¾ï¸ å‡†å¤‡&lt;/h4>
&lt;p>ä¸ºç±»ä¸­å®šä¹‰çš„å˜é‡ï¼ˆé™æ€å˜é‡ &lt;code>static&lt;/code>ï¼‰åˆ†é…å†…å­˜å¹¶è®¾ç½®ç±»å˜é‡é›¶å€¼çš„é˜¶æ®µã€‚&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/prepare.png"
width="482"
height="260"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/prepare_hu58a397643ad84aca2032de9a3ac6155c_29464_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/prepare_hu58a397643ad84aca2032de9a3ac6155c_29464_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="prepare"
class="gallery-image"
data-flex-grow="185"
data-flex-basis="444px"
>&lt;/p>
&lt;ul>
&lt;li>&lt;code>static&lt;/code> -&amp;gt; èµ‹é›¶å€¼&lt;/li>
&lt;li>&lt;code>static final&lt;/code> -&amp;gt; èµ‹å®šä¹‰çš„å¸¸é‡å€¼&lt;/li>
&lt;/ul>
&lt;h4 id="-è§£æž">âš¾ï¸ è§£æž&lt;/h4>
&lt;p>è§£æžæ˜¯å°†å¸¸é‡æ± ä¸­çš„ç¬¦å·å¼•ç”¨æ›¿æ¢ä¸ºç›´æŽ¥å¼•ç”¨ã€‚&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ç¬¦å·å¼•ç”¨ï¼šæè¿°å¼•ç”¨å¯¹è±¡çš„ç¬¦å·&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç›´æŽ¥å¼•ç”¨ï¼šæŒ‡å‘ç›®æ ‡å®žé™…åœ°å€çš„æŒ‡é’ˆ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>ðŸŽ¾ è§£æžéƒ¨åˆ†æ˜¯çµæ´»çš„ï¼Œå¯ä»¥åœ¨åˆå§‹åŒ–çŽ¯èŠ‚åŽå†è¿›è¡Œï¼Œå®žçŽ°æ‰€è°“çš„â€œåŽæœŸç»‘å®šâ€ã€‚ï¼ˆæ–¹æ³•è°ƒç”¨ç›´åˆ°è¿è¡Œæ—¶æ‰ä¼šè§£æžï¼Œå› ä¸ºæ— æ³•åœ¨ç¼–è¯‘æ—¶ç¡®å®šæ–¹æ³•è°ƒç”¨æ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯ï¼Œæ‰€ä»¥æ–¹æ³•å®šä¹‰å’Œæ–¹æ³•è°ƒç”¨ç›´åˆ°è¿è¡Œæ—¶æ‰ç»‘å®šã€‚ï¼‰&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/resolve_1.png"
width="163"
height="370"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/resolve_1_hua9ef48196efa3564a4ef1eaa93606c3a_10102_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/resolve_1_hua9ef48196efa3564a4ef1eaa93606c3a_10102_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="resolve"
class="gallery-image"
data-flex-grow="44"
data-flex-basis="105px"
>&lt;/p>
&lt;p>å½“ä¸€ä¸ªç±»è¢«ç¼–è¯‘æˆ Class ä¹‹åŽï¼Œå‡è®¾è¿™ä¸ªç±»ç§°ä¸º &lt;code>A&lt;/code>ï¼Œå¹¶ä¸”åœ¨ç±» &lt;code>A&lt;/code> ä¸­å¼•ç”¨äº†ç±» &lt;code>B&lt;/code>ã€‚&lt;/p>
&lt;ul>
&lt;li>
&lt;p>åœ¨ç¼–è¯‘é˜¶æ®µï¼Œ&lt;code>A&lt;/code> æ— æ³•ç¡®å®š &lt;code>B&lt;/code> æ˜¯å¦è¢«ç¼–è¯‘ï¼ˆçŽ°åœ¨ &lt;code>B&lt;/code> ä¸€å®šæœªåŠ è½½ï¼‰ï¼Œæ­¤æ—¶ &lt;code>A&lt;/code> æ— æ³•çŸ¥é“ &lt;code>B&lt;/code> çš„å®žé™…åœ°å€ï¼Œæ‰€æœ‰åœ¨ &lt;code>A.Class&lt;/code> ä¸­ï¼Œä¼šä½¿ç”¨ä¸€ä¸ª&lt;code>å­—ç¬¦ä¸²&lt;/code>ä»£è¡¨ &lt;code>B&lt;/code>ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²è¢«ç§°ä¸º&lt;strong>ç¬¦å·å¼•ç”¨&lt;/strong>ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åœ¨è¿è¡Œé˜¶æ®µï¼Œ&lt;code>A&lt;/code> å‘ç”Ÿäº†åŠ è½½ï¼Œåœ¨è§£æžæ—¶ï¼Œå‘çŽ°å…¶ä¸­çš„ &lt;code>B&lt;/code> è¿˜æœªè¢«åŠ è½½ï¼Œå°±ä¼šè§¦å‘ç±» &lt;code>B&lt;/code> çš„åŠ è½½ï¼Œå°† &lt;code>B&lt;/code> åŠ è½½åˆ°è™šæ‹Ÿæœºä¸­ã€‚æ­¤æ—¶ï¼Œ&lt;code>A&lt;/code> ä¸­çš„ç¬¦å·å¼•ç”¨ä¼šè¢«æ›¿æ¢ä¸º &lt;code>B&lt;/code> ä¸­çš„å®žé™…åœ°å€ï¼ˆä¹Ÿå°±æ˜¯ç›´æŽ¥å¼•ç”¨ï¼‰ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/resolve.png"
width="922"
height="538"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/resolve_hu45e5622ef4d0eaddcde37871cfee2a7a_117190_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/resolve_hu45e5622ef4d0eaddcde37871cfee2a7a_117190_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="resolve"
class="gallery-image"
data-flex-grow="171"
data-flex-basis="411px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>é™æ€è§£æž&lt;/p>
&lt;p>ç±» &lt;code>B&lt;/code> æ˜¯å…·ä½“çš„å®žçŽ°ç±»ï¼Œè§£æžçš„å¯¹è±¡ååˆ†æ˜Žç¡®ï¼Œå³ä¼šè¿›è¡Œé™æ€è§£æžã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åŠ¨æ€è§£æž&lt;/p>
&lt;p>Java é€šè¿‡åŽæœŸç»‘å®šçš„æ–¹å¼å®žçŽ°å¤šæ€ï¼Œé€šè¿‡åŠ¨æ€è§£æžå®žçŽ°ã€‚&lt;/p>
&lt;p>å¦‚æžœç±» &lt;code>B&lt;/code> æ˜¯æŠ½è±¡ç±»æˆ–è€…æŽ¥å£ï¼Œæœ‰å…·ä½“çš„å®žçŽ°ç±» &lt;code>C&lt;/code>ã€&lt;code>D&lt;/code>ï¼Œå½“å‰å…·ä½“çš„å®žçŽ°æ–¹å¼å¹¶ä¸æ˜Žç¡®ï¼Œæ— æ³•ç¡®å®šä½¿ç”¨å“ªä¸ªå…·ä½“å®žçŽ°ã€‚&lt;/p>
&lt;p>ç›´åˆ°è¿è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿäº†è°ƒç”¨ï¼Œè™šæ‹Ÿæœºè°ƒç”¨æ ˆä¸­ä¼šå¾—åˆ°å…·ä½“ç±»çš„ä¿¡æ¯ï¼Œå†è¿›è¡Œè§£æžï¼Œå°±æœ‰æ˜Žç¡®çš„ç›´æŽ¥å¼•ç”¨ä»£æ›¿ç¬¦å·å¼•ç”¨ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-åˆå§‹åŒ–">ðŸ¥Ž åˆå§‹åŒ–&lt;/h3>
&lt;p>è™šæ‹ŸæœºçœŸæ­£å¼€å§‹æ‰§è¡Œç±»ä¸­ç¼–å†™çš„ä»£ç ï¼Œå®Œæˆä¸€äº›ä¸»åŠ¨çš„èµ„æºåˆå§‹åŒ–åŠ¨ä½œã€‚&lt;/p>
&lt;p>&lt;strong>æ‰§è¡Œçš„æ˜¯ç±»å±‚é¢çš„åˆå§‹åŒ–ã€‚&lt;/strong> åªæœ‰æ˜¾å¼è°ƒç”¨ new æ‰ä¼šæ‰§è¡Œæž„é€ å‡½æ•°çš„åˆå§‹åŒ–ã€‚&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/init.png"
width="533"
height="388"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/init_hud5162327100fcc16da85dffebeccc0e0_46268_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/init_hud5162327100fcc16da85dffebeccc0e0_46268_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="init"
class="gallery-image"
data-flex-grow="137"
data-flex-basis="329px"
>&lt;/p>
&lt;ul>
&lt;li>ç±»å˜é‡ï¼ˆé™æ€å˜é‡ï¼‰çš„èµ‹å€¼ &lt;code>static&lt;/code>&lt;/li>
&lt;li>é™æ€ä»£ç å— &lt;code>static { }&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="å¦‚ä½•åˆ¤æ–­æ— ç”¨ç±»">å¦‚ä½•åˆ¤æ–­æ— ç”¨ç±»&lt;/h2>
&lt;ul>
&lt;li>è¯¥ç±»çš„æ‰€æœ‰å®žä¾‹å¯¹è±¡å…¨éƒ¨è¢« GCï¼Œåœ¨å †ä¸­ä¸å­˜åœ¨è¯¥ç±»çš„ä»»ä½•å®žä¾‹å¯¹è±¡&lt;/li>
&lt;li>è¯¥ç±»å¯¹åº”çš„ &lt;code>java.lang.Class&lt;/code> å¯¹è±¡ï¼Œåœ¨ä»»ä½•åœ°æ–¹éƒ½æ²¡æœ‰è¢«å¼•ç”¨&lt;/li>
&lt;li>è¯¥ç±»çš„ç±»åŠ è½½å™¨å·²ç»è¢«å›žæ”¶&lt;/li>
&lt;/ul>
&lt;p>æ»¡è¶³ä»¥ä¸Šä¸‰ä¸ªæ¡ä»¶ï¼Œè¯´æ˜Žè¯¥ç±»å¯ä»¥è¢«å›žæ”¶ï¼Œä½†æ˜¯ä¸Žå¯¹è±¡ä¸åŒï¼Œæ— ç”¨ç±»ä¸ä¸€å®šä¼šè¢«å›žæ”¶ã€‚&lt;/p>
&lt;h2 id="å‚è€ƒ">å‚è€ƒ&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://javaguide.cn/java/jvm/class-loading-process.html" target="_blank" rel="noopener"
>https://javaguide.cn/java/jvm/class-loading-process.html&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://www.bilibili.com/video/BV14U4y1L75q/?spm_id_from=333.788" target="_blank" rel="noopener"
>https://www.bilibili.com/video/BV14U4y1L75q/?spm_id_from=333.788&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ·±å…¥ç†è§£ Java è™šæ‹Ÿæœº&lt;/p>
&lt;/li>
&lt;/ul></description></item></channel></rss>
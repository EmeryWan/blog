<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>JVM on ä¸€å±‚</title><link>https://emerywan.github.io/blog/tags/jvm/</link><description>Recent content in JVM on ä¸€å±‚</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Sat, 06 Aug 2022 16:02:02 +0800</lastBuildDate><atom:link href="https://emerywan.github.io/blog/tags/jvm/index.xml" rel="self" type="application/rss+xml"/><item><title>ç±»åŠ è½½å™¨</title><link>https://emerywan.github.io/blog/p/java/jvm/classloader/</link><pubDate>Sat, 06 Aug 2022 16:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/java/jvm/classloader/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/25.jpeg" alt="Featured image of post ç±»åŠ è½½å™¨" />&lt;h2 id="ç±»åŠ è½½å™¨">ç±»åŠ è½½å™¨&lt;/h2>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/classloader/menu.png"
width="1707"
height="638"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/classloader/menu_hu8b8ca38d973bcbde05d207eb8795320e_321907_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/classloader/menu_hu8b8ca38d973bcbde05d207eb8795320e_321907_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="menu"
class="gallery-image"
data-flex-grow="267"
data-flex-basis="642px"
>&lt;/p>
&lt;h3 id="bootstrapclassloader">BootstrapClassLoader&lt;/h3>
&lt;p>å¯åŠ¨ç±»åŠ è½½å™¨&lt;/p>
&lt;p>æœ€é¡¶å±‚çš„åŠ è½½ç±»ï¼Œç”± C++ å®žçŽ°ï¼Œè´Ÿè´£åŠ è½½ &lt;code>%JAVA_HOME%/lib&lt;/code> ç›®å½•ä¸‹çš„ jar åŒ…å’Œç±»æˆ–è€…è¢« &lt;code>-Xbootclasspath&lt;/code> å‚æ•°æŒ‡å®šçš„è·¯å¾„ä¸­çš„æ‰€æœ‰ç±»ã€‚&lt;/p>
&lt;h3 id="extensionclassloader">ExtensionClassLoader&lt;/h3>
&lt;p>æ‰©å±•ç±»åŠ è½½å™¨ã€‚Java ç³»ç»Ÿç±»åº“çš„æ‰©å±•æœºåˆ¶ã€‚&lt;/p>
&lt;p>è´Ÿè´£åŠ è½½ &lt;code>%JRE_HOME%/lib/ext&lt;/code> ç›®å½•ä¸‹çš„ jar åŒ…å’Œç±»ï¼Œæˆ–è¢« &lt;code>java.ext.dirs&lt;/code> ç³»ç»Ÿå˜é‡æ‰€æŒ‡å®šçš„è·¯å¾„ä¸‹çš„ jar åŒ…ã€‚&lt;/p>
&lt;h3 id="applicationclassloader">ApplicationClassLoader&lt;/h3>
&lt;p>é¢å‘ç”¨æˆ·çš„åŠ è½½å™¨ï¼Œè´Ÿè´£åŠ è½½å½“å‰åº”ç”¨ &lt;code>classpath&lt;/code> ä¸‹çš„æ‰€æœ‰ jar åŒ…å’Œç±»ã€‚&lt;/p>
&lt;h2 id="åŒäº²å§”æ´¾æ¨¡åž‹">åŒäº²å§”æ´¾æ¨¡åž‹&lt;/h2>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/classloader/classloader.png"
width="1279"
height="699"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/classloader/classloader_hu2885d6b96687a867396da9eda76d4bf0_289144_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/classloader/classloader_hu2885d6b96687a867396da9eda76d4bf0_289144_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="classloader"
class="gallery-image"
data-flex-grow="182"
data-flex-basis="439px"
>&lt;/p>
&lt;p>æ¯ä¸ªç±»åŠ è½½å™¨éƒ½æœ‰è‡ªå·±çš„å‘½åç©ºé—´ï¼Œç”¨ä¸åŒçš„ç±»åŠ è½½å™¨åŠ è½½äº†åŒä¸€ä¸ªé™å®šåçš„ç±»ï¼ŒJVM ä¹Ÿä¼šè®¤ä¸ºæ˜¯ä¸¤ä¸ªä¸åŒçš„ç±»ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">protected&lt;/span> &lt;span class="n">Class&lt;/span>&lt;span class="o">&amp;lt;?&amp;gt;&lt;/span> &lt;span class="n">loadClass&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kt">boolean&lt;/span> &lt;span class="n">resolve&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">throws&lt;/span> &lt;span class="n">ClassNotFoundException&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">synchronized&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">getClassLoadingLock&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">))&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// (1) åˆ¤æ–­æ˜¯å¦åŠ è½½è¿‡è¯¥ç±»
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">Class&lt;/span>&lt;span class="o">&amp;lt;?&amp;gt;&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">findLoadedClass&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">c&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">long&lt;/span> &lt;span class="n">t0&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">nanoTime&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">parent&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">parent&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">loadClass&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// (2) parent == null çº¦å®šä¸ºï¼šparnet ä¸º Bootstracp ClassLoader
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">findBootstrapClassOrNull&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">ClassNotFoundException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ClassNotFoundException thrown if class not found
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// from the non-null parent class loader
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">c&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// (3) è¯´æ˜Ž parent åŠ è½½ä¸äº†ï¼Œå½“å‰ loader å°è¯•åŠ è½½ class
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="n">t1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">nanoTime&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">findClass&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// this is the defining class loader; record the stats
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">sun&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">misc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">PerfCounter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getParentDelegationTime&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">addTime&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">t1&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">t0&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sun&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">misc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">PerfCounter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getFindClassTime&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">addElapsedTimeFrom&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">t1&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sun&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">misc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">PerfCounter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getFindClasses&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">increment&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">resolve&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">resolveClass&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€ä¸ªé™å®šåçš„ç±»åªä¼šè¢«ä¸€ä¸ªç±»åŠ è½½å™¨åŠ è½½å¹¶è§£æžä½¿ç”¨ï¼Œåœ¨ç¨‹åºä¸­æ˜¯å”¯ä¸€çš„ï¼Œä¸ä¼šäº§ç”Ÿæ­§ä¹‰ã€‚&lt;/p>
&lt;p>åœ¨åŠ è½½æ—¶ï¼Œé¦–å…ˆä¼šåˆ¤æ–­å½“å‰ç±»æ˜¯å¦è¢«åŠ è½½è¿‡ï¼Œå¦‚æžœå·²ç»åŠ è½½ï¼Œä¼šç›´æŽ¥è¿”å›žï¼Œå¦åˆ™æ‰ä¼šå°è¯•åŠ è½½ã€‚&lt;/p>
&lt;p>å°è¯•åŠ è½½æ—¶ï¼Œä¸ä¼šè‡ªå·±è¿›è¡ŒåŠ è½½ï¼Œè€Œæ˜¯å°†è¯·æ±‚å§”æ´¾ç»™çˆ¶ç±»åŠ è½½å™¨ï¼Œå½“çˆ¶ç±»åŠ è½½å™¨æ— æ³•åŠ è½½æ—¶ï¼Œæ‰ä¼šç”±è‡ªå·±å¤„ç†ã€‚&lt;/p></description></item><item><title>ç±»åŠ è½½æœºåˆ¶</title><link>https://emerywan.github.io/blog/p/java/jvm/class-loading/</link><pubDate>Sat, 06 Aug 2022 13:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/java/jvm/class-loading/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/24.jpeg" alt="Featured image of post ç±»åŠ è½½æœºåˆ¶" />&lt;h2 id="java-ç±»ç”Ÿå‘½å‘¨æœŸ">Java ç±»ç”Ÿå‘½å‘¨æœŸ&lt;/h2>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/life.png"
width="973"
height="331"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/life_hue0715323a61c74c3a1d0de4b0a99146c_113100_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/life_hue0715323a61c74c3a1d0de4b0a99146c_113100_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="java-class-life"
class="gallery-image"
data-flex-grow="293"
data-flex-basis="705px"
>&lt;/p>
&lt;h2 id="ç±»åŠ è½½è¿‡ç¨‹">ç±»åŠ è½½è¿‡ç¨‹&lt;/h2>
&lt;p>ç±»åŠ è½½ä¸»è¦æœ‰ä¸‰æ­¥ï¼š&lt;code>åŠ è½½ - é“¾æŽ¥ - åˆå§‹åŒ–&lt;/code>ã€‚&lt;/p>
&lt;h3 id="-åŠ è½½">ðŸ¥Ž åŠ è½½&lt;/h3>
&lt;p>åŠ è½½æ˜¯ä¸€ä¸ªè¯»å– Class æ–‡ä»¶ï¼Œå°†å…¶è½¬åŒ–ä¸ºæŸç§é™æ€æ•°æ®ç»“æž„å­˜å‚¨åœ¨æ–¹æ³•åŒºå†…ï¼Œå¹¶åœ¨å †ä¸­ç”Ÿæˆä¸€ä¸ªä¾¿äºŽè°ƒç”¨çš„ java.lang.Class ç±»åž‹çš„å¯¹è±¡çš„è¿‡ç¨‹ã€‚&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/loading.png"
width="707"
height="335"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/loading_hu8b469e8111e2814cd40ca0f04de26462_22328_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/loading_hu8b469e8111e2814cd40ca0f04de26462_22328_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="loading"
class="gallery-image"
data-flex-grow="211"
data-flex-basis="506px"
>&lt;/p>
&lt;p>åˆ†ä¸ºä¸‰æ­¥è¿›è¡Œï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>èŽ·å–å®šä¹‰ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµï¼ˆä¸é™åˆ¶ä»Žå“ªé‡ŒèŽ·å–ï¼Œæ–‡ä»¶ã€ç½‘ç»œã€å³æ—¶ç”Ÿæˆï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å°†å­—èŠ‚æµä»£è¡¨çš„é™æ€å­˜å‚¨ç»“æž„ï¼Œè½¬æ¢æˆæ–¹æ³•åŒºä¸­è¿è¡Œæ—¶æ•°æ®ç»“æž„&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åœ¨å †ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¯¥ç±»çš„ java.lang.Class å¯¹è±¡ï¼Œä½œä¸ºæ–¹æ³•åŒºè¿™ä¸ªç±»çš„å„ç§æ•°æ®è®¿é—®å…¥å£&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-é“¾æŽ¥">ðŸ¥Ž é“¾æŽ¥&lt;/h3>
&lt;h4 id="-éªŒè¯">âš¾ï¸ éªŒè¯&lt;/h4>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/verify.png"
width="915"
height="390"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/verify_hu8c1a3959f1e343b5f02da51e1aaf01f3_138925_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/verify_hu8c1a3959f1e343b5f02da51e1aaf01f3_138925_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="verify"
class="gallery-image"
data-flex-grow="234"
data-flex-basis="563px"
>&lt;/p>
&lt;ul>
&lt;li>æ–‡ä»¶æ ¼å¼éªŒè¯&lt;/li>
&lt;/ul>
&lt;p>éªŒè¯å­—èŠ‚æµæ˜¯å¦ç¬¦åˆ Class æ–‡ä»¶æ ¼å¼çš„è§„èŒƒï¼Œèƒ½è¢«å½“å‰ç‰ˆæœ¬çš„è™šæ‹Ÿæœºå¤„ç†ã€‚&lt;/p>
&lt;ul>
&lt;li>å…ƒæ•°æ®ã€å­—èŠ‚ç éªŒè¯&lt;/li>
&lt;/ul>
&lt;p>å¯¹å­—èŠ‚ç è¿›è¡Œè¯­æ³•ã€è¯­ä¹‰çš„åˆ†æžï¼Œä¿è¯å…¶ç¬¦åˆ Java è™šæ‹Ÿæœºçš„è§„èŒƒï¼Œä¸ä¼šæœ‰å±å®³è™šæ‹Ÿæœºçš„è¡Œä¸ºã€‚&lt;/p>
&lt;ul>
&lt;li>ç¬¦å·å¼•ç”¨éªŒè¯&lt;/li>
&lt;/ul>
&lt;p>ç¡®ä¿è§£æžè¡Œä¸ºèƒ½å¤Ÿæ­£å¸¸æ‰§è¡Œã€‚&lt;strong>å‘ç”Ÿåœ¨è§£æžé˜¶æ®µã€‚&lt;/strong>&lt;/p>
&lt;h4 id="-å‡†å¤‡">âš¾ï¸ å‡†å¤‡&lt;/h4>
&lt;p>ä¸ºç±»ä¸­å®šä¹‰çš„å˜é‡ï¼ˆé™æ€å˜é‡ &lt;code>static&lt;/code>ï¼‰åˆ†é…å†…å­˜å¹¶è®¾ç½®ç±»å˜é‡åˆå§‹å€¼çš„é˜¶æ®µã€‚&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/prepare.png"
width="482"
height="260"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/prepare_hu58a397643ad84aca2032de9a3ac6155c_29464_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/prepare_hu58a397643ad84aca2032de9a3ac6155c_29464_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="prepare"
class="gallery-image"
data-flex-grow="185"
data-flex-basis="444px"
>&lt;/p>
&lt;ul>
&lt;li>&lt;code>static&lt;/code> -&amp;gt; èµ‹é›¶å€¼&lt;/li>
&lt;li>&lt;code>static final&lt;/code> -&amp;gt; èµ‹å®šä¹‰çš„å¸¸é‡å€¼&lt;/li>
&lt;/ul>
&lt;h4 id="-è§£æž">âš¾ï¸ è§£æž&lt;/h4>
&lt;p>è§£æžæ˜¯å°†å¸¸é‡æ± ä¸­çš„ç¬¦å·å¼•ç”¨æ›¿æ¢ä¸ºç›´æŽ¥å¼•ç”¨ã€‚&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ç¬¦å·å¼•ç”¨ï¼šæè¿°å¼•ç”¨å¯¹è±¡çš„ç¬¦å·&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç›´æŽ¥å¼•ç”¨ï¼šæŒ‡å‘ç›®æ ‡å®žé™…åœ°å€çš„æŒ‡é’ˆ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>ðŸŽ¾ è§£æžéƒ¨åˆ†æ˜¯çµæ´»çš„ï¼Œå¯ä»¥åœ¨åˆå§‹åŒ–çŽ¯èŠ‚åŽå†è¿›è¡Œï¼Œå®žçŽ°æ‰€è°“çš„â€œåŽæœŸç»‘å®šâ€ã€‚ï¼ˆæ–¹æ³•è°ƒç”¨ç›´åˆ°è¿è¡Œæ—¶æ‰ä¼šè§£æžï¼Œå› ä¸ºæ— æ³•åœ¨ç¼–è¯‘æ—¶ç¡®å®šæ–¹æ³•è°ƒç”¨æ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯ï¼Œæ‰€ä»¥æ–¹æ³•å®šä¹‰å’Œæ–¹æ³•è°ƒç”¨ç›´åˆ°è¿è¡Œæ—¶æ‰ç»‘å®šã€‚ï¼‰&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/resolve_1.png"
width="163"
height="370"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/resolve_1_hua9ef48196efa3564a4ef1eaa93606c3a_10102_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/resolve_1_hua9ef48196efa3564a4ef1eaa93606c3a_10102_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="resolve"
class="gallery-image"
data-flex-grow="44"
data-flex-basis="105px"
>&lt;/p>
&lt;p>å½“ä¸€ä¸ªç±»è¢«ç¼–è¯‘æˆ Class ä¹‹åŽï¼Œå‡è®¾è¿™ä¸ªç±»ç§°ä¸º &lt;code>A&lt;/code>ï¼Œå¹¶ä¸”åœ¨ &lt;code>A&lt;/code> ä¸­å¼•ç”¨äº†ç±» &lt;code>B&lt;/code>ã€‚&lt;/p>
&lt;ul>
&lt;li>
&lt;p>åœ¨ç¼–è¯‘é˜¶æ®µï¼Œ&lt;code>A&lt;/code> æ— æ³•ç¡®å®š &lt;code>B&lt;/code> æ˜¯å¦è¢«ç¼–è¯‘ï¼ˆçŽ°åœ¨ &lt;code>B&lt;/code> ä¸€å®šæœªåŠ è½½ï¼‰ï¼Œæ­¤æ—¶ &lt;code>A&lt;/code> æ— æ³•çŸ¥é“ &lt;code>B&lt;/code> çš„å®žé™…åœ°å€ï¼Œæ‰€æœ‰åœ¨ &lt;code>A.Class&lt;/code> ä¸­ï¼Œä¼šä½¿ç”¨ä¸€ä¸ª&lt;code>å­—ç¬¦ä¸²&lt;/code>ä»£è¡¨ &lt;code>B&lt;/code>ã€‚è¿™ä¸ªå­—ç¬¦ä¸²è¢«ç§°ä¸º&lt;strong>ç¬¦å·å¼•ç”¨&lt;/strong>ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åœ¨è¿è¡Œé˜¶æ®µï¼Œ&lt;code>A&lt;/code> å‘ç”Ÿäº†åŠ è½½ï¼Œåœ¨è§£æžæ—¶ï¼Œå‘çŽ°å…¶ä¸­çš„ &lt;code>B&lt;/code> è¿˜æœªè¢«åŠ è½½ï¼Œå°±ä¼šè§¦å‘ç±» &lt;code>B&lt;/code> çš„åŠ è½½ï¼Œå°† &lt;code>B&lt;/code> åŠ è½½åˆ°è™šæ‹Ÿæœºä¸­ã€‚æ­¤æ—¶ï¼Œ&lt;code>A&lt;/code> ä¸­çš„ç¬¦å·å¼•ç”¨ä¼šè¢«æ›¿æ¢ä¸º &lt;code>B&lt;/code> ä¸­çš„å®žé™…åœ°å€ï¼ˆç›´æŽ¥å¼•ç”¨ï¼‰ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/resolve.png"
width="922"
height="538"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/resolve_hu45e5622ef4d0eaddcde37871cfee2a7a_117190_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/resolve_hu45e5622ef4d0eaddcde37871cfee2a7a_117190_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="resolve"
class="gallery-image"
data-flex-grow="171"
data-flex-basis="411px"
>&lt;/p>
&lt;ul>
&lt;li>é™æ€è§£æž&lt;/li>
&lt;/ul>
&lt;p>ç±» &lt;code>B&lt;/code> æ˜¯å…·ä½“çš„å®žçŽ°ç±»ï¼Œè§£æžçš„å¯¹è±¡ååˆ†æ˜Žç¡®ï¼Œå³ä¼šè¿›è¡Œé™æ€è§£æžã€‚&lt;/p>
&lt;ul>
&lt;li>åŠ¨æ€è§£æž&lt;/li>
&lt;/ul>
&lt;p>Java é€šè¿‡åŽæœŸç»‘å®šçš„æ–¹å¼å®žçŽ°å¤šæ€ï¼Œé€šè¿‡åŠ¨æ€è§£æžå®žçŽ°ã€‚&lt;/p>
&lt;p>å¦‚æžœç±» &lt;code>B&lt;/code> æ˜¯æŠ½è±¡ç±»æˆ–è€…æŽ¥å£ï¼Œæœ‰å…·ä½“çš„å®žçŽ°ç±» &lt;code>C&lt;/code>ã€&lt;code>D&lt;/code>ï¼Œå½“å‰å…·ä½“çš„å®žçŽ°æ–¹å¼å¹¶ä¸æ˜Žç¡®ï¼Œæ— æ³•ç¡®å®šä½¿ç”¨å“ªä¸ªå…·ä½“å®žçŽ°ã€‚&lt;/p>
&lt;p>ç›´åˆ°è¿è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿäº†è°ƒç”¨ï¼Œè™šæ‹Ÿæœºè°ƒç”¨æ ˆä¸­ä¼šå¾—åˆ°å…·ä½“ç±»çš„ä¿¡æ¯ï¼Œå†è¿›è¡Œè§£æžï¼Œå°±æœ‰æ˜Žç¡®çš„ç›´æŽ¥å¼•ç”¨ä»£æ›¿ç¬¦å·å¼•ç”¨ã€‚&lt;/p>
&lt;h3 id="-åˆå§‹åŒ–">ðŸ¥Ž åˆå§‹åŒ–&lt;/h3>
&lt;p>è™šæ‹ŸæœºçœŸæ­£å¼€å§‹æ‰§è¡Œç±»ä¸­ç¼–å†™çš„ä»£ç ï¼Œå®Œæˆä¸€äº›ä¸»åŠ¨çš„èµ„æºåˆå§‹åŒ–åŠ¨ä½œã€‚&lt;/p>
&lt;p>&lt;strong>æ‰§è¡Œçš„æ˜¯ç±»å±‚é¢çš„åˆå§‹åŒ–ã€‚&lt;/strong> åªæœ‰æ˜¾å¼è°ƒç”¨ new æ‰ä¼šæ‰§è¡Œæž„é€ å‡½æ•°çš„åˆå§‹åŒ–ã€‚&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/init.png"
width="533"
height="388"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/init_hud5162327100fcc16da85dffebeccc0e0_46268_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/init_hud5162327100fcc16da85dffebeccc0e0_46268_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="init"
class="gallery-image"
data-flex-grow="137"
data-flex-basis="329px"
>&lt;/p>
&lt;ul>
&lt;li>æˆå‘˜å˜é‡çš„èµ‹å€¼&lt;/li>
&lt;li>é™æ€å˜é‡çš„èµ‹å€¼&lt;/li>
&lt;li>é™æ€ä»£ç å—&lt;/li>
&lt;/ul>
&lt;h2 id="å‚è€ƒ">å‚è€ƒ&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://javaguide.cn/java/jvm/class-loading-process.html" target="_blank" rel="noopener"
>https://javaguide.cn/java/jvm/class-loading-process.html&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ·±å…¥ç†è§£ Java è™šæ‹Ÿæœº&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://www.bilibili.com/video/BV14U4y1L75q/?spm_id_from=333.788" target="_blank" rel="noopener"
>https://www.bilibili.com/video/BV14U4y1L75q/?spm_id_from=333.788&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul></description></item></channel></rss>
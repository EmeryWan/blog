<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on ‰∏ÄÂ±Ç</title><link>https://emerywan.github.io/blog/post/</link><description>Recent content in Posts on ‰∏ÄÂ±Ç</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Fri, 31 Mar 2023 08:08:08 +0800</lastBuildDate><atom:link href="https://emerywan.github.io/blog/post/index.xml" rel="self" type="application/rss+xml"/><item><title>Ê∑±ÂÖ• Kafka</title><link>https://emerywan.github.io/blog/p/kafka/more/</link><pubDate>Fri, 31 Mar 2023 08:08:08 +0800</pubDate><guid>https://emerywan.github.io/blog/p/kafka/more/</guid><description>&lt;img src="https://emerywan.github.io/blog/p/kafka/more/kafka.webp" alt="Featured image of post Ê∑±ÂÖ• Kafka" />&lt;h2 id="-Ê∑±ÂÖ•-kafa">ü§ø Ê∑±ÂÖ• Kafa&lt;/h2>
&lt;h3 id="-ÈõÜÁæ§‰∏éÊéßÂà∂Âô®">üõ©Ô∏è ÈõÜÁæ§‰∏éÊéßÂà∂Âô®&lt;/h3>
&lt;p>Kafka ‰ΩøÁî® Zookeeper Êù•Áª¥Êä§ÈõÜÁæ§ÊàêÂëòÁöÑ‰ø°ÊÅØÔºåÊØè‰∏™ Broker ÈÉΩÊúâ‰∏Ä‰∏™ÂîØ‰∏ÄÊ†áËØÜÁ¨¶ÔºàÂèØ‰ª•Âú®ÈÖçÁΩÆ‰∏≠ÊåáÂÆöÊàñÈöèÊú∫ÁîüÊàêÔºâÔºåÂú® Broker ÂêØÂä®Êó∂ÔºåÈÄöËøáÂàõÂª∫‰∏¥Êó∂ËäÇÁÇπÂ∞ÜËá™Â∑±ÁöÑ ID Ê≥®ÂÜåÂà∞ Zookeeper„ÄÇ&lt;/p>
&lt;p>ÊéßÂà∂Âô®Êú¨Ë∫´Â∞±ÊòØ‰∏Ä‰∏™ BrokerÔºåÂ§çÂà∂ÂàÜÂå∫È¢ÜÂØºÁöÑÈÄâ‰∏æÂ∑•‰Ωú„ÄÇÈõÜÁæ§ÁöÑÁ¨¨‰∏Ä‰∏™ÂêØÂä® Broker ÈÄöËøáÂú® Zookeeper ‰∏≠ÂàõÂª∫‰∏Ä‰∏™ /controller ‰∏¥Êó∂ËäÇÁÇπËÆ©Ëá™Â∑±Êàê‰∏∫ÊéßÂà∂Âô®ÔºåÂÖ∂‰ªñ Broker ÂêØÂä®Êó∂ÂÜçÂ∞ùËØïÂàõÂª∫Ôºå‰ºöÊî∂Âà∞ËäÇÁÇπÂ∑≤ÁªèÂ≠òÂú®ÂºÇÂ∏∏Ôºå‰ºöÂú®ÊéßÂà∂Âô®ËäÇÁÇπ‰∏äÂàõÂª∫ Zookeeper watch ÂØπË±°ÔºåÊé•ÂèóËäÇÁÇπÂèòÊõ¥ÈÄöÁü•ÔºåÁ°Æ‰øùÈõÜÁæ§‰∏≠Âè™‰ºöÊúâ‰∏Ä‰∏™ÊéßÂà∂Âô®Â≠òÂú®„ÄÇ&lt;/p>
&lt;h3 id="-Â§çÂà∂">‚úàÔ∏è Â§çÂà∂&lt;/h3>
&lt;p>Â§çÂà∂ÂäüËÉΩÂèØ‰ª•ËÆ© Kafka Âú®‰∏™Âà´ËäÇÁÇπÂ§±ÊïàÊó∂Ôºå‰ªçÁÑ∂‰øùËØÅ Kafka ÁöÑÂèØÁî®ÊÄßÂíåÊåÅ‰πÖÊÄß„ÄÇ&lt;/p>
&lt;p>Kafka ‰ΩøÁî® Topic ÁªÑÁªáÊï∞ÊçÆÔºõÊØè‰∏™ Topic Ë¢´ÂàÜ‰∏∫Ëã•Âπ≤‰∏™ PartitionÔºõÊØè‰∏™ Partition ÊúâÂ§ö‰∏™ÂâØÊú¨ÔºåË¢´‰øùÂ≠òÂú® Broker ‰∏ä„ÄÇÂâØÊú¨Êúâ‰∏§ÁßçÁ±ªÂûãÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>È¶ñÈ¢ÜÂâØÊú¨ &lt;code>leader&lt;/code>&lt;/p>
&lt;p>ÊØè‰∏™ Partition ÈÉΩÊúâ‰∏Ä‰∏™È¶ñÈ¢ÜÂâØÊú¨„ÄÇ‰∏∫‰∫Ü‰øùËØÅ‰∏ÄËá¥ÊÄßÔºåÈ¶ñÈ¢ÜÂâØÊú¨Â§çÂà∂ÊâÄÊúâÁöÑ Áîü‰∫ß &amp;amp; Ê∂àË¥πËØ∑Ê±Ç„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂêåÊ≠•ÂâØÊú¨ &lt;code>follower&lt;/code>&lt;/p>
&lt;p>ÂêåÊ≠•ÂâØÊú¨‰∏çÂ§ÑÁêÜ‰ªª‰ΩïËØ∑Ê±ÇÔºåÂîØ‰∏ÄÁöÑ‰ªªÂä°Â∞±ÊòØ‰ªé Leader Â§çÂà∂Ê∂àÊÅØÔºå‰øùÊåÅ‰∏é leader ‰∏ÄËá¥ÁöÑÁä∂ÊÄÅ„ÄÇfollower Âêë leader ÂèëÈÄÅËé∑ÂèñÊï∞ÊçÆÁöÑËØ∑Ê±ÇÔºà‰∏éÊ∂àË¥πËÄÖËé∑ÂèñÊï∞ÊçÆÁöÑËØ∑Ê±ÇÁõ∏ÂêåÔºâÔºåleader Â∞ÜÊ∂àÊÅØÂìçÂ∫îÂèëÈÄÅÁªô followerÔºåÂåÖÂê´ÊåáÂÆöÂÅèÁßªÈáèÁöÑÊ∂àÊÅØÔºàÊúâÂ∫èÔºâ„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-Â§ÑÁêÜËØ∑Ê±Ç">üõ´ Â§ÑÁêÜËØ∑Ê±Ç&lt;/h3>
&lt;p>Broker Â§ÑÁêÜÂÆ¢Êà∑Á´ØÁöÑËØ∑Ê±ÇÂπ∂ÂÅöÂá∫ÂìçÂ∫îÔºå‰ºöÊåâÁÖßËØ∑Ê±ÇËææÂà∞ÁöÑÈ°∫Â∫èËøõË°åÂ§ÑÁêÜÔºåËøôÁßç„ÄåÈ°∫Â∫èÊÄß‰øùËØÅËÆ© Kafka ÂÖ∑Â§á‰∫ÜÊ∂àÊÅØÈòüÂàóÁöÑÁâπÊÄß„ÄÇ„Äç&lt;/p>
&lt;p>Broker ‰ºöÂú®ÂÆÉÊâÄÁõëÂê¨ÁöÑÊØè‰∏Ä‰∏™Á´ØÂè£‰∏äËøêË°å‰∏Ä‰∏™ &lt;code>Acceptor&lt;/code> Á∫øÁ®ãÔºåÁõëÂê¨Âà∞ËææÁöÑËøûÊé•ÔºàIOÂ§öË∑ØÂ§çÁî®ÔºâÔºõÂΩìËØ∑Ê±ÇËææÂà∞Êó∂Ôºå‰ºöÂà©Áî® n ‰∏™ &lt;code>Processor&lt;/code> Á∫øÁ®ãËøõË°åÂ§ÑÁêÜÔºåÂ§çÂà∂‰ªéÂÆ¢Êà∑Á´ØËé∑ÂèñËØ∑Ê±ÇÊ∂àÊÅØÔºåÂπ∂ÊîæÂÖ•ËØ∑Ê±ÇÈòüÂàóÔºõÊîæÂÖ•ËØ∑Ê±ÇÈòüÂàóÁöÑÊ∂àÊÅØÔºå‰ºöÊúâ m ‰∏™ &lt;code>Handler&lt;/code> Á∫øÁ®ãËøõË°åÂ§ÑÁêÜ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/kafka/more/thread.png"
width="856"
height="299"
srcset="https://emerywan.github.io/blog/blog/p/kafka/more/thread_hua0b819faaccb7b1eb257047290f83afd_30393_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/kafka/more/thread_hua0b819faaccb7b1eb257047290f83afd_30393_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="286"
data-flex-basis="687px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ÂÖÉÊï∞ÊçÆËØ∑Ê±Ç&lt;/p>
&lt;p>ÂÆ¢Êà∑Á´Ø‰ΩøÁî®„ÄåÂÖÉÊï∞ÊçÆËØ∑Ê±Ç„ÄçÔºåËé∑ÂèñÊâÄÊúâ‰∏ªÈ¢òÂàóË°®ÔºàÂàÜÂå∫„ÄÅÈ¶ñÈ¢Ü„ÄÅÂâØÊú¨Á≠âÊâÄÊúâ‰ø°ÊÅØÔºâÔºåÂπ∂Â∞ÜËøô‰∫õ‰ø°ÊÅØÁºìÂ≠òËµ∑Êù•Ôºå‰ª•Ê≠§Áü•ÈÅìÂêëÂì™ÈáåÂèëÈÄÅËØ∑Ê±Ç„ÄÇ&lt;/p>
&lt;p>ÂÖÉÊï∞ÊçÆËØ∑Ê±Ç‰ºöÂÆöÊó∂/ÈÅáÂà∞ÈîôËØØÊó∂ÔºåÂÆöÊó∂Âà∑Êñ∞„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Áîü‰∫ßËØ∑Ê±Ç&lt;/p>
&lt;p>Kafka ‰ΩøÁî® &lt;code>acks = 0/1/all&lt;/code> ÂÆ¢Êà∑Á´ØÈÖçÁΩÆÔºåÊåáÂÆö‰∫ÜÈúÄË¶ÅÂ§öÂ∞ë‰∏™ Broker Á°ÆËÆ§ÊâçÂèØ‰ª•ËÆ§‰∏∫‰∏Ä‰∏™Ê∂àÊÅØÊòØÂÜôÂÖ•ÊàêÂäüÁöÑ„ÄÇ&lt;/p>
&lt;p>Ê∂àÊÅØË¢´ Broker ÂÜôÂÖ•Êú¨Âú∞Á£ÅÁõò„ÄÇÂú® Linux Á≥ªÁªü‰∏äÔºåÊ∂àÊÅØ‰ºöË¢´ÂÜôÂà∞Êñá‰ª∂Á≥ªÁªüÁºìÂ≠ò Page Cache ÈáåÔºåÂπ∂‰∏ç‰øùËØÅ‰ªÄ‰πàÊòØÂê¶‰ºöË¢´Âà∑Êñ∞Âà∞Á£ÅÁõò‰∏ä„ÄÇKafka ‰æùËµñÂ§çÂà∂ÂäüËÉΩ‰øùÈöúÊ∂àÊÅØÁöÑÊåÅ‰πÖÊÄß„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Ê∂àË¥πËØ∑Ê±Ç&lt;/p>
&lt;p>Consumer Âêë Broker ÂèëÈÄÅËØ∑Ê±ÇÔºå‰ªé‰∏ªÈ¢òÂàÜÂå∫ÈáåËé∑ÂèñÁâπÂÆöÂÅèÁßªÈáèÁöÑÊ∂àÊÅØÔºåÁ±ª‰ºº‰∫éËØ¥Ôºö‚ÄúËØ∑Êää‰∏ªÈ¢ò Test ÂàÜÂå∫ 0 ÂÅèÁßªÈáè‰ªé 53 ÂºÄÂßãÁöÑÊ∂àÊÅØÂèëÁªôÊàë‚Äù&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂÖ∂‰ªñËØ∑Ê±Ç&lt;/p>
&lt;p>Âú®ÊóßÁâàÊú¨ÁöÑ Kafka ‰∏≠ÔºåÊ∂àË¥πËÄÖ‰ΩøÁî® Zookeeper Êù•Ë∑üË∏™ÂÅèÁßªÈáèÔºåÂú®Ê∂àË¥πËÄÖÂêØÂä®ÁöÑÊó∂ÂÄôÔºåÈÄöËøáÊ£ÄÊü•‰øùÊåÅÂú® Zookeeper ‰∏äÁöÑÂÅèÁßªÈáèÁü•ÈÅì‰ªéÂì™ÈáåÂºÄÂßãÂ§ÑÁêÜÊ∂àÊÅØ„ÄÇ&lt;/p>
&lt;p>Âú®Êñ∞ÁâàÊú¨‰∏≠ÔºåÂÅèÁßªÈáè offset ‰øùÂ≠òÂú®ÁâπÂÆöÁâàÊú¨ÁöÑ Kafka ‰∏ªÈ¢ò &lt;code>__consumer_offset&lt;/code> ‰∏ä„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-Áâ©ÁêÜÂ≠òÂÇ®">üí∫ Áâ©ÁêÜÂ≠òÂÇ®&lt;/h3>
&lt;p>Kafka ÁöÑÂü∫Êú¨Â≠òÂÇ®ÂçïÂÖÉÊòØÂàÜÂå∫ Partition„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Êñá‰ª∂ÁÆ°ÁêÜ&lt;/p>
&lt;p>‰øùÁïôÊï∞ÊçÆÊòØ Kafka ÁöÑ‰∏Ä‰∏™Âü∫Êú¨ÁâπÊÄßÔºåKafka ‰∏ç‰ºö‰∏ÄÁõ¥‰øùÁïôÊï∞ÊçÆÔºå‰πü‰∏ç‰ºöÁ≠âÂà∞ÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩÊ∂àË¥πÂÆåÊâçÂà†Èô§„ÄÇKafka ÂèØ‰ª•‰∏∫ÊØè‰∏™‰∏ªÈ¢òÈÖçÁΩÆÊï∞ÊçÆÁöÑ‰øùÁïôÊúüÈôêÔºåËßÑÂÆöÊï∞ÊçÆÂú®Âà†Èô§‰πãÂâçÂèØ‰ª•‰øùÁïôÂ§öÈïøÊó∂Èó¥ÔºåÊàñËÄÖÊ∏ÖÁêÜÊï∞ÊçÆ‰πãÂâçÂèØ‰ª•‰øùÁïôÁöÑÊï∞ÊçÆÂ§ßÂ∞è„ÄÇ&lt;/p>
&lt;p>Kafka ‰øùÂ≠òÁöÑÊï∞ÊçÆÈÄöÂ∏∏ÈÉΩÊòØÂæàÂ∫ûÂ§ßÁöÑÔºåÂú®‰∏Ä‰∏™Â§ßÊñá‰ª∂‰∏≠Êü•ÊâæÂíåÂà†Èô§Ê∂àÂ§±ÊòØÂæàË¥πÊó∂ÁöÑÔºå‰πüÂæàÂÆπÊòìÂá∫ÈîôÔºåÊâÄ‰ª•‰ºöÊääÊØè‰∏™ÂàÜÂå∫ÂàÜÊàêËã•Âπ≤‰∏™„ÄåÁâáÊÆµ„Äç&lt;code>Partition -&amp;gt; Segment&lt;/code>„ÄÇ
Âú® Broker Âêë Partition ÂÜôÂÖ•Êï∞ÊçÆÊó∂ÔºåÂ¶ÇÊûúËææÂà∞‰∏äÈôêÔºåÂ∞±ÂÖ≥Èó≠ÂΩìÂâçÊñá‰ª∂ÔºåÂπ∂ÊâìÂºÄ‰∏Ä‰∏™Êñ∞Êñá‰ª∂„ÄÇ&lt;/p>
&lt;p>ÂΩìÂâçÊ≠£Âú®ÂÜôÂÖ•Êï∞ÊçÆÁöÑÁâáÊÆµÂè´ÂÅöÊ¥ªË∑ÉÁâáÊÆµÔºå„ÄåÊ¥ªË∑ÉÁâáÊÆµÊ∞∏Ëøú‰∏ç‰ºöË¢´Âà†Èô§„Äç„ÄÇÔºàÂç≥‰ΩøÊ¥ªË∑ÉÁâáÊÆµ‰∏≠ÁöÑÊ∂àÊÅØË∂ÖËøá‰∫Ü‰øùÁïôÊó∂Èó¥ÔºåÁâáÊÆµÂú®Ë¢´ÂÖ≥Èó≠‰πãÂâçÊó†Ê≥ïË¢´Âà†Èô§Ôºâ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Êñá‰ª∂Ê†ºÂºè&lt;/p>
&lt;p>Kafka ÊääÊ∂àÊÅØÂíåÂÅèÁßªÈáè‰øùÂ≠òÂú®Êñá‰ª∂ÈáåÔºå‰øùÂ≠òÂú®Á£ÅÁõò‰∏äÁöÑÊï∞ÊçÆÊ†ºÂºè‰∏é‰ªéÁîü‰∫ßËÄÖÂèëÈÄÅÊù•ÊàñÂèëÈÄÅÁªôÊ∂àË¥πËÄÖÁöÑÊï∞ÊçÆÊ†ºÂºèÊòØ‰∏ÄÊ†∑ÁöÑÔºåKafka ‰∏ç‰ºöËøõË°åÂ§ÑÁêÜ„ÄÇ&lt;/p>
&lt;p>Áîü‰∫ßËÄÖÂèëÈÄÅÁöÑÊòØË¢´ÂéãÁº©ËøáÁöÑÊ∂àÊÅØÔºåÂêå‰∏Ä‰∏™ÊâπÊ¨°ÁöÑÊ∂àÊÅØ‰ºöË¢´ÂéãÁº©Âú®‰∏ÄËµ∑ÔºåÂèëÈÄÅÁªô BrokerÔºåÁÑ∂Âêé Broker ÂÜçÂèëÈÄÅÁªôÊ∂àË¥πËÄÖ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/kafka/more/message.png"
width="897"
height="349"
srcset="https://emerywan.github.io/blog/blog/p/kafka/more/message_hu5179d63639435460e9b73156324f1016_483489_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/kafka/more/message_hu5179d63639435460e9b73156324f1016_483489_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="257"
data-flex-basis="616px"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Á¥¢Âºï&lt;/p>
&lt;p>Kafka ÁªôÊØè‰∏™ÂàÜÂå∫ÈÉΩÁª¥Êä§‰∫Ü‰∏Ä‰∏™Á®ÄÁñèÁöÑÂìàÂ∏åÁ¥¢ÂºïÔºåÊääÂÅèÁßªÈáèÊò†Â∞ÑÂà∞ÁâáÊÆµÊñá‰ª∂ÂíåÂÅèÁßªÈáèÂú®Êñá‰ª∂ÈáåÁöÑ‰ΩçÁΩÆ„ÄÇ&lt;/p>
&lt;p>Á¥¢ÂºïÂíå Partition ‰∏ÄÊ†∑Ë¢´ÂàÜ‰∏∫ÁâáÊÆµÔºåÊâÄ‰ª•Âú®Âà†Èô§Ê∂àÊÅØÊó∂Ôºå‰πü‰ºöÂà†Èô§Áõ∏Â∫îÁöÑÁ¥¢Âºï„ÄÇ&lt;/p>
&lt;p>Kafka ‰∏ç‰ºöÁª¥Êä§Á¥¢ÂºïÁöÑÊ†°È™åÂíåÔºåÁ¥¢ÂºïÂá∫Áé∞ÊçüÂùèÔºåÊàñÂà†Èô§‰∫ÜÁ¥¢ÂºïÔºàÂÆåÂÖ®ÂÆâÂÖ®ÔºâÔºåKafka ÈÉΩ‰ºöËá™Âä®ÈáçÊñ∞ÁîüÊàêÁ¥¢Âºï„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="-ÂèØÈù†Êï∞ÊçÆ‰º†ÈÄí">üëå ÂèØÈù†Êï∞ÊçÆ‰º†ÈÄí&lt;/h2>
&lt;p>Kafka ÁöÑÂèØÈù†ÊÄßÂπ∂‰∏çÊòØÂçïÊñπÈù¢ÁöÑ‰∫ãÊÉÖÔºåÂ∫îËØ•‰ªéÊï¥‰∏™Á≥ªÁªüÂ±ÇÈù¢Êù•ËÄÉËôëÂèØÈù†ÊÄßÁöÑÈóÆÈ¢òÔºåÂ¶ÇÂ∫îÁî®Êû∂ÊûÑ„ÄÅÁîü‰∫ßËÄÖÊ∂àË¥πËÄÖÁöÑÈÖçÁΩÆ„ÄÅ‰∏ªÈ¢òÈÖçÁΩÆ„ÄÅBroker ÈÖçÁΩÆ„ÄÇ&lt;/p>
&lt;p>Á≥ªÁªüÁöÑÂèØÈù†ÊÄßÈúÄË¶ÅÂú®ËÆ∏Â§öÊñπÈù¢ÂÅöÂá∫ÊùÉË°°ÔºåÂ¶ÇÂ§çÊùÇÊÄß„ÄÅÂèØÁî®ÊÄß„ÄÅÁ£ÅÁõòÁ©∫Èó¥‰ΩøÁî®Á≠â„ÄÇ&lt;/p>
&lt;h3 id="-ÂèØÈù†ÊÄß‰øùËØÅ">üöó ÂèØÈù†ÊÄß‰øùËØÅ&lt;/h3>
&lt;p>ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì‰ΩøÁî® &lt;code>ACID&lt;/code> Êú∫Âà∂Êù•‰øùÈöúÊï∞ÊçÆÁöÑÂèØÈù†ÊÄß„ÄÇ‰∏Ä‰∏™Á≥ªÁªüÁöÑ‰øùËØÅÊú∫Âà∂ÂØπ‰∫éÊûÑÂª∫ÂèØÈù†ÁöÑÂ∫îÁî®Á®ãÂ∫èÊù•ËØ¥Ëá≥ÂÖ≥ÈáçË¶Å„ÄÇ
Kafka ÂèØ‰ª•ÂÜç‰ª•‰∏ãÊñπÈù¢‰ΩúÂá∫‰øùËØÅÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üõ∏ Kafka ÂèØ‰ª•‰øùËØÅ ÂàÜÂå∫ Partition Ê∂àÊÅØÁöÑÈ°∫Â∫è„ÄÇ&lt;/p>
&lt;p>‰ΩøÁî®Âêå‰∏Ä‰∏™Áîü‰∫ßËÄÖÂæÄÂêå‰∏Ä‰∏™ÂàÜÂå∫ÂÜôÂÖ•Ê∂àÊÅØ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üõ∏ Âè™ÊúâÂΩìÊ∂àÊÅØË¢´ÂÜôÂÖ•ÂàÜÂå∫ÁöÑÊâÄÊúâÂêåÊ≠•ÂâØÊú¨Êó∂Ôºà‰∏ç‰∏ÄÂÆöË¶ÅÂÜôÂÖ•Á£ÅÁõòÔºâÔºåÊ∂àÊÅØÊâçË¢´ËÆ§‰∏∫ÊòØ‚ÄúÂ∑≤Êèê‰∫§‚ÄúÁöÑ„ÄÇ&lt;/p>
&lt;p>Áîü‰∫ßËÄÖÂèØ‰ª•ÈÄâÊã©Êé•Êî∂‰∏çÂêåÁ±ªÂûãÁöÑÁ°ÆËÆ§ÔºàacksÔºâ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üõ∏ Âè™Ë¶ÅËøòÊúâ‰∏Ä‰∏™ÂâØÊú¨ÊòØÊ¥ªË∑ÉÁöÑÔºåÂ∑≤Êèê‰∫§ÁöÑÊ∂àÊÅØÂ∞±‰∏ç‰ºö‰∏¢Â§±„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üõ∏ Ê∂àË¥πËÄÖÂè™ËÉΩËØªÂèñÂà∞Â∑≤Êèê‰∫§ÁöÑÊ∂àÊÅØ„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Êàë‰ª¨ÂèØ‰ª•ÈÄöËøá Kafka ÁöÑÁõ∏ÂÖ≥ÈÖçÁΩÆÂèÇÊï∞ÔºåÂØπÊâÄÈúÄË¶ÅÁöÑÂèØÈù†ÊÄßÂÅöÂá∫„ÄåÊùÉË°°„ÄçÔºöÊ∂àÊÅØÁöÑ„ÄåÂèØÈù†ÊÄß„ÄÅ‰∏ÄËá¥ÊÄß„ÄçÁöÑÈáçË¶ÅÁ®ãÂ∫¶‰∏é„ÄåÂèØÁî®ÊÄß„ÄÅÈ´òÂêûÂêêÈáè„ÄÅ‰ΩéÂª∂Ëøü„ÄÅÁ°¨‰ª∂ÊàêÊú¨„ÄçÁöÑÈáçË¶ÅÊÄß‰πãÈó¥ÁöÑÊùÉË°°„ÄÇ&lt;/p>
&lt;h3 id="-Â§çÂà∂ÁöÑÂèØÈù†">üöì Â§çÂà∂ÁöÑÂèØÈù†&lt;/h3>
&lt;p>Kafka ÁöÑÂ§çÂà∂Êú∫Âà∂ÂíåÂàÜÂå∫ÂâØÊú¨Êû∂ÊûÑÊòØ Kafka ÂèØÈù†ÊÄß‰øùËØÅÁöÑÊ†∏ÂøÉ„ÄÇ&lt;/p>
&lt;p>ÊääÊ∂àÊÅØÂÜôÂÖ•Â§ö‰∏™ÂâØÊú¨ÂèØ‰ª•‰Ωø Kafka Âú®ÂèëÁîüÂ¥©Ê∫ÉÊó∂Ôºå‰øùËØÅÊ∂àÊÅØÁöÑ„ÄåÊåÅ‰πÖÊÄß„Äç„ÄÇ&lt;/p>
&lt;p>Kafka ÁöÑ‰∏ªÈ¢ò Topic Ë¢´ÂàÜ‰∏∫Â§ö‰∏™ÂàÜÂå∫ PartitionÔºåÂàÜÂå∫ÊòØÊúÄÂü∫Êú¨ÁöÑÊï∞ÊçÆÂùó„ÄÇÂàÜÂå∫ÂèØ‰ª•ÊúâÂ§ö‰∏™ÂâØÊú¨ÔºåÂåÖÂê´‰∏Ä‰∏™È¶ñÈ¢Ü leader ÂíåÂ§ö‰∏™ÂêåÊ≠•ÂâØÊú¨ followerÔºåleader Ë¥üË¥£ËØª&amp;amp;ÂÜô‰∫ã‰ª∂ÔºåÂÖ∂‰ªñÂâØÊú¨Âè™ÈúÄË¶Å‰∏éÈ¶ñÈ¢Ü‰øùÊåÅÂêåÊ≠•ÔºåÂπ∂ÂèäÊó∂Â§çÂà∂ÊúÄÊñ∞ÁöÑ‰∫ã‰ª∂„ÄÇ&lt;/p>
&lt;h3 id="-broker-ÁöÑÂèØÈù†">üöï Broker ÁöÑÂèØÈù†&lt;/h3>
&lt;p>Broker Êúâ &lt;code>3&lt;/code> ‰∏™ÈÖçÁΩÆÂèÇÊï∞‰ºöÂΩ±Âìç Kafka Â≠òÂÇ®Ê∂àÊÅØÁöÑÂèØÈù†ÊÄß„ÄÇÔºàÂèØ‰ª•Â∫îÁî®Âú® broker Á∫ßÂà´ÔºåÊéßÂà∂ÊâÄÊúâ‰∏ªÈ¢òÁöÑË°å‰∏∫Ôºõ‰πüÂèØ‰ª•ÂçïÁã¨Â∫îÁî®Âú® Topic Á∫ßÂà´ÔºåÊéßÂà∂Âçï‰∏™‰∏ªÈ¢òÔºâ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>‚úíÔ∏è Â§çÂà∂Á≥ªÊï∞&lt;/p>
&lt;ul>
&lt;li>Broker Á∫ßÂà´Ôºö&lt;code>default.replication.factor&lt;/code>&lt;/li>
&lt;li>Topic Á∫ßÂà´Ôºö&lt;code>replication.factor&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Â§çÂà∂Á≥ªÊï∞Ë°®Á§∫ËØ• Topic ÁöÑ Partition ‰ºöË¢´Âá†‰∏™‰∏çÂêåÁöÑ Broker Â§çÂà∂„ÄÇ&lt;/p>
&lt;p>Â¶ÇÊûúÂ§çÂà∂Á≥ªÊï∞‰∏∫ NÔºåÂΩìÊúâ N-1 ‰∏™ Broker Â§±ÊïàÊó∂Ôºå‰ªçÁÑ∂ÂèØ‰ª•‰ªé Topic ËØªÂèñÊàñÂÜôÂÖ•Êï∞ÊçÆ„ÄÇ&lt;/p>
&lt;p>Êõ¥È´òÁöÑÂ§çÂà∂Á≥ªÊï∞ËÉΩÂ§üÂ∏¶Êù•Êõ¥È´òÁöÑÂèØÁî®ÊÄß„ÄÅÂèØÈù†ÊÄßÂíåÊõ¥Â∞ëÁöÑÊïÖÈöúÔºå‰ΩÜ‰ºöÂç†Áî®ÊàêÂÄçÁöÑÂ≠òÂÇ®Á©∫Èó¥ÔºåÈúÄË¶ÅÂú®ÂèØÁî®ÊÄßÂíåÂ≠òÂÇ®Á°¨‰ª∂Èó¥ÂÅöÂá∫Âπ≥Ë°°„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‚úíÔ∏è ‰∏çÂÆåÂÖ®ÁöÑÈ¶ñÈ¢ÜÈÄâ‰∏æ&lt;/p>
&lt;ul>
&lt;li>Âè™Êúâ Broker Á∫ßÂà´ÔºåÈªòËÆ§‰∏∫ true Ôºö&lt;code>unclean.leader.election = true&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Âú®ÈÄâ‰∏æËøáÁ®ã‰∏≠Ê≤°Êúâ‰∏¢Â§±Êï∞ÊçÆÔºåËøô‰∏™ÈÄâ‰∏æÂ∞±ÊòØ‚ÄùÂÆåÂÖ®‚ÄúÁöÑÔºàÊèê‰∫§ÁöÑÊï∞ÊçÆÂêåÊó∂Â≠òÂú®‰∫éÊâÄÊúâÂêåÊ≠•ÂâØÊú¨‰∏äÔºâ„ÄÇ&lt;/p>
&lt;p>Â¶ÇÊûúËÆæÁΩÆ‰∏∫ trueÔºåÂÖÅËÆ∏‰∏çÂêåÊ≠•ÁöÑÂâØÊú¨Êàê‰∏∫È¶ñÈ¢ÜÔºåÈúÄË¶ÅÊâøÊãÖÊï∞ÊçÆ‰∏ç‰∏ÄËá¥Êàñ‰∏¢Â§±Êï∞ÊçÆÁöÑÈ£éÈô©„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‚úíÔ∏è ÊúÄÂ∞ëÁöÑÂêåÊ≠•ÂâØÊú¨&lt;/p>
&lt;ul>
&lt;li>Broker / Topic Á∫ßÂà´Ôºö&lt;code>min.insync.replicas&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Ê∂àÊÅØÂè™ÊúâÂú®Ë¢´ÂÜôÂÖ•Âà∞ÊâÄÊúâÂêåÊ≠•ÂâØÊú¨‰πãÂêéÊâçË¢´ËÆ§‰∏∫ÊòØÂ∑≤Êèê‰∫§ÁöÑ„ÄÇ&lt;/p>
&lt;p>ÂΩì‰∏çÊª°Ë∂≥ÊúÄÂ∞ëÂêåÊ≠•ÂâØÊú¨Êó∂Ôºå‰ºöÂÅúÊ≠¢Êé•ÂèóÁîü‰∫ßËÄÖËØ∑Ê±ÇÔºåÂèòÊàêÂè™ËØªÁä∂ÊÄÅ„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-Áîü‰∫ßËÄÖÁöÑÂèØÈù†">üõ∫ Áîü‰∫ßËÄÖÁöÑÂèØÈù†&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>üß≤ ÂèëÈÄÅÁ°ÆËÆ§&lt;/p>
&lt;p>‰∏âÁßçÁ°ÆËÆ§Ê®°ÂºèÔºö&lt;code>acks&lt;/code>: ÊåáÂÆö‰∫ÜÂøÖÈ°ªË¶ÅÊúâÂ§öÂ∞ë‰∏™ÂàÜÂå∫ÂâØÊú¨Êî∂Âà∞Ê∂àÊÅØÔºåÁîü‰∫ßËÄÖÊâç‰ºö‰ªªÂä°Ê∂àÊÅØÂÜôÂÖ•Êó∂ÊàêÂäüÁöÑ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>acks=0&lt;/code> ‰∏ç‰ºöÁ≠âÂæÖ‰ªªÂä°Êù•Ëá™ÊúçÂä°Âô®ÁöÑÂìçÂ∫î„ÄÇËææÂà∞ÊúÄÈ´òÁöÑÂêûÂêêÈáèÔºåÊó†Ê≥ïÂæóÁü•Ê∂àÊÅØÁä∂ÊÄÅ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>acks=1&lt;/code> Âè™Ë¶Å Partition Leader Êî∂Âà∞ÂìçÂ∫î„ÄÇÊ∂àÊÅØÂèØËÉΩ‰ºö‰∏¢Â§±ÔºåLeaderÂÆïÊú∫ÂêéÔºå‰∏Ä‰∏™Êú™ÂêåÊ≠•ÁöÑFllowerÊàê‰∏∫Êñ∞ÁöÑLeader„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>acks=all&lt;/code> Ê∂àÊÅØË¶ÅÂÖ®ÈÉ®ÂêåÊ≠•Âà∞ÊâÄÊúâÁöÑ Leader&amp;amp;Fllower„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>üß≤ ÈÖçÁΩÆÈáçËØïÂèÇÊï∞&lt;/p>
&lt;p>Áîü‰∫ßËÄÖÂêë Broker ÂèëÈÄÅÊ∂àÂ§±Êó∂Ôºå‰ºöËøîÂõû‰∏Ä‰∏™ÊàêÂäü/ÈîôËØØÂìçÂ∫îÁ†Å„ÄÇÂ¶ÇÊûú Broker ËøîÂõûÁöÑÈîôËØØÂèØ‰ª•ÈÄöËøá„ÄåÈáçËØï„ÄçÊù•Ëß£ÂÜ≥ÔºåÁîü‰∫ßËÄÖ‰ºöËá™Âä®Â§ÑÁêÜËøô‰∫õÈîôËØØ„ÄÇ&lt;/p>
&lt;p>ÈîôËØØÂìçÂ∫îÁ†ÅÂèØ‰ª•ÂàÜ‰∏∫‰∏§ÁßçÔºöÔºà1ÔºâÈáçËØï‰πãÂêéÂèØ‰ª•Ëß£ÂÜ≥ÁöÑÔºåÂèØÈáçËØïÈîôËØØ &lt;code>LEADER_NOT_AVAILABLE&lt;/code> Ôºà2ÔºâÊó†Ê≥ïÈÄöËøáÈáçËØïËß£ÂÜ≥ÁöÑÔºå‰∏çÂèØÈáçËØïÈîôËØØ &lt;code>INVALID_CONFIG&lt;/code>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Â¶ÇÊûúÊÉ≥Êäì‰ΩèÂºÇÂ∏∏Âπ∂Â§öÈáçËØïÂá†Ê¨°ÔºåÂèØ‰ª•Â∞ÜÈáçËØïÊ¨°Êï∞ËÆæÁΩÆÂ§ö‰∏ÄÁÇπÔºåËÆ©Áîü‰∫ßËÄÖÈáçËØï&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Â¶ÇÊûúÊÉ≥‰∏¢ÂºÉÊï∞ÊçÆÔºåÈáçËØïÂèÇÊï∞ÊØ´Êó†ÊÑè‰πâ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Â¶ÇÊûúÊÉ≥‰øùÂ≠òÊ∂àÊÅØÂà∞Êüê‰∏™Âú∞ÊñπÔºåÂêéÁª≠ËøõË°åÂ§ÑÁêÜÔºåÂèØ‰ª•ÂÅúÊ≠¢ÈáçËØï&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>‚ö†Ô∏è ÈáçËØï‰ºöÂ∏¶Êù•Ê∂àÊÅØÈáçÂ§çÁöÑÈ£éÈô©ÔºåÂèØ‰ª•Âú®Â∫îÁî®‰∏≠ÂêëÊ∂àÊÅØ‰∏≠Âä†ÂÖ•ÂîØ‰∏ÄÊ†áËØÜÁ¨¶ÔºåÁî®‰∫éÊ£ÄÊµãÈáçÂ§çÊ∂àÊÅØÔºàÊñ∞Áâà Kafka ËÉΩÂ§üËá™Âä®Â§ÑÁêÜÔºâÔºåÊ∂àË¥πËÄÖÂú®ËØªÂèñÊó∂ËøõË°åÊ∏ÖÁêÜÔºõÂú®‰∏öÂä°‰∏ä‰πüÂèØ‰ª•ÂÆûÁé∞ÂπÇÁ≠âÔºåÂç≥‰ΩøÂá∫Áé∞ÈáçÂ§çÊ∂àÊÅØÔºåÂØπÁªìÊûúÁöÑÂ§ÑÁêÜ‰πü‰∏ç‰ºöÈÄ†ÊàêË¥üÈù¢ÂΩ±Âìç„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üß≤ È¢ùÂ§ñÁöÑÈîôËØØÂ§ÑÁêÜ&lt;/p>
&lt;p>ÈîôËØØÂ§ÑÁêÜÂô®ÁöÑ‰ª£Á†ÅÈÄªËæë‰∏éÂÖ∑‰ΩìÁöÑÂ∫îÁî®Á®ãÂ∫èÂèäÂÖ∂ÁõÆÊ†áÊúâÂÖ≥ÔºåÊ†πÊçÆÂÖ∑‰ΩìÁöÑÊû∂ÊûÑÂÜ≥ÂÆö„ÄÇÔºà‰∏¢ÂºÉÔºüËÆ∞ÂΩïÈîôËØØÔºü‰øùÂ≠òÂà∞Á£ÅÁõòÔºüÂõûË∞ÉÂè¶‰∏Ä‰∏™Â∫îÁî®ÔºüÔºâ&lt;/p>
&lt;p>Â¶ÇÊûúÈîôËØØÂ§ÑÁêÜÂè™ÊòØ‰∏∫‰∫ÜÈáçËØïÂèëÈÄÅÊ∂àÊÅØÔºåÊúÄÂ•ΩËøòÊòØ‰ΩøÁî®Áîü‰∫ßËÄÖÂÜÖÁΩÆÁöÑÈáçËØïÊú∫Âà∂„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-Ê∂àË¥πËÄÖÁöÑÂèØÈù†">üöô Ê∂àË¥πËÄÖÁöÑÂèØÈù†&lt;/h3>
&lt;p>Âè™ÊúâË¢´ÂÜôÂÖ•ÊâÄÊúâÂêåÊ≠•ÂâØÊú¨ÁöÑÊï∞ÊçÆÔºåÂØπÊ∂àË¥πËÄÖÊâçÊòØÂèØÁî®ÁöÑÔºåÊ∂àË¥πËÄÖÂæóÂà∞ÁöÑÊ∂àÊÅØÂ∑≤ÁªèÂÖ∑Â§á‰∫Ü‰∏ÄËá¥ÊÄß„ÄÇ&lt;/p>
&lt;p>Ê∂àË¥πËÄÖÈúÄË¶ÅÂÅöÁöÑÊòØË∑üË∏™Âì™‰∫õÊ∂àÊÅØÂ∑≤ÁªèËØªÂèñËøáÔºåÂì™‰∫õÊòØËøòÊ≤°ÊúâËØªÂèñËøáÁöÑÔºåÊòØÂú®ËØªÂèñÊ∂àÂ§±Êó∂‰∏ç‰∏¢Â§±Ê∂àÊÅØÁöÑÂÖ≥ÈîÆ„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üìê Êèê‰∫§È¢ëÁéáÔºàÊòØÊÄßËÉΩÂíåÈáçÂ§çÊ∂àÊÅØ‰πãÈó¥ÁöÑÊùÉË°°Ôºâ&lt;/p>
&lt;p>ÂèØ‰ª•Âú®ËΩÆËØ¢ÂêéÁª¥Êä§Áä∂ÊÄÅÔºå‰πüÂèØ‰ª•Âú®‰∏Ä‰∏™Âæ™ÁéØÈáåÂ§öÊ¨°Êèê‰∫§ÂÅèÁßªÈáèÔºåÂÆåÂÖ®ÂèñÂÜ≥‰∫éÊÄßËÉΩÂíåÈáçÂ§çÂ§ÑÁêÜÊ∂àÊÅØ‰πãÈó¥ÂÅöÂá∫ÊùÉË°°„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üìê Ê∂àË¥πËÄÖÈúÄË¶ÅÈáçËØï&lt;/p>
&lt;p>Âú®ËøõË°åËΩÆËØ¢ÂêéÔºåÊúâ‰∫õÊ∂àÊÅØ‰∏ç‰ºöË¢´ÂÆåÂÖ®Â§ÑÁêÜÔºåÈúÄË¶ÅÁ®çÂêéÈáçËØï„ÄÇÂ¶ÇËÆ∞ÂΩï #31 Â§ÑÁêÜÊàêÔºåËÆ∞ÂΩï #30 Â§ÑÁêÜÂ§±Ë¥•„ÄÇÊèê‰∫§ÂÅèÁßªÈáèÊó∂ÈúÄË¶ÅËøõË°åÂ§ÑÁêÜÔºà#31Ôºü/ #30Ôºâ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ÈÅáÂà∞ÂèØÈáçËØïÈîôËØØÊó∂ÔºåÊèê‰∫§ÊúÄÂêé‰∏Ä‰∏™Â§ÑÁêÜÊàêÂäüÁöÑÂÅèÁßªÈáèÔºåÂ∞ÜÊ≤°ÊúâÂ§ÑÁêÜÂ•ΩÁöÑÊ∂àÊÅØ‰øùÂ≠òÂà∞ÁºìÂÜ≤Âå∫‰∏≠ÔºåË∞ÉÁî®Ê∂àË¥πËÄÖÁöÑ pause() Á°Æ‰øùÂÖ∂‰ªñËΩÆËØ¢‰∏ç‰ºöËé∑ÂèñÊï∞ÊçÆÔºàÂÅúÊ≠¢Êé•Êî∂Ê∂àÊÅØÈò≤Ê≠¢ÁºìÂÜ≤Âå∫Ê∫¢Âá∫ÔºâÔºåÂú®‰øùÂ≠òËΩÆËØ¢Ôºà‰øùÊåÅÂøÉË∑≥ÔºâÁöÑÊÉÖÂÜµ‰∏ãÂ∞ùËØïÈáçÊñ∞Â§ÑÁêÜ„ÄÇÂ¶ÇÊûúÈáçËØïÊàêÂäüÊàñÈáçËØïÊ¨°Êï∞ËææÂà∞‰∏äÈôêÂπ∂ÂÜ≥ÂÆöÊîæÂºÉÔºåÂ∞ÜÁªìÊûúËÆ∞ÂΩï‰∏ãÊù•Ôºå‰ΩøÁî® resume() ÁªßÁª≠‰ªéËΩÆËØ¢‰∏≠Ëé∑ÂèñÊï∞ÊçÆ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÈÅáÂà∞ÂèØÈáçËØïÈîôËØØÔºåÊääÈîôËØØÂÜôÂÖ•Âà∞‰∏Ä‰∏™ÂçïÁã¨ÁöÑ‰∏ªÈ¢òÔºåÁªßÁª≠Â§ÑÁêÜ‰∏öÂä°„ÄÇ‰ΩøÁî®‰∏ìÈó®ÁöÑÊ∂àË¥πËÄÖ‰ªéËøô‰∏™ÂçïÁã¨ÁöÑ‰∏ªÈ¢ò‰∏äËØªÂèñÊ∂àÊÅØËøõË°åÈáçËØï„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>üìê ÈïøÊó∂Èó¥Â§ÑÁêÜÊ∂àÊÅØ&lt;/p>
&lt;p>ÊúâÊó∂Â§ÑÁêÜÊï∞ÊçÆÈúÄË¶ÅÂæàÈïøÁöÑÊó∂Èó¥„ÄÇ„ÄåÂç≥‰Ωø‰∏çÊÉ≥Ëé∑ÂèñÊõ¥Â§öÁöÑÊï∞ÊçÆÔºå‰πüË¶Å‰øùÊåÅËΩÆËØ¢ÔºåËøôÊ†∑ÂÆ¢Êà∑Á´ØÊâçËÉΩÂêë Broker ÂèëÈÄÅÂøÉË∑≥„ÄÇ„Äç&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>Kafka Êìç‰ΩúÔºàDoingÔºâ</title><link>https://emerywan.github.io/blog/p/kafka/operation/</link><pubDate>Sun, 26 Mar 2023 08:08:08 +0800</pubDate><guid>https://emerywan.github.io/blog/p/kafka/operation/</guid><description>&lt;img src="https://emerywan.github.io/blog/p/kafka/operation/1.png" alt="Featured image of post Kafka Êìç‰ΩúÔºàDoingÔºâ" />&lt;h2 id="ÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑">ÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑&lt;/h2>
&lt;p>Kafka Êèê‰æõ‰∫Ü‰∏Ä‰∫õÂü∫‰∫éËÑöÊú¨ÁöÑÂëΩÂêçË°åÂ∑•ÂÖ∑ &lt;code>${dir}/bin/xxx.sh&lt;/code>ÔºåÁî®‰∫éÁÆ°ÁêÜÈõÜÁæ§„ÄÇËøô‰∫õÁÆ°ÁêÜÈÄöËøá Java Á±ªÂÆûÁé∞ÔºåÈÄöËøáËÑöÊú¨Ë∞ÉÁî®„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÂêØÂä® Zookeeper ÊúçÂä°ÔºàÊñ∞ÁâàÂ∑≤ÂÜÖÁΩÆÔºâ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">bin/zookeeper-server-start.sh config/zeekeeper.properties
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÂêØÂä® Kafka ÊúçÂä°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">bin/kafka-server-start.sh config/server.properties
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>üîç Êõ¥Â§ö CLI Êìç‰ΩúÔºö&lt;a class="link" href="https://www.conduktor.io/kafka/kafka-topics-cli-tutorial/" target="_blank" rel="noopener"
>üåê https://www.conduktor.io/kafka/kafka-topics-cli-tutorial/&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h3 id="topic-Êìç‰Ωú">Topic Êìç‰Ωú&lt;/h3>
&lt;p>Kafka Â§ßÈÉ®ÂàÜÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑Áõ¥Êé•Êìç‰Ωú Zookeeper ‰∏äÁöÑÂÖÉÊï∞ÊçÆÔºåÂπ∂‰∏ç‰ºöÁõ¥Êé•ËøûÊé•Âà∞ Broker ‰∏äÔºåÈúÄË¶ÅÁ°Æ‰øùÊâÄ‰ΩøÁî®ÁöÑÂ∑•ÂÖ∑ÁâàÊú¨‰∏éÈõÜÁæ§‰∏≠ÁöÑ Broker ÁâàÊú¨Áõ∏ÂåπÈÖç„ÄÇ&lt;/p>
&lt;blockquote>
&lt;p>üéóÔ∏è&lt;/p>
&lt;p>Kafka 2.2+ ‰ΩøÁî® Kafka ÁöÑ hostname &amp;amp; port ËøõË°åÊìç‰Ωú &lt;code>--bootstrap-server 127.0.0.1:9092&lt;/code>&lt;/p>
&lt;p>ÊóßÁâàÊú¨‰ΩøÁî® Zookeeper ÁöÑ URL &amp;amp; port ËøõË°åÊìç‰Ωú &lt;code>--zookeeper 127.0.0.1:2181&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÂàõÂª∫‰∏ªÈ¢ò&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2.2 +&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kafka-topics.sh --bootstrap-server localhost:9092 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --create &lt;span class="se">\ &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --topic first_topic &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --partitions &lt;span class="m">3&lt;/span> &lt;span class="se">\ &lt;/span> &lt;span class="c1"># ÂàÜÂå∫Êï∞Èáè&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --replication-factor &lt;span class="m">1&lt;/span> &lt;span class="c1"># ÂâØÊú¨Êï∞Èáè&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># old&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kafka-topics.sh --zookeeper localhost:2181 --topic first_topic --create --partitions &lt;span class="m">3&lt;/span> --replication-factor &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÂàóÂá∫‰∏ªÈ¢ò&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2.2 + &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kafka-topics.sh --bootstrap-server localhost:9092 --list
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ËØ¶ÁªÜ‰ø°ÊÅØ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kafka-topics.sh --bootstrap-server localhost:9092 --describe --topic first_topic
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ‰øÆÊîπ‰∏ªÈ¢ò&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kafka-topics.sh --bootstrap-server localhost:9092 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --alter &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --topic first_topic &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --partitions &lt;span class="m">5&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="Áîü‰∫ß--Ê∂àË¥π">Áîü‰∫ß &amp;amp; Ê∂àË¥π&lt;/h3>
&lt;blockquote>
&lt;p>üéóÔ∏è Producer&lt;/p>
&lt;p>Kafka 2.5+ ‰ΩøÁî® &lt;code>--bootstrap-server&lt;/code>&lt;/p>
&lt;p>ÊóßÁâàÊú¨ Kafka ‰ΩøÁî® &lt;code>--broker-list&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Áîü‰∫ß&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kafka-console-producer.sh --bootstrap-server localhost:9092 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --topic first_topic
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>üéóÔ∏è Consumer&lt;/p>
&lt;p>‰ΩøÁî® &lt;code>--bootstrap-server&lt;/code>ÔºåËá™ v0.10 ÂºÄÂßã &lt;code>--zookeeper&lt;/code> Â∑≤Ë¢´Â∫üÂºÉ&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">kafka-console-consumer.sh --bootstrap-server localhost:9092 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --topic first_topic
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="-producer">ü§≤ Producer&lt;/h2>
&lt;h3 id="-Áîü‰∫ßËÄÖ">üêà Áîü‰∫ßËÄÖ&lt;/h3>
&lt;ul>
&lt;li>üß© &lt;code>ProducerRecord&lt;/code> ÂØπË±°ÂåÖÂê´ÁõÆÊ†á‰∏ªÈ¢ò Topic ÂíåÈúÄË¶ÅÂèëÈÄÅÁöÑÂÜÖÂÆπ ValueÔºåÂèØ‰ª•ÂèØ‰ª•ÊåáÂÆöÂàÜÂå∫ Partition ÂíåÈîÆÂÄº KeyÔºàÊ∂àÊÅØÁöÑÈôÑÂä†‰ø°ÊÅØÔºåÂèØ‰ª•Áî®Êù•ÂÜ≥ÂÆöÊ∂àÊÅØË¢´ÂÜôÂÖ•Âì™‰∏™ÂàÜÂå∫ÔºåÁõ∏Âêå Key ÁöÑÊ∂àÊÅØ‰ºöÂÜôÂÖ•Âêå‰∏Ä‰∏™ÂàÜÂå∫Ôºâ&lt;/li>
&lt;li>üß© ÂèëÈÄÅÊ∂àÊÅØÊó∂ÔºåÁîü‰∫ßËÄÖÈúÄË¶ÅÂ∞Ü &lt;code>ProducerRecord&lt;/code> ÂØπË±°Â∫èÂàóÂåñ‰∏∫Â≠óËäÇÊï∞ÁªÑÔºåÂú®ÁΩëÁªú‰∏ä‰º†Ëæì&lt;/li>
&lt;li>üß© Êï∞ÊçÆË¢´‰º†ÈÄÅÁªôÂàÜÂå∫Âô® &lt;code>Partitioner&lt;/code>ÔºåÂ¶ÇÊûúÊåáÂÆö‰∫ÜÂàÜÂå∫Ôºå‰ºöÁõ¥Êé•ËøîÂõûÔºõÊ≤°ÊúâÊåáÂÆöÔºåÊ†πÊçÆ Key ÈÄâÊã©‰∏Ä‰∏™ÂàÜÂå∫ÔºõÊ≤°ÊúâÊåáÂÆö KeyÔºå‰ºöÊ†πÊçÆ Value ËøõË°åÊï£ÂàóÔºåÊ†πÊçÆÊï£ÂàóÂÄºÊääÊ∂àÊÅØÊò†Â∞ÑÂà∞Áõ∏Â∫îÁöÑÂàÜÂå∫&lt;/li>
&lt;li>üß© ËøôÊù°ËÆ∞ÂΩïÈÄâÂ•ΩÂàÜÂå∫ÂêéÔºå‰ºöË¢´Ê∑ªÂä†Âà∞‰∏Ä‰∏™ËÆ∞ÂΩïÊâπÊ¨°‰∏≠ÔºåËøô‰∏™ÊâπÊ¨°ÁöÑÊâÄÊúâÊ∂àÊÅØ‰ºöË¢´ÂèëÈÄÅÂà∞Áõ∏ÂêåÁöÑ‰∏ªÈ¢òÂíåÂàÜÂå∫‰∏äÔºàÊâπÂ§ÑÁêÜÔºâÔºåÁã¨Á´ãÁöÑ &lt;code>Processer&lt;/code> Á∫øÁ®ã‰ºöË¥üË¥£ÊääËøô‰∫õÊï∞ÊçÆÂèëÈÄÅÂà∞ÂØπÂ∫îÁöÑ broker ‰∏ä&lt;/li>
&lt;li>üß© Broker Êî∂Âà∞Ê∂àÊÅØÊó∂‰ºöËøîÂõû‰∏Ä‰∏™ÂìçÂ∫î
&lt;ul>
&lt;li>Ê∂àÊÅØÊàêÂäüÂÜôÂÖ• KafkaÔºåËøîÂõû‰∏Ä‰∏™ &lt;code>RecordMetaData&lt;/code> ÂØπË±°ÔºåÂåÖÂê´‰∏ªÈ¢òÂíåÂàÜÂå∫ÁöÑ‰ø°ÊÅØ&lt;/li>
&lt;li>ÂÜôÂÖ•Â§±Ë¥•Ôºå‰ºöËøîÂõû‰∏Ä‰∏™ÈîôËØØÔºåÁîü‰∫ßËÄÖÊî∂Âà∞ÈîôËØØ‰πãÂêé‰ºöÂ∞ùËØïÈáçÊñ∞ÂèëÈÄÅÔºåÂ§öÊ¨°Â§±Ë¥•Áõ¥Êé•ËøîÂõûÈîôËØØ‰ø°ÊÅØ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/kafka/operation/producer.webp"
width="780"
height="678"
srcset="https://emerywan.github.io/blog/blog/p/kafka/operation/producer_huebfba9d061e763283d9c37fc8487b94d_24528_480x0_resize_q75_h2_box_2.webp 480w, https://emerywan.github.io/blog/blog/p/kafka/operation/producer_huebfba9d061e763283d9c37fc8487b94d_24528_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="115"
data-flex-basis="276px"
>&lt;/p>
&lt;h4 id="ÈáçË¶ÅÈÖçÁΩÆ">ÈáçË¶ÅÈÖçÁΩÆ&lt;/h4>
&lt;ul>
&lt;li>
&lt;p>&lt;code>acks&lt;/code>&lt;/p>
&lt;p>ÊåáÂÆö‰∫ÜÂøÖÈ°ªË¶ÅÊúâÂ§öÂ∞ë‰∏™ÂàÜÂå∫ÂâØÊú¨Êî∂Âà∞Ê∂àÊÅØÔºåÁîü‰∫ßËÄÖÊâç‰ºö‰ªªÂä°Ê∂àÊÅØÂÜôÂÖ•Êó∂ÊàêÂäüÁöÑ&lt;/p>
&lt;ul>
&lt;li>&lt;code>acks=0&lt;/code> ‰∏ç‰ºöÁ≠âÂæÖ‰ªªÂä°Êù•Ëá™ÊúçÂä°Âô®ÁöÑÂìçÂ∫î„ÄÇËææÂà∞ÊúÄÈ´òÁöÑÂêûÂêêÈáèÔºåÊó†Ê≥ïÂæóÁü•Ê∂àÊÅØÁä∂ÊÄÅ„ÄÇ&lt;/li>
&lt;li>&lt;code>acks=1&lt;/code> Âè™Ë¶Å Partition Leader Êî∂Âà∞ÂìçÂ∫î„ÄÇÊ∂àÊÅØÂèØËÉΩ‰ºö‰∏¢Â§±ÔºåLeaderÂÆïÊú∫ÂêéÔºå‰∏Ä‰∏™Êú™ÂêåÊ≠•ÁöÑFllowerÊàê‰∏∫Êñ∞ÁöÑLeader„ÄÇ&lt;/li>
&lt;li>&lt;code>acks=all&lt;/code> Ê∂àÊÅØË¶ÅÂÖ®ÈÉ®ÂêåÊ≠•Âà∞ÊâÄÊúâÁöÑ Leader&amp;amp;Fllower„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;code>retries&lt;/code>&lt;/p>
&lt;p>Áîü‰∫ßËÄÖÂèØ‰ª•ÈáçÂèëÊ∂àÊÅØÁöÑÊ¨°Êï∞&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>max.in.flight.requests.per.connection&lt;/code>&lt;/p>
&lt;p>Áîü‰∫ßËÄÖÂú®Êî∂Âà∞ÊúçÂä°Âô®ÂìçÂ∫îÂâçÂèØ‰ª•ÂèëÈÄÅÂ§öÂ∞ë‰∏™Ê∂àÊÅØ„ÄÇ&lt;/p>
&lt;p>Kafka ÂèØ‰ª•‰øùËØÅÂêå‰∏Ä‰∏™ÂàÜÂå∫ÈáåÁöÑÊ∂àÊÅØÊòØÊúâÂ∫èÁöÑÔºå&lt;code>max.in.flight.requests.per.connection=1&lt;/code>ÔºåÂç≥‰ΩøÂèëÈÄÅ‰∫ÜÈáçËØïÔºåÊ∂àÊÅØ‰æùÊóßÊúâÂ∫èÔºå‰ΩÜÊòØ‰ºö‰∏•ÈáçÂΩ±ÂìçÁîü‰∫ßËÄÖÁöÑÂêûÂêêÈáè„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-ÂêåÊ≠•ÂèëÈÄÅ">üêà‚Äç‚¨õ ÂêåÊ≠•ÂèëÈÄÅ&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="n">Future&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">RecordMetadata&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nf">send&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ProducerRecord&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">K&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">V&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">record&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>‰ΩøÁî® &lt;code>send()&lt;/code> ÊñπÊ≥ïÂèëÈÄÅÊ∂àÊÅØÔºå‰ºöËøîÂõû‰∏Ä‰∏™ Future ÂØπË±°ÔºåË∞ÉÁî® &lt;code>get()&lt;/code> ÊñπÊ≥ïËøõË°åÁ≠âÂæÖÔºåÂ∞±ÂèØ‰ª•Áü•ÈÅìÊ∂àÊÅØÊòØÂê¶ÂèëÈÄÅÊàêÂäü„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Áõ∏ÂÖ≥ÈÖçÁΩÆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="n">bootstrapServers&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;127.0.0.1:9092&amp;#34;&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Properties&lt;/span> &lt;span class="n">properties&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Properties&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">properties&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setProperty&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ProducerConfig&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">BOOTSTRAP_SERVERS_CONFIG&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">bootstrapServers&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">properties&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setProperty&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ProducerConfig&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">KEY_SERIALIZER_CLASS_CONFIG&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">StringSerializer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="o">());&lt;/span> &lt;span class="c1">// Â∫èÂàóÂåñÊñπÂºè
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">properties&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setProperty&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ProducerConfig&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">VALUE_SERIALIZER_CLASS_CONFIG&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">StringSerializer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ÂàõÂª∫ Producer
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">KafkaProducer&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">producer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">KafkaProducer&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;(&lt;/span>&lt;span class="n">properties&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ÂàõÂª∫Ê∂àÊÅØ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">ProducerRecord&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">producerRecord&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ProducerRecord&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;(&lt;/span>&lt;span class="s">&amp;#34;demo_topic&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s">&amp;#34;hello world!&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ÂèëÈÄÅÊ∂àÊÅØ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">producer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">send&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">record&lt;/span>&lt;span class="o">).&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// get() ÂêåÊ≠•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Exception&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="c1">// ÂèëÁîü‰∫ÜÊó†Ê≥ïËß£ÂÜ≥ÁöÑÈîôËØØ Êàñ ÈáçËØïË∂ÖËøáÊúÄÂ§ßÊ¨°Êï∞
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="-ÂºÇÊ≠•ÂèëÈÄÅ">üêÖ ÂºÇÊ≠•ÂèëÈÄÅ&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="n">Future&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">RecordMetadata&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nf">send&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ProducerRecord&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">K&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">V&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">record&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Callback&lt;/span> &lt;span class="n">callback&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ë∞ÉÁî® &lt;code>send()&lt;/code> ÊñπÊ≥ïÔºåÂπ∂ÊåáÂÆö‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞ÔºåÊúçÂä°Âô®Âú®ËøîÂõûÂìçÂ∫îÊó∂Ë∞ÉÁî®ËØ•ÂáΩÊï∞„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">producer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">send&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">producerRecord&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Callback&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">onCompletion&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">RecordMetadata&lt;/span> &lt;span class="n">recordMetadata&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Exception&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÂèëÈÄÅÂ§±Ë¥•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ÂØπÂ∫îÁöÑ‰∏öÂä°Â§ÑÁêÜÈÄªËæë
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="-Â∫èÂàóÂåñÂô®">üêÜ Â∫èÂàóÂåñÂô®&lt;/h3>
&lt;p>Â∏∏ËßÅÁöÑÂ∫èÂàóÂåñ&amp;amp;ÂèçÂ∫èÂàóÂåñÂô®Êúâ Avro„ÄÅThrift„ÄÅProtobuf Á≠â„ÄÇ&lt;/p>
&lt;p>Apache &lt;a class="link" href="https://zhuanlan.zhihu.com/p/370519371" target="_blank" rel="noopener"
>Avro&lt;/a> ÊòØ‰∏ÄÁßç‰∏éÁºñÁ®ãËØ≠Ë®ÄÊó†ÂÖ≥ÁöÑÂ∫èÂàóÂåñÊ†ºÂºè„ÄÇ&lt;/p>
&lt;p>Avro ÈÄöËøá‰∏éËØ≠Ë®ÄÊó†ÂÖ≥ÁöÑ schema Êù•ÂÆö‰πâÔºå‰ΩøÁî® JSON Êù•ÊèèËø∞ÔºåÊï∞ÊçÆ‰ºöË¢´Â∫èÂàóÂåñ‰∏∫‰∫åËøõÂà∂Êñá‰ª∂Êàñ JSON Êñá‰ª∂„ÄÇ&lt;/p>
&lt;p>Êª°Ë∂≥ Avro ÂÖºÂÆπÂéüÂàô‰∏ãÔºåÂÜôÂÖ•ÁöÑÊ∂àÊÅØÊîπÂä® schema ÂÜôÂÖ•‰∫ÜÊñ∞ÁöÑÊï∞ÊçÆÔºåË¥üË¥£ËØªÊ∂àÊÅØÁöÑÂ∫îÁî®Á®ãÂ∫èÂèØ‰ª•ÁªßÁª≠Â§ÑÁêÜËÄåÊó†ÈúÄÂÅö‰ªª‰ΩïÊõ¥Êîπ„ÄÇ&lt;/p>
&lt;h3 id="-ÂàÜÂå∫">üêï ÂàÜÂå∫&lt;/h3>
&lt;p>&lt;code>ProducerRecord&lt;/code> ÂØπË±°ÂèØ‰ª•ÂåÖÂê´ topic„ÄÅpartition„ÄÅkey„ÄÅvalue Á≠âÔºåÈÄöÂ∏∏Êàë‰ª¨‰ºöÊåáÂÆö keyÔºå‰Ωú‰∏∫ÈôÑÂä†Ê∂àÊÅØÔºåÂÜ≥ÂÆöÊ∂àÊÅØËØ•Ë¢´ÂÜôÂÖ•Âì™‰∏™ÂàÜÂå∫ÔºåÊã•ÊúâÁõ∏Âêå key ÁöÑÊ∂àÊÅØ‰ºöË¢´ÂÜôÂÖ•Âêå‰∏Ä‰∏™ÂàÜÂå∫„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// topic: CustomerCountry
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// key: Laboratory Equipment
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// value: USA
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">ProducerRecord&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">record&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ProducerRecord&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;(&lt;/span>&lt;span class="s">&amp;#34;CustomerConuntry&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s">&amp;#34;Laboratory Equipment&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s">&amp;#34;USA&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ÂàõÂª∫ key-&amp;gt;null ÁöÑÊ∂àÊÅØ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">ProducerRecord&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">record&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ProducerRecord&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;(&lt;/span>&lt;span class="s">&amp;#34;CustomerCountry&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s">&amp;#34;USA&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÂΩì key ‰∏∫ null Êó∂ÔºåKafka ‰ºöÂØπÈîÆËøõË°åÊï£ÂàóÔºàKafka Ëá™Â∑±ÁöÑÊï£ÂàóÁÆóÊ≥ïÔºâÔºåÁÑ∂ÂêéÊ†πÊçÆÊï£ÂàóÂÄºÊò†Â∞ÑÂà∞ÁâπÊÆäÁöÑÂàÜÂå∫„ÄÇ&lt;/p>
&lt;h4 id="Ëá™ÂÆö‰πâÂàÜÂå∫Á≠ñÁï•">Ëá™ÂÆö‰πâÂàÜÂå∫Á≠ñÁï•&lt;/h4>
&lt;p>ÈÄöËøáÂÆûÁé∞ &lt;code>interface Partitioner&lt;/code> ÂÆûÁé∞Ëá™ÂÆö‰πâÂàÜÂå∫Á≠ñÁï•Ôºå‰∏ªË¶ÅÂåÖÂê´Ôºö&lt;/p>
&lt;ul>
&lt;li>&lt;code>void configure(Map&amp;lt;String, ?&amp;gt; configs)&lt;/code>
&lt;ul>
&lt;li>ÂÆûÈôÖÂ∫îÁî®‰∏≠ÔºåÂ∫îÈÄöËøáËØ•ÊñπÊ≥ï‰º†ÂÖ•Áõ∏ÂÖ≥‰ø°ÊÅØ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>void partition(String topic, Object key, byte[] keyBytes, Object value, byte[] valueBytes, Cluster cluster)&lt;/code>&lt;/li>
&lt;li>&lt;code>void close()&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">BananaPartitioner&lt;/span> &lt;span class="kd">implements&lt;/span> &lt;span class="n">Partitioner&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">configure&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Map&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="o">?&amp;gt;&lt;/span> &lt;span class="n">configs&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Ëá™ÂÆö‰πâÂàÜÂå∫Á≠ñÁï•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">partition&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="n">topic&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Object&lt;/span> &lt;span class="n">key&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kt">byte&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">keyBytes&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Object&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kt">byte&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">valueBytes&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Cluster&lt;/span> &lt;span class="n">cluster&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">PartitionInfo&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">partitions&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">cluster&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">partitionsForTopic&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">topic&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">numPartitions&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">partition&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">size&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">((&lt;/span>&lt;span class="n">keyBytes&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="o">(!(&lt;/span>&lt;span class="n">key&lt;/span> &lt;span class="n">instanceOf&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="o">)))&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">InvalidRecordException&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;We expect all messages to have customer name as key&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(((&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="n">key&lt;/span>&lt;span class="o">).&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Banana&amp;#34;&lt;/span>&lt;span class="o">))&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="c1">// Banana ÊÄªÊòØË¢´ÂàÜÈÖçÂà∞ÊúÄÂêé‰∏Ä‰∏™ÂàÜÂå∫
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">numPartitions&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÂÖ∂ÂÆÉËÆ∞ÂΩïË¢´Êï£ÂàóÂà∞ÂÖ∂‰ªñÂàÜÂå∫
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="o">((&lt;/span>&lt;span class="n">Math&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">abs&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Utils&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">murmur2&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">keyBytes&lt;/span>&lt;span class="o">)))&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">numPartitions&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">1&lt;/span>&lt;span class="o">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">close&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="-consumer">üëå Consumer&lt;/h2>
&lt;h3 id="-Ê∂àË¥πËÄÖÁªÑ">ü¶ú Ê∂àË¥πËÄÖÁªÑ&lt;/h3>
&lt;h3 id="-Ê∂àÊÅØËΩÆËØ¢">ü¶ö Ê∂àÊÅØËΩÆËØ¢&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ÈÖçÁΩÆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="n">bootstrapServers&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;127.0.0.1:9092&amp;#34;&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">String&lt;/span> &lt;span class="n">groupId&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;demo_groupId&amp;#34;&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">String&lt;/span> &lt;span class="n">topic&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;demo_topic&amp;#34;&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Properties&lt;/span> &lt;span class="n">properties&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Properties&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">properties&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setProperty&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ConsumerConfig&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">BOOTSTRAP_SERVERS_CONFIG&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">bootstrapServers&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">properties&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setProperty&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ConsumerConfig&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">KEY_DESERIALIZER_CLASS_CONFIG&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">StringDeserializer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">properties&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setProperty&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ConsumerConfig&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">VALUE_DESERIALIZER_CLASS_CONFIG&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">StringDeserializer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">properties&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setProperty&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ConsumerConfig&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">GROUP_ID_CONFIG&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">groupId&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">properties&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setProperty&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ConsumerConfig&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">AUTO_OFFSET_RESET_CONFIG&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s">&amp;#34;earliest&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ÂàõÂª∫Ê∂àË¥πËÄÖ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">KafkaConsumer&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">consumer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">KafkaConsumer&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;(&lt;/span>&lt;span class="n">properties&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ËÆ¢ÈòÖ‰∏ªÈ¢ò
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">consumer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">subscribe&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Arrays&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">asList&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">topic&lt;/span>&lt;span class="o">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ËΩÆËØ¢
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">while&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="o">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ConsumerRecords&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">records&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">consumer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">poll&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Duration&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">ofMillis&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">100&lt;/span>&lt;span class="o">));&lt;/span> &lt;span class="c1">// 100 -&amp;gt; Ë∂ÖÊó∂Êó∂Èó¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">ConsumerRecord&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">record&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">records&lt;/span>&lt;span class="o">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ‰∏öÂä°Â§ÑÁêÜ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">info&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Key: &amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">record&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">key&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;, Value: &amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">record&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">value&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">info&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Partition: &amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">record&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">partition&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;, Offset:&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">record&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">offset&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ê∂àÊÅØËΩÆËØ¢ÊòØÊ∂àË¥πËÄÖ API ÁöÑÊ†∏ÂøÉÔºå‰∏ÄÊó¶Ê∂àË¥πËÄÖËÆ¢ÈòÖÁöÑ‰∏ªÈ¢òÔºåËΩÆËØ¢‰ºöÂ§ÑÁêÜÊâÄÊúâÁöÑÁªÜËäÇ„ÄÇ
&lt;code>poll()&lt;/code> ‰ºöË¥üË¥£Êü•Êâæ GroupCordinatorÔºåÂä†ÂÖ•Áæ§ÁªÑÔºåÊé•ÂèóÂàÜÈÖçÁöÑÂàÜÂå∫ÔºåÂèëÈÄÅÂøÉË∑≥ÂíåËé∑ÂèñÊï∞ÊçÆ„ÄÇÂ¶ÇÊûúÂèëÁîü‰∫ÜÂÜçÂùáË°°Ôºå‰πüÊòØËøô‰∏™ËΩÆËØ¢ÊúüÈó¥ËøõË°åÁöÑ„ÄÇ&lt;/p>
&lt;p>‚ö†Ô∏è Ê∂àË¥πËÄÖÁªÑ‰∏≠ÁöÑ‰∏Ä‰∏™Ê∂àË¥πËÄÖÂè™ËÉΩËøêË°åÂú®‰∏Ä‰∏™Á∫øÁ®ã‰∏≠„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÂ§ö‰∏™Á∫øÁ®ãÂ§ÑÁêÜ‰∏Ä‰∏™ Patition ‰∏≠ÁöÑÊ∂àÊÅØÔºåÂèØ‰ª•Â∞ÜËøô‰∏™Ê∂àË¥πËÄÖËé∑ÂèñÁöÑ‰∏ÄÊâπÊï∞ÊçÆÔºåÂèØ‰ª•‰ΩøÁî® ExecutorService ÂêØÂä®Â§ö‰∏™Á∫øÁ®ãÂ§ÑÁêÜ„ÄÇ&lt;/p>
&lt;h3 id="-ÂÅèÁßªÈáè">ü¶â ÂÅèÁßªÈáè&lt;/h3>
&lt;p>Kafka ‰ΩøÁî®ÂÅèÁßªÈáè offset ËøΩË∏™Ê∂àÊÅØÂú®ÂàÜÂå∫‰∏≠ÁöÑ‰ΩçÁΩÆ„ÄÇ&lt;/p>
&lt;p>Consumer Âêë‰∏Ä‰∏™ÁâπÊÆäÁöÑ‰∏ªÈ¢ò &lt;code>_consumer_offset&lt;/code> ÂèëÈÄÅÊ∂àÊÅØÔºåÊõ¥Êñ∞ÂàÜÂå∫ÂΩìÂâçÁöÑ‰ΩçÁΩÆ„ÄÇ&lt;/p>
&lt;ul>
&lt;li>Â¶ÇÊûúÊèê‰∫§ÁöÑ offset„ÄåÂ∞è‰∫é„ÄçÂÆ¢Êà∑Á´ØÂ§ÑÁêÜÁöÑÊúÄÂêé‰∏Ä‰∏™Ê∂àÊÅØÂÅèÁßªÈáèÔºåÈÇ£‰πà„Äå‰∏§‰∏™ÂÅèÁßªÈáè‰πãÈó¥ÁöÑÊ∂àÊÅØ‰ºöË¢´ÈáçÂ§çÂ§ÑÁêÜ„Äç&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/kafka/operation/offset1.png"
width="978"
height="422"
srcset="https://emerywan.github.io/blog/blog/p/kafka/operation/offset1_hu7de55e7adbd4de02cc42f3a04ca7fa88_35082_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/kafka/operation/offset1_hu7de55e7adbd4de02cc42f3a04ca7fa88_35082_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="231"
data-flex-basis="556px"
>&lt;/p>
&lt;ul>
&lt;li>Â¶ÇÊûúÊèê‰∫§ÁöÑ offset„ÄåÂ§ß‰∫é„ÄçÂÆ¢Êà∑Á´ØÂ§ÑÁêÜÁöÑÊúÄÂêé‰∏Ä‰∏™Ê∂àÊÅØÂÅèÁßªÈáèÔºåÈÇ£‰πà„Äå‰∏§‰∏™ÂÅèÁßªÈáè‰πãÈó¥ÁöÑÊ∂àÊÅØ‰ºö‰∏¢Â§±„Äç&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/kafka/operation/offset2.png"
width="979"
height="485"
srcset="https://emerywan.github.io/blog/blog/p/kafka/operation/offset2_hu389bebeaa08efdc7ddfc7a71cffd3a76_34010_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/kafka/operation/offset2_hu389bebeaa08efdc7ddfc7a71cffd3a76_34010_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="201"
data-flex-basis="484px"
>&lt;/p>
&lt;h4 id="Ëá™Âä®Êèê‰∫§">Ëá™Âä®Êèê‰∫§&lt;/h4>
&lt;p>Â¶ÇÊûú &lt;code>enable.auto.commit = true&lt;/code>ÔºåÊ∂àË¥πËÄÖ‰ºöËá™Âä®Êää‰ªé &lt;code>poll()&lt;/code> ÊñπÊ≥ïÊé•Êî∂Âà∞ÁöÑÊúÄÂ§ßÂÅèÁßªÈáèÊèê‰∫§‰∏äÂéª„ÄÇÊèê‰∫§ÁöÑÊó∂Èó¥Èó¥ÈöîÁî± &lt;code>auto.commit.interval.ms&lt;/code> ÊéßÂà∂ÔºåÈªòËÆ§‰∏∫ 5s„ÄÇ&lt;/p>
&lt;p>Ëá™Âä®Êèê‰∫§ÂèëÁîüÂú®ÊØèÊ¨°ËΩÆËØ¢Êó∂ÔºåÂ¶ÇÊûúÊ≤°ÊúâÊèê‰∫§ÂÅèÁßªÈáèÔºå‰ºöÊää‰∏ä‰∏ÄÊ¨°Ë∞ÉÁî®ËøîÂõûÁöÑÂÅèÁßªÈáèÊèê‰∫§‰∏äÂéªÔºå„Äå‰∏çËÉΩ‰øùËØÅËøô‰∫õÊ∂àÊÅØÂ∑≤ÁªèË¢´‰∏öÂä°Â§ÑÁêÜ‰∫Ü„Äç„ÄÇ&lt;/p>
&lt;p>‚ö†Ô∏è Â¶ÇÊûúËÆæÁΩÆÈªòËÆ§Êèê‰∫§Êó∂Èó¥‰∏∫ 5sÔºåÂú®Êèê‰∫§Âêé 3s ÂèëÁîü‰∫ÜÂÜçÂùáË°°Ôºå‰πãÂêéÁöÑÊ∂àË¥πËÄÖ‰ºöÂÜçÊ¨°Ëé∑ÂèñÂà∞ 3s ÂâçÊèê‰∫§ÁöÑÂÅèÁßªÈáèÔºåËøô‰∫õÊ∂àÊÅØ‰ºöË¢´ÈáçÂ§çÂ§ÑÁêÜÔºå„ÄåÊó†Ê≥ïÈÅøÂÖçËøôÁßçÊÉÖÂÜµ„ÄçÔºåÂè™ËÉΩÁº©Â∞èÊèê‰∫§ÁöÑÊó∂Èó¥Èó¥ÈöîÊõ¥È¢ëÁπÅÂú∞Êèê‰∫§ offsetÔºå„ÄåKafka ‰πüÊ≤°Êúâ‰∏∫Ëá™Âä®Êèê‰∫§È¢ÑÁïôÈÅøÂÖçÈáçÂ§çÂ§ÑÁêÜÊ∂àÊÅØÁöÑÊñπÊ≥ï„Äç„ÄÇ&lt;/p>
&lt;p>ÈÄÇÂêà‰∫é‰∏çÈáçË¶ÅÁöÑÊ∂àÊÅØÂú∫ÊôØÔºåÂ¶ÇÊó•ÂøóÈááÈõÜ„ÄÇ&lt;/p>
&lt;h4 id="ÂêåÊ≠•Êèê‰∫§">ÂêåÊ≠•Êèê‰∫§&lt;/h4>
&lt;p>ËÆæÁΩÆ &lt;code>auto.commit.offset = false&lt;/code>ÔºåÂèØ‰ª•ËÆ©Â∫îÁî®Á®ãÂ∫èÂÜ≥ÂÆöÂú®‰ªÄ‰πàÊó∂ÂÄôÊèê‰∫§ÂÅèÁßªÈáè„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="k">while&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ConsumerRecords&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">records&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">consumer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">poll&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">100&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">ConsumerRecord&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">record&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">records&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Â§ÑÁêÜ‰∏öÂä°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">consumer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">commitSync&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// ÊâãÂä®Êèê‰∫§
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">CommitFailedException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">error&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;commit failed&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Âè™Ë¶ÅÊ≤°ÊúâÂèëÁîü‰∏çÂèØÊÅ¢Â§çÁöÑÈîôËØØÔºå&lt;code>commitSync()&lt;/code> ÊñπÊ≥ï‰ºö„Äå‰∏ÄÁõ¥Â∞ùËØïÁõ¥Âà∞Êèê‰∫§ÊàêÂäü‰∏∫Ê≠¢„Äç„ÄÇÂ¶ÇÊûúÊèê‰∫§Â§±Ë¥•ÔºåÂàôÊäõÂá∫ÂºÇÂ∏∏„ÄÇ&lt;/p>
&lt;h4 id="ÂºÇÊ≠•Êèê‰∫§">ÂºÇÊ≠•Êèê‰∫§&lt;/h4>
&lt;p>‰ΩøÁî®ÂºÇÊ≠•Êèê‰∫§ APIÔºåÂè™ÁÆ°ÂèëÈÄÅÊèê‰∫§ËØ∑Ê±ÇÔºåÊó†ÈúÄÁ≠âÂæÖ Broker ÁöÑÂìçÂ∫î„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">consumer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">commitAsync&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÂêåÊ≠•Êèê‰∫§ &lt;code>commitSync()&lt;/code> ‰ºö‰∏ÄÁõ¥ÈáçËØïÔºå‰ΩÜÊòØÂºÇÊ≠•Êèê‰∫§ &lt;code>commitAsync()&lt;/code>„Äå‰∏ç‰ºöÈáçËØï„Äç„ÄÇ‰∏çËøõË°åÈáçËØïÔºåÊòØÂõ†‰∏∫Âú®Êî∂Âà∞ÊúçÂä°Âô®ÂìçÂ∫îÁöÑÊó∂ÂÄôÔºåÂèØËÉΩÊúâ‰∏Ä‰∏™Êõ¥Â§ßÁöÑ offset Â∑≤ÁªèÊèê‰∫§ÊàêÂäü„ÄÇ&lt;/p>
&lt;p>ÂºÇÊ≠•Êèê‰∫§ÂêåÊ†∑ÊîØÊåÅÂõûË∞É„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">consumer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">commitAsync&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="n">OffsetCommitCallback&lt;/span>&lt;span class="o">())&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">onComplete&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Map&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">TopicPartition&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">OffsetAndMetadata&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">offsets&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Exception&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÂºÇÊ≠•Êèê‰∫§Â§±Ë¥•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ... ‰∏öÂä°Â§ÑÁêÜ / ÈáçËØï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÂºÇÊ≠•Êèê‰∫§ÈáçËØïÔºåÂèØ‰ª•‰ΩøÁî®‰∏Ä‰∏™ÂçïË∞ÉÈÄíÂ¢ûÁöÑÂ∫èÂàóÂè∑Áª¥Êä§ÂºÇÊ≠•Êèê‰∫§ÁöÑÈ°∫Â∫è„ÄÇÂú®ËøõË°åÈáçËØïÂâçÔºåÂÖàÊ£ÄÊü•ÂõûË∞ÉÂ∫èÂàóÂè∑‰∏éÁª¥Êä§ÁöÑÂ∫èÂàóÂè∑ÁöÑÂ§ßÂ∞èÔºåÂ¶ÇÊûúÂõûË∞ÉÂ∫èÂàóÂè∑ËæÉÂ§ßÔºåËØ¥ÊòéÊúâ‰∏Ä‰∏™Êñ∞ÁöÑÊèê‰∫§Â∑≤ÁªèÂèëÈÄÅÔºå‰∏çÂ∫îËØ•ÈáçËØï„ÄÇ&lt;/p>
&lt;h4 id="ÁªÑÂêàÊèê‰∫§">ÁªÑÂêàÊèê‰∫§&lt;/h4>
&lt;p>‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÂÅ∂Â∞îÁöÑÊèê‰∫§Â§±Ë¥•‰∏çËøõË°åÈáçËØïÊ≤°ÊúâÂ§™Â§ßÈóÆÈ¢òÔºåÂè™Ë¶ÅÂêéÁª≠ÊúâÊõ¥Â§ßÁöÑ offset ÊàêÂäüÊèê‰∫§ÔºåÂ∞±‰∏ç‰ºöÊúâÈóÆÈ¢ò„ÄÇ&lt;/p>
&lt;p>ÊâÄ‰ª•ÔºåÂú®Ê∂àË¥πËÄÖÂÖ≥Èó≠ÂâçÔºåÂèØ‰ª•ÁªÑÂêà‰ΩøÁî®‰∏§ÁßçÊèê‰∫§ÊñπÂºè„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Ê∂àË¥πÊ∂àÊÅØ‰∏öÂä°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">comsumer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">commitAsync&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// ÂºÇÊ≠•Êèê‰∫§
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Exception&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">error&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Unexpected error&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span> &lt;span class="k">finally&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">consumer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">commitSync&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// ÂêåÊ≠•Ôºå‰ºö‰∏çÊñ≠ÈáçËØï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span> &lt;span class="k">finally&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">consumer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">close&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="Êèê‰∫§ÁâπÂÆöÂÅèÁßªÈáè">Êèê‰∫§ÁâπÂÆöÂÅèÁßªÈáè&lt;/h4>
&lt;p>ÊØèÊ¨°Ê∂àË¥πËÄÖ &lt;code>poll()&lt;/code> ÁöÑÈÉΩÊòØ‰∏ÄÊâπÊï∞ÊçÆÔºå&lt;code>commitSync() / commitAsync()&lt;/code> ÊØèÊ¨°Êèê‰∫§ÈÉΩÊòØËøô‰∏™ÊâπÊ¨°ÊúÄÂêéÁöÑ offsetÔºåÂ¶ÇÊûúÊÉ≥Ë¶ÅÂú®ÊâπÊ¨°‰∏≠Èó¥Êèê‰∫§ÂÅèÁßªÈáèÔºåÂèØ‰ª•‰º†ÂÖ•„ÄåÂ∏åÊúõÊèê‰∫§ÁöÑÂàÜÂå∫ÂíåÂÅèÁßªÈáèÁöÑ map„Äç„ÄÇ&lt;/p>
&lt;p>‰ΩÜÊòØÔºåÊ∂àË¥πËÄÖÂèØËÉΩ‰∏çÁü•ËØªÂèñ‰∏Ä‰∏™ÂàÜÂå∫ÔºåËøôÊ†∑ÂÅöÈúÄË¶Å„ÄåË∑üË∏™ÊâÄÊúâÂàÜÂå∫ÁöÑÂÅèÁßªÈáè„ÄçÔºåÈÄöÂ∏∏‰ºö‰Ωø‰ª£Á†ÅÂèòÂæóÂæàÂ§çÊùÇ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">private&lt;/span> &lt;span class="n">Map&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">TopicPartition&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">OffsetAndMetadata&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">currentOffsets&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">HashMap&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">while&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ConsumerRecords&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">records&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">consumer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">poll&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">100&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// ÂÅáËÆæÊØè‰∏™ÊâπÊ¨° 10000 Êù°Êï∞ÊçÆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">ConsumerRecord&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">record&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">records&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ‰∏öÂä°Â§ÑÁêÜ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">currentOffsets&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">put&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="n">TopicPartition&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">record&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">topic&lt;/span>&lt;span class="o">(),&lt;/span> &lt;span class="n">record&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">partition&lt;/span>&lt;span class="o">()),&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">OffsetAndMetadata&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">record&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">offset&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s">&amp;#34;no metadata&amp;#34;&lt;/span>&lt;span class="o">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">count&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">1000&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="c1">// Âú®ÊØè‰∏™ÊâπÊ¨°‰∏≠ÔºåÊ≤°Â§ÑÁêÜ 1000 Êù°Êï∞ÊçÆÊèê‰∫§‰∏ÄÊ¨° offset
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">consumer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">commitAsync&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">currentOffsets&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">count&lt;/span>&lt;span class="o">++;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="-ÁâπÂÆöoffsetÂºÄÂßãÂ§ÑÁêÜ">ü¶© ÁâπÂÆöoffsetÂºÄÂßãÂ§ÑÁêÜ&lt;/h3>
&lt;p>Â¶ÇÊûúÊÉ≥Ë¶Å‰ªéÂàÜÂå∫ÁöÑËµ∑Âßã/Êú´Â∞æ‰ΩçÁΩÆËØªÂèñÊ∂àÊÅØÔºåÂèØ‰ª•Áõ¥Êé•‰ΩøÁî® &lt;code>seekToBeginning(Collection&amp;lt;TopicPartition&amp;gt; tp)&lt;/code> Âíå &lt;code>seekToEnd(Collection&amp;lt;TopicPartition&amp;gt;)&lt;/code>&lt;/p>
&lt;p>ÊúâÊó∂ÔºåÂú®‰∏öÂä°‰∏äÈúÄË¶Å‰ªéÁâπÂÆöÁöÑ offset ÂºÄÂßãËØªÂèñÊ∂àÊÅØÔºåÂèØ‰ª•‰ΩøÁî® &lt;code>seek()&lt;/code> ËøõË°åÊü•Êâæ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// class KafkaConsumer
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">seek&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">TopicPartition&lt;/span> &lt;span class="n">partition&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="n">offset&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">seek&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">TopicPartition&lt;/span> &lt;span class="n">partition&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">OffsetAndMetadata&lt;/span> &lt;span class="n">offsetAndMetadata&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÊØîÂ¶ÇÂú®‰∏Ä‰∫õ‰∏öÂä°‰∏≠ÔºåÂØπÊâÄÊúâÁöÑÊìç‰ΩúÈÉΩË¶ÅËøõË°åÂ§ÑÁêÜÔºå‰∏çËÉΩ‰∏¢Â§±Ê∂àÊÅØÔºåÂ§ÑÁêÜÊ∂àÂ§±ÂêéË¶ÅÂ∞ÜÁªìÊûúËÆ∞ÂΩïÂà∞Êï∞ÊçÆÂ∫ì„ÄÅNoSQL Â≠òÂÇ®ÂºïÊìéÁ≠âÂú∞ÊñπÔºåÈúÄË¶ÅÂ∞Ü„Äå‰øùÂ≠òËÆ∞ÂΩï„Äç„ÄåÂÅèÁßªÈáè„ÄçÊîæÂú®‰∏Ä‰∏™ÂéüÂ≠êÊìç‰ΩúÈáåÂÆåÊàêÔºåË¶Å‰πàÂÖ®ÈÉ®ÊàêÂäüÔºåË¶Å‰πàÂÖ®ÈÉ®Â§±Ë¥•„ÄÇÂèØ‰ª•Â∞ÜËÆ∞ÂΩïÂíåÂÅèÁßªÈáèÈÉΩ‰øùÂ≠òÂú®Êï∞ÊçÆÂ∫ì‰∏≠ÔºåÁî®‰∏Ä‰∏™‰∫ãÂä°Êìç‰ΩúÔºå‰øùËØÅÂéüÂ≠êÊÄß„ÄÇÂΩìÊ∂àË¥πËÄÖÂàÜÈÖçÊñ∞ÂàÜÂå∫Êó∂ÔºåÂ∞±ÂèØ‰ª•‰ΩøÁî® &lt;code>seek()&lt;/code> Êü•Êâæ‰øùÂ≠òÂú®Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊåáÂÆöoffet‰∫ÜÔºå‰∏ç‰ºö‰∏¢Â§±Êï∞ÊçÆÂíåÈáçÂ§çÂ§ÑÁêÜ„ÄÇ&lt;/p>
&lt;h2 id="-connect">üñáÔ∏è Connect&lt;/h2>
&lt;h2 id="-stream">üí¶ Stream&lt;/h2>
&lt;!-- raw HTML omitted --></description></item><item><title>InnoDB ÁºìÂÜ≤Ê±† Buffer Pool</title><link>https://emerywan.github.io/blog/p/mysql/innodb/buffer-pool/</link><pubDate>Tue, 07 Mar 2023 18:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/mysql/innodb/buffer-pool/</guid><description>&lt;img src="https://emerywan.github.io/blog/p/mysql/innodb/buffer-pool/bufferpool.webp" alt="Featured image of post InnoDB ÁºìÂÜ≤Ê±† Buffer Pool" />&lt;h2 id="-buffer-pool">üßä Buffer Pool&lt;/h2>
&lt;p>MySQL ÁöÑÊï∞ÊçÆÊòØÂ≠òÂÇ®Âú®Á£ÅÁõò‰∏≠ÁöÑÔºå‰∏∫‰∫ÜÊèêÂçáËØªÂÜôÊÄßËÉΩÔºåInnoDB ËÆæËÆ°‰∫Ü‰∏Ä‰∏™ÁºìÂ≠òÊ±† Buffer Pool„ÄÇ&lt;/p>
&lt;p>Êú¨Ë¥®‰∏äÊòØ InnoDB ÂêëÊìç‰ΩúÁ≥ªÁªüÁî≥ËØ∑ÁöÑ‰∏ÄÊÆµËøûÁª≠ÂÜÖÂ≠òÁ©∫Èó¥ÔºåÂèØ‰ª•ÈÄöËøá &lt;code>innodb_buffer_pool_size&lt;/code> Êù•ËøõË°åË∞ÉÊï¥Â§ßÂ∞è„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ÂΩìËØªÂèñÊï∞ÊçÆÊó∂ÔºåÂ¶ÇÊûúÊï∞ÊçÆÂ∑≤ÁªèÂú® Buffer Pool ‰∏≠Ôºå‰ºöÁõ¥Êé•ËøîÂõûÔºõÂ¶ÇÊûú‰∏çÂú®ÔºåÂ∞±‰ºöÂ∞ÜÊï∞ÊçÆ&lt;strong>ÂÆåÊï¥ÁöÑÈ°µ‰ø°ÊÅØ&lt;/strong>ÂÖ®ÈÉ®Âä†ËΩΩÂà∞ÂÜÖÂ≠ò‰∏≠ÔºåÂÜçËøîÂõûÁªôÂÆ¢Êà∑Á´Ø„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂΩì‰øÆÊîπÊï∞ÊçÆÊó∂Ôºå‰ºö‰øÆÊîπ Buffer Pool ‰∏≠ÁöÑÁºìÂ≠òÈ°µÔºà-&amp;gt; ÂèòÊàêËÑèÈ°µÔºâÔºåÂú®ÂêàÈÄÇÁöÑÊó∂Êú∫ÔºåÁî±ÂêéÂè∞Á∫øÁ®ãÂÜôÂÖ•Âà∞Á£ÅÁõò„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-ÁªìÊûÑ">üß© ÁªìÊûÑ&lt;/h3>
&lt;p>Buffer Pool ‰∏≠ÁöÑËøûÁª≠ÂÜÖÂ≠òÔºå‰ºöË¢´ÂàÜÂâ≤Êàê‰∏Ä‰∏™‰∏™ÁöÑÈ°µÔºåÂíå InnoDB ÁöÑÈ°µÂ§ßÂ∞è‰∏ÄÊ†∑ÔºåÈÉΩÊòØ &lt;code>16KB&lt;/code>ÔºåÁß∞‰∏∫ÁºìÂ≠òÈ°µ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/innodb/buffer-pool/cache-page.webp"
width="962"
height="234"
srcset="https://emerywan.github.io/blog/blog/p/mysql/innodb/buffer-pool/cache-page_hucd01fda075157d782d9171d9e071f31a_7000_480x0_resize_q75_h2_box_2.webp 480w, https://emerywan.github.io/blog/blog/p/mysql/innodb/buffer-pool/cache-page_hucd01fda075157d782d9171d9e071f31a_7000_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="411"
data-flex-basis="986px"
>&lt;/p>
&lt;p>ÊØè‰∏Ä‰∏™ÁºìÂ≠òÈ°µÈÉΩ‰ºöÁî±‰∏Ä‰∏™ÊéßÂà∂ÂùóËøõË°åÁÆ°ÁêÜÔºà‰Ωç‰∫é Buffer Pool ÁöÑÊúÄÂâçÈù¢ÔºâÔºåÊØè‰∏™ÁºìÂ≠òÈ°µ‰∏éÊéßÂà∂Âùó‰∏Ä‰∏ÄÂØπÂ∫î„ÄÇ&lt;/p>
&lt;h3 id="-ÂÜÖÂÆπ">üß© ÂÜÖÂÆπ&lt;/h3>
&lt;p>Âú® Buffer Pool ‰∏≠Ôºå‰∏ªË¶ÅÂåÖÊã¨‰∫ÜÂÖ≠ÈÉ®ÂàÜÁöÑÂÜÖÂÆπÔºö&lt;/p>
&lt;ul>
&lt;li>Êï∞ÊçÆÈ°µ&lt;/li>
&lt;li>Á¥¢ÂºïÈ°µ&lt;/li>
&lt;li>ÊèíÂÖ•ÁºìÂÜ≤&lt;/li>
&lt;li>undo È°µ&lt;/li>
&lt;li>Ëá™ÈÄÇÂ∫îÂìàÂ∏åÁ¥¢Âºï&lt;/li>
&lt;li>ÈîÅ‰ø°ÊÅØ&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/innodb/buffer-pool/bufferpool.webp"
width="812"
height="377"
srcset="https://emerywan.github.io/blog/blog/p/mysql/innodb/buffer-pool/bufferpool_hu9753cf048aa8ef6ecf388c9b29af095f_8518_480x0_resize_q75_h2_box_2.webp 480w, https://emerywan.github.io/blog/blog/p/mysql/innodb/buffer-pool/bufferpool_hu9753cf048aa8ef6ecf388c9b29af095f_8518_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="215"
data-flex-basis="516px"
>&lt;/p>
&lt;h2 id="-ÁÆ°ÁêÜ-buffer-pool-ÁöÑÈìæË°®">üë∑‚Äç‚ôÇÔ∏è ÁÆ°ÁêÜ Buffer Pool ÁöÑÈìæË°®&lt;/h2>
&lt;p>Âú® MySQL ÊúçÂä°ËøêË°åËøáÁ®ã‰∏≠ÔºåËøûÁª≠ÁöÑ BuuferPool ÂÜÖÂ≠òÁ©∫Èó¥ÁöÑÈ°µÈù¢ÊúâÁ©∫Èó≤ÁöÑÔºå‰πüÊúâÈùûÁ©∫Èó≤ÁöÑÔºå‰∏∫‰∫ÜËÉΩÂ§üÂø´ÈÄüÁöÑÊâæÂà∞ÈúÄË¶ÅÁöÑÈ°µÈù¢ÔºåÈò≤Ê≠¢‰∏Ä‰∏™‰∏Ä‰∏™ÁöÑÈÅçÂéÜÊµ™Ë¥πÊó∂Èó¥Ôºå
InnoDB ‰ΩøÁî®‰∫ÜËÆ∏Â§öüîó&lt;strong>ÈìæË°®&lt;/strong>ÁÆ°ÁêÜ Buffer Pool ÁöÑÈ°µÔºàÁ©∫Èó≤È°µ„ÄÅÂπ≤ÂáÄÈ°µ„ÄÅËÑèÈ°µÔºâ„ÄÇ&lt;/p>
&lt;h3 id="-free-ÈìæË°®----ÁÆ°ÁêÜÁ©∫Èó≤È°µ">‚õìÔ∏è Free ÈìæË°® &amp;ndash; ÁÆ°ÁêÜÁ©∫Èó≤È°µ&lt;/h3>
&lt;p>üí° Á©∫Èó≤È°µÔºöBuffer Pool ÂÜÖÂ≠ò‰∏≠Êú™Ë¢´‰ΩøÁî®ÁöÑÈ°µ„ÄÇ&lt;/p>
&lt;p>‰∏∫‰∫ÜËÉΩÂø´ÈÄüÊâæÂà∞Á©∫Èó≤ÁöÑÁºìÂ≠òÈ°µÔºå‰ΩøÁî® Free Á©∫Èó≤ÈìæË°®ÁÆ°ÁêÜÁ©∫Èó≤È°µ„ÄÇ&lt;/p>
&lt;p>Free ÈìæË°®ÁöÑËäÇÁÇπÊòØ‰∏Ä‰∏™‰∏™Á©∫Èó≤È°µÊâÄÂØπÂ∫îÁöÑÊéßÂà∂Âùó„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/innodb/buffer-pool/free-list.webp"
width="1217"
height="597"
srcset="https://emerywan.github.io/blog/blog/p/mysql/innodb/buffer-pool/free-list_hu2194ab0c933cdf7ef8a007d7c52bad5f_28012_480x0_resize_q75_h2_box_2.webp 480w, https://emerywan.github.io/blog/blog/p/mysql/innodb/buffer-pool/free-list_hu2194ab0c933cdf7ef8a007d7c52bad5f_28012_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="203"
data-flex-basis="489px"
>&lt;/p>
&lt;p>ÂΩìÈúÄË¶Å‰ªéÁ£ÅÁõò‰∏≠Âä†ËΩΩ‰∏Ä‰∏™È°µÂà∞ Buffer Pool Êó∂ÔºåÂ∞±‰ªé Free ÈìæË°®‰∏≠ÊâæÂà∞‰∏Ä‰∏™Á©∫Èó≤È°µÔºåÂä†ËΩΩÊï∞ÊçÆÂπ∂Êõ¥ÊîπÊéßÂà∂ÂùóÁöÑ‰ø°ÊÅØÔºåÂπ∂‰ªé Free ÈìæË°®‰∏≠ÁßªÈô§„ÄÇ&lt;/p>
&lt;h3 id="-flush-ÈìæË°®----ÁÆ°ÁêÜËÑèÈ°µ">‚õìÔ∏è Flush ÈìæË°® &amp;ndash; ÁÆ°ÁêÜËÑèÈ°µ&lt;/h3>
&lt;p>üí° ËÑèÈ°µÔºàdirty pageÔºâÔºö‰øÆÊîπ‰∫ÜÁºìÂ≠òÈ°µ‰∏≠ÁöÑÊï∞ÊçÆÔºå‰∏éÁ£ÅÁõò‰∏≠ÁöÑÈ°µÊï∞ÊçÆ‰∏ç‰∏ÄËá¥ÔºåÁß∞‰∏∫ËÑèÈ°µ„ÄÇ&lt;/p>
&lt;p>Ë¢´‰øÆÊîπËøáÁöÑÁºìÂ≠òÈ°µÁöÑÊéßÂà∂ÂùóÔºå‰ºöË¢´‰Ωú‰∏∫ËäÇÁÇπÂä†ÂÖ•Âà∞ Flush ÈìæË°®„ÄÇ&lt;/p>
&lt;p>Flush ÈìæË°®ÁöÑÁªìÊûÑÂíå Free ÈìæË°®Â∑Æ‰∏çÂ§ö„ÄÇÂêéÂè∞Á∫øÁ®ã‰ºöÂú®‰∏ÄÂÆöÁöÑÊó∂Êú∫ÔºåÈÄöËøáÈÅçÂéÜ Flush ÈìæË°®ÔºåÂ∞ÜËÑèÈ°µÂÜôÂÖ•Á£ÅÁõòÔºàWALÔºâ„ÄÇ&lt;/p>
&lt;h3 id="-lru-ÈìæË°®----ÁÆ°ÁêÜËÑèÈ°µÂπ≤ÂáÄÈ°µ">‚õìÔ∏è LRU ÈìæË°® &amp;ndash; ÁÆ°ÁêÜËÑèÈ°µ&amp;amp;Âπ≤ÂáÄÈ°µ&lt;/h3>
&lt;p>üí° Âπ≤ÂáÄÈ°µÔºàclean pageÔºâÔºöÂä†ËΩΩ‰∫ÜÊï∞ÊçÆÊú™‰Ωú‰øÆÊîπÁöÑÁºìÂ≠òÈ°µ„ÄÇ&lt;/p>
&lt;p>üí° ËÑèÈ°µÔºàdirty pageÔºâÔºöÂä†ËΩΩ‰∫ÜÊï∞ÊçÆÂÅö‰∫Ü‰øÆÊîπÁöÑÁºìÂ≠òÈ°µ„ÄÇ&lt;/p>
&lt;p>Buffer Pool ÁöÑÂ§ßÂ∞èÊòØÊúâÈôêÁöÑÔºå‰∏çÂèØËÉΩÂ∞ÜÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩÊîæÂú®ÂÜÖÂ≠ò‰∏≠ÔºåinnoDB ÈÄöËøá LRU ÁÆóÊ≥ïÔºà‰øÆÊîπËøáÁöÑÔºâÔºåÂ∞ÜÈ¢ëÁπÅËÆøÈóÆÁöÑÊï∞ÊçÆÂÅúÁïôÂú® Buffer Pool ‰∏≠„ÄÇ&lt;/p>
&lt;p>ÁÆÄÂçïÁöÑ LRU ÁÆóÊ≥ïÂú® MySQL ‰∏≠ÂèØËÉΩ‰ºöÂØºËá¥Ôºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üòµ È¢ÑËØªÂ§±Êïà&lt;/p>
&lt;p>MySQL ‰ºöÂ∞ÜË¢´Âä†ËΩΩÈ°µÁöÑ‰∏¥ËøëÈ°µ‰∏ÄÂêåÂä†ËΩΩÂà∞ÂÜÖÂ≠òÔºà‰∏∫‰∫ÜÂáèÂ∞ëÁ£ÅÁõò IOÔºâÔºåÂ¶ÇÊûúËøô‰∫õÈ°µÊ≤°ÊúâË¢´ËÆøÈóÆÔºåËøô‰∏™È¢ÑËØªÁõ∏ÂΩì‰∫éÊµ™Ë¥π‰∫Ü„ÄÇ&lt;/p>
&lt;p>ÔºàÈÄöËøáÂ∞Ü LRU ÈìæË°®ÂàíÂàÜ‰∏∫ young Âå∫Âíå old Âå∫ÔºåÂä†ËΩΩÁöÑÊï∞ÊçÆÁé∞ÊîæÂà∞ old Âå∫ÂüüÔºåË¢´ËÆøÈóÆÂà∞‰πãÂêéÔºåÊâçË¢´Âä†ÂÖ• young Âå∫ÂüüÔºâ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ü§¢ Buffer Pool Ê±°Êüì&lt;/p>
&lt;p>‰∏Ä‰∏™ SQL Êâ´ÊèèÂ§ßÈáèÁöÑÊï∞ÊçÆÔºàÂ¶ÇÁ¥¢ÂºïÂ§±ÊïàÊó∂ÔºåËøõË°åÂÖ®Ë°®Êâ´ÊèèÊù•Âà§Êñ≠Êù°‰ª∂ÔºâÔºåÁî±‰∫éÈìæË°®Á©∫Èó¥ÊúâÈôêÔºåÂèØËÉΩ‰ºöÊääÂÜÖÂ≠ò‰∏≠ÁöÑÊâÄÊúâÈ°µÂÖ®ÈÉ®ÊõøÊç¢Âá∫ÂéªÔºåÂØºËá¥ÁÉ≠ÁÇπÊï∞ÊçÆÂÖ®ÈÉ®Â§±ÊïàÔºåÂêéÁª≠ÁºìÂ≠òÂÖ®ÈÉ®Ê≤°ÊúâÂëΩ‰∏≠ÔºåÂØºËá¥Â§ßÈáèÁ£ÅÁõò IO„ÄÇ&lt;/p>
&lt;p>ÔºàÂä†Â§ßÊï∞ÊçÆÊîæÂÖ• young Âå∫ÁöÑÊù°‰ª∂ÔºåÂä†ËΩΩÂà∞ old Âå∫ÂüüÁöÑÊï∞ÊçÆÔºåÂÅúÁïôÊó∂Èó¥Ë∂ÖËøáÈòàÂÄºÊó∂ÔºåÊâçÊúâËµÑÊ†ºÊîæÂà∞ young Âå∫ÂüüÔºâ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/innodb/buffer-pool/lru-list.webp"
width="842"
height="212"
srcset="https://emerywan.github.io/blog/blog/p/mysql/innodb/buffer-pool/lru-list_hub80bcb1068b40da49c3759e6a067b1e3_15066_480x0_resize_q75_h2_box_2.webp 480w, https://emerywan.github.io/blog/blog/p/mysql/innodb/buffer-pool/lru-list_hub80bcb1068b40da49c3759e6a067b1e3_15066_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="397"
data-flex-basis="953px"
>&lt;/p>
&lt;p>InnoDB ÁöÑ LRU ÈìæË°®Ë¢´ÂàÜ‰∏∫‰∏§‰∏™Âå∫ÂüüÔºöÔºà1ÔºâÁÉ≠Êï∞ÊçÆ young Âå∫ÂüüÔºõÔºà2ÔºâÂÜ∑Êï∞ÊçÆ old Âå∫Âüü„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üìÉ È¢ÑËØªÁöÑÈ°µÂè™‰ºöÂä†ËΩΩÂà∞ old Âå∫ÂüüÁöÑÂ§¥ÈÉ®ÔºåÂΩìËØ•È°µÁúüÊ≠£Ë¢´ËÆøÈóÆÁöÑÊó∂ÂÄôÔºåÊâç‰ºöË¢´ÁßªÂä®Âà∞ young Âå∫ÁöÑÂ§¥ÈÉ®„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‚è±Ô∏è ÁßªÂä®Âà∞ young Âå∫ÂüüÁöÑÊù°‰ª∂Èô§‰∫ÜË¢´ËÆøÈóÆÂ§ñÔºåËøòÈúÄË¶ÅÂà§Êñ≠ÂÅúÁïôÂú® old Âå∫ÂüüÁöÑÊó∂Èó¥„ÄÇÔºàÈò≤Ê≠¢ÂÖ®Ë°®Êâ´ÊèèÊó∂ÔºåË¢´ËÆøÈóÆ‰∏ÄÊ¨°ÂêéÂ∞±‰∏çÂú®‰ΩøÁî®Ôºâ„ÄÇÂΩìËÆøÈóÆÁöÑÁºìÂ≠òÈ°µÂ∑≤ÁªèÂú® old Âå∫ÂüüÂÅúÁïôÊó∂Èó¥Ë∂ÖËøáÈòàÂÄº &lt;code>innodb_old_blocks_time=1000ms&lt;/code> Êó∂ÔºåÊâç‰ºöË¢´ÊèíÂÖ•Âà∞ young Âå∫Â§¥ÈÉ®„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="-ËÑèÈ°µÂà∑ÁõòÁöÑÊó∂Êú∫">üíø ËÑèÈ°µÂà∑ÁõòÁöÑÊó∂Êú∫&lt;/h2>
&lt;p>ÂΩì‰øÆÊîπÊï∞ÊçÆÊó∂Ôºå‰ºöËÆ∞ÂΩïÂØπÂ∫îÁöÑ redo log &amp;amp; bin logÔºàWALÔºâÔºå‰øÆÊîπÁöÑÊòØ Buffer Pool ‰∏≠ÁöÑÁºìÂ≠òÈ°µÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂ËÆæÁΩÆ‰∏∫ËÑèÈ°µÂπ∂Âä†ÂÖ• Flush ÈìæË°®ÔºåÁî±ÂêéÂè∞Á∫øÁ®ãÂà∑Êñ∞Êï∞ÊçÆÂà∞Á£ÅÁõò„ÄÇ&lt;/p>
&lt;p>‰ª•‰∏ãÊÉÖÂÜµ‰ºö‰∏ªÂä®Âà∑Êñ∞Êï∞ÊçÆÂà∞Á£ÅÁõòÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üéóÔ∏è ÂΩì redo log Êó•ÂøóÂÜôÊª°Êó∂&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üéóÔ∏è ÂΩì Buffer Pool Á©∫Èó¥‰∏çË∂≥Êó∂Ôºå‰ºöÊ∑òÊ±∞‰∏Ä‰∫õÁºìÂ≠òÈ°µÔºåÂ¶ÇÊûúÊó∂ËÑèÈ°µÔºå‰ºöÂà∑ÂÖ•Á£ÅÁõò&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üéóÔ∏è ÂΩì MySQL ËÆ§‰∏∫Á©∫Èó≤Êó∂ÔºåÂºÇÊ≠•Âú∞Â∞ÜËÑèÈ°µÂà∑Êñ∞Âà∞Á£ÅÁõò&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üéóÔ∏è ÂΩì MySQL ‰∏ªÂä®Ê≠£Â∏∏ÂÖ≥Èó≠Ââç&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>ËßÇÂØüËÄÖÊ®°Âºè</title><link>https://emerywan.github.io/blog/p/design-pattern/observer/</link><pubDate>Mon, 06 Mar 2023 12:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/design-pattern/observer/</guid><description>&lt;img src="https://emerywan.github.io/blog/p/design-pattern/observer/observer.png" alt="Featured image of post ËßÇÂØüËÄÖÊ®°Âºè" />&lt;p>ËßÇÂØüËÄÖÊ®°ÂºèÊòØ‰∏ÄÁßç&lt;strong>Ë°å‰∏∫ÂûãÊ®°Âºè&lt;/strong>„ÄÇ&lt;/p>
&lt;p>ËßÇÂØüËÄÖÊ®°ÂºèÂÆö‰πâÂØπË±°Èó¥ÁöÑ‰∏ÄÂØπÂ§öÁöÑ‰æùËµñÂÖ≥Á≥ªÔºåÂΩì‰∏Ä‰∏™ÂØπË±°ÁöÑÁä∂ÊÄÅÂèëÁîüÊîπÂèòÊó∂ÔºåÂÖ∂‰ªñÊâÄÊúâ‰æùËµñÁöÑÂØπË±°ÈÉΩ‰ºöÂæóÂà∞ÈÄöÁü•ÔºåÂπ∂Ëá™Âä®Êõ¥Êñ∞„ÄÇ&lt;/p>
&lt;p>ËßÇÂØüËÄÖÊ®°ÂºèÂèàÁß∞‰∏∫„ÄåÂèëÂ∏É-ËÆ¢ÈòÖÊ®°Âºè„Äç&lt;code>Publish-Subscribe&lt;/code>ÔºåÊòØ‰∏ÄÁßçÈÄöÁü•Êú∫Âà∂ÔºåËÆ©ÂèëÈÄÅÈÄöÁü•ÁöÑ‰∏ÄÊñπÔºàË¢´ËßÇÂØüËÄÖÔºâÂíåÊé•Êî∂ÈÄöÁü•ÁöÑ‰∏ÄÊñπÔºàËßÇÂØüËÄÖÔºâÂΩºÊ≠§ÂàÜÁ¶ªÔºå‰∫í‰∏çÂΩ±Âìç„ÄÇ&lt;/p>
&lt;p>Â∏∏ËßÅÁöÑÂú∫ÊôØÔºö&lt;/p>
&lt;ul>
&lt;li>üîñ ÊØîÂ¶Ç Github ÁöÑ ActionsÔºåÂÖ∂ÂÆûÂ∞±ÊòØËßÇÂØüËÄÖÊ®°ÂºèÁöÑ‰∏ÄÁßç‰ΩìÁé∞ÔºåÂΩìÊàë‰ª¨Ê†πÊçÆËßÑÂàôËøõË°å‰∫Ü‰∏Ä‰∫õ git Êìç‰ΩúÂêéÔºåGithub Actions ‰ºöÊ†πÊçÆÈÖçÁΩÆÂÅö‰∏Ä‰∫õÊìç‰ΩúÔºåÊØîÂ¶ÇÁºñËØë/Ê£ÄÊü•Ê†ºÂºèÁ≠â„ÄÇ&lt;/li>
&lt;/ul>
&lt;h2 id="-ÂÆûÁé∞ÊñπÂºè">üéà ÂÆûÁé∞ÊñπÂºè&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>üéóÔ∏è „ÄåÂèëÂ∏ÉËÄÖ„ÄçÊ∑ªÂä†ËÆ¢ÈòÖÊú∫Âà∂ÔºåÂèØ‰ª•ÊéßÂà∂ÂØπË±°ËÆ¢ÈòÖ‰∏éÂèñÊ∂àËÆ¢ÈòÖ‰∫ã‰ª∂&lt;/p>
&lt;ul>
&lt;li>‰∏Ä‰∏™Áî®‰∫éÂ≠òÂÇ®ËÆ¢ÈòÖËÄÖÁöÑ &lt;code>List&lt;/code> ÊàêÂëòÂèòÈáè&lt;/li>
&lt;li>Áî®‰∫éÊ∑ªÂä†/Âà†Èô§ÁöÑÂÖ¨ÊúâÊñπÊ≥ï&lt;/li>
&lt;li>ÂΩìÂèëÁîüÂèëÂ∏ÉËÄÖ‰∫ã‰ª∂Êó∂ÔºåÈÄöËøáÈÅçÂéÜËÆ¢ÈòÖËÄÖÂπ∂Ë∞ÉÁî®ÂØπË±°ÁâπÂÆöÁöÑÈÄöÁü•ÊñπÊ≥ï&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/design-pattern/observer/publish.png"
width="470"
height="180"
srcset="https://emerywan.github.io/blog/blog/p/design-pattern/observer/publish_hu2c6d1291c57d095b00122414ede351f4_6623_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/design-pattern/observer/publish_hu2c6d1291c57d095b00122414ede351f4_6623_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="261"
data-flex-basis="626px"
>&lt;/p>
&lt;ul>
&lt;li>üéóÔ∏è „ÄåËÆ¢ÈòÖËÄÖ„ÄçÂÆûÁé∞Áªü‰∏ÄÁöÑÊé•Âè£ÔºåÂèëÂ∏ÉËÄÖ‰ªÖÈÄöËøáËØ•Êé•Âè£‰∏éËÆ¢ÈòÖËÄÖ‰∫§‰∫í
&lt;ul>
&lt;li>ÈÄöÂ∏∏‰ºöÊúâÂØπÂêÑËÆ¢ÈòÖËÄÖË∑üË∏™‰∏Ä‰∏™ÂèëÂ∏ÉËÄÖÁöÑ‰∫ã‰ª∂ÔºåÂÆûÁé∞Áªü‰∏ÄÊé•Âè£Èò≤Ê≠¢ËÄ¶Âêà&lt;/li>
&lt;li>Âú®Êé•Âè£‰∏≠Â£∞ÊòéÈÄöÁü•ÊñπÊ≥ïÂèäÂÖ∂ÂèÇÊï∞&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>‚ö† Ê≥®ÊÑè‰∫ãÈ°πÔºö&lt;/p>
&lt;ul>
&lt;li>È°∫Â∫èÊâßË°åÈÄöÁü•Êó∂ÔºåÂèØËÉΩ‰ºöÂõ†‰∏∫Êüê‰∏ÄËßÇÂØüËÄÖÂØºËá¥Âç°Â£≥ÔºåÈÄöÂ∏∏‰ºöÈááÁî®ÂºÇÊ≠•ÁöÑÊñπÂºèÊâßË°å‰ªªÂä°„ÄÇ&lt;/li>
&lt;/ul>
&lt;h2 id="-ÂÆûÁé∞">üõ†Ô∏è ÂÆûÁé∞&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Store&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="n">Map&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Product&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">products&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">HashMap&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Â∏åÊúõËÆ¢ÈòÖÊñ∞‰∏äÊû∂ÁöÑÂïÜÂìÅÁöÑ‰∫∫
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">private&lt;/span> &lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">ProudctObserver&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">observers&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ArrayList&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">boolean&lt;/span> &lt;span class="nf">addObserver&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ProudctObserver&lt;/span> &lt;span class="n">pb&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">observers&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">add&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">pb&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pubilc&lt;/span> &lt;span class="kt">boolean&lt;/span> &lt;span class="nf">removeObserver&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ProductObserver&lt;/span> &lt;span class="n">pb&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">observers&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">remove&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">pb&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÂèëÂ∏ÉÊñ∞ÂïÜÂìÅ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">addNewProduct&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">BigDecimal&lt;/span> &lt;span class="n">price&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Product&lt;/span> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Product&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">price&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">products&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">put&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// üìß ÈÄöÁü•ËßÇÂØüËÄÖ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">observers&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">forEach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">o&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="n">o&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">onPublished&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="o">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Êõ¥Êñ∞ÂïÜÂìÅ‰ª∑Ê†º
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">setProductPrice&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kt">double&lt;/span> &lt;span class="n">price&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Product&lt;/span> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">products&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setPrice&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">price&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// üìß ÈÄöÁü•ËßÇÂØüËÄÖ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">observers&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">forEach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">o&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="n">o&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">onPriceChanged&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="o">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Ë¢´ËßÇÂØüËÄÖÂÆûÁé∞Áªü‰∏ÄÁöÑÊé•Âè£
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">ProductObserver&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">onPublished&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Product&lt;/span> &lt;span class="n">product&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">onPriceChanged&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Product&lt;/span> &lt;span class="n">product&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ËßÇÂØüËÄÖÂØπË±°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Customer&lt;/span> &lt;span class="kd">implements&lt;/span> &lt;span class="n">ProdcutObserver&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">class&lt;/span> &lt;span class="nc">Admin&lt;/span> &lt;span class="kd">implements&lt;/span> &lt;span class="n">ProductObserver&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// observer ËßÇÂØüËÄÖ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Admin&lt;/span> &lt;span class="n">admin&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Admin&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Customer&lt;/span> &lt;span class="n">customer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Customer&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Ê≥®ÂÜåËßÇÂØüËÄÖ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">store&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">addObserver&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">admin&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">store&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">addObserver&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">customer&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Kafka</title><link>https://emerywan.github.io/blog/p/kafka/</link><pubDate>Sat, 04 Mar 2023 11:14:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/kafka/</guid><description>&lt;img src="https://emerywan.github.io/blog/p/kafka/kafka.webp" alt="Featured image of post Kafka" />&lt;blockquote>
&lt;p>Apache Kafka is an open-source distributed event streaming platform.&lt;/p>
&lt;p>Kafka ÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÁöÑÂàÜÂ∏ÉÂºè‰∫ã‰ª∂ÊµÅÂπ≥Âè∞„ÄÇ&lt;/p>
&lt;/blockquote>
&lt;h2 id="-Âü∫Êú¨Ê¶ÇÂøµ">üìë Âü∫Êú¨Ê¶ÇÂøµ&lt;/h2>
&lt;h3 id="productor--consumer">Productor &amp;amp; Consumer&lt;/h3>
&lt;p>ÊääÊ∂àÊÅØÊîæÂà∞ÈòüÂàóÈáåÈù¢ÁöÑÂè´„ÄåÁîü‰∫ßËÄÖ„ÄçÔºõ‰ªéÈòüÂàó‰∏≠Ê∂àË¥πÊ∂àÊÅØÁöÑÂè´„ÄåÊ∂àË¥πËÄÖ„Äç„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/kafka/productor-consumer.png"
width="1482"
height="182"
srcset="https://emerywan.github.io/blog/blog/p/kafka/productor-consumer_hu2c5c2f226caa4e26dde9bd9923036917_30803_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/kafka/productor-consumer_hu2c5c2f226caa4e26dde9bd9923036917_30803_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="814"
data-flex-basis="1954px"
>&lt;/p>
&lt;h3 id="topic">Topic&lt;/h3>
&lt;p>Producer Â∞ÜÊ∂àÊÅØÂèëÈÄÅÂà∞ÁâπÂÆöÁöÑ‰∏ªÈ¢ò &lt;code>Topic&lt;/code>ÔºåConsumer ÈÄöËøáËÆ¢ÈòÖÁâπÂÆöÁöÑ‰∏ªÈ¢ò &lt;code>Topic&lt;/code> Êù•Ê∂àË¥πÊ∂àÊÅØ„ÄÇ&lt;/p>
&lt;p>Âπ∂ÈùûÊâÄÊúâÁöÑÊ∂àË¥πËÄÖÈÉΩÊÉ≥Ë¶ÅÂÖ®ÈÉ®ÁöÑÊ∂àÊÅØÔºåÊ∂àË¥πËÄÖÂè™ÂØπËá™Â∑±ÊÑüÂÖ¥Ë∂£ÁöÑ Topic ËøõË°åËÆ¢ÈòÖÔºå‰ªéÊåáÂÆöÁöÑ Topic Êù•Ëé∑ÂèñÊ∂àÊÅØ„ÄÇ
Ëøô‰∏™ÂèëÈÄÅÈóÆÈ¢òÁî± Áîü‰∫ßËÄÖ &lt;code>Product&lt;/code> Êù•Ëß£ÂÜ≥ÔºåÁîü‰∫ßËÄÖÂú®ÂèëÈÄÅÊ∂àÊÅØÊó∂ÔºåÂØπÊ∂àÊÅØËøõË°åÈÄªËæë‰∏äÁöÑÂàÜÁ±ªÔºåÂ∞ÜÊ∂àÊÅØÂèëÈÄÅÂà∞ÊåáÂÆöÁöÑ &lt;code>Topic&lt;/code>„ÄÇÔºàÂèëÂ∏É-ËÆ¢ÈòÖÊ®°ÂûãÔºâ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/kafka/topic.png"
width="1702"
height="464"
srcset="https://emerywan.github.io/blog/blog/p/kafka/topic_huc74fa2ac18b398764e9e6113e92396e7_102693_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/kafka/topic_huc74fa2ac18b398764e9e6113e92396e7_102693_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="366"
data-flex-basis="880px"
>&lt;/p>
&lt;h3 id="offset">offset&lt;/h3>
&lt;p>Â§ö‰∏™Ê∂àË¥πËÄÖÂèØËÉΩÂØπÂêå‰∏Ä‰∏™‰∏ªÈ¢òÊÑüÂÖ¥Ë∂£ÔºåÂç≥Â§ö‰∏™Ê∂àË¥πËÄÖ &lt;code>Consumer&lt;/code> ËÆ¢ÈòÖÂêå‰∏Ä‰∏™‰∏ªÈ¢ò &lt;code>Topic&lt;/code>„ÄÇ&lt;/p>
&lt;p>Ëøô‰∏™Ê∂àË¥πÈóÆÈ¢òÁî± Ê∂àË¥πËÄÖ &lt;code>Consumer&lt;/code> Êù•Ëß£ÂÜ≥„ÄÇ
Kafka Â∞ÜÊâÄÊúâÁöÑÊ∂àÊÅØËøõË°åÊåÅ‰πÖÂåñÂ≠òÂÇ®ÔºåËÆ©Ê∂àË¥πËÄÖÂêÑÂèñÊâÄÈúÄÔºåÊÉ≥ÂèñÂì™‰∏™Ê∂àÊÅØÔºåÊÉ≥‰ªÄ‰πàÊó∂ÂÄôÂèñÈÉΩË°åÔºåÂè™ÈúÄË¶Å‰º†ÈÄí‰∏Ä‰∏™Ê∂àÊÅØÁöÑ &lt;code>offset&lt;/code> Âç≥ÂèØ„ÄÇ&lt;/p>
&lt;p>Kafka Â∞ÜÊ∂àÊÅØ‰ª•Ê∂àÊÅØÊó•ÂøóÁöÑÊñπÂºèËøΩÂä†ÂÜôÂú®Á£ÅÁõò‰∏≠ÔºàÈ°∫Â∫èÁ£ÅÁõò IOÔºâ„ÄÇ&lt;/p>
&lt;p>&lt;code>offset&lt;/code> Ë°®Á§∫‰∫ÜÊ∂àË¥πËÄÖÁöÑÊ∂àË¥πËøõÂ∫¶„ÄÇÊØè‰∏ÄÊù°Ê∂àÊÅØÈÉΩ‰ºöÊ†πÊçÆÊó∂Èó¥ÂÖàÂêéÈ°∫Â∫èÊúâ‰∏Ä‰∏™ÈÄíÂ¢ûÁöÑÂ∫èÂè∑ÔºåÁî® offset Êù•Ë°®Á§∫Ê∂àË¥πËÄÖÁöÑÊ∂àË¥πËøõÂ∫¶Âà∞Âì™‰∫ÜÔºåÊØè‰∏™Ê∂àË¥πËÄÖ‰ºöÈÉΩÊúâËá™Â∑±ÁöÑ offset„ÄÇ&lt;/p>
&lt;p>ÊØèÊ¨°Ê∂àË¥πÊ∂àÊÅØÁöÑÊó∂ÂÄôÔºåÈÉΩË¶ÅÊèê‰∫§Ëøô‰∏™ &lt;code>offset&lt;/code>ÔºåKafka ÂèØ‰ª•ÈÄâÊã©„ÄåËá™Âä®Êèê‰∫§„ÄçÊàñËÄÖ„ÄåÊâãÂä®Êèê‰∫§„Äç„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/kafka/offset.png"
width="1702"
height="882"
srcset="https://emerywan.github.io/blog/blog/p/kafka/offset_hub631ed3146c750d7a1db077a25e92c8f_157136_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/kafka/offset_hub631ed3146c750d7a1db077a25e92c8f_157136_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="192"
data-flex-basis="463px"
>&lt;/p>
&lt;h3 id="partition">Partition&lt;/h3>
&lt;p>&lt;code>Partition&lt;/code> ÊòØ Kafka „ÄåÊúÄÂü∫Êú¨ÁöÑÈÉ®ÁΩ≤ÂçïÂÖÉ„Äç„ÄÇ&lt;/p>
&lt;p>ÂØπ‰∫éÊµ∑ÈáèÊï∞ÊçÆÔºåÂçïÊú∫ÁöÑÂ≠òÂÇ®ÂÆπÈáèÂíåËØªÂÜôÊÄßËÉΩËÇØÂÆöÊúâÈôêÔºå‰∏ÄÁßçÂ∏∏ËßÅÁöÑÂ≠òÂÇ®ÊñπÊ°àÂ∞±ÊòØ„ÄåÂØπÊï∞ÊçÆËøõË°åÂàÜÁâáÂ≠òÂÇ®„Äç„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>‰æãÂ¶ÇÂú® MySQL ‰∏≠ÔºåÂçïË°®ÁöÑÊï∞ÈáèËææÂà∞Âá†ÂçÉ‰∏á„ÄÅ‰∏ä‰∫øÊó∂Ôºå‰ºöËøõË°åÂàÜÂ∫ì„ÄÅÂàÜË°®Êìç‰Ωú&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‰æãÂ¶ÇÂú® Redis ‰∏≠ÔºåÂΩìÂçï‰∏™ÂÆû‰æãÁöÑÊï∞ÊçÆÈáèËææÂà∞Âá†ÂçÅGÂºïÂèëÊÄßËÉΩÁì∂È¢àÊó∂Ôºå‰ºöËøõË°åÂàÜÁâáÈõÜÁæ§&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Âú® Kafka ‰∏≠ÔºåÂêåÊ†∑ÈááÂèñ‰∫ÜÊ∞¥Âπ≥ÊãÜÂàÜÁöÑÊñπÊ°àÔºåÂ∞ÜÊãÜÂàÜÂêéÁöÑÊï∞ÊçÆÂ≠êÈõÜÁß∞‰∏∫ &lt;code>Partition&lt;/code> ÂàÜÂå∫„ÄÇÂêÑ‰∏™ÂàÜÂå∫ÁöÑÊï∞ÊçÆÈõÜÂêàÂç≥‰∏∫ÂÖ®ÈáèÊï∞ÊçÆ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/kafka/partition.png"
width="1902"
height="862"
srcset="https://emerywan.github.io/blog/blog/p/kafka/partition_hu6f8e653e05b83b30cced1268a2afdec4_169756_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/kafka/partition_hu6f8e653e05b83b30cced1268a2afdec4_169756_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="220"
data-flex-basis="529px"
>&lt;/p>
&lt;p>ÂàÜÂå∫Ë∑ØÁî±ÂèØ‰ª•ÁÆÄÂçïÂú∞ÁêÜËß£‰∏∫‰∏Ä‰∏™ Hash ÂáΩÊï∞ÔºåÁîü‰∫ßËÄÖÂú®ÂèëÈÄÅÊ∂àÊÅØÊó∂ÔºåÂèØ‰ª•Ëá™ÂÆö‰πâËøô‰∏™ÂáΩÊï∞ÁöÑËßÑÂàôÂÜ≥ÂÆöÂèëÂæÄÁöÑÂàÜÂå∫„ÄÇÂ∞ÜÂàÜÂå∫ËßÑÂàôËÆæËÆ°ÁöÑÂêàÁêÜÔºåÂèØ‰ª•Â∞ÜÊ∂àÊÅØÂùáÂåÄÂú∞ÂàÜÈÖçÂà∞‰∏çÂêåÁöÑÂàÜÂå∫‰∏ä„ÄÇ&lt;/p>
&lt;p>Áîü‰∫ßËÄÖ &lt;code>Productor&lt;/code> ÂèëÈÄÅ‰∏ÄÊù°Ê∂àÊÅØÔºåÂÖàÈÄöËøá &lt;code>Topic&lt;/code> ÂØπÊ∂àÊÅØËøõË°åÈÄªËæëÂàÜÁ±ªÔºåÂú®ÈÄöËøá &lt;code>Partition&lt;/code> Ëøõ‰∏ÄÊ≠•ÂÅöÁâ©ÁêÜÂàÜÁâáÔºåÊúÄÁªàÂ§ö‰∏™ Partition ‰ºöÂùáÂåÄÂú∞ÂàÜÂ∏ÉÂú®ÈõÜÁæ§ÁöÑÊØèÂè∞Êú∫Âô®‰∏äÔºå‰ªéËÄåÂæàÂ•ΩÂú∞Ëß£ÂÜ≥‰∫ÜÂ≠òÂÇ®Êâ©Â±ïÊÄßÈóÆÈ¢ò„ÄÇ&lt;/p>
&lt;h3 id="broker">Broker&lt;/h3>
&lt;p>‰∏ÄÂè∞ Kafka ÊúçÂä°Âô®Ë¢´Áß∞‰∏∫ &lt;code>Broker&lt;/code>ÔºåKafka ÈõÜÁæ§Áî±Â§öÂè∞ Kafka ÊúçÂä°Âô®ÁªÑÊàê„ÄÇ&lt;/p>
&lt;p>Kafka ÊòØ„ÄåÂ§©ÁÑ∂ÂàÜÂ∏ÉÂºè„ÄçÁöÑ„ÄÇ&lt;/p>
&lt;p>‰∏Ä‰∏™ &lt;code>Topic&lt;/code> ‰ºöË¢´ÂàÜ‰∏∫Â§ö‰∏™ &lt;code>Partition&lt;/code>ÔºåËøô‰∫õ Partition ‰ºöÂàÜÂ∏ÉÂú®‰∏çÂêåÁöÑ &lt;code>Broker&lt;/code> ‰∏≠„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/kafka/broker.png"
width="2744"
height="1204"
srcset="https://emerywan.github.io/blog/blog/p/kafka/broker_huddafab0296be063dc2cfa60773db7d44_193217_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/kafka/broker_huddafab0296be063dc2cfa60773db7d44_193217_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="227"
data-flex-basis="546px"
>&lt;/p>
&lt;h3 id="leader--follower">leader &amp;amp; follower&lt;/h3>
&lt;p>Âú® Kafka ÈõÜÁæ§‰∏≠ÔºåÊØèÂè∞Êú∫Âô®ÈÉΩ‰ºöÂ≠òÂÇ®‰∏Ä‰∫õ PartitionÔºå‰∏∫‰∫ÜÈò≤Ê≠¢Êú∫Âô®ÂÆïÊú∫Êó∂ÔºåËøôÈÉ®ÂàÜÊï∞ÊçÆÊó†Ê≥ïËÆøÈóÆÁöÑÈóÆÈ¢òÔºàÊåÅ‰πÖÂåñ‰øùËØÅÊï∞ÊçÆ‰∏ç‰∏¢Â§±Ôºâ„ÄÇ
ÈúÄË¶Å Kafka ÂÖ∑Â§áÊïÖÈöúËΩ¨ÁßªËÉΩÂäõÔºåÂΩìÊüêÂè∞Êú∫Âô®ÂÆïÊú∫ÂêéÔºåËÉΩÂ§üÁªßÁª≠‰øùËØÅÊúçÂä°ÂèØÁî®„ÄÇ&lt;/p>
&lt;p>‰∏é Reids Cluster Á±ª‰ººÔºåKafka ÈÄöËøá„ÄåPartition Â§öÂâØÊú¨„ÄçÁöÑÊñπÂºèÔºåËß£ÂÜ≥‰∫ÜÈ´òÂèØÁî®ÈóÆÈ¢ò„ÄÇ
Âú® Kafka ÈõÜÁæ§‰∏≠ÔºåÊØè‰∏™ Partition ÈÉΩÊúâÂ§ö‰∏™ÂâØÊú¨Ôºå‰øùÂ≠ò‰∫ÜÁõ∏ÂêåÁöÑ‰ø°ÊÅØ„ÄÇ&lt;/p>
&lt;p>ÂâØÊú¨‰πãÈó¥ÊòØ „Äå‰∏Ä‰∏ªÂ§ö‰ªé„ÄçÁöÑÂÖ≥Á≥ªÔºö&lt;/p>
&lt;ul>
&lt;li>&lt;code>leader&lt;/code> ÂâØÊú¨Ë¥üË¥£ËØªÂÜôÊï∞ÊçÆ&lt;/li>
&lt;li>&lt;code>follower&lt;/code> ÂâØÊú¨Ë¥üË¥£ÂêåÊ≠•Ê∂àÊÅØÔºåÂè™Ë¥üË¥£ÂæÖÂëΩ&lt;/li>
&lt;/ul>
&lt;p>ÂΩì leader ÂâØÊú¨ÂèëÈÄÅÊïÖÈöúÊó∂ÔºåÈÄâ‰∏æ follower ÂâØÊú¨Êàê‰∏∫Êñ∞ÁöÑ leader ÂØπÂ§ñÊèê‰æõÊúçÂä°„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/kafka/leader_follwer.png"
width="1642"
height="982"
srcset="https://emerywan.github.io/blog/blog/p/kafka/leader_follwer_hud0b2c7f759aaa7a9577276a758bf8076_131159_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/kafka/leader_follwer_hud0b2c7f759aaa7a9577276a758bf8076_131159_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="167"
data-flex-basis="401px"
>&lt;/p>
&lt;h3 id="consumer-group">Consumer Group&lt;/h3>
&lt;p>Kafka ÊòØ‰∏™È´òÂπ∂ÂèëÁöÑÁ≥ªÁªüÔºåÊ∂àÊÅØÁöÑÊãâÂèñÂêåÊ†∑ÊòØÂπ∂Ë°åÁöÑÔºåÂ§ö‰∏™Ê∂àË¥πËÄÖÂéªÊ∂àË¥π Topic Ê∂àÊÅØ„ÄÇ&lt;/p>
&lt;p>Kafka ÂºïÂÖ•‰∫ÜÊ∂àË¥πËÄÖÁªÑ &lt;code>Consumer Group&lt;/code> ÁöÑÊ¶ÇÂøµÔºåÊØè‰∏Ä‰∏™Ê∂àË¥πËÄÖÈÉΩÊúâ‰∏Ä‰∏™ÂØπÂ∫îÁöÑÊ∂àË¥πËÄÖÁªÑ„ÄÇÁªÑÈó¥ËøõË°åÂπøÊí≠Ê∂àË¥πÔºåÁªÑÂÜÖËøõË°åÈõÜÁæ§Ê∂àË¥π„ÄÇÂêåÊó∂ÈôêÂÆöÔºö„ÄåÊØè‰∏™ Partition Âè™ËÉΩÁî±Ê∂àË¥πËÄÖÁªÑ‰∏≠ÁöÑ‰∏Ä‰∏™Ê∂àË¥πËÄÖËøõË°åÊ∂àË¥π„Äç„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/kafka/consumer_group.png"
width="1952"
height="1378"
srcset="https://emerywan.github.io/blog/blog/p/kafka/consumer_group_hu7674cf08adee570cc4acecde56b2e047_315635_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/kafka/consumer_group_hu7674cf08adee570cc4acecde56b2e047_315635_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="141"
data-flex-basis="339px"
>&lt;/p>
&lt;p>ÂΩìÈúÄË¶ÅÂä†Âø´Ê∂àÊÅØÁöÑÂ§ÑÁêÜÈÄüÂ∫¶ÔºåÔºàÂ¶ÇÊ∂àË¥πËÄÖÁªÑBÔºâÂè™ÈúÄË¶ÅÂ¢ûÂä†Êñ∞ÁöÑÊ∂àË¥πËÄÖÂç≥ÂèØÔºåKafka ‰ºö‰ª• Patition ‰∏∫Âçï‰ΩçÈáçÊñ∞ÂÅöË¥üËΩΩÂùáË°°„ÄÇ&lt;/p>
&lt;p>‰∏Ä‰∏™Ê∂àË¥πËÄÖÁªÑÂèØ‰ª•Ê∂àË¥π Topic ÁöÑÂÖ®ÈÉ®Êï∞ÊçÆÔºåÊ∂àË¥πËÄÖÁªÑÂú®ÈÄªËæë‰∏äÊòØÁõ∏‰∫íÁã¨Á´ãÁöÑ„ÄÇ&lt;/p>
&lt;h2 id="-Â≠òÂÇ®ÁªìÊûÑ">üó≥Ô∏è Â≠òÂÇ®ÁªìÊûÑ&lt;/h2>
&lt;p>Kafka ‰ΩøÁî®„ÄåÊó•ÂøóÊñá‰ª∂ Logging„ÄçÁöÑÊñπÂºèÊù•Â≠òÂÇ®Ê∂àÊÅØÔºõ‰ΩøÁî®„ÄåÁ®ÄÁñèÂìàÂ∏åÁ¥¢Âºï„ÄçÊù•Âä†Âø´Êü•ËØ¢„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Kafka Â≠òÂÇ®ÁöÑ‰∏ªË¶ÅÊòØÊ∂àÊÅØÊµÅÔºàÊñáÊú¨„ÄÅËá™ÂÆö‰πâÊ†ºÂºèÔºâÔºåÂØπ‰∫é Broker Êù•ËØ¥ÔºåÂè™ÈúÄË¶ÅÂÖ≥Ê≥®Ê∂àÊÅØÁöÑÊäïÈÄíÔºåÊó†ÈúÄÂÖ≥Ê≥®ÂÜÖÂÆπÊú¨Ë∫´&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂÜôÂÖ•ÊñπÈù¢ÔºåÊï∞ÊçÆÈáèÁ∫ßÈùûÂ∏∏Â§ßÔºåÈÉΩÊòØÊåâÈ°∫Â∫èÂÜôÂÖ•ÔºàÈòüÂàóÔºâÔºå‰∏îÊó†ÈúÄËÄÉËôëÊõ¥Êñ∞&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÈúÄÊ±ÇÁÆÄÂçïÔºåÂè™ÈúÄË¶ÅÊåâÁÖß offset Êü•ËØ¢Ê∂àÊÅØÂç≥ÂèØ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Âú®‰∏∫‰∫ÜÊª°Ë∂≥ÂÖ∂ÂÜôÂÖ•ÈúÄÊ±ÇÔºàÈáèÁ∫ßÂ§ß„ÄÅ‰∏çÊõ¥Êñ∞ÔºâÔºåÈááÁî® Append ËøΩÂä†Êó•ÂøóÁöÑÊñπÂºèÊúÄÁêÜÊÉ≥ÔºåÂèØ‰ª•ÂÖÖÂàÜÂà©Áî®„ÄåÁ£ÅÁõòÈ°∫Â∫è IO„Äç„ÄÇ&lt;/p>
&lt;p>Âú®Êü•ËØ¢Êó∂ÔºåÂè™ÈúÄË¶ÅÈÄöËøá offset ÂÆö‰ΩçÊ∂àÊÅØÔºåÂú®ÂÜÖÂ≠ò‰∏≠Áª¥Êä§‰∫Ü‰∏Ä‰∏™„Äå‰ªé offset Âà∞Êó•ÂøóÊñá‰ª∂ÁöÑÂÅèÁßªÈáè„ÄçÁöÑÊò†Â∞ÑÂÖ≥Á≥ªÔºåÊØèÊ¨°
Êü•ËØ¢Êó∂ÔºåÂÖàÊ†πÊçÆ offset ÊâæÂà∞Êó•ÂøóÊñá‰ª∂ÁöÑÂÅèÁßªÈáèÔºåÂç≥ÂèØÂø´ÈÄüËØªÂèñÂà∞Êó•ÂøóÊ∂àÊÅØ„ÄÇ&lt;/p>
&lt;p>‰∏∫‰∫ÜÈÅøÂÖçÂìàÂ∏åÁ¥¢ÂºïÂ∏∏È©ªÂÜÖÂ≠òÊ∂àËÄóËøáÂ§öÁ©∫Èó¥ÁöÑÈóÆÈ¢òÔºåÂ∞ÜÊ∂àÊÅØÂàíÂàÜ‰∏∫Ëã•Âπ≤‰∏™Âùó blockÔºåÊØè‰∏™Á¥¢ÂºïÈúÄË¶ÅÂÆö‰Ωç block Âùó‰∏≠ÁöÑÁ¨¨‰∏ÄÊù°Ê∂àÊÅØÁöÑ offset Âç≥ÂèØÔºàÁ®ÄÁñèÁ¥¢ÂºïÔºâÔºå
ÁÑ∂ÂêéÂú® block ‰∏≠È°∫Â∫èÊü•Êâæ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/kafka/hash.png"
width="702"
height="486"
srcset="https://emerywan.github.io/blog/blog/p/kafka/hash_hu74f0171d0dcbf8a19203c6a91442ff0f_91411_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/kafka/hash_hu74f0171d0dcbf8a19203c6a91442ff0f_91411_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="144"
data-flex-basis="346px"
>&lt;/p>
&lt;h2 id="-kafka-ÁöÑÈ´òÊÄßËÉΩ">üî• Kafka ÁöÑÈ´òÊÄßËÉΩ&lt;/h2>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/kafka/performance.png"
width="725"
height="662"
srcset="https://emerywan.github.io/blog/blog/p/kafka/performance_hu3423f3489c82f749f8bb253d443fb73a_35239_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/kafka/performance_hu3423f3489c82f749f8bb253d443fb73a_35239_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="109"
data-flex-basis="262px"
>&lt;/p>
&lt;h3 id="-Áîü‰∫ßÊ∂àÊÅØ">üìë Áîü‰∫ßÊ∂àÊÅØ&lt;/h3>
&lt;p>Kafka ÂÆ¢Êà∑Á´Ø‰∏é‰º†ÁªüÁöÑÊï∞ÊçÆÂ∫ìÊàñÊ∂àÊÅØ‰∏≠Èó¥‰ª∂‰∏çÂêåÔºåÂú®Â∞ÜÊ∂àÊÅØÂèëÈÄÅÁªô Broker ‰πãÂâçÔºåÂú® Client Á´ØÂÖàÂÆåÊàêÂ§ßÈáèÁöÑÂ∑•‰Ωú‰πãÂêéÊâçÂèëÈÄÅÊ∂àÊÅØÔºåÂàÜÊëä Broker ÁöÑËÆ°ÁÆóÂéãÂäõ„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ü´ß ÊâπÈáèÂèëÈÄÅ&lt;/p>
&lt;p>Kafka ÈÄöËøáÂØπÂ§öÊù°Ê∂àÊÅØÊåâÁÖßÂàÜÂå∫ËøõË°åÂàÜÁªÑÔºåÊØèÊ¨°ÂèëÈÄÅ‰∏Ä‰∏™Ê∂àÊÅØÈõÜÂêàÔºå‰ªéËÄåÂáèÂ∞ëÁΩëÁªú‰º†ËæìÁöÑÂºÄÈîÄ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ü´ß Ê∂àÊÅØÂéãÁº©&lt;/p>
&lt;p>Âú®ÊâπÈáèÂèëÈÄÅÁöÑÂâçÊèê‰∏ãÔºåÂØπÊ∂àÊÅØËøõË°åÂéãÁº©ÔºàÊï∞ÊçÆÈáèË∂äÂ§ßÔºåÂéãÁº©ÊïàÊûúÊõ¥Â•ΩÔºâ„ÄÇÂêåÊó∂ÂØπÂ§öÊù°Ê∂àÊÅØËøõË°åÂéãÁº©ÔºåËÉΩÂ§ßÂπÖÂáèÂ∞ëÊï∞ÊçÆÈáèÔºå
ÂêåÊó∂ÂáèÂ∞ëÁΩëÁªú„ÄÅÁ£ÅÁõòIOÂºÄÈîÄ„ÄÇÊ∂àÊÅØÊåÅ‰πÖÂåñÂà∞ Broker ÁöÑÁ£ÅÁõòÊó∂Ôºå‰æùÊóßÊòØÂéãÁº©Áä∂ÊÄÅÔºåÊúÄÁªàÊòØÂú® Consumer Á´ØËøõË°åËß£Âéã„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ü´ß È´òÊïàÂ∫èÂàóÂåñ&lt;/p>
&lt;p>Kafka ÁöÑ Key Âíå ValueÔºåÈÉΩÊîØÊåÅËá™ÂÆö‰πâÁ±ªÂûãÔºåÂè™ÈúÄË¶ÅÊèê‰æõÁõ∏Â∫îÁöÑÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÂô®Âç≥ÂèØ„ÄÇÂèØ‰ª•Ê†πÊçÆÊÉÖÂÜµÈÄâÂèñÂØπÂ∫îÁöÑÂ∫èÂàóÂåñÊñπÂºè„ÄÇ&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;/li>
&lt;li>
&lt;p>ü´ß ÂÜÖÂ≠òÊ±†Â§çÁî®&lt;/p>
&lt;p>Kafka ÊèêÂá∫‰∫Ü„ÄåÂÜÖÂ≠òÊ±†Êú∫Âà∂„ÄçÔºåÊèêÈ´òÂ§çÁî®ÔºåÂáèÂ∞ëÈ¢ëÁπÅÁöÑÂàõÂª∫ÂíåÂõûÊî∂„ÄÇÔºàÊú¨Ë¥®‰∏ä‰∏éËøûÊé•Ê±†„ÄÅÁ∫øÁ®ãÊ±†‰∏ÄÊ†∑Ôºâ„ÄÇ&lt;/p>
&lt;p>Productor Âú®ÂàõÂª∫Êó∂Ôºå‰ºöÂç†Áî®‰∏ÄÂùóÂõ∫ÂÆöÂ§ßÂ∞èÁöÑÂÜÖÂ≠òÂå∫ÂüüÔºåÂàíÂàÜ‰∏∫Ëã•Âπ≤‰∏™ÂùóÔºà‰æãÂ¶Ç 16KBÔºâ„ÄÇÂΩìÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÂèëÈÄÅ Batch Êó∂ÔºåÁõ¥Êé•‰ªéÂÜÖÂ≠ò‰∏≠ÂèñÂá∫‰∏Ä‰∏™ÂùóÔºå
‰ªé‰∏≠‰∏çÊñ≠Âú∞ÂÜôÂÖ•Ê∂àÊÅØÔºàÂÜôÊª°ÊàñÂà∞ÊåáÂÆöÈòàÂÄºÊó∂Èó¥Êó∂ÔºâÔºåÂ∞ÜËøô‰∏™ Batch ÂèëÈÄÅÁªô BrokerÔºå‰πãÂêéÂÜÖÂ≠òÂùóÂ∞±‰ºöÂõûÂà∞ÁºìÂ≠òÊ±†‰∏≠ÁªßÁª≠Â§çÁî®„ÄÇ
‰∏ç‰ºöÊ∂âÂèä JVM ÁöÑÂÜÖÂ≠òÂõûÊî∂Ôºå‰ª•Â∫îÂØπ Kafka ÁöÑÈ´òÂπ∂ÂèëÂú∫ÊôØ„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-Â≠òÂÇ®Ê∂àÊÅØ">üìá Â≠òÂÇ®Ê∂àÊÅØ&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>ü´ß IO Â§öË∑ØÂ§çÁî®&lt;/p>
&lt;p>‰ΩøÁî® &lt;code>1&lt;/code> ‰∏™ &lt;code>Acceptor&lt;/code> Á∫øÁ®ãÔºåÂ§ÑÁêÜÊñ∞ÁöÑËøûÊé•Ôºõ‰ΩøÁî® &lt;code>N&lt;/code> ‰∏™ &lt;code>Processor&lt;/code> Á∫øÁ®ãÔºåËØªÂèñËØ∑Ê±ÇÔºõ‰ΩøÁî® &lt;code>M&lt;/code> ‰∏™ &lt;code>Handler&lt;/code> Á∫øÁ®ãÔºåÂ§ÑÁêÜ‰∏öÂä°ÈÄªËæë„ÄÇ&lt;/p>
&lt;p>&lt;code>1&lt;/code> ‰∏™ &lt;code>Acceptor&lt;/code> Á∫øÁ®ãÔºöÁî®‰∫éÁõëÂê¨ÁΩëÁªúÂ•óÊé•Â≠óÔºåÊé•ÂèóËØ∑Ê±ÇÔºåÁÑ∂ÂêéÂ∞ÜËØ∑Ê±ÇÊ¥æÂèëÁªô Processor Á∫øÁ®ãÊ±†‰∏≠ÁöÑ‰∏Ä‰∏™Á∫øÁ®ãÊù•Â§ÑÁêÜ„ÄÇ
‰∏é Redis Áõ∏ÂêåÔºåIO Â§öË∑ØÂ§çÁî®ÂÖÅËÆ∏ÂÜÖÊ†∏‰∏≠ÂêåÊó∂ÁÆ°ÁêÜÂ§ö‰∏™ scoket ËøûÊé•ÔºåÂÜÖÊ†∏‰ºö‰∏ÄÁõ¥ÁõëÂê¨Ëøô‰∫õËøûÊé•Ôºå‰∏ÄÊó¶ÊúâËØ∑Ê±ÇÂà∞ËææÔºåÂ∞±‰ºöÈÄöÁü•Â§ÑÁêÜÁ∫øÁ®ãÔºåËææÂà∞‰∏Ä‰∏™Á∫øÁ®ãÂ§ÑÁêÜÂ§ö‰∏™ËØ∑Ê±ÇÁöÑÊïàÊûú„ÄÇ&lt;/p>
&lt;p>&lt;code>N&lt;/code> ‰∏™ &lt;code>Processor&lt;/code> Á∫øÁ®ãÔºöKafka ‰ºöÁª¥Êä§‰∏Ä‰∏™Á∫øÁ®ãÊ±†ÔºåÂ∞ÜËØ∑Ê±ÇÂàÜÂèëÁªôÂèØÁî®ÁöÑ Processor Á∫øÁ®ãÂ§ÑÁêÜ„ÄÇ‰∏ªË¶ÅË¥üË¥£‰ªéÂ•óÊé•Â≠óËØªÂèñÊ∂àÊÅØÔºåËß£ÊûêÂ§ÑÁêÜÔºåÂπ∂Â∞ÜÂìçÂ∫îÂèëÈÄÅÁªôÂÆ¢Êà∑Á´Ø„ÄÇËææÂà∞ÊâπÈáèÊìç‰ΩúÔºåÊèêÈ´òÂêûÂêêÈáè„ÄÇ&lt;/p>
&lt;p>&lt;code>M&lt;/code> ‰∏™ &lt;code>Handler&lt;/code> Á∫øÁ®ãÔºöÁª¥Êä§ÁöÑÁ∫øÁ®ãÊ±†ÔºåË¥üË¥£ËØªÂèñ Kafka Topic ‰∏≠ÁöÑÊ∂àÊÅØÔºåÂπ∂Â∞ÜÂÖ∂Êèê‰∫§Âà∞ÂØπÂ∫îÁöÑ Consumer Group„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ü´ß Á£ÅÁõòÈ°∫Â∫è IO&lt;/p>
&lt;p>Kafka ÈááÁî®Êó•ÂøóÊñá‰ª∂ÁöÑÊñπÂºèÊåÅ‰πÖÂåñÊó•ÂøóÔºå‰ª• Append Only ÁöÑÊñπÂºèËøΩÂä†Âà∞Êñá‰ª∂Êú´Â∞æÔºåÈ°∫Â∫è IO ‰ΩøÂÜôÂÖ•ÈÄüÂ∫¶ÈùûÂ∏∏Âø´„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ü´ß Page Cache&lt;/p>
&lt;p>Âà©Áî®‰∫ÜÊìç‰ΩúÁ≥ªÁªüÊú¨Ë∫´ÁöÑÁºìÂ≠òÊäÄÊúØÔºåÂú®ËØªÂÜôÁ£ÅÁõòÊñá‰ª∂Êó∂ÔºåÂÖ∂ÂÆûÊìç‰ΩúÁöÑÈÉΩÊòØÂÜÖÂ≠òÔºåÁî±Êìç‰ΩúÁ≥ªÁªüÂÜ≥ÂÆö‰ªÄ‰πàÊó∂ÂÄôÂ∞Ü Page Cache ‰∏≠ÁöÑÊï∞ÊçÆÁúüÊ≠£Âà∑ÂÖ•Á£ÅÁõò„ÄÇ&lt;/p>
&lt;p>Page Cache ÁºìÂ≠ò‰∏≠‰øùÂ≠òÁöÑÊòØÊúÄËøëÂèØËÉΩË¢´‰ΩøÁî®ÁöÑÁ£ÅÁõòÊï∞ÊçÆÔºåÂÖ∑ÊúâÊó∂Èó¥Â±ÄÈÉ®ÊÄßÔºàÊúÄËøëËÆøÈóÆÁöÑÊï∞ÊçÆÂèØËÉΩÂÜçÊ¨°ËÆøÈóÆÔºâÂíå Á©∫Èó¥Â±ÄÈÉ®ÊÄßÔºàËÆøÈóÆÁöÑÊï∞ÊçÆÁöÑÂë®ËæπÊï∞ÊçÆË¢´ËÆøÈóÆÁöÑÊ¶ÇÁéáÊûÅÈ´òÔºâ„ÄÇ
‰Ωú‰∏∫È°∫Â∫èÂÜôÂÖ•ÁöÑÊ∂àÊÅØÈòüÂàóÔºåÂ¶ÇÊûúÁîü‰∫ßÂíåÊ∂àË¥πÂú∞ÁâπÂà´Âø´ÔºåÂà©Áî® Broker Page CacheÔºåÁîöËá≥ÂèØ‰ª•‰∏çÁªèËøáÁ£ÅÁõòÂÆåÊàêÊìç‰Ωú„ÄÇ&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;/li>
&lt;li>
&lt;p>ü´ß ÂàÜÂå∫ÂàÜÊÆµÁªìÊûÑ&lt;/p>
&lt;p>Kafka ÁöÑ Topic ‰ºöË¢´ÂàÜÂå∫‰∏∫Â§ö‰∏™ PartitionÔºåÂú®Â§öÂè∞ Broker ‰∏≠Ôºå‰ΩøÁî®Â§ö‰∏™ÊúçÂä°Êù•Êé•ÂèóÊ∂àÊÅØ„ÄÇ&lt;/p>
&lt;p>ÂêåÊó∂ÊØè‰∏™ÂàÜÂå∫ Partition ‰ºöË¢´ÂàÜ‰∏∫Â§ö‰∏™ÊÆµ Segment Êù•ÁÆ°ÁêÜÔºåÊØè‰∏™ÊÆµÂÜÖÈÉΩÊòØÈ°∫Â∫èÂÜôÔºåÈÅøÂÖçÂàÜÂå∫ËøáÂ§ßÔºåÂà©‰∫éÁÆ°ÁêÜ„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-Ê∂àË¥πÊ∂àÊÅØ">üìÆ Ê∂àË¥πÊ∂àÊÅØ&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>ü´ß Á®ÄÁñèÁ¥¢Âºï&lt;/p>
&lt;p>Kafka Êü•ËØ¢Âú∫ÊôØÈùûÂ∏∏ÁÆÄÂçïÔºåÊåâÁÖß offset Êü•ËØ¢Ê∂àÊÅØÂç≥ÂèØ„ÄÇ‰∏∫‰∫ÜÂä†Âø´ËØªÊìç‰ΩúÔºåÂè™ÈúÄË¶ÅÂú®ÂÜÖÂ≠ò‰∏≠Áª¥Êä§‰∏Ä‰∏™ offset Âà∞Êó•ÂøóÊñá‰ª∂ÁöÑÂÅèÁßªÈáèÁöÑÊò†Â∞ÑÂÖ≥Á≥ª &lt;code>Map&lt;/code> Âç≥ÂèØ„ÄÇ
ÊØèÊ¨°Êü•ÊâæÊ∂àÊÅØÔºåÂÖà‰ªéÂìàÂ∏åË°®‰∏≠Êü•Âà∞Êñá‰ª∂ÂÅèÁßªÈáèÔºåÂÜçÂéªËØªÊó•ÂøóÊñá‰ª∂„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ü´ß mmap&lt;/p>
&lt;p>&lt;code>memory mapped files&lt;/code>&lt;/p>
&lt;p>ÈááÁî® mmap Êò†Â∞ÑÁ¥¢ÂºïÊñá‰ª∂ÔºåÂä†Âø´Á¥¢ÂºïÁöÑÊü•ÊâæËøáÁ®ã„ÄÇÂ∞ÜÁ£ÅÁõòÊñá‰ª∂‰∏éÂÜÖÂ≠òËôöÊãüÂú∞ÂùÄÂÅö‰∫ÜÊò†Â∞ÑÔºå‰∏çÈúÄË¶ÅÊìç‰ΩúÁ£ÅÁõòIOÔºåËøõÁ®ãÂèØ‰ª•‰ΩøÁî®ÊåáÈíàÁöÑÊñπÂºèÊìç‰ΩúËøô‰∏ÄÂùóÂÜÖÂ≠òÔºåÁ≥ªÁªü‰ºöËá™Âä®Â∞ÜËÑèÈ°µÂÜôÂÖ•Âà∞ÂØπÂ∫îÁöÑÁ£ÅÁõòÊñá‰ª∂‰∏ä„ÄÇ&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;/li>
&lt;li>
&lt;p>ü´ß Èõ∂Êã∑Ë¥ù&lt;/p>
&lt;p>ÈááÁî®‰∫ÜÈõ∂Êã∑Ë¥ùÔºåÂ∞ÜÊï∞ÊçÆ‰ªéÂÜÖÂ≠ò‰∏≠ÁöÑÁºìÂ≠òÂå∫Áõ¥Êé•Êã∑Ë¥ùÂà∞ÁΩëÂç°ËÆæÂ§áÔºåÊó†ÈúÄÁªèËøáÂ∫îÁî®Á®ãÂ∫èÔºåÂáèÂ∞ë‰∫ÜÊï∞ÊçÆÁöÑÊã∑Ë¥ùÂíåÂÜÖÊ†∏ÊÄÅ‰∏éÁî®Êà∑ÊÄÅÁöÑÂàáÊç¢„ÄÇ&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;/li>
&lt;li>
&lt;p>ü´ß ÊâπÈáèÊãâÂèñ&lt;/p>
&lt;p>‰∏éÂèëÈÄÅÊ∂àÊÅØÂØπÂ∫îÔºåÊ∂àË¥πÊ∂àÊÅØ‰πüÊòØÊâπÈáèÊãâÂèñÁöÑÔºåÊØèÊ¨°ÊãâÂèñ‰∏Ä‰∏™Ê∂àÊÅØÈõÜÂêàÔºåÂáèÂ∞ëÁΩëÁªúÁöÑÂºÄÈîÄ„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="ÂèÇËÄÉ">ÂèÇËÄÉ&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://mp.weixin.qq.com/s?__biz=MzU2MTM4NDAwMw==&amp;amp;mid=2247490102&amp;amp;idx=1&amp;amp;sn=68d55b3c5ac74038c76d6837b862a11c&amp;amp;chksm=fc78c51acb0f4c0cd5a1d6ceedb9948f82d48791ab789e9edfd6e83e34fbad1ace5749bee203&amp;amp;scene=21#wechat_redirect" target="_blank" rel="noopener"
>https://mp.weixin.qq.com/s?__biz=MzU2MTM4NDAwMw==&amp;mid=2247490102&amp;idx=1&amp;sn=68d55b3c5ac74038c76d6837b862a11c&amp;chksm=fc78c51acb0f4c0cd5a1d6ceedb9948f82d48791ab789e9edfd6e83e34fbad1ace5749bee203&amp;scene=21#wechat_redirect&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://mp.weixin.qq.com/s?__biz=MzU2MTM4NDAwMw==&amp;amp;mid=2247490102&amp;amp;idx=1&amp;amp;sn=68d55b3c5ac74038c76d6837b862a11c&amp;amp;chksm=fc78c51acb0f4c0cd5a1d6ceedb9948f82d48791ab789e9edfd6e83e34fbad1ace5749bee203&amp;amp;cur_album_id=1763234202604388353&amp;amp;scene=189#wechat_redirect" target="_blank" rel="noopener"
>https://mp.weixin.qq.com/s?__biz=MzU2MTM4NDAwMw==&amp;mid=2247490102&amp;idx=1&amp;sn=68d55b3c5ac74038c76d6837b862a11c&amp;chksm=fc78c51acb0f4c0cd5a1d6ceedb9948f82d48791ab789e9edfd6e83e34fbad1ace5749bee203&amp;cur_album_id=1763234202604388353&amp;scene=189#wechat_redirect&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://mp.weixin.qq.com/s?__biz=MzU2MTM4NDAwMw==&amp;amp;mid=2247491055&amp;amp;idx=1&amp;amp;sn=14bc485f91ec2629cc9e8bf7a36ad8f4&amp;amp;chksm=fc78c2c3cb0f4bd566d5ca2534805839420ad3dc67210bc8f2b7ef05283785b02b8ddef640a8&amp;amp;cur_album_id=1763234202604388353&amp;amp;scene=189#wechat_redirect" target="_blank" rel="noopener"
>https://mp.weixin.qq.com/s?__biz=MzU2MTM4NDAwMw==&amp;mid=2247491055&amp;idx=1&amp;sn=14bc485f91ec2629cc9e8bf7a36ad8f4&amp;chksm=fc78c2c3cb0f4bd566d5ca2534805839420ad3dc67210bc8f2b7ef05283785b02b8ddef640a8&amp;cur_album_id=1763234202604388353&amp;scene=189#wechat_redirect&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://mp.weixin.qq.com/s?__biz=MzU2MTM4NDAwMw==&amp;amp;mid=2247491168&amp;amp;idx=1&amp;amp;sn=bd37f96692b3f7cecdaf3172abdb7a8c&amp;amp;chksm=fc78c14ccb0f485a451f70c7ffbf5b05d0f500dfef6321703e7cdebdc0de902d9d77a547d469&amp;amp;cur_album_id=1763234202604388353&amp;amp;scene=189#wechat_redirect" target="_blank" rel="noopener"
>https://mp.weixin.qq.com/s?__biz=MzU2MTM4NDAwMw==&amp;mid=2247491168&amp;idx=1&amp;sn=bd37f96692b3f7cecdaf3172abdb7a8c&amp;chksm=fc78c14ccb0f485a451f70c7ffbf5b05d0f500dfef6321703e7cdebdc0de902d9d77a547d469&amp;cur_album_id=1763234202604388353&amp;scene=189#wechat_redirect&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://mp.weixin.qq.com/s?__biz=MzU2MTM4NDAwMw==&amp;amp;mid=2247491507&amp;amp;idx=1&amp;amp;sn=f1bec356c94cd0101809dc11dcf27ba2&amp;amp;chksm=fc78c09fcb0f49898f6cc9b80499aeb871a80f95ab4fbe12c32567cab6a3521a6c33b61dd807&amp;amp;cur_album_id=1763234202604388353&amp;amp;scene=189#wechat_redirect" target="_blank" rel="noopener"
>https://mp.weixin.qq.com/s?__biz=MzU2MTM4NDAwMw==&amp;mid=2247491507&amp;idx=1&amp;sn=f1bec356c94cd0101809dc11dcf27ba2&amp;chksm=fc78c09fcb0f49898f6cc9b80499aeb871a80f95ab4fbe12c32567cab6a3521a6c33b61dd807&amp;cur_album_id=1763234202604388353&amp;scene=189#wechat_redirect&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://mp.weixin.qq.com/s?__biz=MzU2MTM4NDAwMw==&amp;amp;mid=2247491763&amp;amp;idx=1&amp;amp;sn=cc60a6ba13e5cf4384e623819c621e0d&amp;amp;chksm=fc7b3f9fcb0cb6897be67103d91854831b71909c0d12385fb52b2f1d011fca5d1844b3892019&amp;amp;cur_album_id=1763234202604388353&amp;amp;scene=190#rd" target="_blank" rel="noopener"
>https://mp.weixin.qq.com/s?__biz=MzU2MTM4NDAwMw==&amp;mid=2247491763&amp;idx=1&amp;sn=cc60a6ba13e5cf4384e623819c621e0d&amp;chksm=fc7b3f9fcb0cb6897be67103d91854831b71909c0d12385fb52b2f1d011fca5d1844b3892019&amp;cur_album_id=1763234202604388353&amp;scene=190#rd&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>ÂàÜÂ∏ÉÂºè‰∫ãÂä°</title><link>https://emerywan.github.io/blog/p/distributed/transaction/</link><pubDate>Fri, 03 Mar 2023 12:14:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/distributed/transaction/</guid><description>&lt;img src="https://emerywan.github.io/blog/p/distributed/transaction/cap.webp" alt="Featured image of post ÂàÜÂ∏ÉÂºè‰∫ãÂä°" />&lt;h2 id="‰∫ãÂä°">‰∫ãÂä°&lt;/h2>
&lt;h3 id="Êï∞ÊçÆÂ∫ì‰∫ãÂä°">Êï∞ÊçÆÂ∫ì‰∫ãÂä°&lt;/h3>
&lt;p>‰∫ãÂä°ÔºàÂçïÊï∞ÊçÆÂ∫ìÁöÑÊú¨Âú∞‰∫ãÂä°ÔºâÊòØÊåá‰∏ÄÁªÑÊìç‰ΩúÔºåË¶Å‰πàÂÖ®ÈÉ®Ê≠£Á°ÆÊâßË°åÔºåË¶Å‰πàÂÖ®ÈÉ®‰∏çÊâßË°å„ÄÇ&lt;/p>
&lt;p>‰∫ãÂä°ÈÄöÂ∏∏‰ºöÊúâ ACID ÂõõÂ§ßÁâπÊÄßÔºö&lt;/p>
&lt;ul>
&lt;li>&lt;code>A&lt;/code> ÂéüÂ≠êÊÄß&lt;/li>
&lt;li>&lt;code>C&lt;/code> ‰∏ÄËá¥ÊÄß&lt;/li>
&lt;li>&lt;code>I&lt;/code> ÈöîÁ¶ªÊÄß&lt;/li>
&lt;li>&lt;code>D&lt;/code> ÊåÅ‰πÖÊÄß&lt;/li>
&lt;/ul>
&lt;h3 id="ÂàÜÂ∏ÉÂºè‰∫ãÂä°">ÂàÜÂ∏ÉÂºè‰∫ãÂä°&lt;/h3>
&lt;p>Áé∞Âú®ÁöÑÂ§ßÂûã‰∏öÂä°Á≥ªÁªüÈÄöÂ∏∏ÈÉΩÁî±Ëã•Âπ≤‰∏™Â≠êÁ≥ªÁªüÊûÑÊàêÔºåËøô‰∫õÂ≠êÁ≥ªÁªüÂêÑËá™Êã•ÊúâÁã¨Á´ãÁöÑÊï∞ÊçÆÂ∫ìÔºå‰∏Ä‰∏™‰∏öÂä°ÊµÅÁ®ãÈúÄË¶ÅÁî±Â§ö‰∏™Â≠êÁ≥ªÁªüÂÖ±ÂêåÂÆåÊàêÔºåËøô‰∫õÊìç‰ΩúÈúÄË¶ÅË¶Å‰πàÂÖ®ÈÉ®ÊàêÂäüÔºåË¶Å‰πàÂÖ®ÈÉ®Â§±Ë¥•„ÄÇ&lt;/p>
&lt;p>ÂàÜÂ∏ÉÂºè‰∫ãÂä°Â∞±ÊòØË¶Å‰øùÈöú‰∏çÂêåÊï∞ÊçÆÂ∫ìÊï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄß„ÄÇ&lt;/p>
&lt;p>‰æãÂ¶ÇÔºöÂú®Â§ßÂûãÁöÑÁîµÂïÜÁ≥ªÁªü‰∏≠Ôºå‰∏ãÂçïÊó∂‰ºöÔºöÊâ£ÂáèÂ∫ìÂ≠òÔºåÂáè‰ºòÊÉ†ÔºåÁîüÊàêËÆ¢ÂçïidÁ≠âÂ§ö‰∏™Ê≠•È™§ÔºåÈÄöÂ∏∏ËÆ¢ÂçïÊúçÂä°‰∏éÂ∫ìÂ≠ò„ÄÅ‰ºòÊÉ†„ÄÅËÆ¢ÂçïidÈÉΩÊòØ‰∏çÂêåÁöÑÊúçÂä°„ÄÇ
Ëøô‰∫õÊìç‰ΩúÊòØÂê¶ÊàêÂäüÔºå‰æùËµñ‰∫éÂ§ö‰∏™Á≥ªÁªüÁöÑÁªìÊûúÔºåÂèØËÉΩÊ∂âÂèä‰∏â‰∏™Á≥ªÁªüÊúçÂä°Ôºå‰∏â‰∏™Êï∞ÊçÆÂ∫ì„ÄÇÊâÄ‰ª•ÈúÄË¶ÅÂú®Êï∞ÊçÆÂ∫ì‰∏éÂ∫îÁî®Á®ãÂ∫è‰πãÈó¥ÔºåÈÄöËøá‚Äú‰∏≠Èó¥‚ÄùÊñπÊ°àÔºåÂÆûÁé∞ÂàÜÂ∏ÉÂºè‰∫ãÂä°ÁöÑÊîØÊåÅ„ÄÇ&lt;/p>
&lt;h2 id="‰∏ÄËá¥ÊÄß">‰∏ÄËá¥ÊÄß&lt;/h2>
&lt;h3 id="-Âº∫‰∏ÄËá¥ÊÄß">üöë Âº∫‰∏ÄËá¥ÊÄß&lt;/h3>
&lt;p>Âú®‰ªªÊÑèÊó∂ÂàªÔºåÊâÄÊúâËäÇÁÇπÁöÑÊï∞ÊçÆÈÉΩÊòØ‰∏ÄÊ†∑ÁöÑÔºåÊØè‰∏ÄÊ¨°ËØªÊìç‰ΩúÔºåÈÉΩËÉΩËé∑ÂèñÂà∞Êï∞ÊçÆÊúÄËøëÁöÑ‰∏ÄÊ¨°ÂÜôÊìç‰Ωú„ÄÇ&lt;/p>
&lt;h3 id="-Âº±‰∏ÄËá¥ÊÄß">üöö Âº±‰∏ÄËá¥ÊÄß&lt;/h3>
&lt;p>Êï∞ÊçÆÊõ¥Êñ∞ÂêéÔºåËÉΩÂ§üÂÆπÂøçÂêéÁª≠ÁöÑËÆøÈóÆÂè™ËÉΩËÆøÈóÆÈÉ®ÂàÜÊï∞ÊçÆÊàñÂÖ®ÈÉ®ËÆøÈóÆ‰∏çÂà∞„ÄÇ&lt;/p>
&lt;h3 id="-ÊúÄÁªà‰∏ÄËá¥ÊÄß">üöõ ÊúÄÁªà‰∏ÄËá¥ÊÄß&lt;/h3>
&lt;p>‰∏ç‰øùËØÅ‰ªªÊÑèÊó∂Âàª‰ªªÊÑèËäÇÁÇπ‰∏äÁöÑÂêå‰∏Ä‰ªΩÊï∞ÊçÆÈÉΩÊòØÁõ∏ÂêåÁöÑÔºå‰ΩÜÊòØÂú®‰∏ÄÊÆµÊó∂ÂÄô‰πãÂêéÔºåËäÇÁÇπÁöÑÊï∞ÊçÆÊúÄÁªà‰ºöËææÂà∞‰∏ÄËá¥ÁöÑÁä∂ÊÄÅ„ÄÇ&lt;/p>
&lt;h2 id="-cap">‚öôÔ∏è CAP&lt;/h2>
&lt;p>CAP ÂÆöÁêÜÊåá‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠Ôºå‰∏ÄËá¥ÊÄß &lt;code>Consistency&lt;/code>ÔºåÂèØÁî®ÊÄß &lt;code>Availability&lt;/code>ÔºåÂàÜÂå∫ÂÆπÈîôÊÄß &lt;code>Partition tolerance&lt;/code>Ôºå„ÄåÊúÄÂ§öÂè™ËÉΩÊª°Ë∂≥‰∏§È°π„Äç„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>C - Consistency&lt;/code> ‰∏ÄËá¥ÊÄß&lt;/p>
&lt;p>ÊâÄÊúâËäÇÁÇπÂú®Âêå‰∏ÄÊó∂Èó¥ÁöÑÊï∞ÊçÆÂÆåÂÖ®‰∏ÄËá¥„ÄÇÔºà‰ªªÊÑèÊó∂Èó¥Âú®‰ªªÊÑèËäÇÁÇπËÆøÈóÆÂà∞ÁöÑÈÉΩÊòØÊúÄÊñ∞ÁöÑÊï∞ÊçÆÔºâ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>A - Availability&lt;/code> ÂèØÁî®ÊÄß&lt;/p>
&lt;p>ÊúçÂä°Âú®‰∏ÄÂÆöÊó∂Èó¥ÂÜÖÔºåÈÉΩ‰ºöËøîÂõû‰∏Ä‰∏™ÊòéÁ°ÆÁöÑÁªìÊûúÔºåÊúçÂä°‰∏ÄÁõ¥ÂèØÁî®„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>P - Partition Tolerance&lt;/code> ÂàÜÂå∫ÂÆπÈîôÊÄß&lt;/p>
&lt;p>‰∏Ä‰∏™ÊúçÂä°ÂàÜÂ∏ÉÂú®‰∏çÂêåÁöÑÁ≥ªÁªü‰∏≠ÔºåÂ¶ÇÊûúÈÉ®ÂàÜÁ≥ªÁªüÂÆïÊú∫ÔºåÂÖ∂‰ªñÁ≥ªÁªüËÉΩÂ§üÁªßÁª≠Êèê‰æõÊúçÂä°„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>üÖøÔ∏è ÂàÜÂå∫ÂÆπÈîôÊÄßÊó∂ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÁöÑÊ†πÊú¨ÔºåÂ¶ÇÊûúÂàÜÂå∫ÂÆπÈîôÊÄß‰∏çËÉΩÊª°Ë∂≥ÔºåÈÇ£‰ΩøÁî®ÂàÜÂ∏ÉÂºèÂºèÁ≥ªÁªüÂ∞ÜÂ§±ÂéªÊÑè‰πâ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/distributed/transaction/cap.webp"
width="501"
height="460"
srcset="https://emerywan.github.io/blog/blog/p/distributed/transaction/cap_hu553ea908437f51f5f9df5986bc7065cb_18394_480x0_resize_q75_h2_box_2.webp 480w, https://emerywan.github.io/blog/blog/p/distributed/transaction/cap_hu553ea908437f51f5f9df5986bc7065cb_18394_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="108"
data-flex-basis="261px"
>&lt;/p>
&lt;h3 id="cp">CP&lt;/h3>
&lt;p>‰∏ÄËá¥ÊÄß &amp;amp; ÂàÜÂå∫ÂÆπÂøçÊÄß&lt;/p>
&lt;p>‰ºòÂÖà‰øùÈöúÊï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄß„ÄÇ&lt;/p>
&lt;p>Â¶ÇÊ∂âÂèäÈáëÈí±‰∫§ÊòìÁöÑÁéØËäÇÔºå‰øùÈöúÊï∞ÊçÆ‰∏çËÉΩÂá∫Èîô„ÄÇ&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;h3 id="ap">AP&lt;/h3>
&lt;p>ÂèØÁî®ÊÄß &amp;amp; ÂàÜÂå∫ÂÆπÂøçÊÄß&lt;/p>
&lt;p>‰ºòÂÖà‰øùÈöúÁ≥ªÁªüÁöÑÂèØÁî®„ÄÇ&lt;/p>
&lt;p>‰∫íËÅîÁΩë‰∏≠Â§ßÂ§öÊï∞Âú∫ÊôØÈÉΩÊòØ‰øùÈöúÁ≥ªÁªüÂèØÁî®ÔºåÂ¶ÇÂú®ÊúâÂ§ßÈáèËØ∑Ê±ÇÊó∂Ôºå‰∏Ä‰∫õÊúçÂä°ÂèØ‰ª•ÂÖà‰∏çÊèê‰æõÔºåÂ¶ÇÂú®ÂèåÂçÅ‰∏ÄÊ¥ªÂä®Êó∂ÔºåÈôêÂà∂Áî®Êà∑Êü•ËØ¢ÂéÜÂè≤Ë¥¶Âçï„ÄÇ&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;h2 id="-base">ü´ß BASE&lt;/h2>
&lt;p>BASE ÁêÜËÆ∫ÊòØÊåáÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>BA - Basically Available&lt;/code> Âü∫Êú¨ÂèØÁî®&lt;/p>
&lt;p>ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÂá∫Áé∞ÊïÖÈöúÁöÑÊó∂ÂÄôÔºåÂÖÅËÆ∏ÊçüÂ§±ÈÉ®ÂàÜÂèØÁî®ÊÄßÔºå‰øùËØÅÊ†∏ÂøÉÂèØÁî®„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>S - Soft State&lt;/code> ËΩØÁä∂ÊÄÅ&lt;/p>
&lt;p>ÂÖÅËÆ∏Á≥ªÁªüÂ≠òÂú®‰∏≠Èó¥Áä∂ÊÄÅÔºåËøô‰∏™‰∏≠Èó¥Áä∂ÊÄÅ‰∏ç‰ºöÂΩ±ÂìçÁ≥ªÁªüÊï¥‰ΩìÁöÑÂèØÁî®ÊÄß„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>E - Eventual Consistency&lt;/code> ÊúÄÁªà‰∏ÄËá¥ÊÄß&lt;/p>
&lt;p>Á≥ªÁªü‰∏≠ÊâÄÊúâÁöÑÊï∞ÊçÆÂâØÊú¨ÁªèËøá‰∏ÄÂÆöÊó∂Èó¥ÂêéÔºåÊúÄÁªàËÉΩÂ§üËææÂà∞‰∏ÄËá¥ÊÄßÁöÑÁä∂ÊÄÅ„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>BASE ÁêÜËÆ∫Êú¨Ë¥®‰∏äÊòØÂØπ CAP ÁêÜËÆ∫ÁöÑÂª∂‰º∏ÔºåÊòØÂØπ AP ÁöÑË°•ÂÖÖ„ÄÇ&lt;/p>
&lt;p>ÂØπ‰∫é‰∏öÂä°Á≥ªÁªüÊù•ËØ¥ÔºåÈÄöÂ∏∏ÈÄâÊã©Áâ∫Áâ≤‰∏ÄËá¥ÊÄßÊù•Êç¢ÂèñÁ≥ªÁªüÁöÑÂèØÁî®ÊÄßÂíåÂàÜÂå∫ÂÆπÈîôÊÄß„ÄÇ‰ΩÜÊòØ‰∏çÊòØÂÆåÂÖ®ÊîæÂºÉÊï∞ÊçÆ‰∏ÄËá¥ÊÄßÔºåËÄåÊòØÁâ∫Áâ≤Âº∫‰∏ÄËá¥ÊÄßÊù•Êç¢ÂèñÂº±‰∏ÄËá¥ÊÄßÔºåÈááÁî®ÂêàÈÄÇÁöÑÊñπÂºèÊù•‰øùËØÅÊúÄÁªà‰∏ÄËá¥ÊÄß„ÄÇ&lt;/p>
&lt;h2 id="ÂàÜÂ∏ÉÂºè‰∫ãÂä°Â∏∏ËßÅÂú∫ÊôØ">ÂàÜÂ∏ÉÂºè‰∫ãÂä°Â∏∏ËßÅÂú∫ÊôØ&lt;/h2>
&lt;ul>
&lt;li>Èì∂Ë°åËΩ¨Ë¥¶&lt;/li>
&lt;/ul>
&lt;p>Âú®Èì∂Ë°åËΩ¨Ë¥¶‰∏≠ÔºåÊâ£‰ΩôÈ¢ùÂíåÊ∑ªÂä†‰ΩôÈ¢ùÈúÄË¶ÅÂêåÊó∂ÊàêÂäü„ÄÇÊâ£ÂáèË¥¶Êà∑‰ΩôÈ¢ùÊàêÂäüÔºåÂ¢ûÂä†Ë¥¶Êà∑‰ΩôÈ¢ùÂ§±Ë¥•ÔºõÊâ£ÂáèË¥¶Êà∑‰ΩôÈ¢ùÂ§±Ë¥•ÔºåÂ¢ûÂä†Ë¥¶Êà∑‰ΩôÈ¢ùÊàêÂäüÔºåÈÉΩÊòØ‰∏çÂÖÅËÆ∏ÂèëÁîüÁöÑ„ÄÇ&lt;/p>
&lt;ul>
&lt;li>‰∏ãËÆ¢ÂçïÂíåÊâ£Â∫ìÂ≠ò&lt;/li>
&lt;/ul>
&lt;p>‰∏ãËÆ¢ÂçïÂíåÊâ£Â∫ìÂ≠òÈúÄË¶Å‰øùÊåÅ‰∏ÄËá¥ÔºåÂ¶ÇÊûúÂÖà‰∏ãËÆ¢ÂçïÔºåÊâ£Â∫ìÂ≠òÂ§±Ë¥•ÔºåÈÇ£‰πàÂ∞Ü‰ºöÂØºËá¥Ë∂ÖÂçñÔºõÂ¶ÇÊûú‰∏ãËÆ¢ÂçïÊ≤°ÊúâÊàêÂäüÔºåÊâ£Â∫ìÂ≠òÊàêÂäüÔºåÈÇ£‰πà‰ºöÂØºËá¥Â∞ëÂçñ„ÄÇ&lt;/p>
&lt;ul>
&lt;li>ÂêåÊ≠•Ë∂ÖÊó∂&lt;/li>
&lt;/ul>
&lt;p>ÊúçÂä°ÂåñÁöÑÁ≥ªÁªüÈó¥Ë∞ÉÁî®Â∏∏Â∏∏Âõ†‰∏∫ÁΩëÁªúÈóÆÈ¢òÂØºËá¥Á≥ªÁªüÈó¥Ë∞ÉÁî®Ë∂ÖÊó∂ÔºåÁ≥ªÁªüAÂêåÊ≠•Ë∞ÉÁî®Á≥ªÁªüBË∂ÖÊó∂ÔºåÁ≥ªÁªüAÂèØ‰ª•ÊòéÁ°ÆÂæóÂà∞Ë∂ÖÊó∂ÂèçÈ¶àÔºå‰ΩÜÊòØÊó†Ê≥ïÁ°ÆÂÆöÁ≥ªÁªüBÊòØÂê¶Â∑≤ÁªèÂÆåÊàê‰∫ÜÈ¢ÑÂÆöÁöÑÂäüËÉΩÊàñËÄÖÊ≤°ÊúâÂÆåÊàêÈ¢ÑÂÆöÁöÑÂäüËÉΩ„ÄÇ‰∫éÊòØÔºåÁ≥ªÁªüAÂ∞±Ëø∑Ëå´‰∫ÜÔºå‰∏çÁü•ÈÅìÂ∫îËØ•ÁªßÁª≠ÂÅö‰ªÄ‰πàÔºåÂ¶Ç‰ΩïÂèçÈ¶àÁªô‰ΩøÁî®Êñπ„ÄÇ&lt;/p>
&lt;h2 id="‰∏ÄËá¥ÊÄßÂçèËÆÆ">‰∏ÄËá¥ÊÄßÂçèËÆÆ&lt;/h2>
&lt;p>‰∫ãÂä°ÁÆ°ÁêÜÂô® &lt;code>TM - Transaction Manager&lt;/code>ÔºöË¥üË¥£ÂçèË∞ÉÂíåÁÆ°ÁêÜ‰∫ãÂä°ÔºåÊéßÂà∂ÁùÄÂÖ®Â±Ä‰∫ãÂä°Âπ∂ÁÆ°ÁêÜ‰∫ãÂä°ÁöÑÁîüÂëΩÂë®ÊúüÔºåÂπ∂ÂçèË∞ÉÂêÑ‰∏™ RM„ÄÇ&lt;/p>
&lt;p>ËµÑÊ∫êÁÆ°ÁêÜÂô® &lt;code>RM - Resource Manager&lt;/code>Ôºö‰∫ãÂä°ÁöÑÂèÇ‰∏éËÄÖÔºåÂèØ‰ª•Êåá‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìÂÆû‰æãÔºåÈÄöËøáËµÑÊ∫êÁÆ°ÁêÜÂô®ÂØπÊï∞ÊçÆÂ∫ìËøõË°åÊéßÂà∂ÔºåÂç≥‰∏Ä‰∏™ÂàÜÊîØ‰∫ãÂä°„ÄÇ&lt;/p>
&lt;p>DTP Ê®°ÂûãÂÆö‰πâ TM Âíå RM ‰πãÈó¥ÁöÑÈÄöËÆØÊé•Âè£ËßÑËåÉÂè´ÂÅö XAÔºàÂç≥Êï∞ÊçÆÂ∫ìÊèê‰æõÁöÑ 2PC Êé•Âè£ÂçèËÆÆÔºâÔºåÂü∫‰∫éÊï∞ÊçÆÂ∫ìÁöÑ XA ÂçèËÆÆÊù•ÂÆûÁé∞ÁöÑ 2PC Áß∞‰∏∫ XA ÊñπÊ°à„ÄÇ&lt;/p>
&lt;h3 id="-2pc">ü§≤ 2PC&lt;/h3>
&lt;p>‰∏§Èò∂ÊÆµÊèê‰∫§Ôºà2PCÔºâÊääÂàÜÂ∏ÉÂºè‰∫ãÂä°ÂàÜ‰∏∫‰∏§‰∏™ËøáÁ®ãÔºöÂáÜÂ§áÈò∂ÊÆµ &lt;code>Prepare&lt;/code>ÔºåÊèê‰∫§Èò∂ÊÆµ &lt;code>Commit&lt;/code> / ÂõûÊªöÈò∂ÊÆµ &lt;code>Rollback&lt;/code>„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Á¨¨‰∏ÄÈò∂ÊÆµ &lt;code>prepare&lt;/code>&lt;/p>
&lt;p>ÊâßË°åÂÆûÈôÖÁöÑ‰∏öÂä°Êìç‰ΩúÔºå‰ΩÜ‰∏çÊèê‰∫§‰∫ãÂä°ÔºåÈîÅÂÆöËµÑÊ∫ê„ÄÇ&lt;/p>
&lt;p>‰∫ãÂä°ÁÆ°ÁêÜÂô®ÔºàTMÔºåTransaction ManagerÔºâÂêëÊâÄÊúâÊú¨Âú∞ËµÑÊ∫êÁÆ°ÁêÜÂô®ÔºàRMÔºåResource ManagerÔºâÂèëËµ∑ËØ∑Ê±ÇÔºåËØ¢ÈóÆÊòØÂê¶ÊòØÂ∞±Áª™ ready Áä∂ÊÄÅÔºåÊâÄÊúâÁöÑÂèÇ‰∏éËÄÖÈÉΩÂ∞ÜÊú¨Âú∞‰∫ãÂä°ËÉΩÂê¶ÊàêÂäüÁöÑ‰ø°ÊÅØÂèçÈ¶àÁªôÂçèË∞ÉËÄÖ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Á¨¨‰∫åÈò∂ÊÆµ &lt;code>commit / rollback&lt;/code>&lt;/p>
&lt;p>‰∫ãÂä°ÁÆ°ÁêÜÂô®Ê†πÊçÆÊâÄÊúâÊú¨Âú∞ËµÑÊ∫êÁÆ°ÁêÜÂô®ÁöÑÂèçÈ¶àÔºåÈÄöÁü•ÊâÄÊúâÊú¨Âú∞ËµÑÊ∫êÁÆ°ÁêÜÂô®ÔºåÊ≠•Ë∞É‰∏ÄËá¥Âú∞Âú®ÊâÄÊúâÂàÜÊîØ‰∏äÊèê‰∫§ÊàñÂõûÊªö„ÄÇ&lt;/p>
&lt;p>Âè™Ë¶ÅÊúâ‰∏Ä‰∏™ RM Â§±Ë¥•ÔºåÂ∞±‰ºöËøõË°åÂõûÊªöÊìç‰ΩúÔºõÂê¶ÂàôÈÄöÁü•ÊâÄÊúâ RM Êèê‰∫§‰∫ãÂä°„ÄÇÊèê‰∫§‰∫ãÂä°ÂêéÈáäÊîæÈîÅËµÑÊ∫ê„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/distributed/transaction/2pc.jpg"
width="786"
height="507"
srcset="https://emerywan.github.io/blog/blog/p/distributed/transaction/2pc_hua10c08a1522e8116d339a23bf38d0da8_34919_480x0_resize_q75_box.jpg 480w, https://emerywan.github.io/blog/blog/p/distributed/transaction/2pc_hua10c08a1522e8116d339a23bf38d0da8_34919_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="155"
data-flex-basis="372px"
>&lt;/p>
&lt;h4 id="-seata-ÂÆûÁé∞-2pc">‚öíÔ∏è Seata ÂÆûÁé∞ 2PC&lt;/h4>
&lt;p>&lt;a class="link" href="https://github.com/seata/seata" target="_blank" rel="noopener"
>Seata&lt;/a> ÊòØ‰∏ÄÊ¨æÂºÄÊ∫êÁöÑÂàÜÂ∏ÉÂºè‰∫ãÂä°Ëß£ÂÜ≥ÊñπÊ°àÔºåËá¥Âäõ‰∫éÂú®ÂæÆÊúçÂä°Êû∂ÊûÑ‰∏ãÊèê‰æõÈ´òÊÄßËÉΩÂíåÁÆÄÂçïÊòìÁî®ÁöÑÂàÜÂ∏ÉÂºè‰∫ãÂä°ÊúçÂä°„ÄÇ&lt;/p>
&lt;p>üìá Seata Êää‰∏Ä‰∏™ÂàÜÂ∏ÉÂºè‰∫ãÂä°ÁêÜËß£Êàê‰∏Ä‰∏™„ÄåÂÖ®Â±Ä‰∫ãÂä°„ÄçÂíåËã•Âπ≤„ÄåÂàÜÊîØ‰∫ãÂä°„ÄçÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ÂÖ®Â±Ä‰∫ãÂä°ÔºöÂçèË∞ÉÂêÑ‰∏™ÂàÜÊîØ‰∫ãÂä°ËææÊàê‰∏ÄËá¥&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂàÜÊîØ‰∫ãÂä°ÔºöÂèØ‰ª•ÁêÜËß£‰∏∫‰∏Ä‰∏™ÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÁöÑÊú¨Âú∞‰∫ãÂä°&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>üóÉÔ∏è Seata ÂÆö‰πâ‰∫Ü‰∏â‰∏™ÁªÑ‰ª∂Â§ÑÁêÜÂàÜÂ∏ÉÂºè‰∫ãÂä°Ôºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>TCÔºàTransaction CorinatorÔºâ‰∫ãÂä°ÂçèË∞ÉÂô®&lt;/p>
&lt;p>Áã¨Á´ãÁöÑ‰∏≠Èó¥‰ª∂„ÄÇ&lt;/p>
&lt;p>Áª¥Êä§ÂÖ®Â±Ä‰∫ãÂä°ÁöÑËøêË°åÁä∂ÊÄÅÔºöÊé•Êî∂ TM Êåá‰ª§ÂèëËµ∑ÂÖ®Â±Ä‰∫ãÂä°ÁöÑÊèê‰∫§‰∏éÂõûÊªöÔºõË¥üË¥£‰∏é RM ÈÄö‰ø°ÂçèË∞ÉÂêÑ‰∏™ÂàÜÊîØ‰∫ãÂä°ÁöÑÈÄöÁü•‰∏éÂõûÊªö„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>TMÔºàTransaction ManagerÔºâ‰∫ãÂä°ÁÆ°ÁêÜÂô®&lt;/p>
&lt;p>jarÂåÖ„ÄÇ&lt;/p>
&lt;p>ÂµåÂÖ•Â∫îÁî®Á®ãÂ∫è‰∏≠Â∑•‰ΩúÔºåË¥üË¥£ÂºÄÂêØ‰∏Ä‰∏™ÂÖ®Â±Ä‰∫ãÂä°ÔºåÊúÄÁªàÂêë TC ÂèëËµ∑ÂÖ®Â±ÄÊèê‰∫§ÊàñÂÖ®Â±ÄÂõûÊªö„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>RMÔºàResource ManagerÔºâËµÑÊ∫êÁÆ°ÁêÜÂô®&lt;/p>
&lt;p>ÊéßÂà∂ÂàÜÊîØ‰∫ãÂä°„ÄÇ&lt;/p>
&lt;p>Êé•Êî∂ TC ÁöÑÊåá‰ª§ÔºåÈ©±Âä®Êú¨Âú∞‰∫ãÂä°ÁöÑÊèê‰∫§ÊàñÂõûÊªö„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>üì∫ Âú®Êû∂ÊûÑÊñπÈù¢Ôºå2PC ÊñπÊ°àÁöÑ RM ÂÆûÈôÖ‰∏äÊòØÂú®Êï∞ÊçÆÂ∫ìÂ±ÇÈù¢ÔºåRM Êú¨Ë¥®‰∏äÊòØÊï∞ÊçÆÂ∫ìËá™Ë∫´ÈÄöËøá XA ÂçèËÆÆÂÆûÁé∞Ôºõseata ‰∏≠ RM ‰ª• jar ÂåÖÁöÑÂΩ¢Âºè‰Ωú‰∏∫‰∏≠Èó¥‰ª∂Â±ÇÈÉ®ÁΩ≤Âú®Â∫îÁî®Á®ãÂ∫è‰∏Ä‰æß„ÄÇ&lt;/p>
&lt;p>üó≥Ô∏è Âú®‰∏§Èò∂ÊÆµÊèê‰∫§ÊñπÈù¢Ôºå2PC Âú®Á¨¨‰∫åÈò∂ÊÆµÂÜ≥ËÆÆ commit / rollbackÔºå‰∫ãÂä°ÊÄßËµÑÊ∫êÈîÅË¶Å‰øùÊåÅÂú®Á¨¨‰∫åÈò∂ÊÆµÂÆåÊàêÂêéÈáäÊîæÔºõseata Âú®Á¨¨‰∏ÄÈò∂ÊÆµÂ∞±Â∞Ü‰∫ãÂä°Êèê‰∫§ÔºåÁúÅÂéªÁ¨¨‰∫åÈò∂ÊÆµÊåÅÊúâÈîÅÁöÑÊó∂Èó¥ÔºåÊèêÈ´òÊï¥‰ΩìÊïàÁéá„ÄÇ&lt;/p>
&lt;h5 id="ÈÖçÁΩÆ-seata-ÊúçÂä°">ÈÖçÁΩÆ Seata ÊúçÂä°&lt;/h5>
&lt;ul>
&lt;li>ÂêØÂä® seata ‰∏≠Èó¥‰ª∂ÊúçÂä°&lt;/li>
&lt;li>ÈÖçÁΩÆÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉ&lt;/li>
&lt;li>Âú®Â∫îÁî®ÈÖçÁΩÆ regsitry.conf„ÄÅfile.confÔºàÂú® seata ‰∏≠Êã∑Ë¥ùÔºâ&lt;/li>
&lt;li>‰ΩøÁî® seata ÊúçÂä°ÔºåÈúÄË¶ÅÂú®ÂèåÊñπÊï∞ÊçÆÂ∫ì‰∏≠ÂàõÂª∫ &lt;code>undo log&lt;/code> Ë°®
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">CREATE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">TABLE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">undo_log&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">bigint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">20&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">NOT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">NULL&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AUTO_INCREMENT&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">branch_id&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">bigint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">20&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">NOT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">NULL&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">xid&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">varchar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">NOT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">NULL&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">context&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">varchar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">128&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">NOT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">NULL&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">rollback_info&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">longblob&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">NOT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">NULL&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">log_status&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">11&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">NOT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">NULL&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">log_created&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">datetime&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">NOT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">NULL&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">log_modified&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">datetime&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">NOT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">NULL&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">ext&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">varchar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DEFAULT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">NULL&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">PRIMARY&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">KEY&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">UNIQUE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">KEY&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">ux_undo_log&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">xid&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">branch_id&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ENGINE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">InnoDB&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AUTO_INCREMENT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DEFAULT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">CHARSET&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">utf8&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h5 id="ÂàõÂª∫‰ª£ÁêÜÊï∞ÊçÆÊ∫ê">ÂàõÂª∫‰ª£ÁêÜÊï∞ÊçÆÊ∫ê&lt;/h5>
&lt;p>ÊØè‰∏™ RM ÈÄöËøá DataSourceProxy ‰ΩøÁî®‰ª£ÁêÜËøûÊé•„ÄÇ‰∏é TC ËøõË°åÈÄö‰ø°‰∫§‰∫í„ÄÅËÆ∞ÂΩï undo_log Á≠â„ÄÇ&lt;/p>
&lt;p>Á¨¨‰∏ÄÈò∂ÊÆµ‰∏öÂä°Êìç‰ΩúÁîüÊàêÂØπ‰∫éÁöÑ undo_logÔºåÂ∞Ü undo_log Âíå‰∏öÂä°Êï∞ÊçÆÊîæÂú®‰∏Ä‰∏™Êú¨Âú∞‰∫ãÂä°Êèê‰∫§Ôºàundo_log ËÆ∞ÂΩï‰∫Ü‰øÆÊîπÂâçÁöÑÂÄºÔºåÂêåÊó∂Êèê‰∫§ÂêéÈáäÊîæÈîÅËµÑÊ∫êÔºâ„ÄÇ&lt;/p>
&lt;p>TM ÂºÄÂêØÂÖ®Â±Ä‰∫ãÂä°Ôºå‰ºöÂ∞ÜÂÖ®Â±Ä‰∫ãÂä°ID &lt;code>XID&lt;/code> ÊîæÂú®‰∫ãÂä°‰∏ä‰∏ãÊñá‰∏≠ÔºåÂπ∂ÈÄöËøáËøúÁ®ãË∞ÉÁî®‰º†ÂÖ•‰∏ãÊ∏∏ÁöÑÂêÑ‰∏™ÂàÜÊîØ‰∫ãÂä°„ÄÇ&lt;/p>
&lt;p>Á¨¨‰∫åÈò∂ÊÆµÔºà1Ôºâ‰∫ãÂä°Êèê‰∫§ÔºåTC ÈÄöÁü•ÂêÑ‰∏™ÂàÜÊîØÂÆåÊàê‰∫ãÂä°ÔºåÂè™ÈúÄË¶ÅÂà†Èô§ÂØπÂ∫îÁöÑundo_logÔºàÁ¨¨‰∏ÄÈò∂ÊÆµÂ∑≤ÁªèÂàÜÊîØÊèê‰∫§ÔºâÔºõÔºà2Ôºâ‰∫ãÂä°ÂõûÊªöÔºåÈÄöËøá XID Âíå Branch ID ÊâæÂà∞ÂØπÂ∫îÁöÑ undo_log ÁîüÊàêÂèçÂêë SQL ÊâßË°åÂç≥ÂèØ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Configuration&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">DatabaseConfiguration&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Bean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@ConfigurationProperties&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">prefix&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;spring.datasource.ds0&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="n">DruidDataSource&lt;/span> &lt;span class="nf">ds0&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">DruidDataSource&lt;/span> &lt;span class="n">druidDataSource&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">DruidDataSource&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">druidDataSource&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Bean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Primary&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="n">DataSource&lt;/span> &lt;span class="nf">dataSource&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">DruidDataSource&lt;/span> &lt;span class="n">ds0&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">DataSourceProxy&lt;/span> &lt;span class="n">pds0&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">DataSourceProxy&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ds0&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">pds0&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="ÂèåÊñπ‰∏öÂä°ÂÆûÁé∞">ÂèåÊñπ‰∏öÂä°ÂÆûÁé∞&lt;/h5>
&lt;p>&lt;code>@GlobalTransactional&lt;/code> ÂºÄÂêØÂÖ®Â±Ä‰∫ãÂä°„ÄÇ&lt;code>GlobalTransactinalInterceptor&lt;/code> ‰ºöÊã¶Êà™ &lt;code>@GlobalTransactional&lt;/code> Ê≥®Ëß£ÁöÑÊñπÊ≥ïÔºåÁîüÊàêÂÖ®Â±Ä‰∫ãÂä°ID&lt;code>XID&lt;/code>„ÄÇ&lt;/p>
&lt;p>XID ‰ºöÂú®Êï¥‰∏™ÂàÜÂ∏ÉÂºè‰∫ãÂä°‰∏≠‰º†ÈÄíÔºåÂú®ËøúÁ®ãË∞ÉÁî®Êó∂ spring-cloud-alibaba-seata ‰ºöÊã¶Êà™ Feign Ë∞ÉÁî®Â∞Ü XID ‰º†ÈÄíÂà∞‰∏ãÊ∏∏ÊúçÂä°„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ËΩ¨Ë¥¶Êñπ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nd">@Service&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Sl4j&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">AccountServiceImpl&lt;/span> &lt;span class="kd">implements&lt;/span> &lt;span class="n">AccountInfoService&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Autowired&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="n">AccountInfoDao&lt;/span> &lt;span class="n">accountInfoDao&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Autowired&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="n">BankClient&lt;/span> &lt;span class="n">bankClinet&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * ËΩ¨Ë¥¶‰∏öÂä°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Transactional&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@GlobalTranactional&lt;/span> &lt;span class="c1">// ÂºÄÂêØÂÖ®Â±Ä‰∫ãÂä°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">updateAccountBalance&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="n">accountNo&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">BigDecimal&lt;/span> &lt;span class="n">amount&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Êú¨Ë¥¶Êà∑Êâ£Ê¨æ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">accountInfoDao&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">updateAccountBalance&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">accountNo&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">1&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">amount&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÁõÆÊ†áË¥¶Êà∑Â¢ûÂä†‰ΩôÈ¢ù
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="n">remoteRes&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">bankClinet&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">transfer&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">amount&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;fallback&amp;#34;&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">remoteRes&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="c1">// ËøúÁ®ãÂ§±Ë¥•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">RuntimeException&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;...&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// ÊäõÂá∫Ëá™ÂÆö‰πâÂºÇÂ∏∏ÂõûÊªö‰∫ãÂä°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Êî∂Ê¨æÊñπ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Âè¶‰∏Ä‰∏™ÊúçÂä°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nd">@RestController&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">BackController&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Autowired&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="n">AccountInfoService&lt;/span> &lt;span class="n">accountInfoService&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Êé•Êî∂ËΩ¨Ë¥¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nd">@GetMapping&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;/transfer&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="nf">transfer&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">BigDecimal&lt;/span> &lt;span class="n">amount&lt;/span>&lt;span class="o">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">accountInfoService&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">updateAccountBalance&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;2&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">amount&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s">&amp;#34;get:&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">amount&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ---
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Service&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Slf4j&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">AccountInfoServiceImpl&lt;/span> &lt;span class="kd">implements&lt;/span> &lt;span class="n">AccountInfoService&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Autowired&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="n">AccountInfoDao&lt;/span> &lt;span class="n">accountInfoDao&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ‰Ωú‰∏∫‰∫ãÂä°ÂàÜÊîØ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ‰∏çÈúÄË¶ÅÂºÄÂêØÂÖ®Â±Ä‰∫ãÂä°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Transactional&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">updateAccountBalance&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="n">accountNo&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">BigDecimal&lt;/span> &lt;span class="n">amount&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// RootContext.getXID()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">info&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;XIDÔºö{}&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">RootContext&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getXID&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Â¢ûÂä†ÈáëÈ¢ù
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">accountInfoDao&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">updateAccountBalance&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">accountNo&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">amount&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="-tcc">üõçÔ∏è TCC&lt;/h3>
&lt;p>TCC &lt;code>Try - Confirm - Cancel&lt;/code>&lt;/p>
&lt;p>TCC Áî±ÊîØ‰ªòÂÆùÂõ¢ÈòüÊèêÂá∫ÔºåË¢´ÂπøÊ≥õÂ∫îÁî®‰∫éÈáëËûçÁ≥ªÁªü‰∏≠„ÄÇÊàë‰ª¨Áî®Èì∂Ë°åË¥¶Êà∑‰ΩôÈ¢ùË¥≠‰π∞Âü∫ÈáëÊó∂Ôºå‰ºöÊ≥®ÊÑèÂà∞Èì∂Ë°åË¥¶Êà∑‰∏≠Áî®‰∫éË¥≠‰π∞Âü∫ÈáëÁöÑÈÇ£ÈÉ®ÂàÜ‰ΩôÈ¢ùÈ¶ñÂÖà‰ºöË¢´ÂÜªÁªìÔºåÁî±Ê≠§Êàë‰ª¨ÂèØ‰ª•ÁåúÊÉ≥ÔºåËøô‰∏™ËøáÁ®ãÂ§ßÊ¶ÇÂ∞±ÊòØ TCC ÁöÑÁ¨¨‰∏ÄÈò∂ÊÆµ„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>T - Try&lt;/code> Èò∂ÊÆµ&lt;/p>
&lt;p>Â∞ùËØïÊâßË°å„ÄÇÂÆåÊàêÊâÄÊúâÁöÑ‰∏öÂä°Ê£ÄÊü•Ôºå„ÄåÈ¢ÑÁïôÂøÖÈ°ªÁöÑ‰∏öÂä°ËµÑÊ∫ê„Äç„ÄÇ&lt;/p>
&lt;p>ÊòØÂØπ‰∏öÂä°Á≥ªÁªüËøõË°åÊ£ÄÊü•ÂíåËµÑÊ∫êÈ¢ÑËßàÔºåÂ¶ÇËÆ¢ÂçïÂíåÂ≠òÂÇ®Êìç‰ΩúÔºåÈúÄË¶ÅÊ£ÄÊü•Â∫ìÂ≠òÂâ©‰ΩôÊï∞ÈáèÊòØÂê¶ÂèØÁî®ÔºåÂπ∂ËøõË°åËµÑÊ∫êÈ¢ÑÁïô„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>C - Confirm&lt;/code> Èò∂ÊÆµ&lt;/p>
&lt;p>Á°ÆËÆ§ÊâßË°åÁúüÊ≠£ÁöÑ‰∏öÂä°„ÄÇËØ•Èò∂ÊÆµ‰∏ç‰ºöÂÅö‰ªª‰Ωï‰∏öÂä°Ê£ÄÊü•ÔºåÂè™‰ΩøÁî® Try Èò∂ÊÆµÈ¢ÑÁïôÁöÑ‰∏öÂä°ËµÑÊ∫ê„ÄÇ&lt;/p>
&lt;p>Âú® TCC ‰∏≠ÔºåÈÄöÂ∏∏ËÆ§‰∏∫ Try Èò∂ÊÆµÊàêÂäüÂêéÔºåConfirm ‰∏ÄÂÆö‰ºöÊàêÂäüÔºåÂ¶ÇÊûú Confirm Èò∂ÊÆµÂá∫ÈîôÔºåÈúÄË¶ÅËøõË°åÈáçËØï„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>C - Cancel&lt;/code> Èò∂ÊÆµ&lt;/p>
&lt;p>ÂèñÊ∂àÊâßË°å„ÄÇÈáäÊîæ Try Èò∂ÊÆµÈ¢ÑÁïôÁöÑ‰∏öÂä°ËµÑÊ∫ê„ÄÇ&lt;/p>
&lt;p>Âú® TCC ‰∏≠ÔºåËÆ§‰∏∫ Cancel ‰∏ÄÂÆö‰ºöÊàêÂäüÔºåÂ¶ÇÊûúÂ§±Ë¥•ÔºåÈúÄË¶ÅÈáçËØï„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Âü∫‰∫é TCC ÂÆûÁé∞ÂàÜÂ∏ÉÂºè‰∫ãÂä°ÔºåÈúÄË¶ÅÂ∞Ü‰∏öÂä°‰∏äÁöÑÊØè‰∏Ä‰∏™ÂÆûÁé∞ÈÄªËæëÊãÜÂàÜ‰∏∫ Try„ÄÅConfirm„ÄÅCancel ‰∏â‰∏™ÈÉ®ÂàÜÔºåÁõ∏ÂØπÊù•ËØ¥‰ª£Á†ÅÂÆûÁé∞Â§çÊùÇÂ∫¶ËæÉÈ´òÔºåÂØπ‰∏öÂä°ÁöÑ‰æµÂÖ•ËæÉÂ§ßÂíå‰∏öÂä°Á¥ßËÄ¶Âêà„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/distributed/transaction/tcc.jpg"
width="854"
height="712"
srcset="https://emerywan.github.io/blog/blog/p/distributed/transaction/tcc_hu444177640f25c93987cac696f3941268_54943_480x0_resize_q75_box.jpg 480w, https://emerywan.github.io/blog/blog/p/distributed/transaction/tcc_hu444177640f25c93987cac696f3941268_54943_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="119"
data-flex-basis="287px"
>&lt;/p>
&lt;h2 id="ÂàÜÂ∏ÉÂºèËß£ÂÜ≥ÊñπÊ°à">ÂàÜÂ∏ÉÂºèËß£ÂÜ≥ÊñπÊ°à&lt;/h2>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;h3 id="ÂèØÈù†Ê∂àÊÅØÊúÄÁªà‰∏ÄËá¥ÊÄß">ÂèØÈù†Ê∂àÊÅØÊúÄÁªà‰∏ÄËá¥ÊÄß&lt;/h3>
&lt;p>ÂèØÈù†Ê∂àÊÅØÊúÄÁªà‰∏ÄËá¥ÊÄßÊòØÊåáÂú®ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ÔºåÈÄöËøáÂºÇÊ≠•Ê∂àÊÅØ‰º†ÈÄíÂÆûÁé∞Êï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄß„ÄÇ&lt;/p>
&lt;p>ÊØè‰∏™ËäÇÁÇπÈÉΩÂèØ‰ª•Áã¨Á´ãÂú∞ËøõË°åÊìç‰ΩúÔºå„ÄåÂèëËµ∑Êñπ„ÄçÊâßË°åÂÆåÊú¨Âú∞‰∫ãÂä°ÂêéÔºåÂ∞ÜÊìç‰ΩúÁöÑÁªìÊûú‰Ωú‰∏∫„ÄåÊ∂àÊÅØ„ÄçÂèëÈÄÅÂá∫ÂéªÔºõ
Ëøô‰∫õÊ∂àÊÅØÂèØËÉΩ‰ºöÊúâÂª∂Ëøü„ÄÅÈáçÂ§ç„ÄÅ‰∏¢Â§±Á≠âÔºõ
‰ΩÜÊúÄÁªà„Äå‰∫ãÂä°ÂèÇ‰∏éÊñπ„Äç‰∏ÄÂÆöËÉΩÊé•ÂèóÂà∞Ê∂àÊÅØÔºåÂπ∂ÊàêÂäüÂ§ÑÁêÜ‰∫ãÂä°Ôºå‰ΩøÂæóÊï∞ÊçÆÁä∂ÊÄÅ„ÄåÊúÄÁªà„ÄçËææÂà∞‰∏ÄËá¥„ÄÇ&lt;/p>
&lt;h4 id="-Êú¨Âú∞Ê∂àÊÅØË°®ÊñπÊ°à">üê¨ Êú¨Âú∞Ê∂àÊÅØË°®ÊñπÊ°à&lt;/h4>
&lt;p>Âà©Áî®‰∫Ü„ÄåÂêÑÁ≥ªÁªüÁöÑÊú¨Âú∞‰∫ãÂä°„ÄçÊù•ÂÆûÁé∞ÂàÜÂ∏ÉÂºè‰∫ãÂä°„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Âú®‰∏öÂä°Áõ∏ÂÖ≥ÁöÑÂêå‰∏Ä‰∏™Êï∞ÊçÆÂ∫ì‰∏≠ÔºåÂàõÂª∫‰∏ÄÂº†„ÄåÊú¨Âú∞Ê∂àÊÅØË°®„ÄçÔºå‚öôÔ∏è ÊâßË°å‰∏öÂä°Áõ∏ÂÖ≥Êìç‰Ωú &amp;amp; üìã ËÆ∞ÂΩïÊ∂àÊÅØÂà∞Ê∂àÊÅØË°®ÊîæÂú®Âêå‰∏Ä‰∏™‰∫ãÂä°‰∏≠„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂêéÂè∞‰ªªÂä°ÂÆöÊó∂Êâ´ÊèèÊú¨Âú∞Ê∂àÊÅØË°®ÔºåÂ∞ÜÊú™Á°ÆËÆ§ÁöÑÊ∂àÊÅØÔºåÂèëÈÄÅÁªôÁõÆÊ†áËäÇÁÇπ/Ê∂àÊÅØÈòüÂàó„ÄÇÔºàÂ§±Ë¥•ÈáçËØïÔºâ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÁõÆÊ†áËäÇÁÇπÊé•Êî∂Âà∞Ê∂àÊÅØÂêéÔºåÂèØ‰ª•Â∞ÜÊ∂àÊÅØÂÜôÂÖ•„ÄåÊú¨Âú∞Ê∂àÊÅØË°®„ÄçÔºàÂèØÁî®Êù•Âà§Èáç„ÄÅÊòØÂê¶ÊàêÂäüÂ§ÑÁêÜÊ∂àÊÅØÔºâÔºå
‚öôÔ∏è ÊâßË°åÁõ∏ÂÖ≥‰∏öÂä°Êìç‰Ωú &amp;amp; üìã ËÆ∞ÂΩïË°®‰ø°ÊÅØ &amp;amp; üëå ËøîÂõû ACK Êìç‰ΩúÊîæÂú®Âêå‰∏Ä‰∏™‰∫ãÂä°‰∏≠„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Â¶ÇÊûúÁõÆÊ†áËäÇÁÇπ‰∏≠ÁöÑÊú¨Âú∞‰∫ãÂä°Â§±Ë¥•Ôºå‰ºö‰∏ÄÁõ¥‰∏çÊñ≠ÈáçËØï„ÄÇÂ¶ÇÊûúÊó∂‰∏öÂä°Â§±Ë¥•Ôºå‰ºöÂêëÊ∫êÁ≥ªÁªüÂèëËµ∑ÂõûÊªö„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/distributed/transaction/native-message.jpg"
width="1200"
height="554"
srcset="https://emerywan.github.io/blog/blog/p/distributed/transaction/native-message_hu24a85cf152ae3fa35fb59282832f4ac6_87554_480x0_resize_q75_box.jpg 480w, https://emerywan.github.io/blog/blog/p/distributed/transaction/native-message_hu24a85cf152ae3fa35fb59282832f4ac6_87554_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="216"
data-flex-basis="519px"
>&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;h3 id="ÊúÄÂ§ßÂä™ÂäõÈÄöÁü•">ÊúÄÂ§ßÂä™ÂäõÈÄöÁü•&lt;/h3>
&lt;p>ÂèØÈù†Ê∂àÊÅØÊúÄÁªà‰∏ÄËá¥ÊÄßÂÖ≥Ê≥®ÁöÑÊòØ‰∏öÂä°ËøáÁ®ã‰∏≠ÁöÑ‰∫ãÂä°‰∏ÄËá¥Ôºå‰ª•ÂºÇÊ≠•ÁöÑÊñπÊ≥ïÂÆåÊàê‰∏öÂä°„ÄÇÔºàÊ∂àÊÅØÂèØÈù†ÊÄßÁî±ÂèëËµ∑Êñπ‰øùÈöúÔºâ&lt;/p>
&lt;p>ÊúÄÂ§ßÂä™ÂäõÈÄöÁü•ÂÖ≥Ê≥®ÁöÑÊòØ‰∏öÂä°ÂÆåÊàêÂêéÁöÑÈÄöÁü•‰∫ãÂä°ÔºåÂ∞ÜÊâßË°åÁöÑÁªìÊûúÂèØÈù†ÁöÑÈÄöÁü•Âá∫Âéª„ÄÇ&lt;/p>
&lt;p>ÂèëËµ∑ÈÄöÁü•ÊñπÈÄöËøá‰∏ÄÂÆöÁöÑÊú∫Âà∂ÔºåÂ∞ΩÊúÄÂ§ßÁöÑÂä™ÂäõÂ∞ÜÊ∂àÊÅØÂ§ÑÁêÜÁöÑÁªìÊûúÈÄöÁü•Âà∞Êé•Êî∂ÊñπÔºåÂ¶ÇÊûúÈÄöÁü•Â§±Ë¥•ÔºåÂèëÈÄÅÊñπ‰ºö‰∏çÊñ≠Âú∞ËøõË°åË∂ÖÊó∂ÈáçËØïÔºåÂ¶ÇÊûú‰∏ÄÁõ¥‰∏çËÉΩÈÄöÁü•Âà∞ÔºåÊé•Êî∂Êñπ‰ºö‰∏ªÂä®Êü•ËØ¢ÂèëÈÄÅÊñπÁöÑÊé•Âè£ÔºàÊ∂àÊÅØÁöÑÂèØÈù†ÊÄßÁî±‰∫ãÂä°ÁöÑË¢´Âä®Êñπ‰øùÈöúÔºâ„ÄÇ&lt;/p>
&lt;p>ÊúÄÂ∏∏ËßÅÁöÑÂú∫ÊôØÂ∞±ÊòØÊîØ‰ªòÂõûË∞ÉÔºåÊîØ‰ªòÊúçÂä°Âà∞Á¨¨‰∏âÊñπÊîØ‰ªòÊàêÂäüÂêéÔºåÁ¨¨‰∏âÊñπÊîØ‰ªò‰ºöÊúâÂõûË∞ÉÈÄöÁü•ÔºåÂ¶ÇÊûúÂõûË∞ÉÂ§±Ë¥•Ôºå‰ºöÈÄöËøá‰∏ÄÂÆöÁöÑÈ¢ëÁéáÈáçËØïÔºåÂπ∂‰∏îÁ¨¨‰∏âÊñπÊîØ‰ªò‰ºöÊèê‰æõ‰∏ªÂä®Êü•ËØ¢ÊîØ‰ªòÁä∂ÊÄÅÁöÑÊé•Âè£„ÄÇÊó¢ÊúâÂõûË∞ÉÈÄöÁü•Ôºå‰πüÊúâ‰∫§ÊòìÊü•ËØ¢Êé•Âè£„ÄÇ&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;h2 id="ÂèÇËÄÉ">ÂèÇËÄÉ&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.jianshu.com/p/1156151e20c8" target="_blank" rel="noopener"
>https://www.jianshu.com/p/1156151e20c8&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://xiaomi-info.github.io/2020/01/02/distributed-transaction/" target="_blank" rel="noopener"
>https://xiaomi-info.github.io/2020/01/02/distributed-transaction/&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://blog.csdn.net/u010425776/article/details/79516298" target="_blank" rel="noopener"
>https://blog.csdn.net/u010425776/article/details/79516298&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://mp.weixin.qq.com/s/XknegP66mnYboiBx556Kzw" target="_blank" rel="noopener"
>https://mp.weixin.qq.com/s/XknegP66mnYboiBx556Kzw&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://mp.weixin.qq.com/s/ujRRtdLOeKEHsHrtDRNXGA" target="_blank" rel="noopener"
>https://mp.weixin.qq.com/s/ujRRtdLOeKEHsHrtDRNXGA&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>MySQL Â§çÂà∂</title><link>https://emerywan.github.io/blog/p/mysql/master-slave-replication/</link><pubDate>Thu, 02 Mar 2023 12:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/mysql/master-slave-replication/</guid><description>&lt;img src="https://emerywan.github.io/blog/p/mysql/master-slave-replication/copy.png" alt="Featured image of post MySQL Â§çÂà∂" />&lt;h2 id="-‰∏ª‰ªéÂ§çÂà∂">üìë ‰∏ª‰ªéÂ§çÂà∂&lt;/h2>
&lt;p>‰∏ª‰ªéÂ§çÂà∂Êåá‰∏ªÊúçÂä°Âô®Ôºàmaster serverÔºâ‰∏äÔºå‰ªª‰Ωï‰øÆÊîπÂíåÊï∞ÊçÆÁªìÊûÑÂèòÊõ¥ÁöÑ‰∫ã‰ª∂ÔºåÈÉΩ‰ºöË¢´ÂÜôÂÖ•Âà∞Êó•ÂøóÊñá‰ª∂ &lt;code>bin log&lt;/code> ‰∏≠Ôºå‰ªéÊúçÂä°Âô®Ôºàslave serverÔºâËØªÂèñ‰∏ªÊúçÂä°Âô®‰∏äÁöÑÊó•ÂøóÊñá‰ª∂‰∏≠ÁöÑ‰∫ã‰ª∂ÂèòÊõ¥ÔºåÂπ∂Âú®Êú¨Âú∞ÈáçÊîæÊâßË°å„ÄÇ&lt;/p>
&lt;p>ÈÄöËøá‰∏ª‰ªéÂ§çÂà∂ÔºåËÉΩÂ§üÊèêÈ´òÊï∞ÊçÆÂ∫ìÁöÑ&lt;strong>ËØª&lt;/strong>ÊÄßËÉΩ„ÄÇ‰∏ªÂ∫ìÂ§çÂà∂ÂÜôÔºå‰ªéÂ∫ìÂ§çÂà∂ËØª„ÄÇ&lt;/p>
&lt;p>Âπ∂‰∏çÈÄÇÂêàÊù•Êâ©Â±ïÂÜôÊìç‰Ωú„ÄÇ‰æãÂ¶ÇÂú®‰∏Ä‰∏ªÂ§ö‰ªéÁöÑÊû∂ÊûÑ‰∏≠ÔºåÂÜôÊìç‰ΩúË¶ÅË¢´ÊâßË°åÂ§öÊ¨°ÔºåÊï¥‰∏™Á≥ªÁªüÁöÑÊÄßËÉΩ‰ºöÂèñÂÜ≥‰∫éÂÜôÂÖ•ÊúÄÊÖ¢ÁöÑÈÇ£‰∏™„ÄÇ&lt;/p>
&lt;p>üí° Â∏∏ËßÅÁî®ÈÄîÔºö&lt;/p>
&lt;ul>
&lt;li>Êï∞ÊçÆÂ§á‰ªΩ&lt;/li>
&lt;li>Êï∞ÊçÆÂàÜÂèë&lt;/li>
&lt;li>ÊèêÈ´òËØªÊÄßËÉΩ&lt;/li>
&lt;li>È´òÂèØÁî®ÂíåÊïÖÈöúÂàáÊç¢&lt;/li>
&lt;/ul>
&lt;h2 id="-Â§çÂà∂ÂéüÁêÜ">üìñ Â§çÂà∂ÂéüÁêÜ&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>üë£ ‰∏ªÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆÂèòÊõ¥‰ºöËÆ∞ÂΩïÂà∞ binlog ‰∏≠Ôºå‰∏ªÂ∫ì‰ºöÂàõÂª∫‰∏Ä‰∏™ binlog dump threadÔºåÂ∞Ü binlog ‰º†ËæìÂà∞‰ªéÂ∫ì&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üë£ ‰ªéÂ∫ìÂàõÂª∫ IO Á∫øÁ®ãÔºåÂ∞Ü‰∏ªÂ∫ì‰º†Êù•ÁöÑ binlog ÂÜôÂÖ•Âà∞Ëá™Â∑±ÁöÑ relay log ‰∏≠ÁªßÊó•Âøó&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üë£ ‰ªéÂ∫ìÂàõÂª∫ SQL Á∫øÁ®ãÔºå‰ªé relay log ‰∏≠ËØªÂèñÊï∞ÊçÆÔºåÈáçÊîæÂà∞Êï∞ÊçÆÂ∫ì‰∏≠&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>ËøôÈáåÁöÑ IO Á∫øÁ®ã Âíå SQL Á∫øÁ®ãÁöÑÂ∑•‰ΩúÊòØËß£ËÄ¶ÁöÑÔºåÂèØ‰ª•Áã¨Á´ãËøêË°å„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/master-slave-replication/copy.png"
width="1080"
height="603"
srcset="https://emerywan.github.io/blog/blog/p/mysql/master-slave-replication/copy_hu2815b7bcceb4bc2e593bd903d3b2a777_501311_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mysql/master-slave-replication/copy_hu2815b7bcceb4bc2e593bd903d3b2a777_501311_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="179"
data-flex-basis="429px"
>&lt;/p>
&lt;h2 id="-Â§çÂà∂Ê†ºÂºè">üé´ Â§çÂà∂Ê†ºÂºè&lt;/h2>
&lt;p>MySQL Êúâ‰∏âÁßçÊñπÂºèËÆ∞ÂΩï binlogÔºåÂêåÊ†∑Âú®Â§çÂà∂Êó∂Ôºå‰πüÂØπÂ∫îÊúâ‰∏âÁßçÂ§çÂà∂Ê†ºÂºè„ÄÇ&lt;/p>
&lt;p>üí° Â¶ÇÊûúÈúÄË¶ÅÂÆâÂÖ®ÁöÑÊï∞ÊçÆÂ§çÂà∂ÊñπÊ≥ïÔºåÊé®Ëçê‰ΩøÁî®&lt;strong>Âü∫‰∫éË°å&lt;/strong>ÁöÑÊ†ºÂºèÂ§çÂà∂ÔºåÈô§ÈùûÊüê‰∫õÂú∫ÊôØ‰∏ãÊòéÁ°ÆÈúÄË¶Å‰∏¥Êó∂‰ΩøÁî®Âü∫‰∫éËØ≠Âè•ÁöÑÊ†ºÂºè„ÄÇ&lt;/p>
&lt;h3 id="-Âü∫‰∫éËØ≠Âè•-statement">üìÉ Âü∫‰∫éËØ≠Âè• statement&lt;/h3>
&lt;p>ÈÄöËøáÈáçÊñ∞ÊâßË°å‰∏ªÊúçÂä°Âô®‰∏≠ÊâßË°åËøáÁöÑ SQL ËØ≠Âè•Êù•ÂÆåÊàêÂ§çÂà∂ÁöÑ„ÄÇ&lt;/p>
&lt;p>‰ºòÁÇπüôã‚Äç ÊòØÁÆÄÂçïÁ¥ßÂáëÔºå‰æãÂ¶ÇÊâπÈáèÊõ¥Êñ∞‰∫Ü 1000 Êù°Êï∞ÊçÆÔºå‰πüÂè™ÈúÄË¶Å‰∏ÄÊù°ËØ≠Âè•ÔºåËäÇÁ∫¶ IO„ÄÇ&lt;/p>
&lt;p>Áº∫ÁÇπüôÖ‚Äç‚ôÇÔ∏è ÊòØÂú®‰∏Ä‰∫õÊÉÖÂÜµ‰∏ãÔºåÂèØËÉΩÂØºËá¥‰∏ª‰ªéÊï∞ÊçÆ‰∏ç‰∏ÄËá¥Ôºà‰æãÂ¶Ç‰ΩøÁî®‰∫Ü now() ËøôÊ†∑ÁöÑÂáΩÊï∞Ôºâ„ÄÇ&lt;/p>
&lt;h3 id="-Âü∫‰∫éË°å-row">üìì Âü∫‰∫éË°å row&lt;/h3>
&lt;p>Âü∫‰∫éË°åÁöÑÊó•Âøó‰∏≠ÔºåËÆ∞ÂΩï‰∫ÜËØ•Ë°åÊï∞ÊçÆÂèëÁîü‰∫Ü‰ªÄ‰πàÂèòÂåñÔºåÂåÖÂê´ËØ•Ë°å‰øÆÊîπÂâçÂíå‰øÆÊîπÂêéÁöÑÊÉÖÂÜµ„ÄÇÂú®ÊâßË°åÊó∂ÔºåËøõË°åËß£ÊûêÔºåÊâæÂà∞ÈúÄË¶ÅÂèòÊõ¥ÁöÑËÆ∞ÂΩïËøõË°åÊìç‰Ωú„ÄÇ&lt;/p>
&lt;p>‰ºòÁÇπüôã ÊòØÊï∞ÊçÆÂÖ∑ÊúâÂº∫Á°ÆÂÆöÊÄß„ÄÇ&lt;/p>
&lt;p>Áº∫ÁÇπüôÖ‚Äç‚ôÇÔ∏è ÊòØÂèØËÉΩ‰ºöÂØºËá¥Êó•Âøó‰∏≠ËÆ∞ÂΩïÂ§ßÈáèÊï∞ÊçÆ„ÄÇÊØîÂ¶ÇÂú®ÊâπÈáèÊõ¥Êñ∞Êó∂ÔºåÂá∫Áé∞Â§ßÈáèÁöÑË°åÁöÑ‰øÆÊîπÔºå‰ΩÜÊòØËØ≠Âè•ÂèØËÉΩÂè™Êúâ‰∏ÄÊù°„ÄÇ&lt;/p>
&lt;h3 id="-Ê∑∑ÂêàÊ®°Âºè-mix">üñáÔ∏è Ê∑∑ÂêàÊ®°Âºè mix&lt;/h3>
&lt;p>‚ÄúËØïÂõæ‚Äù Ê∑∑ÂêàÊ®°ÂºèÁªìÂêà‰ª•‰∏ä‰∏§ÁßçÊ†ºÂºèÁöÑ‰ºòÁÇπ„ÄÇÔºàÂèØËÉΩ‰ºöÊúâüòµ&lt;strong>‰∏çÁ®≥ÂÆö&lt;/strong>ÁöÑÊÉÖÂÜµÔºâ&lt;/p>
&lt;p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ã‰ΩøÁî®Âü∫‰∫éËØ≠Âè•ÁöÑÊ†ºÂºèÔºåÂú®ÊúâÈúÄË¶ÅÊó∂ÂàáÊç¢Âà∞Âü∫‰∫éË°åÁöÑÊ†ºÂºè„ÄÇ&lt;strong>Âú®ÂÜôÂÖ•‰∫ã‰ª∂Êó∂Ôºå‰ºöÊúâÂæàÂ§öÁöÑÂà§Êñ≠Êù°‰ª∂&lt;/strong>„ÄÇ&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;h2 id="-Â§çÂà∂Ê®°Âºè">üéöÔ∏è Â§çÂà∂Ê®°Âºè&lt;/h2>
&lt;h3 id="-ÂºÇÊ≠•Ê®°ÂºèÈªòËÆ§">üåë ÂºÇÊ≠•Ê®°ÂºèÔºàÈªòËÆ§Ôºâ&lt;/h3>
&lt;p>‰∏ªÂ∫ì‰∏ç‰ºö‰∏ªÂä®Êé®ÈÄÅ binlog Áªô‰ªéÂ∫ìÔºå‰∫ãÂä°ÊâßË°åÂÆåÁõ¥Êé•ËøîÂõûÔºå‰∏çÂÖ≥ÂøÉ‰ªéÂ∫ìÊòØÂê¶Êé•Êî∂Âà∞Êï∞ÊçÆÔºå‰ªéÂ∫ìÈÄöËøáÂºÇÊ≠•ÁöÑÊñπÂºèËøõË°å‰∏ª‰ªéÂ§çÂà∂„ÄÇ&lt;/p>
&lt;h3 id="-ÂçäÂêåÊ≠•Ê®°Âºè">üåì ÂçäÂêåÊ≠•Ê®°Âºè&lt;/h3>
&lt;p>‰∏ªÂ∫ìÊâßË°åÁöÑ‰∫ãÂä°ÔºåÁ≠âÂà∞Ëá≥Â∞ë‰∏Ä‰∏™‰ªéÂ∫ìÂ∞ÜÊó•ÂøóËÆ∞ÂΩïÂà∞‰∫Ü relay log ‰∏≠‰πãÂêéÔºåÂÜçÊèê‰∫§Ôºà‰∏çËÉΩ‰øùËØÅ‰ªéÂ∫ìÊâßË°åÂÆåÊàêÔºåÂè™ËÉΩ‰øùËØÅ‰∏Ä‰∏™‰ªéÂ∫ìÊî∂Âà∞‰∫ÜÊó•ÂøóÔºâ„ÄÇ&lt;/p>
&lt;p>Ê≥®ÊÑèÔºöÂ¶ÇÊûú‰ªéÂ∫ìÂú®Ë∂ÖÊó∂Êó∂Èó¥‰πãÂÜÖÊ≤°ÊúâËøîÂõûÔºå‰ºöÈÄÄÂåñÊàêÂºÇÊ≠•Ê®°Âºè„ÄÇ&lt;/p>
&lt;h3 id="-ÂÖ®ÂêåÊ≠•Ê®°Âºè">üåï ÂÖ®ÂêåÊ≠•Ê®°Âºè&lt;/h3>
&lt;p>‰∏ªÂ∫ìÊâßË°åÁöÑ‰∫ãÂä°ÔºåÁ≠âÂà∞ÊâÄÊúâÁöÑ‰ªéÂ∫ìÈÉΩÊâßË°åÂÆåÊàê‰πãÂêéÔºå‰∏ªÂ∫ìÊâç‰ºöÊèê‰∫§ÔºåËøîÂõûÊàêÂäü‰ø°ÊÅØÁªôÂÆ¢Êà∑Á´Ø„ÄÇ&lt;/p>
&lt;p>Âú®ÂÆûÈôÖÈ°πÁõÆ‰∏≠ÔºåÂü∫Êú¨‰∏ç‰ºö‰ΩøÁî®„ÄÇ‰ºö‰∏•ÈáçÂΩ±ÂìçÊÄßËÉΩÔºåÂè™Ë¶ÅÊúâ‰∏Ä‰∏™‰ªéÂ∫ìÂèëÁîüÊïÖÈöúÔºåÂ∞±‰ºöÂΩ±Âìç‰∏öÂä°Ê≠£Â∏∏ËøõË°å„ÄÇ&lt;/p>
&lt;h2 id="ÂèÇËÄÉ">ÂèÇËÄÉ&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://ost.51cto.com/posts/11721" target="_blank" rel="noopener"
>https://ost.51cto.com/posts/11721&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&amp;amp;mid=2651961330&amp;amp;idx=1&amp;amp;sn=4bdbada3b26d4fc2fc505f7a0f2ad7c4" target="_blank" rel="noopener"
>https://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&amp;mid=2651961330&amp;idx=1&amp;sn=4bdbada3b26d4fc2fc505f7a0f2ad7c4&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Redis Â§çÂà∂</title><link>https://emerywan.github.io/blog/p/redis/replication/</link><pubDate>Wed, 01 Mar 2023 18:52:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/redis/replication/</guid><description>&lt;img src="https://emerywan.github.io/blog/p/redis/replication/replication.png" alt="Featured image of post Redis Â§çÂà∂" />&lt;h2 id="Âª∫Á´ãÂ§çÂà∂">Âª∫Á´ãÂ§çÂà∂&lt;/h2>
&lt;p>ÂèÇ‰∏éÂ§çÂà∂ÁöÑ Redis ÂÆû‰æãË¢´ÂàíÂàÜ‰∏∫Ôºö&lt;/p>
&lt;ul>
&lt;li>‰∏ªËäÇÁÇπ &lt;code>master&lt;/code>&lt;/li>
&lt;li>‰ªéËäÇÁÇπ &lt;code>slave&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>‰∏Ä‰∏™‰∏ªËäÇÁÇπÂèØ‰ª•ÊúâÂ§ö‰∏™‰ªéËäÇÁÇπÔºåÊï∞ÊçÆÁöÑÂ§çÂà∂ÊòØÂçïÂêëÁöÑ &lt;code>master -&amp;gt; slave&lt;/code>„ÄÇ&lt;/p>
&lt;p>ÈÄöËøá‰∏ª‰ªéÂ§çÂà∂ÔºåÂèØ‰ª•ÂÆûÁé∞„ÄåËØªÂÜôÂàÜÁ¶ª„ÄçÔºå‰∏ªÊúçÂä°Âô®Ë¥üË¥£„ÄåÂÜô„ÄçÊìç‰ΩúÔºå‰ªéÊúçÂä°Âô®Ë¥üË¥£„ÄåËØª„ÄçÊìç‰Ωú„ÄÇ&lt;/p>
&lt;p>ÂêåÊó∂Ôºå‰ªéËäÇÁÇπ‰πüÂèØ‰ª•‰Ωú‰∏∫‰∏ªËäÇÁÇπÁöÑÂ§á‰ªΩ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/redis/replication/read-write.png"
width="902"
height="422"
srcset="https://emerywan.github.io/blog/blog/p/redis/replication/read-write_huc9c3964624999041f81d0c7b2328e956_42565_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/redis/replication/read-write_huc9c3964624999041f81d0c7b2328e956_42565_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="213"
data-flex-basis="512px"
>&lt;/p>
&lt;p>Âú®‰ªéÊúçÂä°Âô®‰∏≠Ôºå‰ΩøÁî® &lt;code>slaveof&lt;/code> / &lt;code>replicaof&lt;/code> ÂëΩ‰ª§/ÈÖçÁΩÆÔºåÂª∫Á´ã‰∏ª‰ªéÊúçÂä°ÂÖ≥Á≥ªÔºåÊâßË°åÂëΩÂêçÂêéÔºå‰ªéËäÇÁÇπÂè™‰ºö‰øùÂ≠ò‰∏ªËäÇÁÇπÁöÑ‰ø°ÊÅØÔºåÂÖ∂‰ΩôÁöÑÂ§çÂà∂ÊµÅÁ®ãÂú®ËäÇÁÇπÂÜÖÈÉ®ÂºÇÊ≠•ËøõË°å„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÈÖçÁΩÆÊñá‰ª∂‰∏≠ËÆæÁΩÆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">slaveof &lt;span class="o">{&lt;/span>masterHost&lt;span class="o">}&lt;/span> &lt;span class="o">{&lt;/span>masterPort&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÂêØÂä®‰ªéÊúçÂä°Êó∂&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">redis-server --slaveof &lt;span class="o">{&lt;/span>masterHost&lt;span class="o">}&lt;/span> &lt;span class="o">{&lt;/span>masterPort&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ‰ªéÊúçÂä°‰∏≠‰ΩøÁî®ÂëΩ‰ª§&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">slaveof &lt;span class="o">{&lt;/span>masterHost&lt;span class="o">}&lt;/span> &lt;span class="o">{&lt;/span>masterPort&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ÂêåÊ≠•ÂéüÁêÜ">ÂêåÊ≠•ÂéüÁêÜ&lt;/h3>
&lt;p>Redis ÂÜÖÈÉ®‰ΩøÁî® &lt;code>psync&lt;/code> ÂÆåÊàê‰∏ª‰ªéÊï∞ÊçÆÁöÑÂêåÊ≠•„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># runID ‰øùÂ≠òÁöÑ‰∏ªÊúçÂä°Âô®ÁöÑ id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># offset ÂÅèÁßªÈáèÔºåÁ¨¨‰∏ÄÊ¨°ÂêåÊ≠•‰∏∫ -1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">psync &lt;span class="o">{&lt;/span>runID&lt;span class="o">}&lt;/span> &lt;span class="o">{&lt;/span>offset&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>
&lt;p>üë£ ‰∏ªÊúçÂä°Âô®‰ºöÊâßË°å &lt;code>bgsave&lt;/code> ÂëΩ‰ª§Êù•ÁîüÊàê RDB Êñá‰ª∂ÔºåÁÑ∂ÂêéÊääÊñá‰ª∂ÂèëÈÄÅÁªô‰ªéÊúçÂä°Âô®„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üë£ ‰ªéÊúçÂä°Âô®Êî∂Âà∞ RDB Êñá‰ª∂ÂêéÔºå‰ºöÂÖà„ÄåÊ∏ÖÁ©∫ÂΩìÂâçÁöÑÊï∞ÊçÆ„ÄçÔºåÁÑ∂ÂêéËΩΩÂÖ• RDB Êñá‰ª∂„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üë£ Âú®Â§çÂà∂ÊúüÈó¥Ôºå‰∏ªÊúçÂä°Âô®‰æùÁÑ∂ÂèØ‰ª•Ê≠£Â∏∏Â§ÑÁêÜÂëΩ‰ª§ÔºàÈÄöËøáforkÂ≠êËøõÁ®ãÔºå‰ΩøÁî® copy-on-wirite COWÔºâÔºå‰∏∫‰∫Ü‰øùÈöúÊï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄßÔºåÂÜôÂëΩ‰ª§‰ºöË¢´ÂêåÊó∂ËÆ∞ÂΩïÂú® „ÄåÂ§çÂà∂ÂÆ¢Êà∑Á´ØÁºìÂÜ≤Âå∫„Äç&lt;code>replication buffer&lt;/code> ‰∏≠Ôºå‰ªéÊúçÂä°Âô®Âä†ËΩΩÂÆå RDB ÂêéÔºå‰ºöÁªßÁª≠ËøêË°åÁºìÂ≠òÂå∫‰∏≠ËÆ∞ÂΩïÁöÑÂëΩ‰ª§„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="ÈÉ®ÂàÜÂ§çÂà∂">ÈÉ®ÂàÜÂ§çÂà∂&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>üìÉ Â§çÂà∂ÂÅèÁßªÈáè offset&lt;/p>
&lt;p>ÂèÇ‰∏é‰∏ª‰ªéÁöÑËäÇÁÇπÈÉΩ‰ºöÁª¥Êä§Ëá™Ë∫´ÁöÑÂ§çÂà∂ÂÅèÁßªÈáèÔºåÂ§ÑÁêÜÂÆå„ÄåÂÜôÂëΩ‰ª§„ÄçÂêéÔºåÈÉΩ‰ºöÁ¥ØËÆ°ÂëΩ‰ª§ÁöÑÂ≠óËäÇÈïøÂ∫¶„ÄÇ&lt;/p>
&lt;p>‰ªéËäÇÁÇπ‰ºöÊØèÁßíÈíü‰ºöÂêë‰∏ªËäÇÁÇπ‰∏äÊä•Ëá™Ë∫´ÁöÑÂ§çÂà∂ÂÅèÁßªÈáè„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‚ôí Â§çÂà∂ÁßØÂéãÁºìÂÜ≤Âå∫&lt;/p>
&lt;p>replication backlog buffer&lt;/p>
&lt;p>Êú¨Ë¥®‰∏ä‰∏Ä‰∏™ÂÖàËøõÂÖàÂá∫ÁöÑÂÆöÈïøÈòüÂàóÔºàÈªòËÆ§‰∏§‰∏™Ôºå2 * 1MÔºâÔºå‰∏é MySQL redolog ‰∏ÄÊ†∑ÊòØÂæ™ÁéØÂÜôÂÖ•ÔºåÊñ∞Êï∞ÊçÆ‰ºöË¶ÜÁõñÊóßÊï∞ÊçÆ„ÄÇ&lt;/p>
&lt;p>‰∏ªËäÇÁÇπÂìçÂ∫îÂÜôÂëΩ‰ª§ÂêéÔºåÂèëÈÄÅÂëΩ‰ª§Âà∞‰ªéËäÇÁÇπÊó∂ÔºåÂêåÊó∂‰ºöÂ∞ÜÊï∞ÊçÆÂÜôÂÖ•Â§çÂà∂ÁßØÂéãÁºìÂÜ≤Âå∫ÔºåÁî®‰∫éÈÉ®ÂàÜÂ§çÂà∂ÂëΩ‰ª§‰∏¢Â§±ÊòØÁöÑÊï∞ÊçÆË°•Êïë„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>‰∏ª‰ªéÊúçÂä°Âô®Âú®ÂÆåÊàêÁ¨¨‰∏ÄÊ¨°ÂÖ®ÈáèÂ§çÂà∂‰πãÂêéÔºå‰ºöÈÄöËøáÈïøËøûÊé•ËøõË°åÂëΩ‰ª§‰º†Êí≠„ÄÇ&lt;/p>
&lt;p>Áî±‰∫éÁΩëÁªúÊòØ‰∏çÁ®≥ÂÆöÁöÑÔºå‰ªéÊúçÂä°Âô®ÂèØËÉΩ‰ºöÊúâÁü≠ÊöÇÁöÑÊñ≠ÂºÄÔºåÂΩìÈáçÊñ∞Âª∫Á´ãËøûÊé•‰πãÂêéÔºåÂèØ‰ª•Ê†πÊçÆÊÉÖÂÜµ‰ΩøÁî®Â¢ûÈáèÂ§çÂà∂Êù•ÂêåÊ≠•Êï∞ÊçÆÔºåÈÅøÂÖç‰∫ÜÂÖ®ÈáèÂ§çÂà∂Â∏¶Êù•ÁöÑÊÄßËÉΩÂºÄÈîÄ„ÄÇ&lt;/p>
&lt;p>Â¢ûÈáèÂ§çÂà∂ÂêåÊ†∑ÈááÁî®‰∫Ü &lt;code>psync&lt;/code> Êù•ÂêåÊ≠•Ôºå‰ªéÊúçÂä°Âô®ÈÄöËøá offset Êù•ÂëäÁü•‰∏ªÊúçÂä°Âô®ÂΩìÂâçÁöÑÊï∞ÊçÆÂÅèÁßªÊÉÖÂÜµ„ÄÇ&lt;/p>
&lt;p>ÂΩì‰ªéÊúçÂä°Âô®ÁöÑÂÅèÁßªÈáèËÉΩÂ§üÂú®Â§çÂà∂ÁßØÂéãÁºìÂÜ≤Âå∫‰∏≠ÊâæÂà∞Ôºå‰ºöËøõË°åÈÉ®ÂàÜÂ§çÂà∂ÔºõÂΩìÂÅèÁßªÊï∞ÊçÆËøáÂ§ßÔºåÂ∑≤Ë¢´Ë¶ÜÁõñÊó†Ê≥ïÊâæÂà∞Êó∂Ôºå‰ºöÈÄÄÂåñ‰∏∫ÂÖ®ÈáèÂ§çÂà∂„ÄÇ&lt;/p>
&lt;h3 id="-‰øùÊåÅËøûÊé•">üíì ‰øùÊåÅËøûÊé•&lt;/h3>
&lt;p>‰∏ª‰ªéËäÇÁÇπÈó¥ÊúâÂøÉË∑≥Ê£ÄÊµãÊú∫Âà∂Ôºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>‰∏ªËäÇÁÇπÊØè 10s Âêë‰ªéËäÇÁÇπÂèëÈÄÅ &lt;code>ping&lt;/code> ÂëΩ‰ª§ÔºåÂà§Êñ≠‰ªéËäÇÁÇπÁöÑËøûÊé•Áä∂ÊÄÅ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‰ªéËäÇÁÇπÊØè 1s ‰∏äÊä•Ëá™Ë∫´ offset ÊÉÖÂÜµ&lt;/p>
&lt;ul>
&lt;li>ÂÆûÊó∂ÁõëÊéß‰ªéËäÇÁÇπÁΩëÁªúÁä∂ÊÄÅÔºåÂª∂ËøüÊÄß&lt;/li>
&lt;li>Âà§Êñ≠Êï∞ÊçÆÊòØÂê¶‰∏¢Â§±&lt;/li>
&lt;li>‰øùÈöú‰ªéËäÇÁÇπÁöÑËøûÊé•Êï∞Èáè&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="-ËØªÂÜôÂàÜÁ¶ªÈóÆÈ¢ò">üìö ËØªÂÜôÂàÜÁ¶ªÈóÆÈ¢ò&lt;/h2>
&lt;h3 id="-Êï∞ÊçÆÂª∂Ëøü">üé∞ Êï∞ÊçÆÂª∂Ëøü&lt;/h3>
&lt;p>Redis Áî±‰∫éÂºÇÊ≠•Â§çÂà∂ÁöÑÁâπÊÄßÔºåÂª∂ËøüÊòØÊó†Ê≥ïÈÅøÂÖçÁöÑÔºåÂèñÂÜ≥‰∫éÂΩìÂâçÁöÑÁΩëÁªúÊÉÖÂÜµÂíåÂëΩ‰ª§ÈòªÂ°ûÊÉÖÂÜµ„ÄÇ&lt;/p>
&lt;p>ÈÄÇÂêà‰∫é‰∏öÂä°Âú∫ÊôØÂØπÂª∂Ëøü‰∏çÊïèÊÑüÁöÑÂú∫ÊôØ„ÄÇÊ†πÊçÆÂÖ∑‰Ωì‰∏öÂä°Âú∫ÊôØËÄåÂÆöÔºåÂèØ‰ª•ËÄÉËôë‰ΩøÁî® Redis ÈõÜÁæ§ÂÅöÊ∞¥Âπ≥Êâ©Â±ïÁöÑÊñπÊ°à„ÄÇ&lt;/p>
&lt;h3 id="-ËøáÊúüÊï∞ÊçÆ">üóëÔ∏è ËøáÊúüÊï∞ÊçÆ&lt;/h3>
&lt;p>Âú® Redis ‰∏≠ÔºåÊúâÔºà1ÔºâÂÆöÊúüÂà†Èô§ÔºõÔºà2ÔºâÊÉ∞ÊÄßÂà†Èô§Ôºõ‰∏§ÁßçÂà†Èô§ÊñπÊ°à„ÄÇ&lt;/p>
&lt;p>Âú®‰ªéÊúçÂä°Âô®‰∏≠Ôºå‰∏ç‰ºö‰∏ªÂä®Ê£ÄÊü•ÊòØÂê¶ËøáÊúüÔºå‰∏ªÊúçÂä°Âô®‰∏≠ÊâæÂà∞ËøáÊúüÊï∞ÊçÆÔºå‰ºöÂêåÊ≠•‰∏ÄÊù° &lt;code>DEL&lt;/code> ÂëΩ‰ª§Âà∞‰ªéÊúçÂä°Âô®‰∏≠ÔºåÂà†Èô§ËøáÊúüÊï∞ÊçÆ„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Âú® Redis 3.2-Ôºå‰ªéÊúçÂä°Âô®‰ºöÁõ¥Êé•ËøîÂõûËøáÊúüÊï∞ÊçÆÔºå‰∏ç‰ºöËøõË°åÊ£ÄÊü•&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Âú® Redis 3.2+ÔºåÂú®ËøîÂõûÊï∞ÊçÆÂâçÔºå‰ºöÊ£ÄÊü•ËøáÊúüÊó∂Èó¥ÔºåËß£ÂÜ≥‰∫Ü‰ªéÊúçÂä°Âô®ËØªÂèñÂà∞ËøáÊúüÊï∞ÊçÆÁöÑÈóÆÈ¢ò&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-ËäÇÁÇπÊïÖÈöú">üåÄ ËäÇÁÇπÊïÖÈöú&lt;/h3>
&lt;p>ÂΩì‰∏ªËäÇÁÇπÂÆïÊú∫ÂêéÔºå‰ªéËäÇÁÇπÊòØÊó†Ê≥ïËá™Âä®ÂçáÁ∫ß‰∏∫‰∏ªËäÇÁÇπÁöÑÔºåÈúÄË¶Å‰∫∫Â∑•Âπ≤È¢Ñ„ÄÇ&lt;/p>
&lt;p>ËÄÉËôë‰ΩøÁî® Redis Âì®ÂÖµÊ®°ÂºèÊàñÈõÜÁæ§ÊñπÊ°à„ÄÇ&lt;/p>
&lt;h2 id="-Áõ∏ÂÖ≥‰ºòÂåñ">üëç Áõ∏ÂÖ≥‰ºòÂåñ&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>ÈÅøÂÖçÂÖ®ÈáèÂ§çÂà∂&lt;/p>
&lt;p>‰∏ª‰ªéÂ§çÂà∂ÁöÑÂÖ®ÈáèÂ§çÂà∂ÊòØ‰∏Ä‰∏™ÈùûÂ∏∏Ê∂àËÄóËµÑÊ∫êÁöÑÊìç‰ΩúÔºåÈô§‰∫ÜÁ¨¨‰∏ÄÊ¨°Â§çÂà∂ÁöÑÂÖ®ÈáèÂ§çÂà∂Ôºå‰πãÂêéÈúÄË¶ÅÂ∞ΩÈáèÈÅøÂÖçÂÖ®ÈáèÂ§çÂà∂„ÄÇ&lt;/p>
&lt;p>Â§çÂà∂ÁßØÂéãÁºìÂ≠òÂå∫‰∏çË∂≥Ôºå‰ºöÂØºËá¥Â§çÂà∂ÈÄÄÂåñ‰∏∫ÂÖ®ÈáèÂ§çÂà∂ÔºåÂú®ËøêÁª¥Êó∂ÔºåÂèØ‰ª•Ê†πÊçÆÂÆûÈôÖÊÉÖÂÜµÂ¢ûÂä†ÁºìÂÜ≤Âå∫ÁöÑÂÆπÈáè„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÈÅøÂÖçÂ§çÂà∂È£éÊö¥&lt;/p>
&lt;p>ÂΩì‰∏Ä‰∏™‰∏ªËäÇÁÇπ‰∏äÊåÇËΩΩ‰∫ÜÂ§ö‰∏™‰ªéËäÇÁÇπÔºåÂ¶ÇÊûúÂêåÊó∂‰∏éÂ§ö‰∏™‰ªéËäÇÁÇπËøõË°åÂÖ®ÈáèÂêåÊ≠•Êó∂Ôºå‰ºöÂêëÂ§ö‰∏™‰ªéËäÇÁÇπÂèëÈÄÅRDBÊñá‰ª∂ÔºàRedis ÂÅö‰∫Ü‰ºòÂåñÂèØÂÖ±‰∫´‰∏Ä‰∏™ RDBÔºâÔºåÂØºËá¥ÁΩëÁªúÂ∏¶ÂÆΩÁöÑ‰∏•ÈáçÊ∂àËÄóÔºåÈÄ†ÊàêÂª∂ËøüÈóÆÈ¢ò„ÄÇ&lt;/p>
&lt;p>Âª∫ËÆÆ‰ΩøÁî®ÈìæÁä∂/Ê†ëÁä∂ÁªìÊûÑÔºå‰ªéËäÇÁÇπÊåÇËΩΩÂà∞‰ªéËäÇÁÇπ‰∏ä„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂçïÊú∫Â§çÂà∂È£éÊö¥&lt;/p>
&lt;p>Áî±‰∫é Redis ÁöÑÁì∂È¢à‰∏çÂú® CPU ‰∏äÔºåÈÄöÂ∏∏‰ºöÂú®‰∏ÄÂè∞ÊúçÂä°Âô®‰∏äÈÉ®ÁΩ≤Â§ö‰∏™ÂÆû‰æã„ÄÇ
‰∏∫‰∫ÜÈÅøÂÖçÁâ©ÁêÜÊú∫ÈóÆÈ¢òÂØºËá¥ÁöÑÊïÖÈöúÔºåÂØºËá¥ÊÅ¢Â§çÂêéÂ§ßÈáè‰ªéËäÇÁÇπÂêë‰∏ÄÂè∞Êú∫Âô®ËøõË°åÂ§çÂà∂Êìç‰ΩúÔºåÈÉ®ÁΩ≤Êó∂Â∫îËØ•Êää‰∏çÂêåÊúçÂä°ÁöÑ‰∏ªËäÇÁÇπÂàÜÊï£Âà∞Â§öÂè∞Êú∫Âô®‰∏ä„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="-Âì®ÂÖµÊú∫Âà∂">üé∫ Âì®ÂÖµÊú∫Âà∂&lt;/h2>
&lt;p>Redis Âú®‰∏ª‰ªéÊ®°Âºè‰∏ãÔºå‰∏ÄÊó¶‰∏ªËäÇÁÇπÊïÖÈöúüòìÔºåÈúÄË¶Å‰∫∫Â∑•Âπ≤È¢ÑÂ∞Ü‰ªéËäÇÁÇπÊèêÂçá‰∏∫‰∏ªËäÇÁÇπÔºåÂêåÊó∂ÈúÄË¶ÅÂú®ÂÆ¢Êà∑Á´ØÈÖçÁΩÆÊñ∞ÁöÑ‰∏ªËäÇÁÇπÂú∞ÂùÄ„ÄÇ&lt;/p>
&lt;p>‰∏∫‰∫ÜËææÂà∞È´òÂèØÁî®ÔºåÊèê‰æõ‰∫ÜÂì®ÂÖµÊ®°Âºè &lt;code>Redis Sentinel&lt;/code> Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåËá™Âä®ÂÆåÊàêÊïÖÈöúÂèëÁé∞ÂíåÊïÖÈöúËΩ¨Áßª„ÄÇ&lt;/p>
&lt;p>Âú®Âì®ÂÖµÊ®°Âºè‰∏ãÔºåÁõ∏ÊØî‰∫éÂ§çÂà∂Ê®°ÂºèÔºåÂè™ÊòØÂ§ö‰∫Ü Sentinel ËäÇÁÇπÔºå‰∏ª‰ªéÊ®°Âºè‰∏ãÁöÑ Redis ËäÇÁÇπÊ≤°Êúâ‰ªª‰ΩïÁâπÊÆäÂ§ÑÁêÜ„ÄÇ
ÂÖ∂‰∏≠ÔºåSentinel ËäÇÁÇπÊú¨Ë¥®‰∏äÊòØÁâπÊÆäÁöÑ Redis ËäÇÁÇπÔºåÂè™ÊòØ‰∏ç‰ºöÂ≠òÂÇ®Êï∞ÊçÆÔºåÂè™ÊîØÊåÅÈÉ®ÂàÜÂëΩ‰ª§„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/redis/replication/sentinel.png"
width="545"
height="732"
srcset="https://emerywan.github.io/blog/blog/p/redis/replication/sentinel_hu9ca24b6840f6afec965ea3fe9eb87fe5_297258_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/redis/replication/sentinel_hu9ca24b6840f6afec965ea3fe9eb87fe5_297258_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="74"
data-flex-basis="178px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üîç ÁõëÊéß&lt;/p>
&lt;p>ÊØè‰∏™Âì®ÂÖµËäÇÁÇπ‰ºöÂÆöÊúüÊ£ÄÊü• Redis Êï∞ÊçÆËäÇÁÇπ„ÄÅÂÖ∂‰ΩôÂì®ÂÖµËäÇÁÇπÊòØÂê¶ÂèØËææ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üìß ÈÄöÁü•&lt;/p>
&lt;p>Âì®ÂÖµËäÇÁÇπ‰ºöÂ∞ÜÊïÖÈöúËΩ¨ÁßªÁöÑÁªìÊûúÈÄöÁü•ÁªôÂ∫îÁî®Êñπ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üìá ‰∏ªËäÇÁÇπÊïÖÈöúËΩ¨Áßª&lt;/p>
&lt;p>ÂèØ‰ª•ÂÆûÁé∞ÊïÖÈöúÊó∂ÔºåÂ∞Ü‰ªéËäÇÁÇπÊôãÂçá‰∏∫‰∏ªËäÇÁÇπÔºåÂπ∂Áª¥Êä§Ê≠£Á°ÆÁöÑ‰∏ª‰ªéÂÖ≥Á≥ª„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üìë ÈÖçÁΩÆÊèê‰æõËÄÖ&lt;/p>
&lt;p>Âú®Âì®ÂÖµÁªìÊûÑ‰∏≠ÔºåÂÆ¢Êà∑Á´ØÂàùÂßãÂåñËøûÊé•ÁöÑÊòØÂì®ÂÖµÈõÜÁæ§Ôºå‰ªé‰∏≠Ëé∑Âèñ‰∏ªËäÇÁÇπÁöÑ‰ø°ÊÅØ„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="‰∏ªËßÇ‰∏ãÁ∫øÂíåÂÆ¢ËßÇ‰∏ãÁ∫ø">‰∏ªËßÇ‰∏ãÁ∫øÂíåÂÆ¢ËßÇ‰∏ãÁ∫ø&lt;/h3>
&lt;h4 id="-‰∏ªËßÇ‰∏ãÁ∫ø">üßê ‰∏ªËßÇ‰∏ãÁ∫ø&lt;/h4>
&lt;p>‚Äù‰∏ÄÂÆ∂‰πãË®Ä‚Äú&lt;/p>
&lt;p>Sentinel ÊØè 1s ‰ºöÂêëÂÖ∂‰ªñÊâÄÊúâËäÇÁÇπÂèëÈÄÅ &lt;code>ping&lt;/code> ËøõË°åüíìÂøÉË∑≥Ê£ÄÊµãÔºåÂΩìËäÇÁÇπË∂ÖËøáÊó∂Èó¥Ê≤°ÊúâÂõûÂ§çÔºåÂ∞±‰ºöÂØπËØ•ËäÇÁÇπÂÅöÂ§±Ë¥•Âà§ÂÆö„ÄÇÂè™ÊúâËøô‰∏Ä‰∏™ËäÇÁÇπÁöÑÂà§ÂÆöÁß∞‰∏∫„Äå‰∏ªËßÇ‰∏ãÁ∫ø„Äç„ÄÇ&lt;/p>
&lt;h4 id="-ÂÆ¢ËßÇ‰∏ãÁ∫ø">üó≥Ô∏è ÂÆ¢ËßÇ‰∏ãÁ∫ø&lt;/h4>
&lt;p>ÂΩì‰∏ªËßÇ‰∏ãÁ∫øÁöÑ‰∏∫‰∏ªËäÇÁÇπÊó∂ÔºåÂΩìÂâç Sentinel ËäÇÁÇπ‰ºöËØ¢ÈóÆÂÖ∂‰ªñÂì®ÂÖµÂØπËØ•‰∏ªËäÇÁÇπÁöÑÂà§Êñ≠ÔºåÂΩìÂ§öÊï∞Âì®ÂÖµÈÉΩÂØπ‰∏ªËäÇÁÇπÁöÑ‰∏ãÁ∫øÂÅö‰∫ÜÂêåÊÑèÂà§ÂÆöÔºåË∂ÖËøáÈÖçÁΩÆ‰∏≠ÁöÑ quorum ‰∏™Êï∞ÔºåËØ•ËäÇÁÇπÂ∞±Ë¢´Ê†áËÆ∞‰∏∫„ÄåÂÆ¢ËßÇ‰∏ãÁ∫ø„Äç„ÄÇ&lt;/p>
&lt;h3 id="‰∏â‰∏™ÂÆöÊó∂‰ªªÂä°">‰∏â‰∏™ÂÆöÊó∂‰ªªÂä°&lt;/h3>
&lt;p>Redis Sentinel ÈÄöËøá‰∏â‰∏™ÂÆöÊó∂‰ªªÂä°ÂØπÂêÑ‰∏™ËäÇÁÇπÂèëÁé∞ÂíåÁõëÊéßÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ÊØèÈöî 10sÔºåÊØè‰∏™Âì®ÂÖµËäÇÁÇπ‰ºöÂêë‰∏ªËäÇÁÇπÂíå‰ªéËäÇÁÇπÂèëÈÄÅ info ÂëΩ‰ª§Ëé∑ÂèñÊúÄÊñ∞ÁöÑÊãìÊâëÁªìÊûÑ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÊØèÈöî 2sÔºåÊØè‰∏™Âì®ÂÖµËäÇÁÇπ‰ºöÂêë Redis Êï∞ÊçÆËäÇÁÇπÁöÑ __sentinel__:hello È¢ëÈÅì‰∏äÂèëÈÄÅËØ• Sentinel ËäÇÁÇπÂØπ‰∫é‰∏ªËäÇÁÇπÁöÑÂà§Êñ≠Ôºå‰ª•ÂèäÂΩìÂâç Sentinel ËäÇÁÇπÁöÑ‰ø°ÊÅØ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÊØèÈöî 1sÔºåÊØè‰∏™Âì®ÂÖµ‰ºöÂêëÂÖ∂‰ªñÂì®ÂÖµËäÇÁÇπ„ÄÅ‰∏ªËäÇÁÇπ„ÄÅ‰ªéËäÇÁÇπÂèëÈÄÅ ping ÂëΩ‰ª§Âà§Êñ≠ÊòØÂê¶ÂèØËææ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="sentinel-È¢ÜÂØºÈÄâ‰∏æ">Sentinel È¢ÜÂØºÈÄâ‰∏æ&lt;/h3>
&lt;p>ÂΩìÁ°ÆÂÆöÂÆ¢ËßÇ‰∏ãÁ∫ø‰πãÂêéÔºåÈúÄË¶ÅËøõË°åÊïÖÈöúËΩ¨ÁßªÂ∑•‰Ωú„ÄÇÂÆûÈôÖ‰∏äÊïÖÈöúËΩ¨ÁßªÂ∑•‰ΩúÂè™ÈúÄË¶Å‰∏Ä‰∏™ Sentinel ËäÇÁÇπÊù•ÂÆåÊàêÂç≥ÂèØÔºåÊâÄ‰ª•ÈúÄË¶ÅÂÖàÂÅö‰∏Ä‰∏™È¢ÜÂØºËÄÖÈÄâ‰∏æÁöÑÂ∑•‰Ωú„ÄÇ&lt;/p>
&lt;p>Redis ‰ΩøÁî® &lt;a class="link" href="https://raft.github.io/" target="_blank" rel="noopener"
>Raft&lt;/a> ÁÆóÊ≥ïÂÆûÁé∞È¢ÜÂØºÁöÑÈÄâ‰∏æ„ÄÇ&lt;/p>
&lt;p>ÊØè‰∏™Âú®Á∫øÁöÑ Redis Sentinel ÈÉΩÊúâËµÑÊ†ºÊàê‰∏∫È¢ÜÂØºËÄÖÔºåÂú®‰∏Ä‰∏™Âì®ÂÖµÁ°ÆÂÆö‰∏ªËäÇÁÇπÂÆ¢ËßÇ‰∏ãÁ∫øÊó∂Ôºå‰ºöÂêëÂÖ∂‰ªñÁöÑËäÇÁÇπÂèëÈÄÅ &lt;code>sentinel is-master-down-by-addr&lt;/code> ÂëΩ‰ª§Ôºå
Ë¶ÅÊ±ÇÂ∞ÜËá™Â∑±ËÆæÁΩÆ‰∏∫È¢ÜÂØºËÄÖ„ÄÇ&lt;/p>
&lt;p>Êî∂Âà∞ÂëΩ‰ª§ÁöÑËäÇÁÇπÔºåÂ¶ÇÊûúÊ≤°ÊúâÂêåÊÑèËøáÂÖ∂‰ªñËäÇÁÇπÁöÑËØ∑Ê±ÇÔºåÂ∞±‰ºöÂêåÊÑèËØ•ËØ∑Ê±ÇÔºåÂê¶ÂàôÊãíÁªù„ÄÇÊØè‰∏™Âì®ÂÖµËäÇÁÇπÂè™Êúâ‰∏ÄÁ•®„ÄÇ&lt;/p>
&lt;p>ÂΩì‰∏Ä‰∏™Âì®ÂÖµÊãøÂà∞ quorum ‰∏™Á•®Êï∞Êó∂ÔºåÂ∞±Êàê‰∏∫‰∫ÜÈ¢ÜÂØºËÄÖÔºåÂê¶ÂàôËøõË°å‰∏ã‰∏ÄÊ¨°ÊäïÁ•®„ÄÇ&lt;/p>
&lt;h3 id="-ÊïÖÈöúËΩ¨Áßª">üé° ÊïÖÈöúËΩ¨Áßª&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>üë£ ÈÄâÂèñÊñ∞ÁöÑ‰∏ªËäÇÁÇπ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üß© ËøáÊª§‚Äú‰∏çÂÅ•Â∫∑‚ÄùËäÇÁÇπÔºà‰∏ªËßÇ‰∏ãÁ∫ø„ÄÅÊéâÁ∫øÔºâ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üß© ÈÄâÊã©„Äå‰ºòÂÖàÁ∫ßÊúÄÈ´ò„ÄçÁöÑËäÇÁÇπÔºåÂê¶ÂàôÁªßÁª≠‰∏ã‰∏ÄÊù°ËßÑÂàô&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üß© ÈÄâÂèñ„Äåoffset ÊúÄÂ§ß„ÄçÁöÑËäÇÁÇπÔºåÂê¶Âàô‰∏ã‰∏ÄÊù°ËßÑÂàô&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üß© ÈÄâÂèñ„ÄårunId ÊúÄÂ∞è„ÄçÁöÑËäÇÁÇπÔºàrunId ÊòØ Redis ÈöèÊú∫ÁîüÊàêÁöÑ‰∏Ä‰∏™idÔºåÂú®ÈõÜÁæ§‰∏≠Ëøô‰∏™ id ‰ºö‰øùÊåÅ‰∏çÂèòÔºâ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>üë£ ‰ªéËäÇÁÇπÊèêÂçá‰∏∫‰∏ªËäÇÁÇπ&lt;/p>
&lt;p>‰ªéËäÇÁÇπÂÜÖÈÉ®ÊâßË°å &lt;code>slaveof no one&lt;/code> Êàê‰∏∫‰∏ªËäÇÁÇπ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üë£ Âì®ÂÖµÈ¢ÜÂØºËÄÖÂêëÂÖ∂‰ªñ‰ªéËäÇÁÇπÂèëÈÄÅÂëΩ‰ª§ÔºåÊõ¥Êç¢‰∏ªËäÇÁÇπÁöÑ‰ø°ÊÅØ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üë£ Â∞Ü‰∏ãÁ∫øÁöÑ‰∏ªËäÇÁÇπÊõ¥Êñ∞‰∏∫‰ªéËäÇÁÇπÔºåÂπ∂‰øùÊåÅÁõëÊéßÔºåÂΩìÂÜçÊ¨°‰∏äÁ∫øÊó∂ÔºåÂ∞Ü‰Ωú‰∏∫‰ªéËäÇÁÇπÂ§çÂà∂Êñ∞ÁöÑ‰∏ªËäÇÁÇπ‰ø°ÊÅØ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="Ê≥®ÊÑè‰∫ãÈ°π">Ê≥®ÊÑè‰∫ãÈ°π&lt;/h3>
&lt;ul>
&lt;li>Sentinel ËäÇÁÇπÂ∫îËØ•ÈÉ®ÁΩ≤Âú®Â§öÂè∞Áâ©ÁêÜÊú∫‰∏ä&lt;/li>
&lt;/ul>
&lt;p>Redis ÁöÑÁì∂È¢à‰∏çÂú® CPUÔºåÈÄöËøá‰∏ÄÂè∞Áâ©ÁêÜÊú∫‰ºöÈÉ®ÁΩ≤Â§ö‰∏™ Redis ÂÆû‰æãÔºåÂ¶ÇÊûúÂì®ÂÖµÂÖ®ÈÉ®ÈÉΩÂú®‰∏ÄÂè∞Áâ©ÁêÜÊú∫‰∏äÔºåÂ¶ÇÊûúÂá∫Áé∞Áâ©ÁêÜÊïÖÈöúÔºåÊâÄÊúâÁöÑÂÆû‰æãÈÉΩ‰ºöÊî∂Âà∞ÂΩ±Âìç&lt;/p>
&lt;ul>
&lt;li>Ëá≥Â∞ë‰∏â‰∏™ Sentinel ËäÇÁÇπÔºå‰∏î‰∏∫Â•áÊï∞ËäÇÁÇπ&lt;/li>
&lt;/ul>
&lt;p>Âì®ÂÖµÈ¢ÜÂØºËÄÖÈÄâ‰∏æÊó∂ÔºåËá≥Â∞ëÈúÄË¶ÅËé∑Âèñ„Äå‰∏ÄÂçä + 1„Äç‰∏™ÊäïÁ•®„ÄÇÂ•áÊï∞ËäÇÁÇπÂèØ‰ª•Âú®Êª°Ë∂≥Êù°‰ª∂ÁöÑÂü∫Á°Ä‰∏äËäÇÁúÅ‰∏Ä‰∏™ËäÇÁÇπ„ÄÇ&lt;/p>
&lt;h2 id="ÂèÇËÄÉ">ÂèÇËÄÉ&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://segmentfault.com/a/1190000039766545" target="_blank" rel="noopener"
>https://segmentfault.com/a/1190000039766545&lt;/a>&lt;/li>
&lt;li>Redis ÂºÄÂèë‰∫éËøêÁª¥&lt;/li>
&lt;/ul></description></item><item><title>ÈÄÇÈÖçÂô®Ê®°Âºè</title><link>https://emerywan.github.io/blog/p/design-pattern/adapter/</link><pubDate>Mon, 20 Feb 2023 20:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/design-pattern/adapter/</guid><description>&lt;img src="https://emerywan.github.io/blog/p/design-pattern/adapter/adapter.png" alt="Featured image of post ÈÄÇÈÖçÂô®Ê®°Âºè" />&lt;h2 id="-‰ªãÁªç">üìñ ‰ªãÁªç&lt;/h2>
&lt;p>ÈÄÇÈÖçÂô®Ê®°ÂºèÔºàAdapter / WrapperÔºâÊòØ‰∏ÄÁßç &lt;strong>ÁªìÊûÑÂûãÊ®°Âºè&lt;/strong>„ÄÇ&lt;/p>
&lt;p>ÈÄöËøáÈÄÇÈÖçÂô®Ê®°ÂºèÔºåÂèØ‰ª•Â∞Ü‰∏Ä‰∏™Á±ªAÁöÑÊé•Âè£ÔºåËΩ¨ÂåñÊàê‰∏Ä‰∏™Á±ªBÔºå‰ª•Êª°Ë∂≥‰∏Ä‰∫õÊñπÊ≥ïÁöÑË∞ÉÁî®„ÄÇ&lt;/p>
&lt;p>Â¶ÇÁ±ªAÊòØ‰∏Ä‰∏™Á¨¨‰∏âÊñπ„ÄÅÈÅóÁïôÁ±ªÁ≠âÔºåÂ∑≤ÁªèË¢´ÂÖ∂‰ªñÂú∞Êñπ‰ΩøÁî®ÔºåÊó†Ê≥ïÊõ¥ÊîπÔºåÈÄöËøáÈÄÇÈÖçÂô®Ê®°ÂºèÁöÑÊÄùÊÉ≥ÔºåÈÄöËøá‰∏Ä‰∏™‰∏≠Èó¥ÁöÑÁ±ªÔºåÂ∞ÅË£ÖÂ§çÊùÇÁöÑËΩ¨ÂåñËøáÁ®ãÔºåËΩ¨Êç¢‰∏∫ÈúÄË¶ÅÁöÑÁ±ªÂûã„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üîñ ÁîüÊ¥ª‰∏≠ÁöÑÊèíÂ∫ßÔºåÂêÑ‰∏™ÂõΩÂÆ∂Ê†áÂáÜ‰∏çÂêåÔºåÂèØ‰ª•ÈÄöËøá‰∏Ä‰∏™ËΩ¨Êé•Âô®ÔºåÈÄÇÈÖç‰∏çÂêåÁöÑÊèíÂè£&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üîñ ARM CPU ÈÄÇÈÖç X86 Â∫îÁî®ÁöÑËΩ¨ËØë&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üîñ Linux -&amp;gt; Wine / ËôöÊãüÊú∫ -&amp;gt; ËøêË°å Windows Â∫îÁî®&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="-ÂÆûÁé∞ÊñπÂºè">üéà ÂÆûÁé∞ÊñπÂºè&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>üéóÔ∏è ÂÆûÁé∞‰∏Ä‰∏™‰∏≠Èó¥Á±ªÔºåÂÆûÁé∞/ÁªßÊâø ÈúÄË¶ÅÁöÑÁ±ªÂûã&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üéóÔ∏è Â∞ÜÈúÄË¶ÅË¢´ËΩ¨Êç¢ÁöÑÁ±ªAÔºå‰Ωú‰∏∫‰∏≠Èó¥Á±ªÁöÑÊàêÂëòÂØπË±°&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üéóÔ∏è Âú®Á±ªA‰∏≠ÂÆûÁé∞Áõ∏ÂÖ≥ÊñπÊ≥ïÔºåËøõË°åÈÄÇÈÖç&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üéóÔ∏è ÊúÄÂêéÔºåÊâÄÊúâÁöÑÁõ∏ÂÖ≥Â∑•‰ΩúÔºåÈÉΩ‰ºöË¢´ÂßîÊâòÁªô‰∏≠Èó¥Á±ª&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="-java-‰∏≠ÁöÑÈÄÇÈÖçÂô®Ê®°Âºè">‚òï Java ‰∏≠ÁöÑÈÄÇÈÖçÂô®Ê®°Âºè&lt;/h2>
&lt;p>ÂΩìÊàë‰ª¨Áé∞Âú®ÁöÑÊï∞ÊçÆÊòØÊï∞ÁªÑÁ±ªÂûãÊó∂ &lt;code>String[]&lt;/code>ÔºåÁé∞Âú®Ë∞ÉÁî®ÁöÑÊñπÊ≥ïÈúÄË¶Å‰º†ÂÖ• &lt;code>List&amp;lt;String&amp;gt;&lt;/code> ÂØπË±°ÔºåÂèØ‰ª•ÈÄöËøáÂ∑•ÂÖ∑Á±ªËøõË°åËΩ¨Êç¢„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// String[] ---Arrays.asList()---&amp;gt; List&amp;lt;String&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Arrays.asList() Áõ∏ÂΩì‰∫é‰∏Ä‰∏™ Adapter
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="o">{&lt;/span>&lt;span class="s">&amp;#34;one&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s">&amp;#34;two&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s">&amp;#34;three&amp;#34;&lt;/span>&lt;span class="o">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">dataList&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Arrays&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">asList&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// ËøôÈáåÁöÑ List ÊòØ‰∏Ä‰∏™ÂÜÖÈÉ®Á±ª
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="-ÂÆûÁé∞">üõ†Ô∏è ÂÆûÁé∞&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">class&lt;/span> &lt;span class="nc">Task&lt;/span> &lt;span class="n">implement&lt;/span> &lt;span class="n">Callable&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="nf">call&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="kd">throws&lt;/span> &lt;span class="n">Exception&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;ËøôÊòØ‰∏Ä‰∏™Áé∞ÊúâÁöÑ‰ªªÂä°&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s">&amp;#34;ËøôÊòØ‰∏Ä‰∏™Áé∞ÊúâÁöÑ‰ªªÂä°&amp;#34;&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Áé∞Âú®ÊüêÂ§ÑÔºåÈúÄË¶Å‰ΩøÁî® Thread ËøêË°åÁ∫øÁ®ãÊñπÊ≥ï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ‚ö† new Thread(new Runnable()) ‰∏çËÉΩÊé•Êî∂ Callable ÂØπË±°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ÈúÄË¶Å‰ΩøÁî®ÈÄÇÈÖçÂô®Ê®°ÂºèÔºåÂ∞Ü Callable -----&amp;gt; Runnable
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Callable&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">task&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Task&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">new&lt;/span> &lt;span class="n">Thread&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="n">RunnableAdapter&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">task&lt;/span>&lt;span class="o">)).&lt;/span>&lt;span class="na">start&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 1) ÂÆûÁé∞ÁõÆÊ†áÊé•Âè£ Runnable
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 2) Âú®ÁõÆÊ†áÊé•Âè£‰∏≠ÔºåÊåÅÊúâ Callable ÂØπË±°ÔºåÂØπÂÖ∂ËøõË°åÈÄÇÈÖç
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 3) Âú®ÁõÆÊ†áÊé•Âè£ÁöÑÊñπÊ≥ïÂÜÖÈÉ®ÔºåË∞ÉÁî®ÂæÖËΩ¨Êç¢ÁöÑÊñπÊ≥ï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">RunnableAdapter&lt;/span> &lt;span class="kd">implements&lt;/span> &lt;span class="n">Runnable&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="n">Callable&lt;/span>&lt;span class="o">&amp;lt;?&amp;gt;&lt;/span> &lt;span class="n">callable&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="nf">RunnableAdapter&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Callable&lt;/span>&lt;span class="o">&amp;lt;?&amp;gt;&lt;/span> &lt;span class="n">callable&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">callable&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">callable&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">run&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">callable&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">call&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Exception&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">RuntimeException&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Ë¥£‰ªªÈìæÊ®°Âºè</title><link>https://emerywan.github.io/blog/p/design-pattern/chain-of-responsibility/</link><pubDate>Sun, 19 Feb 2023 20:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/design-pattern/chain-of-responsibility/</guid><description>&lt;img src="https://emerywan.github.io/blog/p/design-pattern/chain-of-responsibility/chain-of-responsibility.png" alt="Featured image of post Ë¥£‰ªªÈìæÊ®°Âºè" />&lt;h2 id="-‰ªãÁªç">üìñ ‰ªãÁªç&lt;/h2>
&lt;p>Ë¥£‰ªªÈìæÊ®°ÂºèÊòØ‰∏ÄÁßç&lt;strong>Ë°å‰∏∫ÂûãÊ®°Âºè&lt;/strong>„ÄÇÊòØ‰∏ÄÁßçÂ§ÑÁêÜËØ∑Ê±ÇÁöÑÊ®°ÂºèÔºåËØ∑Ê±ÇÂú®Èìæ‰∏ä‰º†ÈÄíÔºåÊØè‰∏™Â§ÑÁêÜÂô®ÈÉΩÊúâÊú∫‰ºöÂ§ÑÁêÜËØ∑Ê±Ç„ÄÇÂ§ÑÁêÜÂô®ÂèØ‰ª•ÂÜ≥ÂÆöËØ∑Ê±ÇÊòØÂê¶Âêë‰∏ã‰º†ÈÄíÔºàÂ¶ÇÊó†Ê≥ïÂ§ÑÁêÜÔºåÈúÄË¶Å‰∫§Áªô‰∏ã‰∏Ä‰∏™Â§ÑÁêÜÔºâÔºåÊàñËÄÖÁõ¥Êé•ËøîÂõûÔºàÂ¶ÇÂ§ÑÁêÜÂÆåÊàêÔºåËøîÂõûÁªìÊûúÔºâ„ÄÇ&lt;/p>
&lt;p>ÈÄöËøáË¥£‰ªªÈìæÊ®°ÂºèÔºåÂèØ‰ª•ËÆ©ËØ∑Ê±ÇÁöÑÂèëÈÄÅËÄÖÂíåÂ§ÑÁêÜËØ∑Ê±ÇÁöÑÂ§ÑÁêÜÂô®ËøõË°åÁªìÊûÑÔºåÊØè‰∏™Â§ÑÁêÜÂô®Âè™Â§ÑÁêÜÁâπÂÆöÁöÑÊÉÖÂÜµÔºåÂèØ‰ª•Êñπ‰æøÂú∞Ê∑ªÂä†/Âà†Èô§Â§ÑÁêÜÂô®„ÄÇ&lt;/p>
&lt;p>Â∏∏ËßÅÁöÑÂú∫ÊôØÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üîñ Áñ´ÊÉÖÊúüÈó¥ËØ∑ÂÅáÂá∫Ê†°ÔºåÂ≠¶Ê†°È¢ÜÂØºÁöÑÂ±ÇÂ±ÇÂÆ°Êâπ üòÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üîñ ÂáªÈºì‰º†Ëä±Ê∏∏Êàè&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üîñ ÁºìÂ≠òÊû∂ÊûÑÔºåÂú®ÁºìÂ≠ò‰∏≠Ê≤°ÊúâÊâæÂà∞Êï∞ÊçÆÔºåÂæÄÊï∞ÊçÆÂ∫ìÊÄªÊü•Êâæ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üîñ GUI Á®ãÂ∫èÂØπÁÇπÂáªÊåâÈíÆÁöÑÂ§ÑÁêÜ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="-ÂÆûÁé∞ÊñπÂºè">üéà ÂÆûÁé∞ÊñπÂºè&lt;/h2>
&lt;p>ÂÖ≥ÈîÆÔºöÊØè‰∏™Â§ÑÁêÜÂô®ÈÉΩÂÆûÁé∞Áªü‰∏ÄÁöÑÊé•Âè£ÔºåÂÜÖÈÉ®ÂåÖÂê´‰∏ã‰∏Ä‰∏™ ‚è≠Ô∏è Â§ÑÁêÜÂô® next ÂíåÊú¨Â§ÑÁêÜÂô®ÁöÑ üî®Â§ÑÁêÜÊñπÂºè execute„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üéóÔ∏è Â£∞Êòé‰∏Ä‰∏™Â§ÑÁêÜÂô®ÁöÑÈÄöÁî®Êé•Âè£„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üéóÔ∏è ÂÖ∑‰ΩìÁöÑÂ§ÑÁêÜËÄÖ„ÄÇÂÜ≥ÂÆöÊòØÂê¶Â§ÑÁêÜËØ∑Ê±Ç / ËØ∑Ê±ÇÊòØÂê¶‰º†ÈÄíÁªô‰∏ã‰∏Ä‰∏™„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üéóÔ∏è Ë¥£‰ªªÈìæ„ÄÇ&lt;/p>
&lt;ul>
&lt;li>ÂÆûÁé∞ÊñπÂºè‰∏ÄÔºöüîó ÂåÖÂê´‰∏Ä‰∏™ ListÔºåÂèØ‰ª•Áî®Êù•ÊûÑÂª∫Â§ÑÁêÜËØ∑Ê±ÇÁöÑÊï∞ÊçÆ„ÄÇprocess ÊñπÊ≥ïÂØπ List ËøõË°åÂæ™ÁéØÔºåÂ§ÑÁêÜÂô®ÂèØ‰ª•ÊâßË°åÂ∞±Â§ÑÁêÜÁõ∏Â∫îÁöÑÊñπÊ≥ïÔºå‰∏çËÉΩÊâßË°åËøîÂõû null ‰πãÁ±ª„ÄÇ&lt;/li>
&lt;li>ÂÆûÁé∞ÊñπÂºè‰∫åÔºöÂú®Â§ÑÁêÜÂô®‰∏≠ÂåÖÂê´ nextÔºå‰∏∫‰∏ã‰∏Ä‰∏™Â§ÑÁêÜÂô®Ôºå‰∏çËÉΩÊâßË°åË∞ÉÁî® next ÁöÑÊñπÊ≥ï„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>Â§ÑÁêÜËÄÖÂèØ‰ª•ÂÜ≥ÂÆöÊòØÂê¶Ê≤øÁùÄÈìæ‰º†ÈÄíËØ∑Ê±ÇÔºåÂèØ‰ª•&lt;/p>
&lt;ul>
&lt;li>Ôºà1ÔºâÂ§ÑÁêÜ‰∏ç‰∫Ü‰º†ÈÄíÁªô‰∏ã‰∏Ä‰∏™Â§ÑÁêÜÂô®ÔºåÊàêÂäüÂêéÁõ¥Êé•ËøîÂõûÔºå‰∏Ä‰∏™ËØ∑Ê±ÇÂè™ËÉΩ‰∏Ä‰∏™Â§ÑÁêÜÂô®ÊâßË°åÔºõ&lt;/li>
&lt;li>Ôºà2ÔºâÊâÄÊúâÂ§ÑÁêÜÂô®ÈÉΩ‰æùÊ¨°ÊâßË°å‰∏ÄÊ¨°ËØ∑Ê±ÇÔºåÂÆåÊàêÁõ∏Â∫îÁöÑÂÜÖÂÆπ„ÄÇ&lt;/li>
&lt;/ul>
&lt;h2 id="-ÂÆûÁé∞">üõ†Ô∏è ÂÆûÁé∞&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ÈÄöÁî®ÊñπÊ≥ïÂÆö‰πâ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">Handler&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// true -&amp;gt; Â§ÑÁêÜÊàêÂäü
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// false -&amp;gt; ÊãíÁªù
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// null -&amp;gt; ‰∫§Áªô‰∏ã‰∏Ä‰∏™Â§ÑÁêÜ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">boolean&lt;/span> &lt;span class="nf">process&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Request&lt;/span> &lt;span class="n">request&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ÂÖ∑‰ΩìÂ§ÑÁêÜÂô®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">public&lt;/span> &lt;span class="n">ManagerHandler&lt;/span> &lt;span class="kd">implements&lt;/span> &lt;span class="n">Handler&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">boolean&lt;/span> &lt;span class="nf">process&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Request&lt;/span> &lt;span class="n">request&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// if () ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="n">DirectorHandler&lt;/span> &lt;span class="kd">implements&lt;/span> &lt;span class="n">Handler&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="n">CEOHandler&lt;/span> &lt;span class="kd">implements&lt;/span> &lt;span class="n">Handler&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">HandlerChain&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Handler&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">handlers&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ArrayList&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">addHandler&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Handler&lt;/span> &lt;span class="n">handler&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">handlers&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">add&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">handler&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">boolean&lt;/span> &lt;span class="nf">process&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Requst&lt;/span> &lt;span class="n">request&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Handler&lt;/span> &lt;span class="n">handler&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">handers&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">boolean&lt;/span> &lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">handler&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">process&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">b&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Ê†πÊçÆ true / false ÊòØÂê¶Ë¶ÅÁªìÊùüË∞ÉÁî®Èìæ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="o">(...)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">RuntimeException&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Could not handle request: &amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">request&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Á≠ñÁï•Ê®°Âºè</title><link>https://emerywan.github.io/blog/p/design-pattern/strategy/</link><pubDate>Sat, 28 Jan 2023 23:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/design-pattern/strategy/</guid><description>&lt;img src="https://emerywan.github.io/blog/p/design-pattern/strategy/1.png" alt="Featured image of post Á≠ñÁï•Ê®°Âºè" />&lt;h2 id="-‰ªãÁªç">üìñ ‰ªãÁªç&lt;/h2>
&lt;p>Á≠ñÁï•Ê®°ÂºèÊòØ‰∏ÄÁßç&lt;strong>Ë°å‰∏∫ÂûãÊ®°Âºè&lt;/strong>„ÄÇ&lt;/p>
&lt;p>Á≠ñÁï•Ê®°ÂºèÊåáÂÆö‰πâ‰∏ÄÁ≥ªÂàóÁÆóÊ≥ïÔºåÊØèÁßçÁÆóÊ≥ïÈÉΩÂ∞ÅË£ÖÂà∞‰∏çÂêåÁöÑÁ±ª‰∏≠ÔºåÂú®ËøêË°åÊó∂ÔºåÂèØ‰ª•ÁÅµÊ¥ªÂú∞ÊõøÊç¢Ëøô‰∫õÁöÑÁÆóÊ≥ïÔºàÊõøÊç¢ÊâßË°åÁöÑÁ≠ñÁï•Ôºâ„ÄÇ&lt;/p>
&lt;p>üìñ Â∏∏ËßÅÁöÑÂú∫ÊôØÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üîñ ÊóÖË°åÁöÑÂá∫Ê∏∏ÊñπÂºèÔºåÈÄâÊã©È™ëËá™Ë°åËΩ¶„ÄÅÂùêÊ±ΩËΩ¶ÔºåÊØè‰∏ÄÁßçÊóÖË°åÊñπÂºèÈÉΩÊòØ‰∏Ä‰∏™Á≠ñÁï•„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üîñ ÁîµÂïÜÁ≥ªÁªü‰∏≠Ôºå‰∏ãÂçïÊó∂ÔºåÂèØ‰ª•ÈÄâÊã©Â§öÁßçÂàôÊâ£Á≠ñÁï•ÔºàÊª°ÂáèÔºå‰ºòÊÉ†Âà∏ÔºåÁßØÂàÜÔºâÔºõÊîØ‰ªòÊó∂ÔºåÂèØ‰ª•ÈÄâÊã©Â§öÁßçÊîØ‰ªòÊñπÂºèÔºàÊîØ‰ªòÂÆùÔºåÂæÆ‰ø°Ôºå‰∫ëÈó™‰ªòÔºâ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üîñ Áî®Á≠ñÁï•Ê®°ÂºèÊ∂àÈô§Â§ßÈáèÁöÑ &lt;code>if-else&lt;/code>„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="-ÂÆûÁé∞ÊñπÂºè">üéà ÂÆûÁé∞ÊñπÂºè&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>üéóÔ∏è Á≠ñÁï•Êé•Âè£Ôºö‰ΩøÁî®Êé•Âè£ÂÆö‰πâÂÖ∑‰ΩìÁ≠ñÁï•ÁöÑÈÄöÁî®Êé•Âè£ÔºåÂ£∞Êòé‰∫Ü‰∏Ä‰∏™‰∏ä‰∏ãÊñáÁî®‰∫éÊâßË°åÁ≠ñÁï•ÁöÑÊñπÊ≥ï„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üéóÔ∏è ÂÖ∑‰ΩìÁ≠ñÁï•ÔºöÂÆûÁé∞Á≠ñÁï•Êé•Âè£ÔºåÂÆûÁé∞ÂÖ∑‰ΩìÁöÑÁõ∏ÂÖ≥ÁÆóÊ≥ï„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üéóÔ∏è ÂÆ¢Êà∑Á´ØË∞ÉÁî®Êó∂Ôºå‰ºöÂ∞Ü‰ΩøÁî®ÂÖ∑‰ΩìÁöÑÁ≠ñÁï•ÂØπË±°‰º†ÈÄíÁªô‰∏ä‰∏ãÊñáÔºåÊ†πÊçÆÁ≠ñÁï•ÔºåÊâßË°å‰∏çÂêåÁöÑÁÆóÊ≥ï„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>üí° ÈáçÁÇπÔºöÂÆûÁé∞Âêå‰∏Ä‰∏™Êé•Âè£ÔºåÈÄöËøá‰º†ÂÖ•ÁöÑÁ≠ñÁï•ÔºåÊâßË°å‰∏çÂêåÁöÑÁÆóÊ≥ï„ÄÇ&lt;/p>
&lt;h2 id="-ÂÆûÁé∞">üõ†Ô∏è ÂÆûÁé∞&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Á≠ñÁï•Êé•Âè£
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">public&lt;/span> &lt;span class="kd">interface&lt;/span> &lt;span class="nc">DiscountStrategy&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Ëé∑Âèñ‰ºòÊÉ†ÈáëÈ¢ù
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">BigDecimal&lt;/span> &lt;span class="nf">getDiscount&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">BigDecimal&lt;/span> &lt;span class="n">total&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ÊâìÊäò‰ºòÊÉ†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">UserDiscountStrategy&lt;/span> &lt;span class="kd">implements&lt;/span> &lt;span class="n">DiscountStrategy&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="n">BigDecimal&lt;/span> &lt;span class="nf">getDiscount&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">BigDecimal&lt;/span> &lt;span class="n">total&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">total&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">multiply&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="n">BigDecimal&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;0.1&amp;#34;&lt;/span>&lt;span class="o">)).&lt;/span>&lt;span class="na">setScale&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">RoundingMode&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">DOWN&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Êª°Âáè‰ºòÊÉ†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">OverDiscountStrategy&lt;/span> &lt;span class="kd">implements&lt;/span> &lt;span class="n">DiscountStrategy&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="n">BigDecimal&lt;/span> &lt;span class="nf">getDiscount&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">BigDecimal&lt;/span> &lt;span class="n">total&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">total&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">compareTo&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">BigDecimal&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">valueOf&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">100&lt;/span>&lt;span class="o">))&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="n">0&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="n">BigDecimal&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">valueOf&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">20&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">BigDecimal&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">ZERO&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Áî®‰∫éÊâßË°åÁ≠ñÁï•ÁöÑ‰∏ä‰∏ãÊñá
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">DiscountContext&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÊåÅÊúâÊüêÁßçÁ≠ñÁï•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">private&lt;/span> &lt;span class="n">DiscountStrategy&lt;/span> &lt;span class="n">strategy&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">UserDiscountStrategy&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="nf">DiscountContext&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">DiscountStrategy&lt;/span> &lt;span class="n">strategy&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">strategy&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">strategy&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Áî®‰∫éÊõ¥ÊîπÁ≠ñÁï•ÊñπÂºè
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">setStrategy&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">DiscountStrategy&lt;/span> &lt;span class="n">strategy&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">strategy&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">strategy&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ËÆ°ÁÆó‰ªòÊ¨æÈáëÈ¢ù
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">public&lt;/span> &lt;span class="n">BigDecimal&lt;/span> &lt;span class="nf">calculatePrice&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">BigDecimal&lt;/span> &lt;span class="n">total&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">total&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">subtract&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">strategy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getDiscount&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">total&lt;/span>&lt;span class="o">)).&lt;/span>&lt;span class="na">setScale&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">2&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ‰ΩøÁî®Á≠ñÁï•Ê®°Âºè
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">DiscountContext&lt;/span> &lt;span class="n">context&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">DiscountContext&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">BigDecimal&lt;/span> &lt;span class="n">price&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">BigDecimal&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">valueOf&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">100&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ‰ΩøÁî®Êª°ÂáèÁ≠ñÁï•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">context&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setStrategy&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="n">OverDiscountStrategy&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">BigDecimal&lt;/span> &lt;span class="n">pay&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">context&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">calculatePrice&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">price&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="-java-‰∏≠ÁöÑÁ≠ñÁï•Ê®°Âºè">‚òï Java ‰∏≠ÁöÑÁ≠ñÁï•Ê®°Âºè&lt;/h2>
&lt;p>‰ª•ÊéíÂ∫è‰∏∫‰æãÔºåÂú® &lt;code>java.util.Arrays&lt;/code> &lt;code>java.util.Collections&lt;/code> Â∑•ÂÖ∑Á±ª‰∏≠ ÁöÑ &lt;code>sort(XX, Comparator)&lt;/code> ÊñπÊ≥ïÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">sort&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Comparator&lt;/span>&lt;span class="o">&amp;lt;?&lt;/span> &lt;span class="kd">super&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÊôÆÈÄöÁöÑ &lt;code>sort()&lt;/code> ÈªòËÆ§‰ªéÂ∞èÂà∞Â§ßËøõË°åÊéíÂ∫èÔºåÂ¶ÇÊûúÊàë‰ª¨ÊÉ≥Ë¶Å‰ªéÂ§ßÂà∞Â∞èËøõË°åÊéíÂ∫èÔºåÂ∞±ÊòØË¶ÅÊõ¥ÊîπÊéíÂ∫èÁöÑ &lt;strong>Á≠ñÁï•&lt;/strong>ÔºåÊàë‰ª¨ÂèØ‰ª•ÂÆûÁé∞Ëøô‰∏™ &lt;code>Comparator&lt;/code> ÁöÑ &lt;code>int compare(T o1, T o2)&lt;/code> ÊñπÊ≥ïÔºåÂπ∂‰º†ÂÖ• &lt;code>sort()&lt;/code> ‰∏≠&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Arrays&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">sort&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">nums&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">o1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">o2&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="n">o2&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">o1&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="-ÂèÇËÄÉ">üîó ÂèÇËÄÉ&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://refactoringguru.cn/design-patterns/strategy" target="_blank" rel="noopener"
>https://refactoringguru.cn/design-patterns/strategy&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.liaoxuefeng.com/wiki/1252599548343744/1281319606681634" target="_blank" rel="noopener"
>https://www.liaoxuefeng.com/wiki/1252599548343744/1281319606681634&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.runoob.com/design-pattern/strategy-pattern.html" target="_blank" rel="noopener"
>https://www.runoob.com/design-pattern/strategy-pattern.html&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>MySQL ËØ≠Âè•ÊòØÊÄé‰πàÊâßË°åÁöÑ</title><link>https://emerywan.github.io/blog/p/mysql/how-execute/</link><pubDate>Wed, 11 Jan 2023 18:30:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/mysql/how-execute/</guid><description>&lt;img src="https://emerywan.github.io/blog/p/mysql/how-execute/mysql.webp" alt="Featured image of post MySQL ËØ≠Âè•ÊòØÊÄé‰πàÊâßË°åÁöÑ" />&lt;p>MySQL ÂèØ‰ª•ÂàÜ‰∏∫Ôºö&lt;/p>
&lt;p>Ôºà1ÔºâServer Â±ÇÔºöË¥üË¥£Âª∫Á´ãËøûÊé•ÔºåÂàÜÊûêÂíåÊâßË°åSQL&lt;/p>
&lt;p>Ôºà2ÔºâÂ≠òÂÇ®ÂºïÊìéÂ±ÇÔºöË¥üË¥£Êï∞ÊçÆÁöÑÂ≠òÂÇ®ÂíåÊèêÂèñ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/how-execute/mysql.webp"
width="1920"
height="1440"
srcset="https://emerywan.github.io/blog/blog/p/mysql/how-execute/mysql_hu2e25f96503f96a8e12f0e1c93e28468a_180676_480x0_resize_q75_h2_box_2.webp 480w, https://emerywan.github.io/blog/blog/p/mysql/how-execute/mysql_hu2e25f96503f96a8e12f0e1c93e28468a_180676_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
>&lt;/p>
&lt;h2 id="-server-Â±Ç">üõéÔ∏è Server Â±Ç&lt;/h2>
&lt;p>Server Â±ÇË¥üË¥£Âª∫Á´ãËøûÊé•ÔºåÂàÜÊûêÂíåÊâßË°å SQL„ÄÇ‰∏ªË¶ÅÂåÖÊã¨ÔºöËøûÊé•Âô®„ÄÅÊü•ËØ¢ÁºìÂ≠ò„ÄÅÂàÜÊûêÂô®„ÄÅ‰ºòÂåñÂô®ÂíåÊâßË°åÂô®Á≠âÔºåÂåÖÂê´ MySQL Â§ßÂ§öÊï∞Ê†∏ÂøÉÊúçÂä°ÁöÑÂÖ¨ÂÖ±ÂäüËÉΩ„ÄÇ&lt;/p>
&lt;h3 id="-ËøûÊé•Âô®">üèí ËøûÊé•Âô®&lt;/h3>
&lt;p>ÂΩìÊàë‰ª¨‰ΩøÁî® MySQL ÊúçÂä°ËøûÊé•Âà∞Êï∞ÊçÆÂ∫ìÊó∂ÔºåÈ¶ñÂÖàÂ∞±ÊòØÈÄöËøáËøûÊé•Âô®„ÄÇ&lt;/p>
&lt;p>ËøûÊé•Âô®Ë¥üË¥£‰∏éÂÆ¢Êà∑Á´ØÂª∫Á´ãËøûÊé•„ÄÅËé∑ÂèñÊùÉÈôê„ÄÅÁª¥ÊåÅÂíåÁÆ°ÁêÜËøûÊé•„ÄÇ&lt;/p>
&lt;p>ÈÄöÂ∏∏‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§ËøûÊé•Êï∞ÊçÆÂ∫ìÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">mysql -h&lt;span class="nv">$ip&lt;/span> -P&lt;span class="nv">$port&lt;/span> -u&lt;span class="nv">$user&lt;/span> -p
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="-Êü•ËØ¢ÁºìÂ≠ò">ü•ç Êü•ËØ¢ÁºìÂ≠ò&lt;/h3>
&lt;p>üôÖ‚Äç‚ôÇÔ∏è MySQL 8.0 Â∑≤ÁªèÁßªÈô§‰∫ÜÊü•ËØ¢ÁºìÂ≠ò„ÄÇÊü•ËØ¢ÁºìÂ≠òÁöÑÂëΩ‰∏≠ÁéáÈùûÂ∏∏‰ΩéÔºåÈô§ÈùûÈÉΩÊòØÈùôÊÄÅË°®‰∏ç‰ºöÊõ¥Êñ∞ÔºåÂè™Ë¶ÅÊúâ‰∏Ä‰∏™Ë°®Êõ¥Êñ∞‰∫ÜÊï∞ÊçÆÔºåËøô‰∏™Ë°®ÁöÑÊü•ËØ¢ÁºìÂ≠òÂ∞±‰ºöË¢´Ê∏ÖÁ©∫ÔºåÊúâÊó∂ÂèçËÄå‰ºöÂΩ±ÂìçÊï∞ÊçÆÂ∫ìÁöÑÊïàÁéá„ÄÇ&lt;/p>
&lt;p>ÂÆ¢Êà∑Á´ØÂêë MySQL ÂèëÈÄÅ SQL ËØ≠Âè•ÂêéÔºåÂ¶ÇÊûúÊòØ &lt;code>select&lt;/code> ËØ≠Âè•Ôºå‰ºöÂÖàÂéªÊü•ËØ¢ÁºìÂ≠ò‰∏≠Êü•ÊâæËøôÊù°ËØ≠Âè•ÊòØÂê¶Ë¢´ÁºìÂ≠òÔºàkey-valueÔºâ„ÄÇÂ¶ÇÊûúÂëΩ‰∏≠Ôºå‰ºöÁõ¥Êé•ËøîÂõû value ÁªôÂÆ¢Êà∑Á´Ø„ÄÇ&lt;/p>
&lt;h3 id="-ÂàÜÊûêÂô®">üèè ÂàÜÊûêÂô®&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>ËØçÊ≥ïÂàÜÊûê&lt;/p>
&lt;p>MySQL ‰ºöÊ†πÊçÆËæìÂÖ•ÁöÑÂ≠óÁ¨¶‰∏≤ËØÜÂà´Âá∫ÂÖ≥ÈîÆÂ≠óÔºåÂ¶Ç SQL Á±ªÂûã„ÄÅË°®Âêç„ÄÅÂ≠óÊÆµÂêç„ÄÅwhere Êù°‰ª∂Á≠âÔºåÊûÑÂª∫Âá∫ SQL ËØ≠Ê≥ïÊ†ë„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ËØ≠Ê≥ïÂàÜÊûê&lt;/p>
&lt;p>Ê†πÊçÆËØçÊ≥ïÂàÜÊûêÁöÑÁªìÊûúÔºåËØ≠Ê≥ïËß£ÊûêÂô®‰ºöÊ†πÊçÆËØ≠Ê≥ïËßÑÂàôÔºåÂà§Êñ≠ËØ• SQL ËØ≠Âè•ÊòØÂê¶Êª°Ë∂≥ SQL ËØ≠Ê≥ï„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-‰ºòÂåñÂô®">üèë ‰ºòÂåñÂô®&lt;/h3>
&lt;p>‰ºòÂåñÂô®‰∏ªË¶ÅË¥üË¥£Â∞Ü SQL Êü•ËØ¢ËØ≠Âè•ÁöÑÊâßË°åÊñπÊ°àÁ°ÆÂÆö‰∏ãÊù•„ÄÇ&lt;/p>
&lt;p>ÊØîÂ¶ÇÂú®Ë°®‰∏≠ÊúâÂ§ö‰∏™Á¥¢ÂºïÁöÑÊó∂ÂÄôÔºå‰ºòÂåñÂô®‰ºöÂü∫‰∫éÊü•ËØ¢ÊàêÊú¨ÁöÑËÄÉËôëÔºåÈÄâÊã©‰ΩøÁî®Âì™‰∏™Á¥¢Âºï„ÄÇ&lt;/p>
&lt;p>ÊØîÂ¶ÇÂà§Êñ≠Ëµ∞Á¥¢ÂºïÊü•ËØ¢ÂõûË°®ÂíåÂÖ®Ë°®Êâ´ÊèèÁöÑ‰ª£‰ª∑ÔºåÈÄâÊã©ËøõË°åÂõûË°®ÊàñÂÖ®Ë°®Êâ´Êèè„ÄÇ&lt;/p>
&lt;p>Êàë‰ª¨ÂèØ‰ª•ÈÄöËøá &lt;code>explain&lt;/code> Êü•Áúã‰∏Ä‰∏™Êù°Êü•ËØ¢ËØ≠Âè•ÁöÑÊâßË°åËÆ°Âàí„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">explain&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">table&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="-ÊâßË°åÂô®">üèì ÊâßË°åÂô®&lt;/h3>
&lt;p>ÈÄöËøá‰ºòÂåñÂô®Á°ÆÂÆöÊâßË°åÊñπÊ°àÂêéÔºåMySQL ÂºÄÂßãÁúüÊ≠£ÊâßË°åËØ≠Âè•‰∫Ü„ÄÇ&lt;/p>
&lt;p>Âú®ÊâßË°åËøáÁ®ã‰∏≠ÔºåÊâßË°åÂô®‰ºö‰∏éÂ≠òÂÇ®ÂºïÊìéËøõË°å‰∫§‰∫íÔºå‰∫§‰∫í‰ª•ËÆ∞ÂΩïÔºàË°åÔºâ‰∏∫Âçï‰Ωç„ÄÇ&lt;/p>
&lt;p>ÂØπ‰∫éË¶ÅËøõË°åÂÖ®Ë°®Êâ´ÊèèÁöÑÊÉÖÂÜµÔºåÊâßË°åÂô®‰ºöË∞ÉÁî® InnoDB ÂºïÊìéÊé•Âè£ÁöÑËé∑ÂèñË°®ÁöÑÁ¨¨‰∏ÄË°åÔºåÂà§Êñ≠Êù°‰ª∂ÊòØÂê¶Á¨¶ÂêàÔºåÁ¨¶ÂêàÂ∞±Âä†ÂÖ•Âà∞ÁªìÊûúÈõÜ‰∏≠„ÄÇ‰πãÂêé‰∏çÊñ≠Ë∞ÉÁî®ÂºïÊìéÊé•Âè£ÈáçÂ§çËøô‰∏™ËøáÁ®ãÔºåÁõ¥Âà∞ËØªÂèñÂÆåË°®ÁöÑÊúÄÂêé‰∏ÄË°å„ÄÇ&lt;/p>
&lt;p>ÂØπ‰∫éË¶Å‰ΩøÁî®Á¥¢ÂºïÁöÑÊÉÖÂÜµÔºåÈÄªËæëÂêåÊ†∑Á±ª‰ººÔºå‰ºöÈÄöËøáÁ¥¢ÂºïËé∑ÂèñÊª°Ë∂≥Êù°‰ª∂ÁöÑÁ¨¨‰∏ÄË°åÔºåÊ†πÊçÆÊÉÖÂÜµÊòØÂê¶Ë¶ÅÂõûË°®„ÄÅË¶ÜÁõñÁ¥¢ÂºïÊàñÁ¥¢Âºï‰∏ãÊé®ÔºåÂÜç‰∏çÊñ≠ÂêëÂêéÂæ™ÁéØËé∑ÂèñÔºåÁõ¥Âà∞‰∏çÊª°Ë∂≥Êù°‰ª∂„ÄÇ&lt;/p>
&lt;h2 id="-Â≠òÂÇ®ÂºïÊìé">üíΩ Â≠òÂÇ®ÂºïÊìé&lt;/h2>
&lt;p>Â≠òÂÇ®ÂºïÊìéË¥üË¥£Êï∞ÊçÆÁöÑÂ≠òÂÇ®ÂíåÊèêÂèñ„ÄÇ&lt;/p>
&lt;p>MySQL Â≠òÂÇ®ÂºïÊìéÁöÑÊû∂ÊûÑÊ®°ÂºèÊòØÊèí‰ª∂ÂºèÁöÑÔºåÊîØÊåÅ InnoDB„ÄÅMyISAM„ÄÅMemory Á≠âÂ§ö‰∏™Â≠òÂÇ®ÂºïÊìé„ÄÇÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅÈÄâÊã©ÂêàÈÄÇÁöÑÂ≠òÂÇ®ÂºïÊìé„ÄÇÈÄöÂ∏∏Êàë‰ª¨‰ºöÈÄâÊã©‰ΩøÁî® InnoDB Â≠òÂÇ®ÂºïÊìé„ÄÇ&lt;/p>
&lt;p>Âú® InnoDB Â≠òÂÇ®ÂºïÊìé‰∏≠ÔºåÂ¶ÇÊûúÊü•ËØ¢ÁöÑÊï∞ÊçÆÂú® &lt;a class="link" href="https://www.letout.cn/p/mysql/innodb/buffer-pool/" target="_blank" rel="noopener"
>BufferPool&lt;/a> ‰∏≠Ôºå‰ºöÁõ¥Êé•ËøîÂõûÔºõÂ¶ÇÊûúÊ≤°Êúâ‰ºöÂ∞ÜÊï∞ÊçÆÂä†ËΩΩÂà∞ÂÜÖÂ≠ò‰∏≠ÔºåÂú®ËøîÂõûÁªôÂÆ¢Êà∑Á´Ø„ÄÇ&lt;/p></description></item><item><title>Redis ÁºìÂ≠òÈóÆÈ¢ò</title><link>https://emerywan.github.io/blog/p/redis/cache-problem/</link><pubDate>Wed, 11 Jan 2023 01:52:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/redis/cache-problem/</guid><description>&lt;img src="https://emerywan.github.io/blog/p/redis/cache-problem/cache.png" alt="Featured image of post Redis ÁºìÂ≠òÈóÆÈ¢ò" />&lt;h2 id="-ÁºìÂ≠òÈõ™Â¥©">üå®Ô∏è ÁºìÂ≠òÈõ™Â¥©&lt;/h2>
&lt;p>‰∏∫‰∫Ü‰øùËØÅÁºìÂ≠ò‰∏≠Êï∞ÊçÆ‰∏éÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄßÔºåÈÄöÂ∏∏ Redis ‰∏≠Êï∞ÊçÆ‰ºöËÆæÁΩÆËøáÊúüÊó∂Èó¥„ÄÇÂ¶ÇÊûúÔºà1ÔºâÁºìÂ≠òÂ±ÇÂú®Âêå‰∏ÄÊó∂Èó¥ÊúâÂ§ßÈáèÊï∞ÊçÆÂ§±ÊïàÔºåÊàñËÄÖ Ôºà2ÔºâRedis Áî±‰∫éÊüê‰∫õÊÉÖÂÜµÂÆïÊú∫ÔºåÂØºËá¥ÊâÄÊúâËØ∑Ê±ÇÂÖ®ÈÉ®ËÆøÈóÆÊï∞ÊçÆÂ∫ìÔºåÈÄ†ÊàêÊï∞ÊçÆÂ∫ìÂÆïÊú∫„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/redis/cache-problem/1.png"
width="1080"
height="660"
srcset="https://emerywan.github.io/blog/blog/p/redis/cache-problem/1_huab116a381b3e5ca6aaa694e3ae424f2c_109299_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/redis/cache-problem/1_huab116a381b3e5ca6aaa694e3ae424f2c_109299_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="163"
data-flex-basis="392px"
>&lt;/p>
&lt;p>üí° Ëß£ÂÜ≥ÂäûÊ≥ïÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üß© ÁªôÊï∞ÊçÆÈöèÊú∫ËÆæÁΩÆËøáÊúüÊó∂Èó¥&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üß© &lt;a class="link" href="https://www.letout.cn/p/distributed-lock/redis/" target="_blank" rel="noopener"
>‰∫íÊñ•ÈîÅ&lt;/a>ÔºåÂè™Êúâ‰∏Ä‰∏™ËØ∑Ê±Ç‰ºöÂà∞Êï∞ÊçÆÂ∫ì‰∏äÔºåÂπ∂‰ºöÈáçÂª∫ÁºìÂ≠ò&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üß© Âèå Key Á≠ñÁï•ÔºåÊúâ‰∏çÂêåÁöÑ KeyÔºå‰ΩÜÊúâÁõ∏ÂêåÁöÑ Value&lt;/p>
&lt;ul>
&lt;li>‰∏ª KeyÔºöËÆæÁΩÆËøáÊúüÊó∂Èó¥&lt;/li>
&lt;li>Â§á KeyÔºö‰∏çËÆæÁΩÆËøáÊúüÊó∂Èó¥&lt;/li>
&lt;li>ÂΩì‰∏ª Key ËøáÊúüÂêéÔºåÂ§ßÈáèËØ∑Ê±ÇÂà∞ËææÊó∂Áõ¥Êé•ËøîÂõûÂ§á KeyÔºåÂπ∂ÈÄöÁü•ÂêéÂè∞Á∫øÁ®ãÔºåÈáçÂª∫‰∏ª Key&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>üß© ËÆæÁΩÆ Key Ê∞∏‰∏çËøáÊúüÔºåÂêéÂè∞Êõ¥Êñ∞ÁºìÂ≠òÔºàÂÜÖÂ≠ò‰∏çÂ§üÊó∂ÂèØËÉΩË¢´ÂÜÖÂ≠òÊ∑òÊ±∞Á≠ñÁï•Ê∑òÊ±∞Ôºâ&lt;/p>
&lt;ul>
&lt;li>ÂêéÂè∞Á∫øÁ®ãÂÆöÊó∂Êõ¥Êñ∞ Êàñ ÂÆöÊó∂Ê£ÄÊµãÊòØÂê¶Â§±ÊïàÔºåËøõË°åÈáçÂª∫&lt;/li>
&lt;li>‰∏öÂä°‰∏äÂèëÁé∞Ë¢´Ê∑òÊ±∞ÔºåÈÄöËøáÊ∂àÊÅØÈòüÂàóÈÄöÁü•ÈáçÂª∫&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="-ÁºìÂ≠òÂáªÁ©ø">‚ö° ÁºìÂ≠òÂáªÁ©ø&lt;/h2>
&lt;p>ÁºìÂ≠ò‰∏≠Êüê‰∏™ÁÉ≠ÁÇπ Key Êï∞ÊçÆËøáÊúü‰∫ÜÔºåÊ≠§Êó∂ÊúâÂ§ßÈáèËØ∑Ê±ÇËÆøÈóÆËØ•Êï∞ÊçÆÔºåÂØºËøô‰∫õËØ∑Ê±ÇÂÖ®ÈÉ®ÈÉΩËêΩÂà∞‰∫ÜÊï∞ÊçÆÂ∫ì‰∏äÔºåÂØºËá¥Êï∞ÊçÆÂ∫ìÂÆïÊú∫„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/redis/cache-problem/2.png"
width="707"
height="836"
srcset="https://emerywan.github.io/blog/blog/p/redis/cache-problem/2_hu4d851393f6ce96ed0f1e6e1059c88231_81241_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/redis/cache-problem/2_hu4d851393f6ce96ed0f1e6e1059c88231_81241_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="84"
data-flex-basis="202px"
>&lt;/p>
&lt;p>üí° Ëß£ÂÜ≥ÂäûÊ≥ïÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üß© &lt;a class="link" href="https://www.letout.cn/p/distributed-lock/redis/" target="_blank" rel="noopener"
>‰∫íÊñ•ÈîÅ&lt;/a>ÔºåÂè™Êúâ‰∏Ä‰∏™ËØ∑Ê±Ç‰ºöÂà∞Êï∞ÊçÆÂ∫ì‰∏äÔºåÂπ∂ÈáçÂª∫ÁºìÂ≠ò&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üß© ÁÉ≠ÁÇπÊï∞ÊçÆÊ∞∏‰∏çËøáÊúüÔºàÂÜÖÂ≠ò‰∏çÂ§üÊó∂ÂèØËÉΩË¢´ÂÜÖÂ≠òÊ∑òÊ±∞Á≠ñÁï•Ê∑òÊ±∞ÔºâÔºåÂêéÂè∞Á∫øÁ®ãÊõ¥Êñ∞ÁºìÂ≠ò&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="-ÁºìÂ≠òÁ©øÈÄè">üå™Ô∏è ÁºìÂ≠òÁ©øÈÄè&lt;/h2>
&lt;p>ËØ∑Ê±ÇÁöÑÊï∞ÊçÆÊó¢‰∏çÂ≠òÂú®‰∫éÁºìÂ≠ò‰∏≠Ôºå‰πü‰∏çÂ≠òÂú®‰∫éÊï∞ÊçÆÂ∫ì‰∏≠ÔºåÊúâÂ§ßÈáèËøôÊ†∑ÁöÑËØ∑Ê±ÇÔºå‰∏ç‰ºöÂëΩ‰∏≠ÁºìÂ≠òÔºåÁõ¥Êé•ËÆøÈóÆÊï∞ÊçÆÂ∫ìÔºåÂØºËá¥Êï∞ÊçÆÂ∫ìÂéãÂäõÈùûÂ∏∏Â§ß„ÄÇ&lt;/p>
&lt;p>ÂèØËÉΩÊòØÁî±‰∫éÔºà1Ôºâ‰∏öÂä°ËØØÊìç‰Ωú Êàñ Ôºà2ÔºâÈªëÂÆ¢ÁöÑÊïÖÊÑèÊîªÂáª&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/redis/cache-problem/3.png"
width="576"
height="836"
srcset="https://emerywan.github.io/blog/blog/p/redis/cache-problem/3_hua47220c88eca814bf161e3c4ed6c3627_76648_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/redis/cache-problem/3_hua47220c88eca814bf161e3c4ed6c3627_76648_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="68"
data-flex-basis="165px"
>&lt;/p>
&lt;p>üí° Ëß£ÂÜ≥ÂäûÊ≥ïÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üß© ÁºìÂ≠òÈªòËÆ§ÂÄºÔºåÂêéÁª≠ÁöÑËØ∑Ê±ÇÁõ¥Êé•ËøîÂõûËØ•ÈªòËÆ§ÂÄº&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üß© Â∏ÉÈöÜËøáÊª§Âô®ÔºåÂΩìÂ∏ÉÈöÜËøáÊª§Âô®ËøîÂõû 0 Êó∂ÔºåËØ¥ÊòéÊï∞ÊçÆ‰∏ÄÂÆö‰∏çÂú®Êï∞ÊçÆÂ∫ì‰∏≠&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üß© ÈùûÊ≥ïËØ∑Ê±ÇÈôêÂà∂ÔºåÂú®‰∏öÂä°Â±ÇÂà§Êñ≠Êü•ËØ¢Êù°‰ª∂ÔºåÂ¶ÇÊûúÊòØÊÅ∂ÊÑèËØ∑Ê±ÇÁõ¥Êé•ÊãíÁªù&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="-ÁÉ≠ÁÇπ-key-ÈáçÂª∫">üî• ÁÉ≠ÁÇπ Key ÈáçÂª∫&lt;/h2>
&lt;p>ÂΩìÁÉ≠ÁÇπÁºìÂ≠òÂ§±ÊïàÁöÑÁû¨Èó¥ÔºåÂêéÁ´Ø‰ºöÊúâÂ§ßÈáèËØ∑Ê±ÇÔºåÂú®ÈáçÂª∫ÁºìÂ≠òÊó∂Ôºå‰ºöÈÄ†ÊàêÂêéÁ´ØË¥üËΩΩËøáÂ§ßÔºåÂØºËá¥Â∫îÁî®Â¥©Ê∫É„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üí° ‰ΩøÁî®‰∫íÊñ•ÈîÅ&lt;/p>
&lt;ul>
&lt;li>Âè™ÂÖÅËÆ∏‰∏Ä‰∏™Á∫øÁ®ãÈáçÂª∫ÁºìÂ≠òÔºåÂÖ∂‰ªñÁ∫øÁ®ãÁ≠âÂæÖÈáçÂª∫ÁºìÂ≠òÁöÑÁ∫øÁ®ãÊâßË°åÂÆåÔºåÊâçËÉΩ‰ªéÁºìÂ≠òËé∑ÂèñÊï∞ÊçÆ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>üí° Key Ê∞∏‰∏çËøáÊúü&lt;/p>
&lt;ul>
&lt;li>Âà©Áî®ÂêéÂè∞Á∫øÁ®ãÂéªÂçïÁã¨ÊûÑÂª∫ÁºìÂ≠ò&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="-ÁºìÂ≠ò‰∏ÄËá¥ÊÄß">üéè ÁºìÂ≠ò‰∏ÄËá¥ÊÄß&lt;/h2>
&lt;h3 id="Êõ¥Êñ∞">Êõ¥Êñ∞&lt;/h3>
&lt;h4 id="-ÂÖàÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÂÜçÊõ¥Êñ∞ÁºìÂ≠ò">‚ùå ÂÖàÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÔºåÂÜçÊõ¥Êñ∞ÁºìÂ≠ò&lt;/h4>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/redis/cache-problem/11.png"
width="893"
height="618"
srcset="https://emerywan.github.io/blog/blog/p/redis/cache-problem/11_hu0a23dc2cab9bf3c3bb634fe5cae7e5fa_53493_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/redis/cache-problem/11_hu0a23dc2cab9bf3c3bb634fe5cae7e5fa_53493_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="144"
data-flex-basis="346px"
>&lt;/p>
&lt;h4 id="-ÂÖàÊõ¥Êñ∞ÁºìÂ≠òÂÜçÊõ¥Êñ∞Êï∞ÊçÆÂ∫ì">‚ùå ÂÖàÊõ¥Êñ∞ÁºìÂ≠òÔºåÂÜçÊõ¥Êñ∞Êï∞ÊçÆÂ∫ì&lt;/h4>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/redis/cache-problem/12.png"
width="903"
height="498"
srcset="https://emerywan.github.io/blog/blog/p/redis/cache-problem/12_hub4cf2089e272e09419483674cc55ccc3_51215_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/redis/cache-problem/12_hub4cf2089e272e09419483674cc55ccc3_51215_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="181"
data-flex-basis="435px"
>&lt;/p>
&lt;h3 id="Âà†Èô§">Âà†Èô§&lt;/h3>
&lt;h4 id="-ÂÖàÂà†Èô§ÁºìÂ≠òÂÜçÊõ¥Êñ∞Êï∞ÊçÆÂ∫ì">‚ùì ÂÖàÂà†Èô§ÁºìÂ≠òÔºåÂÜçÊõ¥Êñ∞Êï∞ÊçÆÂ∫ì&lt;/h4>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/redis/cache-problem/13.png"
width="903"
height="618"
srcset="https://emerywan.github.io/blog/blog/p/redis/cache-problem/13_hu6883dd3e3299a5dfe5e375db77067d03_50514_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/redis/cache-problem/13_hu6883dd3e3299a5dfe5e375db77067d03_50514_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="146"
data-flex-basis="350px"
>&lt;/p>
&lt;p>ÂèØ‰ª•ËÄÉËôëÂª∂ËøüÂèåÂà†„ÄÇÂú®Êõ¥Êñ∞ÂÆåÊï∞ÊçÆÂ∫ìÂêéÔºåÂª∂Ëøü‰∏ÄÊÆµÊó∂Èó¥ÂÜçÂà†Èô§‰∏ÄÊ¨°ÁºìÂ≠ò„ÄÇ&lt;/p>
&lt;h4 id="-ÂÖàÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÂÜçÂà†Èô§ÁºìÂ≠ò">‚≠ï ÂÖàÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÔºåÂÜçÂà†Èô§ÁºìÂ≠ò&lt;/h4>
&lt;p>Âú®ÂÆûÈôÖ‰∏≠ÔºåÂá∫Áé∞ÁöÑÊ¶ÇÁéáÈùûÂ∏∏‰Ωé„ÄÇÁºìÂ≠òÁöÑÂÜôÂÖ•Ë¶ÅËøúËøúÂø´‰∫éÊï∞ÊçÆÂ∫ìÁöÑÂÜôÂÖ•„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/redis/cache-problem/14.png"
width="1080"
height="660"
srcset="https://emerywan.github.io/blog/blog/p/redis/cache-problem/14_huab116a381b3e5ca6aaa694e3ae424f2c_109299_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/redis/cache-problem/14_huab116a381b3e5ca6aaa694e3ae424f2c_109299_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="163"
data-flex-basis="392px"
>&lt;/p>
&lt;h3 id="ÂºÇÊ≠•">ÂºÇÊ≠•&lt;/h3>
&lt;p>ÈÄöËøá Êõ¥Êñ∞ + Âà†Èô§ÔºåÊòØ‰∏§‰∏™‰∏çÂêåÁöÑÊìç‰ΩúÔºå‰∏çÂÖ∑Â§áÂéüÂ≠êÊÄßÔºåÂèØËÉΩ‰ºöÂØºËá¥‰∏ç‰∏ÄËá¥ÁöÑÈóÆÈ¢ò„ÄÇ&lt;/p>
&lt;ul>
&lt;li>‰∏≠Èó¥‰ª∂&lt;/li>
&lt;/ul>
&lt;p>ÈÄöËøá‰∏≠Èó¥‰ª∂ÔºàÂ¶Ç &lt;a class="link" href="https://github.com/alibaba/canal" target="_blank" rel="noopener"
>Canal -&amp;gt; https://github.com/alibaba/canal&lt;/a> ÔºâËÆ¢ÈòÖÊï∞ÊçÆÂ∫ìÁöÑ binlogÔºåÂΩìÊõ¥Êñ∞ÂÆåÊï∞ÊçÆÂ∫ìÊó∂ÔºåÈÄöËøá‰∏≠Èó¥‰ª∂ÂéªÂà†Èô§ÁºìÂ≠ò„ÄÇ&lt;/p>
&lt;h2 id="-ÂèÇËÄÉ">üìï ÂèÇËÄÉ&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://xiaolincoding.com/redis/" target="_blank" rel="noopener"
>https://xiaolincoding.com/redis/&lt;/a>&lt;/li>
&lt;li>Redis ÂºÄÂèë‰∏éËøêÁª¥&lt;/li>
&lt;/ul></description></item><item><title>Redis ÊåÅ‰πÖÂåñ</title><link>https://emerywan.github.io/blog/p/redis/persistence/</link><pubDate>Fri, 06 Jan 2023 22:07:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/redis/persistence/</guid><description>&lt;img src="https://emerywan.github.io/blog/p/redis/persistence/cow.png" alt="Featured image of post Redis ÊåÅ‰πÖÂåñ" />&lt;h2 id="‰øùÈöúÊï∞ÊçÆ‰∏ç‰∏¢Â§±">‰øùÈöúÊï∞ÊçÆ‰∏ç‰∏¢Â§±&lt;/h2>
&lt;p>Redis ÁöÑËØªÂÜôÊìç‰ΩúÈÉΩÊòØÂú®ÂÜÖÂ≠ò‰∏≠Ôºå‰∏∫‰∫Ü‰øùËØÅÂÜÖÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆ‰∏ç‰ºö‰∏¢Â§±ÔºåRedis ÂÆûÁé∞‰∫ÜÊï∞ÊçÆÊåÅ‰πÖÂåñÁöÑÊú∫Âà∂ÔºåÊääÊï∞ÊçÆÂ≠òÂÇ®Âà∞Á£ÅÁõòÔºåËøôÊ†∑Âú® Redis ÈáçÂêØÂ∞±ËÉΩÂ§ü‰ªéÁ£ÅÁõò‰∏≠ÊÅ¢Â§çÂéüÊúâÁöÑÊï∞ÊçÆ„ÄÇ&lt;/p>
&lt;ul>
&lt;li>RDB Âø´ÁÖß&lt;/li>
&lt;li>AOF Êó•Âøó&lt;/li>
&lt;li>Ê∑∑ÂêàÊåÅ‰πÖÂåñÔºà4.0+Ôºâ&lt;/li>
&lt;/ul>
&lt;h2 id="-rdb-Âø´ÁÖß">üì∑ RDB Âø´ÁÖß&lt;/h2>
&lt;p>RDB Âø´ÁÖßÂ∞±ÊòØËÆ∞ÂΩïÊüê‰∏Ä‰∏™Áû¨Èó¥ÁöÑÂÜÖÂ≠òÊï∞ÊçÆÔºåËÆ∞ÂΩïÁöÑÊòØÂÆûÈôÖÊï∞ÊçÆ„ÄÇÔºàÂÖ®ÈáèÂ§á‰ªΩÔºâ&lt;/p>
&lt;p>Âø´ÁÖßÔºåÂ∞±ÊòØËÆ∞ÂΩïÊüê‰∏Ä‰∏™Áû¨Èó¥‰∏úË•øÔºåÊØîÂ¶ÇÂΩìÊàë‰ª¨ÁªôÈ£éÊôØÊãçÁÖßÊó∂ÔºåÈÇ£‰∏Ä‰∏™Áû¨Èó¥ÁöÑÁîªÈù¢Âíå‰ø°ÊÅØÂ∞±ËÆ∞ÂΩïÂà∞‰∫Ü‰∏ÄÂº†ÁÖßÁâá„ÄÇ&lt;/p>
&lt;h3 id="Ëß¶ÂèëÊù°‰ª∂">Ëß¶ÂèëÊù°‰ª∂&lt;/h3>
&lt;h4 id="ÊâãÂä®Ëß¶Âèë">ÊâãÂä®Ëß¶Âèë&lt;/h4>
&lt;ul>
&lt;li>saveÔºàÈòªÂ°û‰∏ªÁ∫øÁ®ãÔºâ&lt;/li>
&lt;li>bgsave&lt;/li>
&lt;/ul>
&lt;h4 id="Ë¢´Âä®Ëß¶Âèë">Ë¢´Âä®Ëß¶Âèë&lt;/h4>
&lt;ul>
&lt;li>Ê†πÊçÆÈÖçÁΩÆÊñá‰ª∂ÈÄâÈ°πÊØèÈöî‰∏ÄÊÆµÊó∂Èó¥Ëß¶Âèë‰∏ÄÊ¨° bgsave&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-conf" data-lang="conf">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># 300 Áßí‰πãÂÜÖÔºåÂØπÊï∞ÊçÆÂ∫ìËá≥Â∞ëÊâßË°å‰∫Ü 10 Ê¨°Êìç‰Ωú
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nv">save&lt;/span> &lt;span class="nv">300&lt;/span> &lt;span class="nv">10&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>
&lt;p>‰ªéËäÇÁÇπÊâßË°åÂÖ®ÈáèÂ§çÂà∂Êìç‰ΩúÔºå‰∏ªËäÇÁÇπ‰ºöËá™Âä®ÊâßË°å bgsave Êñá‰ª∂ÂèëÈÄÅÁªô‰ªéËäÇÁÇπ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÊâßË°å shutdown ÂëΩ‰ª§ÔºåÊ≤°ÊúâÂºÄÂêØ AOF ÊåÅ‰πÖÂåñÂäüËÉΩ‰ºöËá™Âä®ÊâßË°å bgsave&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="ÂÆûÁé∞ÊñπÂºè">ÂÆûÁé∞ÊñπÂºè&lt;/h3>
&lt;p>ÊâßË°å bgsave ÂëΩ‰ª§ÁöÑÊó∂ÂÄôÔºå‰ºöÈÄöËøá fork() ÂàõÂª∫Â≠êËøõÁ®ãÔºåÂ§çÂà∂Áà∂ËøõÁ®ãÁöÑÈ°µË°®ÔºåÊ≠§Êó∂Â≠êËøõÁ®ãÂíåÁà∂ËøõÁ®ãÂÖ±‰∫´Âêå‰∏ÄÁâáÂÜÖÂ≠òÊï∞ÊçÆÔºåbgsave Â≠êËøõÁ®ã‰ºöÊääËØ•ÂâØÊú¨Êï∞ÊçÆÂÜôÂÖ• RDB Êñá‰ª∂„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/redis/persistence/cow.png"
width="969"
height="707"
srcset="https://emerywan.github.io/blog/blog/p/redis/persistence/cow_huef7edcdd3c38f136e9d4b420711ff934_42621_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/redis/persistence/cow_huef7edcdd3c38f136e9d4b420711ff934_42621_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="137"
data-flex-basis="328px"
>&lt;/p>
&lt;p>Âú®Ëøô‰∏™ËøáÁ®ã‰∏≠ÔºåRedis ‰æùÁÑ∂ÂèØ‰ª•ÁªßÁª≠Â§ÑÁêÜÊìç‰ΩúÂëΩ‰ª§ÔºåÂ¶ÇÊûúÁà∂ËøõÁ®ãÊâßË°åÂÜôÊìç‰ΩúÔºåÂÖ≥ÈîÆÁöÑÊäÄÊúØÂ∞±Âú®‰∫éÂÜôÊó∂Â§çÂà∂ÊäÄÊúØÔºàCopy-On-Write, COWÔºâÔºåË¢´‰øÆÊîπÁöÑÊï∞ÊçÆ‰ºöÂ§çÂà∂‰∏Ä‰ªΩÂâØÊú¨„ÄÇÔºàRDB Âø´ÁÖß‰øùÂ≠òÁöÑÊòØÂéüÊú¨ÁöÑÂÜÖÂ≠òÊï∞ÊçÆÔºâ&lt;/p>
&lt;h2 id="-aof-Êó•Âøó">üìÉ AOF Êó•Âøó&lt;/h2>
&lt;p>Redis Âú®ÊâßË°åÂÆå‰∏ÄÊù°ÂëΩ‰ª§ÂêéÔºå‰ºöÊääËØ•ÂëΩ‰ª§‰ª•ËøΩÂä†ÁöÑÊñπÂºèÂÜôÂÖ•Âà∞Êñá‰ª∂‰∏≠Ôºà‰ºöÂÖàÂÜôÂà∞ÁºìÂÜ≤Âå∫ÔºåÈÄâÊã©ÂêàÈÄÇÁöÑÂà∑ÁõòÊó∂Èó¥Êâç‰ºöÂà∞Á£ÅÁõò‰∏≠Ôºâ„ÄÇ&lt;/p>
&lt;p>ÂΩì Redis ÈáçÂêØÊó∂Ôºå‰ºöËØªÂèñ AOF Êó•ÂøóÁöÑÂÜÖÂÆπÔºåÁÑ∂ÂêéÈÄê‰∏ÄÊâßË°åËøõË°åÊï∞ÊçÆÊÅ¢Â§ç„ÄÇ&lt;/p>
&lt;h3 id="ÂêéÂÜôÊó•Âøó">ÂêéÂÜôÊó•Âøó&lt;/h3>
&lt;p>Reids ÊòØÂÖàÊâßË°åÂÜôÊìç‰ΩúÂëΩ‰ª§ÂêéÔºåÊâçÂ∞ÜËØ•ÂëΩ‰ª§ËÆ∞ÂΩïÂà∞ AOF Êó•ÂøóÈáå„ÄÇ&lt;/p>
&lt;ul>
&lt;li>‰ºòÁÇπ
&lt;ul>
&lt;li>ÈÅøÂÖçÈ¢ùÂ§ñÁöÑÊ£ÄÊü•ÂëΩ‰ª§ÁöÑÂºÄÈîÄ&lt;/li>
&lt;li>ÂÜôÊó•ÂøóÁöÑÊìç‰Ωú‰∏ç‰ºöÈòªÂ°ûÂΩìÂâçÂëΩ‰ª§ÁöÑÊâßË°å&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Áº∫ÁÇπ
&lt;ul>
&lt;li>Êï∞ÊçÆÂèØËÉΩ‰ºö‰∏¢Â§±„ÄÇÂú®Ê≤°ÊúâÂÜôÂà∞ÂÜÖÂ≠ò‰∏≠Êó∂ÔºåÂèëÁîüÂÆïÊú∫ÔºåÊúâ‰∏¢Â§±Êï∞ÊçÆÁöÑÈ£éÈô©&lt;/li>
&lt;li>ÂèØËÉΩÈòªÂ°ûÂêéÁª≠ÁöÑÊìç‰Ωú„ÄÇÊâßË°åÂëΩ‰ª§ÂíåÂÜô AOF Êó•ÂøóÈÉΩÊòØÂú®‰∏ªÁ∫øÁ®ã‰∏≠ÊâßË°åÔºåÂΩìÊääÊó•ÂøóÂÜôÂÖ•Âà∞Á£ÅÁõòÊó∂Ôºå‰ºöÈòªÂ°ûÂêéÁª≠ÁöÑÊìç‰Ωú&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="ÂÜôÂõûÁ≠ñÁï•">ÂÜôÂõûÁ≠ñÁï•&lt;/h3>
&lt;p>Redis ÊâßË°åÂÆåÂÜôÊìç‰ΩúÂëΩ‰ª§ÂêéÔºå‰ºöÂ∞ÜÂëΩ‰ª§ËøΩÂä†Âà∞ server.aof_buf ÁºìÂÜ≤Âå∫Ôºå‰ªÄ‰πàÊó∂ÂÄôÂÜôÂõûÂà∞Á£ÅÁõòÔºåÁî±ÈÖçÁΩÆÂÜ≥ÂÆö„ÄÇ&lt;/p>
&lt;p>Redis.conf ÂèØÈÖçÁΩÆÂèÇÊï∞ &lt;code>appendfsync&lt;/code>„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Always&lt;/p>
&lt;ul>
&lt;li>ÊØèÊ¨°ÈÉΩÂÜôÂõû&lt;/li>
&lt;li>ÂèØÈù†ÊÄßÈ´òÔºåÊúÄÂ§ßÁ®ãÂ∫¶‰ºö‰øùËØÅÊï∞ÊçÆ‰∏ç‰∏¢Â§±&lt;/li>
&lt;li>ÊØè‰∏™ÂëΩ‰ª§ÈÉΩË¶ÅÂÜôÂõûÁ°¨ÁõòÔºåÊÄßËÉΩÂºÄÈîÄÂ§ß&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Everysec&lt;/p>
&lt;ul>
&lt;li>ÊØèÁßíÂÜôÂõû&lt;/li>
&lt;li>ÂÆïÊú∫Êó∂‰ºö‰∏¢Â§± 1s ÂÜÖÁöÑÊï∞ÊçÆ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>No&lt;/p>
&lt;ul>
&lt;li>Áî±Êìç‰ΩúÁ≥ªÁªüÂÜ≥ÂÆöÂÜôÂõûÊó∂Êú∫&lt;/li>
&lt;li>ÂÆïÊú∫Êó∂ÂèØËÉΩ‰ºö‰∏¢Â§±ÂæàÂ§öÊï∞ÊçÆ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="aof-ÈáçÂÜô">AOF ÈáçÂÜô&lt;/h3>
&lt;p>AOF Êó•ÂøóÊòØ‰∏Ä‰∏™Êñá‰ª∂ÔºåÈöèÁùÄÊâßË°åÁöÑÂÜôÊìç‰ΩúÂëΩ‰ª§Ë∂äÊù•Ë∂äÂ§öÔºåÊñá‰ª∂ÁöÑÂ§ßÂ∞è‰ºöË∂äÊù•Ë∂äÂ§ß„ÄÇ Â¶ÇÊûúÂΩì AOF Êó•ÂøóÊñá‰ª∂ËøáÂ§ßÂ∞±‰ºöÂ∏¶Êù•ÊÄßËÉΩÈóÆÈ¢òÔºåÊØîÂ¶ÇÈáçÂêØ Redis ÂêéÔºåÈúÄË¶ÅËØª AOF Êñá‰ª∂ÁöÑÂÜÖÂÆπ‰ª•ÊÅ¢Â§çÊï∞ÊçÆÔºåÂ¶ÇÊûúÊñá‰ª∂ËøáÂ§ßÔºåÊï¥‰∏™ÊÅ¢Â§çÁöÑËøáÁ®ãÂ∞±‰ºöÂæàÊÖ¢„ÄÇ&lt;/p>
&lt;p>‰∏∫‰∫ÜÈÅøÂÖç AOF Êñá‰ª∂Ë∂äÂÜôË∂äÂ§ßÔºåÊèê‰æõ‰∫Ü AOF ÈáçÂÜôÊú∫Âà∂ÔºåÂΩì AOF Êñá‰ª∂ÁöÑÂ§ßÂ∞èË∂ÖËøáÊâÄËÆæÂÆöÁöÑÈòàÂÄºÂêéÔºåRedis Â∞±‰ºöÂêØÁî® AOF ÈáçÂÜôÊú∫Âà∂ÔºåÊù•ÂéãÁº© AOF Êñá‰ª∂„ÄÇ&lt;/p>
&lt;p>AOF ÈáçÂÜôÊó∂Ôºå‰ºöËØªÂèñÊï∞ÊçÆÂ∫ì‰∏≠ÊâÄÊúâÁöÑÈîÆÂÄºÂØπÔºåÁÑ∂ÂêéÂ∞ÜÊØè‰∏Ä‰∏™ÈîÆÂÄºÂØπÁî®‰∏ÄÊù°ÂÜôÂëΩ‰ª§ËÆ∞ÂΩïÂà∞ Êñ∞ÁöÑ AOF Êñá‰ª∂‰∏≠ÔºåÁ≠âÂà∞ÂÖ®ÈÉ®ËÆ∞ÂΩïÂÆå‰πãÂêéÔºåÂ∞±Â∞ÜÊñ∞ÁöÑÊñá‰ª∂ÊõøÊç¢ÊéâÊóßÁöÑÊñá‰ª∂„ÄÇ&lt;/p>
&lt;h4 id="ÂÆûÁé∞ÊñπÂºè-1">ÂÆûÁé∞ÊñπÂºè&lt;/h4>
&lt;p>ÈÄöËøá fork ÂêéÂè∞Â≠êËøõÁ®ãÂÆåÊàê„ÄÇ‰ΩøÁî® COW ÊäÄÊúØÔºåÂÖ±‰∫´Áâ©ÁêÜÂÜÖÂ≠ò„ÄÇ&lt;/p>
&lt;p>Âú®ÈáçÂÜôÊúüÈó¥Ôºå‰æùÊóßÂèØ‰ª•ÊâßË°åÂëΩ‰ª§ÔºåÂÜôÂëΩ‰ª§‰ºöÂêåÊó∂‰øùÂ≠òÂú®Ôºà1ÔºâAOF ÁºìÂ≠òÂå∫ Âíå Ôºà2ÔºâAOF ÈáçÂÜôÁºìÂ≠òÂå∫„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/redis/persistence/aof.png"
width="940"
height="1014"
srcset="https://emerywan.github.io/blog/blog/p/redis/persistence/aof_huf07c02c53918ac63e75c29803edc1708_212356_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/redis/persistence/aof_huf07c02c53918ac63e75c29803edc1708_212356_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="92"
data-flex-basis="222px"
>&lt;/p>
&lt;p>ÊâßË°åÂÆåÊàê‰πãÂêéÔºåÂ∞Ü AOF ÈáçÂÜôÁºìÂ≠òÂå∫ÁöÑÂÜÖÂÆπËøΩÂä†Âà∞Êñá‰ª∂‰∏≠ÔºåÂπ∂ÊõøÊç¢ÊóßÁöÑÊñá‰ª∂„ÄÇ&lt;/p>
&lt;h2 id="-Ê∑∑ÂêàÊåÅ‰πÖÂåñ">üóÉÔ∏è Ê∑∑ÂêàÊåÅ‰πÖÂåñ&lt;/h2>
&lt;p>Ê∑∑ÂêàÊåÅ‰πÖÂåñÂ∑•‰ΩúÂú® AOF Êó•ÂøóÈáçÂÜôËøáÁ®ã„ÄÇ&lt;/p>
&lt;p>ÂΩìÂºÄÂêØ‰∫ÜÊ∑∑ÂêàÊåÅ‰πÖÂåñÊó∂ÔºåÂú® AOF ÈáçÂÜôÊó•ÂøóÊó∂Ôºå&lt;/p>
&lt;ul>
&lt;li>fork Âá∫Êù•ÁöÑÈáçÂÜôÂ≠êËøõÁ®ã‰ºöÂÖàÂ∞Ü‰∏é‰∏ªÁ∫øÁ®ãÂÖ±‰∫´ÁöÑÂÜÖÂ≠òÊï∞ÊçÆ‰ª• RDB ÊñπÂºèÂÜôÂÖ•Âà∞ AOF Êñá‰ª∂Ôºå&lt;/li>
&lt;li>‰∏ªÁ∫øÁ®ãÂ§ÑÁêÜÁöÑÊìç‰ΩúÂëΩ‰ª§‰ºöË¢´ËÆ∞ÂΩïÂú®ÈáçÂÜôÁºìÂÜ≤Âå∫ÈáåÔºåÈáçÂÜôÁºìÂÜ≤Âå∫ÈáåÁöÑÂ¢ûÈáèÂëΩ‰ª§‰ºö‰ª• AOF ÊñπÂºèÂÜôÂÖ•Âà∞ AOF Êñá‰ª∂Ôºå&lt;/li>
&lt;li>ÂÜôÂÖ•ÂÆåÊàêÂêéÈÄöÁü•‰∏ªËøõÁ®ãÂ∞ÜÊñ∞ÁöÑÂê´Êúâ RDB Ê†ºÂºèÂíå AOF Ê†ºÂºèÁöÑ AOF Êñá‰ª∂ÊõøÊç¢ÊóßÁöÑÁöÑ AOF Êñá‰ª∂„ÄÇ&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/redis/persistence/mix.jpg"
width="325"
height="356"
srcset="https://emerywan.github.io/blog/blog/p/redis/persistence/mix_huce3a57336b77bba5760b97f3c77136cb_10330_480x0_resize_q75_box.jpg 480w, https://emerywan.github.io/blog/blog/p/redis/persistence/mix_huce3a57336b77bba5760b97f3c77136cb_10330_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="91"
data-flex-basis="219px"
>&lt;/p>
&lt;p>‰ΩøÁî®‰∫ÜÊ∑∑ÂêàÊåÅ‰πÖÂåñÔºåAOF Êñá‰ª∂ÁöÑÂâçÂçäÈÉ®ÂàÜÊòØ RDB Ê†ºÂºèÁöÑÂÖ®ÈáèÊï∞ÊçÆÔºåÂêéÂçäÈÉ®ÂàÜÊòØ AOF Ê†ºÂºèÁöÑÂ¢ûÈáèÊï∞ÊçÆ„ÄÇ&lt;/p></description></item><item><title>‰ª£ÁêÜÊ®°Âºè</title><link>https://emerywan.github.io/blog/p/design-pattern/proxy/</link><pubDate>Thu, 05 Jan 2023 20:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/design-pattern/proxy/</guid><description>&lt;img src="https://emerywan.github.io/blog/p/design-pattern/proxy/proxy.png" alt="Featured image of post ‰ª£ÁêÜÊ®°Âºè" />&lt;h2 id="-‰ªãÁªç">üìñ ‰ªãÁªç&lt;/h2>
&lt;p>‰ª£ÁêÜÊ®°ÂºèÊòØ‰∏ÄÁßç&lt;strong>ÁªìÊûÑÂûãÊ®°Âºè&lt;/strong>„ÄÇ&lt;/p>
&lt;p>‰ª£ÁêÜÊ®°ÂºèÊòØ‰∏∫‰∫ÜÊñπ‰æøËÆøÈóÆÊüê‰∫õËµÑÊ∫êÔºå‰ΩøÂØπË±°Á±ªÊõ¥Âä†ÊòìÁî®„ÄÇ‰∏∫ÂÖ∂‰ªñÂØπË±°Êèê‰æõ‰∏ÄÁßç‰ª£ÁêÜÊéßÂà∂Ëøô‰∏™ÂØπË±°ÁöÑËÆøÈóÆ„ÄÇ&lt;/p>
&lt;p>Â∏∏ËßÅÁöÑÂú∫ÊôØÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üîñ ‰π∞ÁÅ´ËΩ¶Á•®‰∏ç‰∏ÄÂÆöË¶ÅÂéªÁÅ´ËΩ¶Á´ôÔºå‰πüÂèØ‰ª•Âéª‰ª£ÂîÆÁÇπ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üîñ Windows ‰∏≠ÁöÑÂø´Êç∑ÊñπÂºèÔºåLinux ‰∏≠ÁöÑËΩØÈìæÊé•„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üîñ Spring AOP„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üîñ Â∏∏ËßÅÁöÑ ORM Ê°ÜÊû∂ÔºåÂè™Ë¶ÅÂÆö‰πâÁõ∏ÂÖ≥ÁöÑÊé•Âè£ÔºåËÄå‰∏çÈúÄË¶ÅÂÜôÂÆûÁé∞Á±ªÔºåÂ∞±ÂèØ‰ª•ÂØπ XML ÊàñÊ≥®Ëß£‰∏≠ÁöÑ SQL ËØ≠Âè•ËøõË°åÂ¢ûÂà†ÊîπÊü•Êìç‰Ωú„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üîñ ‰∏Ä‰∫õ‰∏≠Èó¥‰ª∂Â¶Ç RPC Ê°ÜÊû∂ÔºåÂú®ÊãøÂà∞ jar ÂåÖ‰∏≠ÂØπÊé•Âè£ÁöÑÊèèËø∞ÂêéÔºå‰∏≠Èó¥‰ª∂‰ºöÂ≠óÊúçÂä°ÂêØÂä®Êó∂ÔºåÁîüÊàêÂØπÂ∫îÁöÑ‰ª£ÁêÜÁ±ª„ÄÇÂΩìË∞ÉÁî®Êé•Âè£Êó∂ÔºåÂÆûÈôÖ‰∏äÊòØÈÄöËøá‰ª£ÁêÜÁ±ªÂèëÂá∫ÁöÑ Socket ‰ø°ÊÅØ„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="-ÂÆûÁé∞ÊñπÂºè">üéà ÂÆûÁé∞ÊñπÂºè&lt;/h2>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/design-pattern/proxy/structure.png"
width="1319"
height="630"
srcset="https://emerywan.github.io/blog/blog/p/design-pattern/proxy/structure_hu34461378bd86a4cce257496a3fe5af00_116540_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/design-pattern/proxy/structure_hu34461378bd86a4cce257496a3fe5af00_116540_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="209"
data-flex-basis="502px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üéóÔ∏è ÊñπÊ≥ïÔºà1ÔºâÔºöÊäΩÂèñÊé•Âè£Ôºå‰ª£ÁêÜÂØπË±°ÂíåÊúçÂä°ÂØπË±°ÂÆûÁé∞Âêå‰∏Ä‰∏™Êé•Âè£„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üéóÔ∏è ÊñπÊ≥ïÔºà2ÔºâÔºöÂπ∂‰∏çÊòØÊâÄÊúâÊÉÖÂÜµÈÉΩËÉΩÊäΩÂèñÊé•Âè£ÔºàÂ¶Ç‰ª£Á†ÅÊîπÂä®ÂæàÂ§ß„ÄÅ‰∏çËÉΩ‰øÆÊîπÊúçÂä°Á±ªÔºâÔºåÂèØ‰ª•Â∞Ü‰ª£ÁêÜÁ±ª‰Ωú‰∏∫ÊúçÂä°Á±ªÁöÑÂ≠êÁ±ªÔºåËÆ©‰ª£ÁêÜÁ±ªÁªßÊâøÊúçÂä°Á±ªÁöÑÊâÄÊúâÊé•Âè£„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üéóÔ∏è ÂàõÂª∫‰ª£ÁêÜÁ±ªÔºå‰ª£ÁêÜÁ±ª‰∏≠ÂøÖÈ°ªÂåÖÂê´‰∏Ä‰∏™ÊúçÂä°Á±ªÁöÑÊàêÂëòÂèòÈáèÔºåË¥üË¥£ÊúçÂä°Á±ªÁöÑÊï¥‰∏™ÁîüÂëΩÂë®Êúü„ÄÇÔºàÂèØÈÄöËøáÊûÑÈÄ†ÂáΩÊï∞‰º†ÂÖ•ÔºåÊàñÂú®ÂÜÖÈÉ®ÂàõÂª∫Ôºâ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üéóÔ∏è Ê†πÊçÆÈúÄÊ±ÇÂÆûÁé∞‰ª£ÁêÜÊñπÊ≥ï„ÄÇÂ§ßÈÉ®ÂàÜÊÉÖÂÜµ‰∏ãÔºå‰ª£ÁêÜÊñπÊ≥ï‰ºöË∞ÉÁî®ÊúçÂä°ÂØπË±°ÁöÑÂêåÂêçÊñπÊ≥ï„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>üö¶ ÂèØËÄÉËôëËÆæËÆ°ÈÄâÈ°πÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ÊûÑÂª∫‰∏Ä‰∏™ÊñπÊ≥ïÔºåÁî®‰∫éÂÆ¢Êà∑Á´ØÂà§Êñ≠Ëé∑ÂæóÁöÑÊòØ‰ª£ÁêÜÂØπË±°ÔºåËøòÊòØÂÆûÈôÖÊúçÂä°ÂØπË±°„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‰ª£ÁêÜÂØπË±°‰∏≠ÊúçÂä°ÂØπË±°ÂèØ‰ª•ËÄÉËôëÂª∂ËøüÂàùÂßãÂåñ„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="-java-‰∏≠ÁöÑÂä®ÊÄÅ‰ª£ÁêÜ">‚òï Java ‰∏≠ÁöÑÂä®ÊÄÅ‰ª£ÁêÜ&lt;/h2>
&lt;p>Âú® Java Ê†áÂáÜÂ∫ì‰∏≠ÔºåÊèê‰æõ‰∫ÜÂä®ÊÄÅ‰ª£ÁêÜÂäüËÉΩÔºåÂÖÅËÆ∏Âú®ËøêË°åÊúüÂä®ÊÄÅÂàõÂª∫‰∏Ä‰∏™Êé•Âè£ÁöÑÂÆû‰æã„ÄÇÂÖ∂ÂÆûÂ∞±ÊòØ JVM Âú®ËøêË°åÊúüÈó¥ÔºåÂä®ÊÄÅÂàõÂª∫ class Â≠óËäÇÁ†ÅÂπ∂Âä†ËΩΩÁöÑËøáÁ®ã„ÄÇ&lt;/p>
&lt;p>Âä®ÊÄÅ‰ª£ÁêÜÈÄöËøá &lt;code>Proxy&lt;/code> ÂàõÂª∫‰ª£ÁêÜÂØπË±°ÔºåÁÑ∂ÂêéÂ∞ÜÊé•Âè£ÊñπÊ≥ï‚Äú‰ª£ÁêÜ‚ÄùÁªô &lt;code>InvocationHandler&lt;/code>„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">interface&lt;/span> &lt;span class="nc">InvocationHandler&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Object proxy -&amp;gt; ‰ª£ÁêÜÁöÑÂØπË±°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Method method -&amp;gt; Ê≠£Âú®Ë∞ÉÁî®ÁöÑÊñπÊ≥ï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Object[] args -&amp;gt; ÊñπÊ≥ïÁöÑÂèÇÊï∞
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">public&lt;/span> &lt;span class="n">Object&lt;/span> &lt;span class="nf">invoke&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Object&lt;/span> &lt;span class="n">proxy&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Method&lt;/span> &lt;span class="n">method&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Object&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="kd">throws&lt;/span> &lt;span class="n">Throwable&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Proxy
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="n">Object&lt;/span> &lt;span class="nf">newProxyInstance&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ClassLoader&lt;/span> &lt;span class="n">loader&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Class&lt;/span>&lt;span class="o">&amp;lt;?&amp;gt;[]&lt;/span> &lt;span class="n">interfaces&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">InvocationHandler&lt;/span> &lt;span class="n">h&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="kd">throws&lt;/span> &lt;span class="n">IllegalArgumentException&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Âú®ËøêË°åÊúüÈó¥ÂàõÂª∫‰∏Ä‰∏™ &lt;code>interface&lt;/code> ÂÆû‰æãÁöÑÊ≠•È™§Ôºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ÂÆö‰πâ‰∏Ä‰∏™ &lt;code>InvocationHandler&lt;/code> ÂÆû‰æãÔºåË¥üË¥£ÂÆûÁé∞Êé•Âè£ÁöÑÊñπÊ≥ïË∞ÉÁî®&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÈÄöËøá &lt;code>Proxy.newProxyInstance()&lt;/code> ÂàõÂª∫ &lt;code>interface&lt;/code> ÂÆû‰æã&lt;/p>
&lt;ul>
&lt;li>&lt;code>ClassLoader loader&lt;/code> Á±ªÂä†ËΩΩÂô®ÔºàÂ¶ÇÂΩìÂâçÁ±ªÁöÑÁ±ªÂä†ËΩΩÂô®Ôºö&lt;code>CurrentProxy.class.getClassLoader()&lt;/code>Ôºâ&lt;/li>
&lt;li>&lt;code>Class&amp;lt;?&amp;gt;[] interfaces&lt;/code> ÈúÄË¶ÅÂÆûÁé∞ÁöÑÊé•Âè£ÁöÑÊï∞ÁªÑÔºà‰ª£ÁêÜÁöÑÂØπË±°ÊòØÂÆûÁé∞‰∫ÜÂì™‰∏™Êé•Âè£Ôºâ&lt;/li>
&lt;li>&lt;code>InvocationHandler h&lt;/code> Áî®Êù•Â§ÑÁêÜÊé•Âè£ÊñπÊ≥ïË∞ÉÁî®ÁöÑ &lt;code>InvocationHandler&lt;/code> ÂÆû‰æãÔºàÁîüÊàêÁöÑ‰ª£ÁêÜÂØπË±°‰∏≠ÁöÑ‰ª£ÁêÜÊñπÊ≥ïÔºåÈúÄË¶ÅÂÅö‰ªÄ‰πàÔºâ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ËøîÂõû‰∏Ä‰∏™ &lt;code>Object&lt;/code>ÔºåÂèØÂº∫Âà∂ËΩ¨Âûã‰∏∫Êé•Âè£„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Ê®°ÊãüÁªèÁ∫™‰∫∫‰ª£ÁêÜÊ≠åÊâãÁöÑÂú∫ÊôØ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Êé•Âè£
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">Star&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">class&lt;/span> &lt;span class="nc">class&lt;/span> &lt;span class="n">Eason&lt;/span> &lt;span class="kd">implements&lt;/span> &lt;span class="n">Star&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="c1">// ÈúÄË¶ÅË¢´‰ª£ÁêÜÁöÑÁ±ª
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">ProxyDemo&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="n">Star&lt;/span> &lt;span class="nf">createProxy&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Star&lt;/span> &lt;span class="n">star&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="c1">// ÂàõÂª∫‰ª£ÁêÜÂØπË±°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">Star&lt;/span> &lt;span class="n">starProxy&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Star&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="n">Proxy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">newProxyInstance&lt;/span>&lt;span class="o">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ProxyDemo&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getClassLoader&lt;/span>&lt;span class="o">(),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="n">Class&lt;/span>&lt;span class="o">[]{&lt;/span>&lt;span class="n">Star&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="n">InvocationHandler&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="n">Object&lt;/span> &lt;span class="nf">invoke&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Object&lt;/span> &lt;span class="n">proxy&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Method&lt;/span> &lt;span class="n">method&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Object&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="kd">throws&lt;/span> &lt;span class="n">Throwable&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="c1">// ‰ª£ÁêÜÊñπÊ≥ïÈúÄË¶ÅÂÅöÁöÑ‰∫ãÊÉÖ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ÊéíÈô§ Object ‰∏≠ÁöÑÈÄöÁî®ÊñπÊ≥ïÔºå‰∏çËøõË°å‰ª£ÁêÜ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getDeclaringClass&lt;/span>&lt;span class="o">()))&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">method&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">invoke&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">String&lt;/span> &lt;span class="n">methodName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">method&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">methodName&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;sing&amp;#34;&lt;/span>&lt;span class="o">))&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// do ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">method&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">invoke&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">star&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">methodName&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;dance&amp;#34;&lt;/span>&lt;span class="o">))&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">starProxy&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="-ÈÄÇÂêàÂú∫ÊôØ">üé≤ ÈÄÇÂêàÂú∫ÊôØ&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>üé® Âª∂ËøüÂàùÂßãÂåñ„ÄÇÂ∞ÜÂØπË±°ÁöÑÂàùÂßãÂåñÂª∂ËøüÂà∞ÁúüÊ≠£ÊúâÈúÄË¶ÅÁöÑÊó∂ÂÄô„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üé® ËÆøÈóÆÊéßÂà∂„ÄÇ‰ª£ÁêÜÂèØ‰ªÖÂú®ÂÆ¢Êà∑Á´ØÂá≠ÊçÆÊª°Ë∂≥Ë¶ÅÊ±ÇÊó∂Â∞ÜËØ∑Ê±Ç‰º†ÈÄíÁªôÊúçÂä°ÂØπË±°„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üé® Êú¨Âú∞ÊâßË°åËøúÁ®ãÊúçÂä° ÔºàËøúÁ®ã‰ª£ÁêÜÔºâ„ÄÇÈÄÇÁî®‰∫éÊúçÂä°ÂØπË±°‰Ωç‰∫éËøúÁ®ãÊúçÂä°Âô®‰∏äÁöÑÊÉÖÂΩ¢„ÄÇ‰ª£ÁêÜÈÄöËøáÁΩëÁªú‰º†ÈÄíÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÔºåË¥üË¥£Â§ÑÁêÜÊâÄÊúâ‰∏éÁΩëÁªúÁõ∏ÂÖ≥ÁöÑÂ§çÊùÇÁªÜËäÇ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üé® ËÆ∞ÂΩïÊó•ÂøóËØ∑Ê±ÇÔºàÊó•ÂøóËÆ∞ÂΩï‰ª£ÁêÜÔºâ„ÄÇÂ¶ÇÈúÄË¶Å‰øùÂ≠òÂØπ‰∫éÊúçÂä°ÂØπË±°ÁöÑËØ∑Ê±ÇÂéÜÂè≤ËÆ∞ÂΩïÊó∂„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üé® ÁºìÂ≠òËØ∑Ê±ÇÁªìÊûúÔºàÁºìÂ≠ò‰ª£ÁêÜÔºâ„ÄÇ Â¶ÇÂèØÂØπÈáçÂ§çËØ∑Ê±ÇÊâÄÈúÄÁöÑÁõ∏ÂêåÁªìÊûúËøõË°åÁºìÂ≠ò„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="-ÂèÇËÄÉ">üîó ÂèÇËÄÉ&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://refactoringguru.cn/design-patterns/proxy" target="_blank" rel="noopener"
>https://refactoringguru.cn/design-patterns/proxy&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://bugstack.cn/md/develop/design-pattern/2020-06-16-%E9%87%8D%E5%AD%A6%20Java%20%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8A%E5%AE%9E%E6%88%98%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E3%80%8B.html" target="_blank" rel="noopener"
>https://bugstack.cn/md/develop/design-pattern/2020-06-16-%E9%87%8D%E5%AD%A6%20Java%20%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8A%E5%AE%9E%E6%88%98%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E3%80%8B.html&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.runoob.com/design-pattern/proxy-pattern.html" target="_blank" rel="noopener"
>https://www.runoob.com/design-pattern/proxy-pattern.html&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.liaoxuefeng.com/wiki/1252599548343744/1264804593397984" target="_blank" rel="noopener"
>https://www.liaoxuefeng.com/wiki/1252599548343744/1264804593397984&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Âä®ÊâãÁª¥‰øÆÁΩóÊäÄÈº†Ê†á ü§≠</title><link>https://emerywan.github.io/blog/p/fix-logi-mouse/</link><pubDate>Sat, 12 Nov 2022 21:14:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/fix-logi-mouse/</guid><description>&lt;img src="https://emerywan.github.io/blog/p/fix-logi-mouse/05.png" alt="Featured image of post Âä®ÊâãÁª¥‰øÆÁΩóÊäÄÈº†Ê†á ü§≠" />&lt;h2 id="ÂâçË®Ä">ÂâçË®Ä&lt;/h2>
&lt;p>‰πãÂâçÈº†ÊåâÈîÆ‰∏ÄÁõ¥‰∏çÁÅµÔºåÁªèÂ∏∏ÈúÄË¶ÅÊåâÂæàÂ§ö‰∏ãÔºåÊç¢‰∫ÜÁîµÊ±†‰πãÂêéËøòÊòØËøôÊ†∑ÔºåÁΩë‰∏ä‰∏ÄÊêúÔºåÁ´üÁÑ∂ÊòØËøôÈº†Ê†áÁöÑÈÄöÁóÖ üòì„ÄÇÁúãÂà∞ÂæàÂ§öÊïôÊÄé‰πàÊç¢Èº†Ê†áÂæÆÂä®ÁöÑÔºåÂ∞±ÊâìÁÆóËá™Â∑±ËØïËØï‰∫Ü„ÄÇüò§&lt;/p>
&lt;h2 id="-Â∑•ÂÖ∑ÂáÜÂ§á">üõ†Ô∏è Â∑•ÂÖ∑ÂáÜÂ§á&lt;/h2>
&lt;p>Ê∑òÂÆùÈöè‰æø‰π∞ÁÑäÊé•Â∑•ÂÖ∑‰∏ÄÂ•óÔºö&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/fix-logi-mouse/07.png"
width="747"
height="666"
srcset="https://emerywan.github.io/blog/blog/p/fix-logi-mouse/07_hu230206bcd028f2628d907e1698990dc3_223298_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/fix-logi-mouse/07_hu230206bcd028f2628d907e1698990dc3_223298_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="112"
data-flex-basis="269px"
>&lt;/p>
&lt;p>Áõ∏ÂêåÁöÑÈº†Ê†áÂæÆÂä®ÔºöËøô‰∏™‰∏çË¶Å‰π∞Èîô‰∫ÜÔºåÊ≥®ÊÑèÈ´òÂ∫¶ÔºÅÊàëËøô‰∏™ÊòØÈªÑÁöÑÈÇ£‰∏™ÔºåÁúãÂà∞ÁΩë‰∏äÂêåÊ¨æÊúâ‰∫õÊó∂Á∫¢Ëâ≤ÁöÑÔºåÂ¶ÇÊûúÊòØÊñ∞ÊâãÊé®ËçêÂ§ö‰π∞Âá†‰∏™Ôºå‰∏çÂ∞èÂøÉÂºÑÂùè‰∫ÜËøòÂèØÊúâÂ§áÁî®„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/fix-logi-mouse/06.png"
width="740"
height="927"
srcset="https://emerywan.github.io/blog/blog/p/fix-logi-mouse/06_hu112ba3385e7e0151f22fcae72c4b4ae4_291824_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/fix-logi-mouse/06_hu112ba3385e7e0151f22fcae72c4b4ae4_291824_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="79"
data-flex-basis="191px"
>&lt;/p>
&lt;h3 id="Êé®Ëçê">Êé®Ëçê&lt;/h3>
&lt;p>Âä©ÁÑäÂâÇÂèØÈÄâÁöÑËØùÔºåÂÆâÂà©‰π∞ÁÑäÊ≤πüôã‚ÄçËÄå‰∏çÊòØÊùæÈ¶ôüôÖ‚ÄçÔºåÊÑüËßâÊùæ‰∏ãËøô‰∏úË•ø‰∏çÈÄÇÂêàÊñ∞ÊâãÁî®ÔºåÂæà‰∏çÊñπ‰æøÊÑüËßâ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/fix-logi-mouse/02.png"
width="1219"
height="661"
srcset="https://emerywan.github.io/blog/blog/p/fix-logi-mouse/02_hu75550ba33c3ffe7db7aa5f7ae7029655_945321_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/fix-logi-mouse/02_hu75550ba33c3ffe7db7aa5f7ae7029655_945321_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="184"
data-flex-basis="442px"
>&lt;/p>
&lt;h2 id="-ËøáÁ®ã">üìö ËøáÁ®ã&lt;/h2>
&lt;p>ÊãÜÂºÄËøòÊòØÂæàÁÆÄÂçïÁöÑÔºåÂè™Ë¶ÅÊää‰∏§È¢óÁúãÂæóËßÅÁöÑËû∫‰∏ùÂç∏ÊéâÔºåÂ∞±ÂèØ‰ª•ÊääÂ§ñÂ£≥ÁªôÂºÄ‰∫Ü„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/fix-logi-mouse/01.png"
width="766"
height="893"
srcset="https://emerywan.github.io/blog/blog/p/fix-logi-mouse/01_hu53453d44ceb54b6652dae9a441b1db5e_780198_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/fix-logi-mouse/01_hu53453d44ceb54b6652dae9a441b1db5e_780198_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="85"
data-flex-basis="205px"
>&lt;/p>
&lt;p>Âè™Ë¶ÅÊääËøô‰∏§‰∏™Âú∞ÊñπÁöÑÁÑäÈî°ÁÜîÂåñÔºåÂ∞±ÂèØ‰ª•ÊääÊóßÁöÑÊãÜ‰∏ãÊù•ÔºåÊç¢ÂæÆÂä®Âï¶„ÄÇüò≤&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/fix-logi-mouse/03.png"
width="1261"
height="873"
srcset="https://emerywan.github.io/blog/blog/p/fix-logi-mouse/03_huaca2ffe580913d2e122e0dd5797f45d4_1319425_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/fix-logi-mouse/03_huaca2ffe580913d2e122e0dd5797f45d4_1319425_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="144"
data-flex-basis="346px"
>&lt;/p>
&lt;p>Â∑•ÂéÇÈáåÈù¢ÈÉΩÊòØ‰ΩøÁî®ÁöÑÈ´òÊ∏©ÁÑäÈî°ÔºåÁõ¥Êé•Áî®ÁîµÁÉôÈìÅÊòØ‰∏çËÉΩÊää‰∏äÈù¢ÁöÑÁÑäÈî°ÁªôÁõ¥Êé•ËûçÂåñÁöÑÔºå‚ö† ÂÖàÂä†‰∏ä‰∏ÄÁÇπÂä©ÁÑäÂâÇÔºàÈáçË¶ÅÔºÅÔºâÔºå&lt;strong>ÂÜçÂæÄ‰∏äÂä†ÁÑä‰∏ÄÁÇπËá™Â∑±ÁÑäÈî°&lt;/strong>ÔºåÂ∞±ÂèØ‰ª•ËûçÂåñ‰∏äÈù¢ÁöÑÈ´òÊ∏©Èî°‰∫ÜÔºàÊÑüËßâÊúâÁÇπÂÉèÁõ∏‰ººÁõ∏Ê∫∂Ôºâ„ÄÇ&lt;/p>
&lt;p>ËøôÊó∂ÂÄôÂ∞±ÈúÄË¶ÅÁ≠âÈî°ÁêÉÊòØÊ∂≤‰ΩìÁöÑÊó∂ÂÄôÔºåÁî®Âê∏Èî°Êû™ÊääÊ∂≤‰ΩìÁöÑÈî°ÁêÉÁªôÂê∏Êéâ„ÄÇÊàëÁöÑÂê∏Èî°Êû™‰∏çÁü•ÈÅìË¢´‰ªÄ‰πàÂéãÁ¢é‰∫ÜÔºåÁî®Âê∏Èî°Â∏¶ÊîæÂà∞ÁîµÁÉôÈìÅ‰∏äÊãñ‰∏ÄÈÅç‰πüÊòØÂèØ‰ª•ÁöÑÔºåÂæàÁÆÄÂçïÔºåÈöè‰æøÂú®ÁΩë‰∏äÊâæ‰∏Ä‰∏™Áª¥‰øÆËßÜÈ¢ëÁúãÁúãÂ∞±‰ºö‰∫ÜÔºåÂê∏ÁöÑÂæàÂπ≤ÂáÄÔºÅ&lt;/p>
&lt;h2 id="-ÁªìÊûú">üí° ÁªìÊûú&lt;/h2>
&lt;p>ÊúÄÂêéÊç¢Ëµ∑Êù•ËøòÊòØÂæàÊñπ‰æøÁöÑÔºåÊääÊñ∞ÁöÑÊèíËøõÂéªÔºåÂÜçÁî®ÁîµÁÉôÈìÅÁÑä‰∏äÂéª‰∏§ÁÇπÈî°ÔºåÂ∞±Âõ∫ÂÆöÁöÑÂæàÂ•Ω‰∫Ü„ÄÇüëç&lt;/p>
&lt;p>ÂìàÂìàÔºåÁ¨¨‰∏ÄÊ¨°ÁÑäÊé•ÔºåÁúãËµ∑Êù•ÊïàÊûúÈùûÂ∏∏Â•Ω„ÄÇüòÄ&lt;/p>
&lt;p>‰∏ªÊùøÁúãËµ∑Êù•ÊúâÁÇπËÑèÔºåÊ≤°ÊúâÊ¥óÁâàÊ∞¥Ê¥ó‰∏ªÊùøÔºåÂÖ∂ÂÆûÊ≤°ÊúâÂΩ±ÂìçÔºå‰∏çÊ¥ó‰πü‰∏ç‰ºöÂΩ±ÂìçÁîµÊ∞îÊÄßËÉΩ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/fix-logi-mouse/04.png"
width="1212"
height="800"
srcset="https://emerywan.github.io/blog/blog/p/fix-logi-mouse/04_hud083438dbea24b69dfd6acee6b76afad_1328794_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/fix-logi-mouse/04_hud083438dbea24b69dfd6acee6b76afad_1328794_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="151"
data-flex-basis="363px"
>&lt;/p>
&lt;p>ÊúÄÂêéÂ∞±ÊòØËøô‰∏™ÁÉôÈìÅÔºåÁ´üÁÑ∂Áî®Âá†‰∏ãÂ∞±ÂèòÂæóËøô‰πàËÑè‰∫Ü„ÄÇüòÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/fix-logi-mouse/05.png"
width="1546"
height="910"
srcset="https://emerywan.github.io/blog/blog/p/fix-logi-mouse/05_hu6e2e43df522d586c0a61d755538e45f9_1576731_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/fix-logi-mouse/05_hu6e2e43df522d586c0a61d755538e45f9_1576731_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="169"
data-flex-basis="407px"
>&lt;/p></description></item><item><title>ThreadLocal</title><link>https://emerywan.github.io/blog/p/thread/threadlocal/</link><pubDate>Fri, 02 Sep 2022 16:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/thread/threadlocal/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/19.jpeg" alt="Featured image of post ThreadLocal" />&lt;h2 id="javalangthreadlocal">java.lang.ThreadLocal&lt;/h2>
&lt;p>ThreadLocal ÊòØ‰∏Ä‰∏™ÂàõÂª∫Á∫øÁ®ãÂ±ÄÈÉ®ÂèòÈáèÁöÑÁ±ª„ÄÇ&lt;/p>
&lt;p>ÈÄöÂ∏∏ÂàõÂª∫ÁöÑÂÖ±‰∫´ÂèòÈáèÊòØÂèØ‰ª•Ë¢´‰ªª‰∏Ä‰∏™Á∫øÁ®ãËÆøÈóÆÂπ∂‰øÆÊîπÁöÑÔºåÂ≠òÂú®Á∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢ò„ÄÇ‰ΩøÁî® ThreadLocal ÂàõÂª∫ÁöÑÂèòÈáèÂè™ÊúâÂΩìÂâçÁ∫øÁ®ãÊâçÂèØËÆøÈóÆÔºåÂÖ∂‰ªñÁ∫øÁ®ãÊó†Ê≥ï‰øÆÊîπÂíåËÆøÈóÆ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">DateUtils&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="n">ThreadLocal&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">DateFormat&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ThreadLocal&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÈáçÂÜô initialValue ÂèØËÆæÁΩÆÂàùÂßãÂÄº
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">protected&lt;/span> &lt;span class="n">DateFormat&lt;/span> &lt;span class="nf">initialValue&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">SimpleDateFormat&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;yyyy-MM-dd&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ---
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">DateUtils&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">format&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="n">Date&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ÂéüÁêÜ">ÂéüÁêÜ&lt;/h2>
&lt;p>ÊØè‰∏Ä‰∏™Á∫øÁ®ãÁöÑ Thread ÂØπË±°‰∏≠ÈÉΩÊúâ‰∏Ä‰∏™ &lt;code>ThreadLocal.ThreadLocalMap&lt;/code> ÂØπË±°ÔºåËøô‰∏™ÂØπË±°Â≠òÂÇ®‰∫Ü‰∏ÄÁªÑ‰ª• &lt;code>ThreadLocal.threadLocalHashCode&lt;/code> ‰∏∫ÈîÆÔºå‰ª•Êú¨Âú∞Á∫øÁ®ãÂèòÈáè‰∏∫ÂÄºÁöÑ &lt;code>Key-Value&lt;/code> ÂØπ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/thread/threadlocal/threadlocalmap.png"
width="561"
height="327"
srcset="https://emerywan.github.io/blog/blog/p/thread/threadlocal/threadlocalmap_hu2f3b0d366a0f121060908fa4912e4768_16111_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/thread/threadlocal/threadlocalmap_hu2f3b0d366a0f121060908fa4912e4768_16111_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="threadlocalmap"
class="gallery-image"
data-flex-grow="171"
data-flex-basis="411px"
>&lt;/p>
&lt;p>&lt;code>ThreadLocal&lt;/code> ÂØπË±°Â∞±ÊòØÂΩìÂâçÁ∫øÁ®ãÁöÑ &lt;code>ThreadLocalMap&lt;/code> ÁöÑËÆøÈóÆÂÖ•Âè£ÔºåÊØè‰∏Ä‰∏™ &lt;code>ThreadLocal&lt;/code> ÂØπË±°ÈÉΩÂåÖÂê´‰∫Ü‰∏Ä‰∏™Áã¨‰∏ÄÊó†‰∫åÁöÑ &lt;code>threadLocalHashCode&lt;/code> ÂÄºÔºå‰ΩøÁî®Ëøô‰∏™ÂÄºÔºåÂ∞±ÂèØ‰ª•Âú®Á∫øÁ®ã &lt;code>K-V&lt;/code> ÂÄºÂØπ‰∏≠ÊâæÂà∞ÂØπÂ∫îÁöÑÊú¨Âú∞Á∫øÁ®ãÂèòÈáè„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Thread&lt;/span> &lt;span class="kd">implements&lt;/span> &lt;span class="n">Runnable&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">ThreadLocal&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">ThreadLocalMap&lt;/span> &lt;span class="n">threadLocals&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">ThreadLocal&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">ThreadLocalMap&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">static&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Entry&lt;/span> &lt;span class="kd">extends&lt;/span> &lt;span class="n">WeakReference&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">ThreadLocal&lt;/span>&lt;span class="o">&amp;lt;?&amp;gt;&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Object&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Enrty&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ThreadLocal&lt;/span>&lt;span class="o">&amp;lt;?&amp;gt;&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Object&lt;/span> &lt;span class="n">v&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">super&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">v&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="n">Enrty&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">table&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="set">set()&lt;/h3>
&lt;ul>
&lt;li>Ëé∑ÂèñÂΩìÂâçÁ∫øÁ®ã&lt;/li>
&lt;li>Âà©Áî®ÂΩìÂâçÁ∫øÁ®ã‰Ωú‰∏∫Âè•ÊüÑÔºåËé∑Âèñ‰∏Ä‰∏™ ThreadLocalMap ÂØπË±°&lt;/li>
&lt;li>Â¶ÇÊûú ThreadLocalMap ÂØπË±°‰∏ç‰∏∫Á©∫ÔºåÂàôËÆæÁΩÆÂÄºÔºåÂê¶ÂàôÂàõÂª∫Ëøô‰∏™ ThreadLocalMap ÂØπË±°Âπ∂ËÆæÁΩÆÂÄº&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">set&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">T&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Thread&lt;/span> &lt;span class="n">t&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Thread&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">currentThread&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ThreadLocalMap&lt;/span> &lt;span class="n">map&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">getMap&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">map&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">set&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">createMap&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ---
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">ThreadLocalMap&lt;/span> &lt;span class="nf">getMap&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Thread&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">threadLocals&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ---
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">void&lt;/span> &lt;span class="nf">createMap&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Thread&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">T&lt;/span> &lt;span class="n">firstValue&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">threadLocals&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ThreadLocalMap&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">firstValue&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="get">get()&lt;/h3>
&lt;ul>
&lt;li>Ëé∑ÂèñÂΩìÂâçÁ∫øÁ®ãÔºåÂπ∂Ëé∑ÂèñÂΩìÂâçÁ∫øÁ®ãÁöÑ ThreadLocalMap ÂØπË±°&lt;/li>
&lt;li>Â¶ÇÊûúÂΩìÂâçÁ∫øÁ®ãÁöÑ ThreadLocalMap Â∑≤ÁªèÂàùÂßãÂåñÔºåËøîÂõûÂΩìÂâç ThreadLocal ‰∏∫ Key ÁöÑÂÄº&lt;/li>
&lt;li>Â¶ÇÊûú ThreadLocalMap Ê≤°ÊúâË¢´ÂàùÂßãÂåñÔºåÊàñËÄÖ‰∏çÂ≠òÂú®‰ª• ThreadLocal ‰∏∫ Key ÁöÑÂÄºÔºåÂ∞ÜÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ ValueÔºåÂπ∂ËøîÂõû&lt;/li>
&lt;li>initialValue ÈªòËÆ§‰∏∫ nullÔºåÂèØËøõË°åÈáçÂÜô&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ThreadLocal#get
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">public&lt;/span> &lt;span class="n">T&lt;/span> &lt;span class="nf">get&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Thread&lt;/span> &lt;span class="n">t&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Thread&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">currentThread&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ThreadLocalMap&lt;/span> &lt;span class="n">map&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">getMap&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">map&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ThreadLocalMap&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">Entry&lt;/span> &lt;span class="n">e&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getEntry&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@SuppressWarnings&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;unchecked&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">T&lt;/span> &lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">value&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">setInitialValue&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ThreadLocal#setInitialValue
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">private&lt;/span> &lt;span class="n">T&lt;/span> &lt;span class="nf">setInitialValue&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">T&lt;/span> &lt;span class="n">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">initialValue&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// Ëé∑Âæó‰∏Ä‰∏™ÂàùÂßãÂÄºÔºåÊú™ÈáçÂÜôÈªòËÆ§‰∏∫ null
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">Thread&lt;/span> &lt;span class="n">t&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Thread&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">currentThread&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ThreadLocalMap&lt;/span> &lt;span class="n">map&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">getMap&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">map&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">set&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">createMap&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ThreadLocal#initialValue
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">protected&lt;/span> &lt;span class="n">T&lt;/span> &lt;span class="nf">initialValue&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="c1">// ÈªòËÆ§‰∏∫ nullÔºåÂèØË¢´ÈáçÂÜô
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ThreadLocalMap#createMap
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">void&lt;/span> &lt;span class="nf">createMap&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Thread&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">T&lt;/span> &lt;span class="n">firstValue&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">threadLocals&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ThreadLocalMap&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">firstValue&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="remove">remove()&lt;/h3>
&lt;ul>
&lt;li>ÈÄöËøáË∞ÉÁî® ThreadLocalMap ÁöÑ remove() ÊñπÊ≥ïÂÆåÊàêÁßªÈô§Êìç‰Ωú&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">remove&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ThreadLocalMap&lt;/span> &lt;span class="n">m&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">getMap&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Thread&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">currentThread&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">m&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">m&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">remove&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ---
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ThreadLocalMap remove()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">private&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">remove&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ThreadLocal&lt;/span>&lt;span class="o">&amp;lt;?&amp;gt;&lt;/span> &lt;span class="n">key&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Entry&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">tab&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">table&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">tab&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">length&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">key&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">threadLocalHashCode&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">len&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Entry&lt;/span> &lt;span class="n">e&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">tab&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">e&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">e&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">tab&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nextIndex&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="o">)])&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">key&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">clear&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">expungeStaleEntry&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ÂÜÖÂ≠òÊ≥ÑÈú≤">ÂÜÖÂ≠òÊ≥ÑÈú≤&lt;/h2>
&lt;p>ÊåáÁ®ãÂ∫èÁî≥ËØ∑ÂÜÖÂ≠òÂêéÔºå‰∏ÄÁõ¥Êó†Ê≥ïÈáäÊîæÂ∑≤ÁªèÁî≥ËØ∑ÁöÑÂÜÖÂ≠ò„ÄÇ&lt;/p>
&lt;p>ThreadLocalMap ‰ΩøÁî® ThreadLocal ÁöÑÂº±ÂºïÁî®‰Ωú‰∏∫ keyÔºåÂ¶ÇÊûú‰∏Ä‰∏™ ThreadLocal ‰∏çÂ≠òÂú®Â§ñÈÉ®ÁöÑÂº∫ÂºïÁî®Êó∂Ôºå‰∏ãÊ¨° GC Êó∂ÔºåËØ• key Â∞±‰ºöË¢´ÂõûÊî∂Ôºå‰ΩÜÊòØ value ËøòÂ≠òÂú®ÁùÄÂº∫ÂºïÁî®ÔºåÂ¶ÇÊûúÊ≤°ÊúâÊâãÂä®Âú∞ remove() ÊàñËÄÖÁ∫øÁ®ã‰∏ÄÁõ¥Ê≤°ÊúâÁªìÊùüÔºà‰æãÂ¶Ç‰ΩøÁî®Á∫øÁ®ãÊ±†ÔºâÔºåvalue Â∞±‰ºö‰∏ÄÁõ¥Â≠òÂú®ÔºåÂØºËá¥ÂÜÖÂ≠òÊ≥ÑÊºè„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/thread/threadlocal/threadlocal.png"
width="691"
height="425"
srcset="https://emerywan.github.io/blog/blog/p/thread/threadlocal/threadlocal_hu332fd7c00cd887225a3bcbd94cc1cc52_26526_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/thread/threadlocal/threadlocal_hu332fd7c00cd887225a3bcbd94cc1cc52_26526_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="threadlocal"
class="gallery-image"
data-flex-grow="162"
data-flex-basis="390px"
>&lt;/p>
&lt;p>Ëß£ÂÜ≥ÂäûÊ≥ïÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ÊØèÊ¨°‰ΩøÁî®ÂÆåÂêéËøõË°å remove()&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‰ΩøÁî® set()„ÄÅget() Êó∂ÔºàÈÉ®ÂàÜÔºâÔºåÊâ©ÂÆπ rehash() Êó∂ÔºàÂÖ®ÈáèÔºâÔºå‰ºöÂà§Êñ≠ÂØπ key=null ÁöÑËøõË°åÊ∏ÖÁêÜ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂèØ‰ª•Â∞Ü ThreadLocal ËÆæÁΩÆ‰∏∫ staic final&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">private&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">rehash&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ËøõË°åÂÖ®ÈáèÊ∏ÖÁêÜ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">expungeStaleEntries&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">size&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="n">threshold&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">threshold&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">4&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">resize&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">private&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">expungeStaleEntries&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Entry&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">tab&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">table&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">tab&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">length&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Entry&lt;/span> &lt;span class="n">e&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">tab&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="o">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">null&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">expungeStaleEntry&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="Â∫îÁî®Âú∫ÊôØ">Â∫îÁî®Âú∫ÊôØ&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>Á∫øÁ®ãËµÑÊ∫êÊåÅÊúâÔºå‰ª£ÊõøÂèÇÊï∞ÊòæÁ§∫‰º†ÈÄí&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂÖ®Â±ÄÂ≠òÂÇ®‰ø°ÊÅØÔºåÂú®ÈúÄË¶ÅÁöÑÂú∞ÊñπÁõ¥Êé•Ëé∑Âèñ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Ëß£ÂÜ≥Á∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢òÔºåËææÂà∞Á∫øÁ®ãÈöîÁ¶ª&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="ÂèÇËÄÉ">ÂèÇËÄÉ&lt;/h2>
&lt;ul>
&lt;li>üîó &lt;a class="link" href="https://www.cnblogs.com/crazymakercircle/p/14491965.html#autoid-h2-2-0-0" target="_blank" rel="noopener"
>https://www.cnblogs.com/crazymakercircle/p/14491965.html#autoid-h2-2-0-0&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>ËøÅÁßªÂçöÂÆ¢Âà∞ Webify</title><link>https://emerywan.github.io/blog/p/hugo-in-webify/</link><pubDate>Mon, 22 Aug 2022 18:14:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/hugo-in-webify/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/1.jpeg" alt="Featured image of post ËøÅÁßªÂçöÂÆ¢Âà∞ Webify" />&lt;h2 id="Ëµ∑Âõ†">Ëµ∑Âõ†&lt;/h2>
&lt;p>‰πãÂâçÂçöÂÆ¢ÈÉΩÈÉ®ÁΩ≤Âú®ËÖæËÆØ‰∫ëÁöÑ CloudBaseÔºå‰ª•ÊåâÈáèÊî∂Ë¥πÁöÑÊñπÂºèÔºåÊØè‰∏™ÊúàÈÉΩÊúâ‰∏Ä‰∫õÂÖçË¥πÁöÑÊµÅÁ®ãÂíå CDNÔºåÊàëÁöÑÂçöÂÆ¢ÂÆåÂÖ®Áî®‰∏çÂÆåÔºåÊØèÊúàÂ∞±Âè™ÈúÄË¶ÅÂá†ÊØõÔºåÂü∫Êú¨‰∏çÁî®Ëä±Èí±„ÄÇü´£&lt;/p>
&lt;p>Èô§‰∫ÜÂÅ∂Â∞î‰ºöÊó†Ê≥ïÊé®ÈÄÅÊàêÂäü‰πãÂ§ñÔºåÂõΩÂÜÖËÆøÈóÆÈÄüÂ∫¶Áõ∏ÂΩìÂø´ÔºåÊØïÁ´üÈÉ®ÁΩ≤Âú®ÂõΩÂÜÖ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/hugo-in-webify/0.png"
width="472"
height="85"
srcset="https://emerywan.github.io/blog/blog/p/hugo-in-webify/0_huc20776329d75d184c515505bb9bc6a17_15870_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/hugo-in-webify/0_huc20776329d75d184c515505bb9bc6a17_15870_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="0"
class="gallery-image"
data-flex-grow="555"
data-flex-basis="1332px"
>&lt;/p>
&lt;p>‰ΩÜÊòØÊúÄËøëÊîπ‰∫Ü‰ªòË¥πÊñπÂºèÔºåÂÖà‰π∞Â•óÈ§êÔºåË∂ÖÂá∫ÂÜçËøõË°åÊåâÈáèÊî∂Ë¥π„ÄÇü§î&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/hugo-in-webify/1.png"
width="1077"
height="854"
srcset="https://emerywan.github.io/blog/blog/p/hugo-in-webify/1_hu56ae18acc6ac70d7209e9eb3aa6fad3a_126909_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/hugo-in-webify/1_hu56ae18acc6ac70d7209e9eb3aa6fad3a_126909_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="1"
class="gallery-image"
data-flex-grow="126"
data-flex-basis="302px"
>&lt;/p>
&lt;p>ËôΩÁÑ∂ CloudBase ÂèØ‰ª•ÈÉ®ÁΩ≤ÂÆåÊï¥ÁöÑÈ°πÁõÆÔºå‰ΩÜÊòØÊàëÂè™ÈúÄË¶ÅÊâòÁÆ°‰∏ÄÁÇπÈùôÊÄÅÈ°µÈù¢ÔºåÊúÄ‰ΩéÊ≠£Â∏∏‰ª∑ 39.9 ÊØèÊúàÔºåÂà∞Êó∂ÂÄô‰π∞Ëøô‰∏™Â•óÈ§ê‰∏çÂ¶ÇÁõ¥Êé•‰π∞‰∏™‰∫ëÊúçÂä°Âô®„ÄÇÊûúÁÑ∂ÁôΩÂ´ñÊòØ‰∏çÂèØËÉΩ‰∏ÄÁõ¥ÁôΩÂ´ñÁöÑ„ÄÇü´†&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/hugo-in-webify/2.png"
width="438"
height="256"
srcset="https://emerywan.github.io/blog/blog/p/hugo-in-webify/2_hue69ff45008c2c92db458f250a5d53c45_43271_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/hugo-in-webify/2_hue69ff45008c2c92db458f250a5d53c45_43271_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="2"
class="gallery-image"
data-flex-grow="171"
data-flex-basis="410px"
>&lt;/p>
&lt;h2 id="ÊµÅÁ®ã">ÊµÅÁ®ã&lt;/h2>
&lt;p>ËÖæËÆØ‰∫ë‰∏≠ËøòÊúâ‰∏ìÈó®ÊâòÁÆ°ÈùôÊÄÅÈ°µÈù¢ÁöÑÊúçÂä° WebifyÔºåÁ±ª‰ºº‰∫é Github ‰∏≠ÁöÑÈùôÊÄÅÈ°µÈù¢ÊúçÂä°ÔºåË¥πÁî®Áõ∏ËæÉÊù•ËØ¥Êå∫‰ΩéÁöÑÔºåËøôÈáåÊâìÁÆóÊääÂçöÂÆ¢ËøÅÁßªËøáÂéª„ÄÇ&lt;/p>
&lt;p>Âú®ÈÉ®ÁΩ≤Ê®°ÊùøÈáåÈù¢ÔºåÂè™Êúâ‰∏Ä‰∫õÂâçÁ´ØÊ°ÜÊû∂ÔºåÊ≤°Êúâ HugoÔºåÊâÄ‰ª•ËøôÈáåÂà©Áî® Github Action ÁºñËØëÊàêÈùôÊÄÅÈ°µÈù¢ÂêéÔºåÊé®ÈÄÅÂà∞ÂÖ∂‰ªñÂàÜÊîØ/‰ªìÂ∫ìÔºåÂÜçÊâòÁÆ°Ëøô‰∫õÈùôÊÄÅ‰ª£Á†Å„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/hugo-in-webify/3.png"
width="327"
height="528"
srcset="https://emerywan.github.io/blog/blog/p/hugo-in-webify/3_huaa7d4ed28d1f1de02cf9b29093fabf99_48914_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/hugo-in-webify/3_huaa7d4ed28d1f1de02cf9b29093fabf99_48914_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="3"
class="gallery-image"
data-flex-grow="61"
data-flex-basis="148px"
>&lt;/p>
&lt;p>Êé®ÈÄÅÂà∞ Github ÂÖ∂‰ªñÂàÜÊîØÁöÑÈùôÊÄÅÈ°µÈù¢ÔºåËøòÂèØ‰ª•ÂÜçÊâòÁÆ°‰∏Ä‰∏™ Github Page ÂÅöÂ§á‰ªΩ„ÄÇ&lt;/p>
&lt;p>ÊµÅÁ®ãÂ§ßËá¥‰∏∫Ôºö&lt;/p>
&lt;p>&lt;code>Hugo -&amp;gt; Github Action -&amp;gt; ÈùôÊÄÅÈ°µÈù¢ -&amp;gt; ËÖæËÆØ‰∫ë Webify ÊãâÂèñÈùôÊÄÅÈ°µÈù¢ -&amp;gt; ÈÉ®ÁΩ≤&lt;/code>&lt;/p>
&lt;ul>
&lt;li>Ê∑ªÂä† workflows&lt;/li>
&lt;/ul>
&lt;p>ËøôÈáåÊòØÈÄâÊã©Êé®ÈÄÅÂà∞Âè¶Â§ñ‰∏Ä‰∏™‰ªìÂ∫ìÔºåÂõ†‰∏∫Âú® Webify ÊúçÂä°ÈáåÔºåÊ≤°ÊâæÂà∞ÊÄé‰πàÊõ¥Êç¢ÈÉ®ÁΩ≤ÂàÜÊîØÔºåÁõ¥Êé•Áî®‰∫ÜÈªòËÆ§ÂàÜÊîØ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Webify Pages&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">push&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">branches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">main&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">deploy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">submodules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Fetch Hugo themes (true OR recursive)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fetch-depth&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">0&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Fetch all history for .GitInfo and .Lastmod&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Setup Hugo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">peaceiris/actions-hugo@v2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hugo-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;latest&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">extended&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ÊòØÂê¶ÈúÄË¶Å extended ÁâàÊú¨&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Build&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">hugo --minify --gc --config config.yaml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deploy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">peaceiris/actions-gh-pages@v3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">deploy_key&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.DEPLOY_KEY }} &lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Â§ñ‰ªìÂ∫ì‰ΩøÁî® deploy_key&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">external_repository&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">emerywan/blog&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">publish_dir&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">./public&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">publish_branch&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">main&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>Êñ∞Âª∫Â∫îÁî®&lt;/li>
&lt;/ul>
&lt;p>‰∫ë‰∫ßÂìÅ - Web Â∫îÁî®ÊâòÁÆ°&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/hugo-in-webify/4.png"
width="2316"
height="1230"
srcset="https://emerywan.github.io/blog/blog/p/hugo-in-webify/4_huf9354845b150a28a9bbe99c4ce9a2902_136523_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/hugo-in-webify/4_huf9354845b150a28a9bbe99c4ce9a2902_136523_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="4"
class="gallery-image"
data-flex-grow="188"
data-flex-basis="451px"
>&lt;/p>
&lt;p>ÈÄâÊã©ÈúÄË¶ÅÊâòÁÆ°ÁöÑ‰ªìÂ∫ìÂ∞±ÂèØ‰ª•‰∫ÜÔºå‰∏ã‰∏ÄÊ≠•Â∞±Ë°å‰∫Ü„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/hugo-in-webify/5.png"
width="571"
height="248"
srcset="https://emerywan.github.io/blog/blog/p/hugo-in-webify/5_hu609fa268f17278829789499f6682a8f8_37202_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/hugo-in-webify/5_hu609fa268f17278829789499f6682a8f8_37202_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="5"
class="gallery-image"
data-flex-grow="230"
data-flex-basis="552px"
>&lt;/p>
&lt;p>Ëá™ÂÆö‰πâÂüüÂêçÔºå‰πüÊòØÂèØ‰ª•‰ΩøÁî®ÂÖçË¥π CDN ÁöÑ ü´£ ÔºåÂè™ÊòØÊ≤°Êúâ‰∏Ä‰∫õÈ´òÁ∫ßÂäüËÉΩÔºåËÆæÁΩÆÈò≤ÁõóÈìæ‰ªÄ‰πàÁöÑÔºå‰Ωú‰∏∫ÂõΩÂÜÖÁöÑÊúçÂä°ÔºåÂ∑≤ÁªèÂæà‰∏çÈîôÂï¶„ÄÇËøô‰∏™ÂÜçÊîπËÆ°Ë¥πÊñπÂºèÔºåÂ∞±ÊâìÁÆóÁõ¥Êé•Áî® Vercel ‰∫Ü„ÄÇüòÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/hugo-in-webify/6.png"
width="2458"
height="382"
srcset="https://emerywan.github.io/blog/blog/p/hugo-in-webify/6_hu71f99e798b96b20bb419371b96863ee5_50312_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/hugo-in-webify/6_hu71f99e798b96b20bb419371b96863ee5_50312_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="6"
class="gallery-image"
data-flex-grow="643"
data-flex-basis="1544px"
>&lt;/p></description></item><item><title>JVM ÂÜÖÂ≠òÂå∫Âüü</title><link>https://emerywan.github.io/blog/p/java/jvm/memory-area/</link><pubDate>Mon, 08 Aug 2022 15:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/java/jvm/memory-area/</guid><description>&lt;img src="https://emerywan.github.io/blog/p/java/jvm/memory-area/area.png" alt="Featured image of post JVM ÂÜÖÂ≠òÂå∫Âüü" />&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/memory-area/area.png"
width="1240"
height="583"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/memory-area/area_hu7d264de33d14753fd73bf351bb5dce63_911596_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/memory-area/area_hu7d264de33d14753fd73bf351bb5dce63_911596_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="area"
class="gallery-image"
data-flex-grow="212"
data-flex-basis="510px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üßê Á∫øÁ®ãÈöîÁ¶ª&lt;/p>
&lt;ul>
&lt;li>Á®ãÂ∫èËÆ°Êï∞Âô®&lt;/li>
&lt;li>ËôöÊãüÊú∫Ê†à&lt;/li>
&lt;li>Êú¨Âú∞ÊñπÊ≥ïÊ†à&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>‚ò∫Ô∏è Á∫øÁ®ãÂÖ±‰∫´&lt;/p>
&lt;ul>
&lt;li>ÊñπÊ≥ïÂå∫&lt;/li>
&lt;li>Â†Ü&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="-Á®ãÂ∫èËÆ°Êï∞Âô®">üéã Á®ãÂ∫èËÆ°Êï∞Âô®&lt;/h2>
&lt;p>ÂΩìÂâçÁ∫øÁ®ãÊâßË°åÂ≠óËäÇÁ†ÅÁöÑË°åÂè∑ÊåáÁ§∫Âô®„ÄÇ&lt;/p>
&lt;p>ÂîØ‰∏Ä‰∏Ä‰∏™‰∏ç‰ºöÂá∫Áé∞ &lt;code>OutOfMemoryError&lt;/code> ÁöÑÂÜÖÂ≠òÂå∫ÂüüÔºåÈöèÁ∫øÁ®ãÁöÑÂàõÂª∫ËÄåÂàõÂª∫ÔºåÈöèÁ∫øÁ®ãÁöÑÁªìÊùüËÄåÊ≠ª‰∫°„ÄÇ&lt;/p>
&lt;h2 id="-ËôöÊãüÊú∫Ê†à">üéã ËôöÊãüÊú∫Ê†à&lt;/h2>
&lt;p>ÊØè‰∏ÄÊ¨°ÊñπÊ≥ïÁöÑË∞ÉÁî®ÈÉΩ‰ºöÊúâ‰∏Ä‰∏™ÂØπÂ∫îÁöÑÊ†àÂ∏ßË¢´ÂéãÂÖ•Ê†à‰∏≠ÔºåÊØè‰∏Ä‰∏™ÊñπÊ≥ïË∞ÉÁî®ÁªìÊùüÂêéÔºåÈÉΩ‰ºöÊúâ‰∏Ä‰∏™Ê†àÂ∏ßË¢´ÂºπÂá∫„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/memory-area/stack.png"
width="1223"
height="184"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/memory-area/stack_huec65210ac7484aa7992e4fd9421e2f2b_282459_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/memory-area/stack_huec65210ac7484aa7992e4fd9421e2f2b_282459_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="stack"
class="gallery-image"
data-flex-grow="664"
data-flex-basis="1595px"
>&lt;/p>
&lt;p>ÂΩìÁ∫øÁ®ãËØ∑Ê±ÇÊ†àÁöÑÊ∑±Â∫¶Ë∂ÖËøáÂΩìÂâç Java ËôöÊãüÊú∫ÊúÄÂ§ßÊ∑±Â∫¶Êó∂Ôºå‰ºöÊäõÂá∫ &lt;code>StackOverFlowError&lt;/code>„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Â±ÄÈÉ®ÂèòÈáèË°®&lt;/p>
&lt;p>Â≠òÊîæÁºñËØëÊúüÂèØÁü•ÁöÑÂêÑÁßçÊï∞ÊçÆÁ±ªÂûãÔºåÂØπË±°ÂºïÁî®Âú∞ÂùÄ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Êìç‰ΩúÊï∞Ê†à&lt;/p>
&lt;p>ÊñπÊ≥ïÊâßË°åËøáÁ®ã‰∏≠ÁöÑËÆ°ÁÆóÁªìÊûúÔºåËÆ°ÁÆóËøáÁ®ã‰∏≠‰∫ßÁîüÁöÑ‰∏¥Êó∂ÂèòÈáè„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Âä®ÊÄÅÈìæÊé•&lt;/p>
&lt;p>ÊúçÂä°‰∫é‰∏Ä‰∏™ÊñπÊ≥ïÈúÄË¶ÅË∞ÉÁî®ÂÖ∂‰ªñÊñπÊ≥ïÁöÑÂú∫ÊôØ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÊñπÊ≥ïËøîÂõûÂú∞ÂùÄ&lt;/p>
&lt;ul>
&lt;li>Ê≠£Â∏∏ËøîÂõûÔºàreturnÔºâ&lt;/li>
&lt;li>ÂºÇÂ∏∏ËøîÂõûÔºàExceptionÔºâ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="-Êú¨Âú∞ÊñπÊ≥ïÊ†à">üéã Êú¨Âú∞ÊñπÊ≥ïÊ†à&lt;/h2>
&lt;p>Êú¨Âú∞ÊñπÊ≥ïÊ†àÁî®‰∫éËôöÊãüÊú∫ÊâßË°å Native ÊñπÊ≥ïÔºåÂÖ∑‰Ωì‰∏éËôöÊãüÊú∫Ê†àÁ±ª‰ºº„ÄÇ&lt;/p>
&lt;h2 id="-ÊñπÊ≥ïÂå∫">üéç ÊñπÊ≥ïÂå∫&lt;/h2>
&lt;p>ÊñπÊ≥ïÂå∫ÊòØ Java ËôöÊãüÊú∫ÁöÑÊäΩË±°Ê¶ÇÂøµ„ÄÇÂÆûÁé∞ÊñπÂºèÂú®‰∏çÂêåËôöÊãüÊú∫‰∏≠ÂèØËÉΩ‰∏çÂêå„ÄÇ&lt;/p>
&lt;ul>
&lt;li>JDK 8 ‰πãÂâçÔºåHotSpot ËôöÊãüÊú∫‰ΩøÁî®Ê∞∏‰πÖÂ∏¶ÂÆûÁé∞ÊñπÊ≥ïÂå∫&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/memory-area/function-before.png"
width="547"
height="530"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/memory-area/function-before_hucbc502332944514d4c1f41f29f96205d_115360_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/memory-area/function-before_hucbc502332944514d4c1f41f29f96205d_115360_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="before"
class="gallery-image"
data-flex-grow="103"
data-flex-basis="247px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>JDK 8 Âèä‰πãÂêéÔºå‰ΩøÁî®ÂÖÉÁ©∫Èó¥ÔºàÁõ¥Êé•ÂÜÖÂ≠òÔºâÂÆûÁé∞&lt;/p>
&lt;p>Â≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏éÈùôÊÄÅÂèòÈáèËΩ¨ÁßªÂà∞‰∫ÜÂ†Ü‰∏≠„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/memory-area/function-after.png"
width="695"
height="524"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/memory-area/function-after_hub8d0c407ad61dc44d980ad0db8ff77fa_132600_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/memory-area/function-after_hub8d0c407ad61dc44d980ad0db8ff77fa_132600_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="after"
class="gallery-image"
data-flex-grow="132"
data-flex-basis="318px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Á±ªÁöÑÂÖÉ‰ø°ÊÅØ&lt;/p>
&lt;p>Á±ªÂêçÔºåËÆøÈóÆ‰øÆÈ•∞Á¨¶ÔºåÂ≠óÊÆµÊèèËø∞ÔºåÊñπÊ≥ïÊèèËø∞Á≠â&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ËøêË°åÊó∂Â∏∏ÈáèÊ±†&lt;/p>
&lt;p>Â≠òÊîæÁºñËØëÂêéÁöÑÂêÑÁßçÂ≠óÈù¢ÈáèÔºåÁ¨¶Âè∑ÂºïÁî®ÔºåÂ∏∏ÈáèÔºàfinalÔºâÊ±†Ë°®Á≠â&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Â≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†&lt;/p>
&lt;p>JVM ‰∏∫‰∫ÜÂáèÂ∞ëÂ≠óÁ¨¶‰∏≤ÂØπÂÜÖÂ≠òÁöÑÊ∂àËÄóÔºåÂπ∂ÊèêÂçáÊÄßËÉΩÔºå‰∏ìÈó®ÂºÄËæüÁöÑÂå∫Âüü&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÈùôÊÄÅÂèòÈáè&lt;/p>
&lt;p>Á±ªÂèòÈáèÔºàstaticÔºâ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="-Â†Ü">üéç Â†Ü&lt;/h2>
&lt;p>Áî®Êù•Â≠òÊîæÂíåÁÆ°ÁêÜÂØπË±°ÂÆû‰æãÔºåÂá†‰πéÊâÄÊúâÁöÑÂØπË±°ÂÆû‰æãÈÉΩÂú®ËøôÈáåÂàÜÈÖç„ÄÇÔºàÂ≠òÂú®ÈÄÉÈÄ∏ÂàÜÊûêÔºåÊ†à‰∏äÂàÜÈÖçÔºåÊúâ‰∫õÂØπË±°‰∏ç‰∏ÄÂÆöÂú®Â†Ü‰∏≠Ôºâ&lt;/p>
&lt;p>Java Â†ÜÊòØÂûÉÂúæÂõûÊî∂ÁöÑ‰∏ªË¶ÅÂå∫ÂüüÔºåÂõ†Ê≠§‰πüË¢´Áß∞‰∏∫ GC Â†Ü„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>JDK 8 ‰πãÂâçÔºåÂ†ÜË¢´ÂàÜ‰∏∫&lt;/p>
&lt;ul>
&lt;li>Êñ∞Áîü‰ª£ÔºàEden„ÄÅSurvivor0„ÄÅSurvivor1Ôºâ&lt;/li>
&lt;li>ËÄÅÂπ¥‰ª£&lt;/li>
&lt;li>Ê∞∏‰πÖ‰ª£ÔºàÊñπÊ≥ïÂå∫‰πüÁî±Ê∞∏‰πÖ‰ª£ÂÆûÁé∞Ôºâ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>JDK 8 ‰πãÂêéÔºåÊ∞∏‰πÖ‰ª£Ë¢´ÂèñÊ∂à&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Â§ßÈÉ®ÂàÜÊÉÖÂÜµ‰∏ãÔºåÂØπË±°È¶ñÂÖà‰ºöÂú®Êñ∞Áîü‰ª£ÁöÑ Eden Âå∫ËøõË°åÂàÜÈÖçÔºõÂú®‰∏ÄÊ¨°ÂûÉÂúæÂõûÊî∂ÂêéÔºåÂ¶ÇÊûúÂØπË±°ËøòÂ≠òÊ¥ªÔºå‰ºöËøõÂÖ• S0 Êàñ S1ÔºõÂΩìÂØπË±°Âπ¥ÈæÑÂ¢ûÈïøÂà∞‰∏ÄÂÆöÁ®ãÂ∫¶ÔºàÈªòËÆ§ 15ÔºâÔºåÊàñÁ¥ØÁßØÁöÑÂπ¥ÈæÑË∂ÖËøá‰∫Ü Survivor ÁöÑ‰∏ÄÂçäÔºå‰ºöÊôãÂçáÂà∞ËÄÅÂπ¥‰ª£„ÄÇ&lt;/p>
&lt;h2 id="ÂèÇËÄÉ">ÂèÇËÄÉ&lt;/h2>
&lt;ul>
&lt;li>ÂõæÊù•Ê∫ê‰∫éÁΩëÁªú„ÄÇ&lt;/li>
&lt;li>Ê∑±ÂÖ•ÁêÜËß£ Java ËôöÊãüÊú∫&lt;/li>
&lt;/ul></description></item><item><title>JVM ÂûÉÂúæÂõûÊî∂</title><link>https://emerywan.github.io/blog/p/java/jvm/garbage-collection/</link><pubDate>Sun, 07 Aug 2022 12:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/java/jvm/garbage-collection/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/26.jpeg" alt="Featured image of post JVM ÂûÉÂúæÂõûÊî∂" />&lt;h2 id="-ÂØπË±°Â≠òÊ¥ªÂà§ÂÆö">üå¥ ÂØπË±°Â≠òÊ¥ªÂà§ÂÆö&lt;/h2>
&lt;h3 id="-ÂºïÁî®ËÆ°Êï∞Ê≥ï">ü™® ÂºïÁî®ËÆ°Êï∞Ê≥ï&lt;/h3>
&lt;p>ÁªôÊØè‰∏™ÂØπË±°Ê∑ªÂä†‰∏Ä‰∏™ÂºïÁî®ËÆ°Êï∞Âô®Ôºö&lt;/p>
&lt;ul>
&lt;li>ÂΩìÊúâÂú∞ÊñπÂºïÁî®ËØ•ÂØπË±°ÔºåËÆ°Êï∞Âô® &lt;code>+1&lt;/code>&lt;/li>
&lt;li>ÂΩìÂºïÁî®Â§±ÊïàÔºåËÆ°Êï∞Âô® &lt;code>-1&lt;/code>&lt;/li>
&lt;li>ÂΩìËÆ°Êï∞Âô®‰∏∫ &lt;code>0&lt;/code> Êó∂ÔºåË°®Á§∫ÂØπË±°‰∏çÂèØÁî®&lt;/li>
&lt;/ul>
&lt;p>ËØ•ÊñπÊ≥ïÁÆÄÂçïÈ´òÊïàÔºå‰ΩÜ‰∏ªÊµÅÁöÑËôöÊãüÊú∫ÈÉΩÊ≤°ÊúâÈÄâÊã©ËØ•ÊñπÊ≥ïÁÆ°ÁêÜÂÜÖÂ≠òÔºåÈöæ‰ª•Ëß£ÂÜ≥ÂØπË±°‰πãÈó¥Âæ™ÁéØÂºïÁî®ÁöÑÈóÆÈ¢ò„ÄÇ&lt;/p>
&lt;h3 id="-ÂèØËææÊÄßÂàÜÊûêÊ≥ï">ü™® ÂèØËææÊÄßÂàÜÊûêÊ≥ï&lt;/h3>
&lt;p>ÈÄöËøá‰∏ÄÁ≥ªÂàóÁß∞‰∏∫ &lt;code>GC Root&lt;/code> ÁöÑÂØπË±°‰Ωú‰∏∫Ëµ∑ÁÇπÔºå‰ªéËøô‰∫õËµ∑ÁÇπÂêë‰∏ãÊêúÁ¥¢ÔºåËäÇÁÇπËµ∞ËøáÁöÑË∑ØÂæÑÁß∞‰∏∫ÂºïÁî®ÈìæÔºåÂΩì‰∏Ä‰∏™ÂØπË±°‰∏é &lt;code>GC Root&lt;/code> ‰πãÈó¥Ê≤°Êúâ‰ªª‰ΩïÂºïÁî®ÈìæÁõ∏ËøûÁöÑËØùÔºåËØ¥ÊòéÂØπË±°‰∏çÂèØÁî®ÔºåÈúÄË¶ÅË¢´ÂõûÊî∂„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/gcroot.png"
width="935"
height="581"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/gcroot_hud8e4c62b0ef63778b91f8329965428a2_102739_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/gcroot_hud8e4c62b0ef63778b91f8329965428a2_102739_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="gcroot"
class="gallery-image"
data-flex-grow="160"
data-flex-basis="386px"
>&lt;/p>
&lt;p>ÂèØ‰ª•‰Ωú‰∏∫ &lt;code>GC Root&lt;/code> ÁöÑÂØπË±°Ôºö&lt;/p>
&lt;ul>
&lt;li>ËôöÊãüÊú∫Ê†àÔºàÊ†àÂ∏ß‰∏≠Â±ÄÈÉ®ÂèòÈáèË°®ÔºâÂºïÁî®ÁöÑÂØπË±°&lt;/li>
&lt;li>Êú¨Âú∞ÊñπÊ≥ïÊ†à‰∏≠ÂºïÁî®ÁöÑÂØπË±°&lt;/li>
&lt;li>Á±ªÈùôÊÄÅÂ±ûÊÄßÂºïÁî®ÁöÑÂØπË±°&lt;/li>
&lt;li>ÊñπÊ≥ïÂå∫‰∏≠Â∏∏ÈáèÂºïÁî®ÁöÑÂØπË±°&lt;/li>
&lt;li>ÊâÄÊúâË¢´ÂêåÊ≠•ÈîÅÔºàsynchronizedÔºâÊåÅÊúâÁöÑÂØπË±°&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;h2 id="-ÂûÉÂúæÂõûÊî∂ÁÆóÊ≥ï">üå¥ ÂûÉÂúæÂõûÊî∂ÁÆóÊ≥ï&lt;/h2>
&lt;h3 id="-Ê†áËÆ∞-Ê∏ÖÈô§">ü™µ Ê†áËÆ∞-Ê∏ÖÈô§&lt;/h3>
&lt;ul>
&lt;li>Ê†áËÆ∞Âá∫ÊâÄÊúâÈúÄË¶ÅÂõûÊî∂ÁöÑÂØπË±°&lt;/li>
&lt;li>Ê†áËÆ∞ÁªìÊùüÂêéÔºåÁªü‰∏ÄÂõûÊî∂ÊéâÊâÄÊúâË¢´Ê†áËÆ∞ÁöÑÂØπË±°&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/clear.png"
width="962"
height="488"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/clear_hu3ebff86a38831b55ce513a2b74335841_65435_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/clear_hu3ebff86a38831b55ce513a2b74335841_65435_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="clear"
class="gallery-image"
data-flex-grow="197"
data-flex-basis="473px"
>&lt;/p>
&lt;ul>
&lt;li>ÊâßË°åÊïàÁéá‰∏çÁ®≥ÂÆöÔºåÂ§ßÈÉ®ÂàÜÂØπË±°ÈúÄË¶ÅÂõûÊî∂Êó∂ÔºåÈúÄË¶ÅÂ§ßÈáèÊ†áËÆ∞ÂíåÊ∏ÖÈô§Êìç‰Ωú&lt;/li>
&lt;li>ÂÜÖÂ≠òÁ©∫Èó¥Á¢éÁâáÂåñÈóÆÈ¢ò&lt;/li>
&lt;/ul>
&lt;h3 id="-Ê†áËÆ∞-Â§çÂà∂">ü™µ Ê†áËÆ∞-Â§çÂà∂&lt;/h3>
&lt;ul>
&lt;li>Â∞ÜÂÜÖÂ≠òÂàÜ‰∏∫‰∏§ÂùóÔºåÊØèÊ¨°Âè™‰ΩøÁî®ÂÖ∂‰∏≠ÁöÑ‰∏ÄÂùó&lt;/li>
&lt;li>ÂΩì‰∏ÄÂùóÂÜÖÂ≠ò‰ΩøÁî®ÂÆåÂêéÔºåÂ∞ÜÂ≠òÊ¥ªÁöÑÂØπË±°Â§çÂà∂Âà∞Âè¶Â§ñ‰∏ÄÂùóÂéª&lt;/li>
&lt;li>Â∞ÜÂ∑≤Áªè‰ΩøÁî®ÁöÑÁ©∫Èó¥‰∏ÄÊ¨°ÊÄßÊ∏ÖÈô§Êéâ&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/copy.png"
width="955"
height="495"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/copy_hu6b5a3b19d23e61d87d481fdc4629a5cf_68281_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/copy_hu6b5a3b19d23e61d87d481fdc4629a5cf_68281_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="copy"
class="gallery-image"
data-flex-grow="192"
data-flex-basis="463px"
>&lt;/p>
&lt;ul>
&lt;li>ÂèØÁî®ÂÜÖÂ≠òÂèòÂ∞ëÔºåÊúâÁ©∫Èó¥Êµ™Ë¥πÈóÆÈ¢ò&lt;/li>
&lt;/ul>
&lt;h3 id="-Ê†áËÆ∞-Êï¥ÁêÜ">ü™µ Ê†áËÆ∞-Êï¥ÁêÜ&lt;/h3>
&lt;ul>
&lt;li>Ê†áËÆ∞Âá∫ÊâÄÊúâÈúÄË¶ÅÂõûÊî∂ÁöÑÂØπË±°&lt;/li>
&lt;li>ËÆ©Ëøô‰∫õÂ≠òÊ¥ªÂØπË±°ÂêëÂÜÖÂ≠òÁöÑ‰∏ÄÁ´ØÁßªÂä®&lt;/li>
&lt;li>Áõ¥Êé•Ê∏ÖÈô§ÊéâËæπÁïå‰ª•Â§ñÁöÑÂÜÖÂ≠ò&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/move.png"
width="944"
height="480"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/move_hu0eec74bf9ebb0cbf4f6fd4cbe2be3a39_63153_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/move_hu0eec74bf9ebb0cbf4f6fd4cbe2be3a39_63153_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="move"
class="gallery-image"
data-flex-grow="196"
data-flex-basis="472px"
>&lt;/p>
&lt;h3 id="-ÂàÜ‰ª£Êî∂ÈõÜ">ü™µ ÂàÜ‰ª£Êî∂ÈõÜ&lt;/h3>
&lt;p>Ê†πÊçÆÂØπË±°Â≠òÊ¥ªÂë®ÊúüÁöÑ‰∏çÂêåÔºåÂ∞Ü Java Â†ÜÂàÜ‰∏∫Êñ∞Áîü‰ª£ÂíåËÄÅÂπ¥‰ª£Ôºå‰æùÊçÆÂêÑ‰∏™Âå∫ÂüüÁöÑÁâπÁÇπÔºåÈÄâÊã©ÂõûÊî∂ÁÆóÊ≥ï„ÄÇ&lt;/p>
&lt;ul>
&lt;li>Âú®Êñ∞Áîü‰ª£‰∏≠ÔºåÊØèÊ¨°Êî∂ÈõÜÈÉΩ‰ºöÊúâÂ§ßÈáèÁöÑÂØπË±°Ê≠ªÂéªÔºåÈÄâÊã© &lt;code>Ê†áËÆ∞-Â§çÂà∂&lt;/code> ÁÆóÊ≥ï&lt;/li>
&lt;li>Âú®ËÄÅÂπ¥‰ª£‰∏≠ÔºåÂ≠òÊ¥ªÂØπË±°ÁöÑÂá†ÁéáËæÉÈ´òÔºåÊ≤°ÊúâÈ¢ùÂ§ñÁöÑÁ©∫Èó¥ËøõË°åÂàÜÈÖçÊãÖ‰øùÔºåÈÄâÊã© &lt;code>Ê†áËÆ∞-Ê∏ÖÈô§&lt;/code> Êàñ &lt;code>Ê†áËÆ∞-Êï¥ÁêÜ&lt;/code> ÁÆóÊ≥ï&lt;/li>
&lt;/ul>
&lt;h2 id="-ÂûÉÂúæÊî∂ÈõÜÊñπÂºè">üå¥ ÂûÉÂúæÊî∂ÈõÜÊñπÂºè&lt;/h2>
&lt;h3 id="-ÈÉ®ÂàÜÊî∂ÈõÜ">ü™® ÈÉ®ÂàÜÊî∂ÈõÜ&lt;/h3>
&lt;p>Êî∂ÈõÜÂ†ÜÈÉ®ÂàÜÂå∫Âüü„ÄÇ&lt;code>Partial GC&lt;/code>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Êñ∞Áîü‰ª£Êî∂ÈõÜ &lt;code>Minor GC / Young GC&lt;/code>&lt;/p>
&lt;p>ÁõÆÊ†áÂè™ÊòØÊñ∞Áîü‰ª£ÁöÑÂûÉÂúæÊî∂ÈõÜ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ËÄÅÂπ¥‰ª£Êî∂ÈõÜ &lt;code>Major GC / Old GC&lt;/code>&lt;/p>
&lt;p>ÁõÆÊ†áÂè™ÊòØËÄÅÂπ¥‰ª£ÁöÑÂûÉÂúæÊî∂ÈõÜÔºåÁõÆÂâçÂè™Êúâ CMS Êî∂ÈõÜÂô®‰ºöÊúâÂçïÁã¨Êî∂ÈõÜËÄÅÂπ¥‰ª£ÁöÑË°å‰∏∫„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Ê∑∑ÂêàÊî∂ÈõÜ &lt;code>Mixed GC&lt;/code>&lt;/p>
&lt;p>ÁõÆÊ†áÊòØÊï¥‰∏™Êñ∞Áîü‰ª£ÂíåÈÉ®ÂàÜËÄÅÂπ¥‰ª£ÁöÑÂûÉÂúæÊî∂ÈõÜÔºåÁõÆÂâçÂè™Êúâ G1 Êî∂ÈõÜÂô®‰ºöÊúâËøôÁßçË°å‰∏∫„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-Êï¥Â†ÜÊî∂ÈõÜ">ü™® Êï¥Â†ÜÊî∂ÈõÜ&lt;/h3>
&lt;p>Êî∂ÈõÜÊï¥‰∏™Â†ÜÂíåÊñπÊ≥ïÂå∫„ÄÇ&lt;code>Full GC&lt;/code>&lt;/p>
&lt;ul>
&lt;li>ÊôãÂçáÂà∞ËÄÅÂπ¥‰ª£ÁöÑÂØπË±°Â§ß‰∫éËÄÅÂπ¥‰ª£ÁöÑÂâ©‰ΩôÁ©∫Èó¥&lt;/li>
&lt;li>Minor GC ÂêéÔºåÊñ∞Áîü‰ª£Â≠òÊ¥ªÂØπË±°Ë∂ÖËøá‰∫ÜËÄÅÂπ¥‰ª£ÁöÑÁ©∫Èó¥ÔºàÂàÜÈÖçÊãÖ‰øùÊú∫Âà∂Ôºâ&lt;/li>
&lt;li>ÊâãÂä® System.gc()&lt;/li>
&lt;li>ÔºàJava 8 ‰πãÂâçÔºâÊ∞∏‰πÖ‰ª£Á©∫Èó¥‰∏çË∂≥&lt;/li>
&lt;/ul>
&lt;h2 id="-ÂûÉÂúæÊî∂ÈõÜÂô®">üå¥ ÂûÉÂúæÊî∂ÈõÜÂô®&lt;/h2>
&lt;h3 id="-serial--serial-old">ü™µ Serial / Serial Old&lt;/h3>
&lt;p>‚ÄúÂçïÁ∫øÁ®ã‚ÄùÁöÑÂûÉÂúæÊî∂ÈõÜÂô®ÔºåÂú®ËøõË°åÂûÉÂúæÊî∂ÈõÜÊó∂ÔºåÂøÖÈ°ªÊöÇÂÅúÂÖ∂‰ªñÊâÄÊúâÂ∑•‰ΩúÁ∫øÁ®ã&lt;code>stop the world&lt;/code>ÔºåÁõ¥Âà∞Êî∂ÈõÜÁªìÊùü„ÄÇ&lt;/p>
&lt;ul>
&lt;li>Êñ∞Áîü‰ª£ÈááÁî® Ê†áËÆ∞-Â§çÂà∂ ÁÆóÊ≥ïÔºåËÄÅÂπ¥‰ª£ÈááÁî® Ê†áËÆ∞-Êï¥ÁêÜ ÁÆóÊ≥ï„ÄÇ&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/serial.png"
width="953"
height="209"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/serial_hu902bd566aebd83355bfe0e2769bbc345_79667_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/serial_hu902bd566aebd83355bfe0e2769bbc345_79667_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="serial"
class="gallery-image"
data-flex-grow="455"
data-flex-basis="1094px"
>&lt;/p>
&lt;ul>
&lt;li>ÁÆÄÂçïÈ´òÊïà&lt;/li>
&lt;li>‰æùÊóßÊòØÁé∞Âú® HotSpot ËôöÊãüÊú∫ËøêË°åÂú®ÂÆ¢Êà∑Á´ØÊ®°Âºè‰∏ãÁöÑÈªòËÆ§Êñ∞Áîü‰ª£ÂûÉÂúæÂõûÊî∂ÊñπÂºè&lt;/li>
&lt;/ul>
&lt;h3 id="-parnew">ü™µ ParNew&lt;/h3>
&lt;p>Serial ÁöÑÂ§öÁ∫øÁ®ãÁâàÊú¨ÔºåÂèØ‰ª•‰ΩøÁî®Â§öÊù°Á∫øÁ®ãËøõË°åÂûÉÂúæÂõûÊî∂„ÄÇÔºàÊñ∞Áîü‰ª£Ôºâ&lt;/p>
&lt;ul>
&lt;li>ÈááÁî®Ê†áËÆ∞-Â§çÂà∂ÁÆóÊ≥ï&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/parnew.png"
width="960"
height="202"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/parnew_hub4e3375e7b496e8b6ebc251ec3bf2f26_87679_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/parnew_hub4e3375e7b496e8b6ebc251ec3bf2f26_87679_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="parnew"
class="gallery-image"
data-flex-grow="475"
data-flex-basis="1140px"
>&lt;/p>
&lt;h3 id="-parallel-scavenge--parallel-old">ü™µ Parallel Scavenge / Parallel Old&lt;/h3>
&lt;ul>
&lt;li>Âü∫‰∫é Ê†áËÆ∞-Â§çÂà∂ ÁÆóÊ≥ïÂÆûÁé∞ÁöÑÊñ∞Áîü‰ª£ÂûÉÂúæÊî∂ÈõÜÂô®ÔºåËÉΩÂ§üÂπ∂Ë°åÊî∂ÈõÜÁöÑÂ§öÁ∫øÁ®ãÊî∂ÈõÜÂô®ÔºåÁõÆÊ†áÊòØËææÂà∞‰∏Ä‰∏™ÂèØÊéßÂà∂ÁöÑ‚ÄúÂêûÂêêÈáè‚Äù„ÄÇ&lt;/li>
&lt;li>Âü∫‰∫é Ê†áËÆ∞-Êï¥ÁêÜ ÁÆóÊ≥ïÂÆûÁé∞ÁöÑËÄÅÂπ¥‰ª£Â§öÁ∫øÁ®ãÊî∂ÈõÜÂô®„ÄÇ&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/parallel.png"
width="934"
height="199"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/parallel_hu519cfc57a4a5c97f5f81fc0feaeb8730_92362_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/parallel_hu519cfc57a4a5c97f5f81fc0feaeb8730_92362_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="parallel"
class="gallery-image"
data-flex-grow="469"
data-flex-basis="1126px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Java 8 ÈªòËÆ§ÁöÑÊî∂ÈõÜÂô®‰∏∫ Parallel Sacvenge + Parallel Old&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂêûÂêêÈáè TPS ÔºöÁ≥ªÁªüÂú®Âçï‰ΩçÊó∂Èó¥ÂÜÖÂ§ÑÁêÜËØ∑Ê±ÇÁöÑÊï∞Èáè&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-cms">ü™µ CMS&lt;/h3>
&lt;p>&lt;code>Concurrent Mark Swap&lt;/code> Ëé∑ÂèñÊúÄÁü≠ÂÅúÈ°øÊó∂Èó¥ÁöÑÊî∂ÈõÜÂô®„ÄÇ&lt;/p>
&lt;p>ÊòØ HotSpot ËôöÊãüÊú∫Á¨¨‰∏ÄÊ¨æÁúüÊ≠£ÊÑè‰πâ‰∏äÁöÑÂπ∂ÂèëÂûÉÂúæÊî∂ÈõÜÂô®ÔºåÂÆûÁé∞‰∫ÜÁî®Êà∑Á∫øÁ®ãÂíåÂûÉÂúæÂõûÊî∂Á∫øÁ®ãÂêåÊó∂Â∑•‰Ωú„ÄÇÂü∫‰∫é Ê†áËÆ∞-Ê∏ÖÈô§ ÁÆóÊ≥ïÁöÑ &lt;strong>ËÄÅÂπ¥‰ª£&lt;/strong> Êî∂ÈõÜÂô®„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/CMS.png"
width="1121"
height="230"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/CMS_hu7a65fd9981325c5387fcf294cec67078_167761_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/CMS_hu7a65fd9981325c5387fcf294cec67078_167761_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="CMS"
class="gallery-image"
data-flex-grow="487"
data-flex-basis="1169px"
>&lt;/p>
&lt;p>CMS Êî∂ÈõÜÂô®Êï¥‰∏™ËøáÁ®ãÂàÜ‰∏∫Âõõ‰∏™Ê≠•È™§Ôºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üêæ ÂàùÂßãÊ†áËÆ∞&lt;/p>
&lt;p>Ê†áËÆ∞‰∏é GC Root Áõ¥Êé•ÂÖ≥ËÅîÁöÑÂØπË±°„ÄÇÊöÇÂÅúÁî®Êà∑Á∫øÁ®ãÔºàstop the worldÔºâÔºå‰ΩÜÈÄüÂ∫¶ËæÉÂø´„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üêæ Âπ∂ÂèëÊ†áËÆ∞&lt;/p>
&lt;p>Áî®Êà∑Á∫øÁ®ãÂíåÂûÉÂúæÂõûÊî∂Á∫øÁ®ãÂêåÊó∂Â∑•‰ΩúÔºå‰ªé GC Root Áõ¥Êé•ÂÖ≥ËÅîÁöÑÂØπË±°ÂºÄÂßãÈÅçÂéÜÔºåÊ†πÊçÆÂèØËææÊÄßÂàÜÊûêÔºåÊâæÂá∫Â≠òÊ¥ªÂØπË±°„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üêæ ÈáçÊñ∞Ê†áËÆ∞&lt;/p>
&lt;p>‰øÆÊ≠£Âπ∂ÂèëÊ†áËÆ∞ËøáÁ®ã‰∏≠ÔºåÁî±‰∫éÁ®ãÂ∫èÁªßÁª≠ËøêË°åÔºåÂØºËá¥ÁöÑÊ†áËÆ∞ÈîôËØØ„ÄÇÊöÇÂÅúÁî®Êà∑Á∫øÁ®ãÔºàstop the worldÔºâ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üêæ Âπ∂ÂèëÊ∏ÖÈô§&lt;/p>
&lt;p>Âπ∂ÂèëÂú∞Ê∏ÖÁêÜÊú™Ë¢´Ê†áËÆ∞ÁöÑÂå∫Âüü„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Áº∫ÁÇπÔºö&lt;/p>
&lt;ul>
&lt;li>ÂØπ CPU ËµÑÊ∫êÊïèÊÑü&lt;/li>
&lt;li>Êó†Ê≥ïÂ§ÑÁêÜÊµÆÂä®ÂûÉÂúæÔºöËøêË°åËøáÁ®ã‰∏≠ÔºåÊúâ‰∏Ä‰∫õÂûÉÂúæÂú®ÂΩìÊ¨°Êó†Ê≥ïÂ§ÑÁêÜÔºåÈúÄË¶ÅÁ≠âÂæÖ‰∏ãÊ¨°ÂûÉÂúæÂõûÊî∂&lt;/li>
&lt;li>‰ºö‰∫ßÁîüÂÜÖÂ≠òÁ¢éÁâáÔºåÂØºËá¥ËøûÁª≠Á©∫Èó¥ÂáèÂ∞ëÔºåÂØºËá¥ Full GC&lt;/li>
&lt;/ul>
&lt;h3 id="-g1">ü™µ G1&lt;/h3>
&lt;p>G1 ÂºÄÂàõ‰∫ÜÊî∂ÈõÜÂô®Èù¢ÂêëÂ±ÄÈÉ®Êî∂ÈõÜÁöÑËÆæËÆ°ÊÄùË∑ØÂíåÂü∫‰∫é Region ÁöÑÂÜÖÂ≠òÂ∏ÉÂ±ÄÂΩ¢Âºè„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/g1heap.png"
width="902"
height="676"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/g1heap_huc8187154c5204389b583a76e76e7dffa_88685_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/g1heap_huc8187154c5204389b583a76e76e7dffa_88685_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="g1heap"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
>&lt;/p>
&lt;p>Â∞Ü Java Â†ÜÂàÜ‰∏∫ 2048 ‰∏™Â§ßÂ∞èÁõ∏ÂêåÁöÑÁã¨Á´ã RegionÔºåÊØè‰∏™ Region ÁöÑÂ§ßÂ∞è‰æùÊçÆÂ†ÜÁ©∫Èó¥ÁöÑÂ§ßÂ∞èËÄåÂÆöÔºåÂú® JVM ÁîüÂëΩÂë®Êúü‰∏≠‰∏ç‰ºöÊîπÂèò„ÄÇ&lt;/p>
&lt;p>ÊØè‰∏™ Region ÈÉΩÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅÔºå‰Ωú‰∏∫Êñ∞Áîü‰ª£ÁöÑ Eden Âå∫ÔºåSurvivor Âå∫ÔºåÊàñËÄÖÊòØËÄÅÂπ¥‰ª£ÔºõÊñ∞Áîü‰ª£ÂíåËÄÅÂπ¥‰ª£Âú®ÂÜÖÂ≠ò‰∏≠‰∏çÊòØËøûÁª≠ÁöÑÁ©∫Èó¥ÔºåÊî∂ÈõÜÂô®‰ºöÊ†πÊçÆÂå∫ÂüüÁöÑ‰∏çÂêåÈááÂèñ‰∏çÂêåÁöÑÁ≠ñÁï•„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/g1.png"
width="941"
height="209"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/g1_hu2c13cc7a5d500b4a818a8d3a4dfa26ed_139186_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/garbage-collection/g1_hu2c13cc7a5d500b4a818a8d3a4dfa26ed_139186_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="g1"
class="gallery-image"
data-flex-grow="450"
data-flex-basis="1080px"
>&lt;/p>
&lt;p>Region ‰∏≠Ëøò‰ºöÊúâ‰∏ÄÁ±ªÁâπÊÆäÁöÑÂ∑®Â§ßÂå∫Âüü HumongousÔºå‰∏ìÈó®Áî®Êù•Â≠òÂÇ®Â§ßÂØπË±°„ÄÇÂΩìÂØπË±°ÁöÑÂ§ßÂ∞èË∂ÖËøá‰∫Ü‰∏Ä‰∏™ Region ÁöÑ‰∏ÄÂçäÔºåÂ∞±Ë¢´Âà§ÂÆö‰∏∫Â§ßÂØπË±°„ÄÇ&lt;/p>
&lt;p>G1 Êî∂ÈõÜÂô®ÂõûÊî∂ÁöÑÊ≠•È™§Ôºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üêæ ÂàùÂßãÊ†áËÆ∞&lt;/p>
&lt;p>Ê†áËÆ∞ GC Root ËÉΩÂ§üÁõ¥Êé•ÂÖ≥ËÅîÂà∞ÁöÑÂØπË±°ÔºåÈúÄË¶ÅÂÅúÈ°øÁ∫øÁ®ãÔºàstop the worldÔºâÔºåËÄóÊó∂ËæÉÁü≠„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üêæ Âπ∂ÂèëÊ†áËÆ∞&lt;/p>
&lt;p>‰ªé GC Root ÂºÄÂßãÂØπÂ†Ü‰∏≠ÁöÑÂØπË±°ËøõË°åÂèØËææÊÄßÂàÜÊûêÔºåÊâæÂá∫ÈúÄË¶ÅÂõûÊî∂ÁöÑÂØπË±°Ôºå‰∏éÁî®Êà∑Á∫øÁ®ãÂêåÊó∂ÊâßË°å„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üêæ ÊúÄÁªàÊ†áËÆ∞&lt;/p>
&lt;p>‰øÆÊ≠£Âπ∂ÂèëÊ†áËÆ∞ÊúüÈó¥Âõ†Áî®Êà∑Á®ãÂ∫èÁªßÁª≠Ëøê‰ΩúËÄåÂØºËá¥Ê†áËÆ∞‰∫ßÁîüÁöÑÂèòÂä®„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üêæ Á≠õÈÄâÂõûÊî∂&lt;/p>
&lt;p>ÂØπÂêÑ‰∏™ Region ÁöÑÂõûÊî∂‰ª∑ÂÄºÂíåÊàêÊú¨ËøõË°åÊéíÂ∫èÔºå‰ºöÈÄâÊã©‰ª∑ÂÄºÊúÄÂ§ßÁöÑÂå∫ÂüüËøõË°åÂõûÊî∂„ÄÇ&lt;/p>
&lt;p>Â∞ÜÂõûÊî∂ÁöÑ Region ‰∏≠ÁöÑÂ≠òÊ¥ªÂØπË±°ÔºåÂ§çÂà∂Âà∞Á©∫ÁöÑ Region ‰∏≠ÔºåÂÜçÊ∏ÖÁêÜÊéâÊï¥‰∏™ÊóßÁöÑ Region Âå∫Âüü„ÄÇ&lt;/p>
&lt;p>Ê∂âÂèäÂØπË±°ÁöÑÁßªÂä®ÔºåÂøÖÈ°ªÊöÇÂÅúÁî®Êà∑Á∫øÁ®ãÔºàstop the worldÔºâÔºåÊúâÂ§öÊù°ÂûÉÂúæÊî∂ÈõÜÂô®Âπ∂ÂèëÊâßË°å„ÄÇ‰ΩÜÊòØÂè™ÂõûÊî∂‰∏ÄÈÉ®ÂàÜRegionÔºåÊó∂Èó¥ÊòØÁî®Êà∑ÂèØÊéßÂà∂ÁöÑ„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;h2 id="-ÂØπË±°ÂàÜÈÖçÂíåÂõûÊî∂ÂéüÂàô">üå¥ ÂØπË±°ÂàÜÈÖçÂíåÂõûÊî∂ÂéüÂàô&lt;/h2>
&lt;ul>
&lt;li>ü™® ÂØπË±°‰ºòÂÖàÂú® Eden Âå∫ÂàÜÈÖç&lt;/li>
&lt;/ul>
&lt;p>Â§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÔºåÂØπË±°Âú®Êñ∞Áîü‰ª£ Eden Âå∫ÂàÜÈÖçÔºåÂΩì Eden Âå∫Ê≤°ÊúâË∂≥Â§üÁ©∫Èó¥Êó∂ÔºåËôöÊãüÊú∫‰ºöÂèëËµ∑‰∏ÄÊ¨° Minor GC„ÄÇ&lt;/p>
&lt;ul>
&lt;li>ü™® Â§ßÂØπË±°Áõ¥Êé•ËøõÂÖ•ËÄÅÂπ¥‰ª£&lt;/li>
&lt;/ul>
&lt;p>ÈúÄË¶ÅÂ§ßÈáèËøûÁª≠ÂÜÖÂ≠òÁ©∫Èó¥ÁöÑ Java ÂØπË±°ÔºàÊï∞ÁªÑÔºåÂæàÈïøÁöÑÂ≠óÁ¨¶‰∏≤ÔºâÔºåÁõ¥Êé•Âú®ËÄÅÂπ¥‰ª£ÂàÜÈÖçÔºåÈÅøÂÖçÂú® Eden Âå∫Âíå‰∏§‰∏™ Survivor Âå∫‰πãÈó¥Êù•ÂõûÂ§çÂà∂Ôºå‰∫ßÁîüÂ§ßÈáèÁöÑÂÜÖÂ≠òÂ§çÂà∂Êìç‰Ωú„ÄÇ&lt;/p>
&lt;ul>
&lt;li>ü™® ÈïøÊúüÂ≠òÊ¥ªÁöÑÂØπË±°ËøõÂÖ•ËÄÅÂπ¥‰ª£&lt;/li>
&lt;/ul>
&lt;p>ËôöÊãüÊú∫ÁªôÊØè‰∏™ÂØπË±°‰∏Ä‰∏™ÂØπË±°Âπ¥ÈæÑËÆ°Êï∞Âô®ÔºåÊØèÁªèËøá‰∏ÄÊ¨° MinorGCÔºåÂπ¥ÈæÑÂ∞±‰ºö +1Ôºå&lt;/p>
&lt;p>ÂΩìÂπ¥ÈæÑÂ¢ûÂä†Âà∞‰∏ÄÂÆöÁ®ãÂ∫¶ÔºàÈªòËÆ§ 15ÔºâÔºåÊàñÊüê‰∏™Âπ¥ÈæÑË∂ÖËøá‰∫Ü Survivor Âå∫ÁöÑ‰∏ÄÂçäÊó∂Ôºå‰ºöÊôãÂçáÂà∞ËÄÅÂπ¥‰ª£„ÄÇ&lt;/p>
&lt;ul>
&lt;li>ü™® Á©∫Èó¥ÂàÜÈÖçÊãÖ‰øù&lt;/li>
&lt;/ul>
&lt;p>Á°Æ‰øùÂú® Minor GC ‰πãÂâçÔºåËÄÅÂπ¥‰ª£ËøòÊúâÂÆπÁ∫≥Êñ∞Áîü‰ª£ÊâÄÊúâÂØπË±°ÁöÑÂâ©‰ΩôÁ©∫Èó¥„ÄÇ&lt;/p>
&lt;p>ËøõË°å‰∏ÄÊ¨° Minor GC ‰πãÂêéÔºåEden Âå∫‰∏≠‰ªªÁÑ∂Â≠òÂú®Â§ßÈáèÂØπË±°ÔºåSurvivor ‰∏≠Êó†Ê≥ïÂÆπÁ∫≥ÔºåÁõ¥Êé•ÈÄÅÂà∞ËÄÅÂπ¥‰ª£ÔºåËÆ©ËÄÅÂπ¥‰ª£ËøõË°åÁ©∫Èó¥ÂàÜÈÖçÊãÖ‰øù„ÄÇ&lt;/p></description></item><item><title>JVM ÂÜÖÂ≠òÊ®°Âûã</title><link>https://emerywan.github.io/blog/p/java/jvm/memory-model/</link><pubDate>Sun, 07 Aug 2022 06:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/java/jvm/memory-model/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/28.jpeg" alt="Featured image of post JVM ÂÜÖÂ≠òÊ®°Âûã" />&lt;h2 id="jmm">JMM&lt;/h2>
&lt;p>Java ÂÜÖÂ≠òÊ®°ÂûãÔºàJava Memory ModelÔºâÂ±èËîΩ‰∫Ü‰∏çÂêåÊìç‰ΩúÁ≥ªÁªüÂíåÂêÑÁßçÁ°¨‰ª∂ÁöÑÂÜÖÂ≠òËÆøÈóÆÂ∑ÆÂºÇÔºåÂÆûÁé∞‰∫Ü Java Á®ãÂ∫èÂú®ÂêÑÁßçÂπ≥Âè∞‰∏ãÔºåÈÉΩËÉΩËææÂà∞‰∏ÄËá¥ÊÄßÁöÑËÆøÈóÆÊïàÊûú„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/memory-model/JMM.png"
width="613"
height="530"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/memory-model/JMM_hu7e11e9092393e4f5c6cb98b7857d5889_99528_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/memory-model/JMM_hu7e11e9092393e4f5c6cb98b7857d5889_99528_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="JMM"
class="gallery-image"
data-flex-grow="115"
data-flex-basis="277px"
>&lt;/p>
&lt;p>JMM ËßÑÂÆö‰∫ÜÔºö&lt;/p>
&lt;ul>
&lt;li>ÊâÄÊúâÁöÑÂèòÈáèÈÉΩÂ≠òÂÇ®Âú®‰∏ªÂ≠ò‰∏≠&lt;/li>
&lt;li>ÊØèÊù°Á∫øÁ®ãÊúâËá™Â∑±ÁöÑÂ∑•‰ΩúÂÜÖÂ≠ò&lt;/li>
&lt;li>Á∫øÁ®ãÂØπÂèòÈáèÁöÑÊâÄÊúâÊìç‰ΩúÔºàËØªÂèñ„ÄÅËµãÂÄºÁ≠âÔºâÔºå‰∏çËÉΩÁõ¥Êé•ËØªÂÜô‰∏ªÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆÔºåÈÉΩÂøÖÈ°ªÂú®Â∑•‰ΩúÂÜÖÂ≠ò‰∏≠ËøõË°å&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/memory-model/memory.png"
width="942"
height="383"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/memory-model/memory_hue7fb17d3eb7c4a77bd28c7215dc28c3d_104935_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/memory-model/memory_hue7fb17d3eb7c4a77bd28c7215dc28c3d_104935_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="memory"
class="gallery-image"
data-flex-grow="245"
data-flex-basis="590px"
>&lt;/p>
&lt;h2 id="ÂéüÂ≠êÊÄßÂèØËßÅÊÄßÊúâÂ∫èÊÄß">ÂéüÂ≠êÊÄß„ÄÅÂèØËßÅÊÄß„ÄÅÊúâÂ∫èÊÄß&lt;/h2>
&lt;p>Java ÂÜÖÂ≠òÊ®°ÂûãÊòØÂõ¥ÁªïÁùÄÂú®Âπ∂ÂèëËøáÁ®ã‰∏≠Â¶Ç‰ΩïÂ§ÑÁêÜÂéüÂ≠êÊÄß„ÄÅÂèØËßÅÊÄßÂíåÊúâÂ∫èÊÄß‰∏â‰∏™ÁâπÂæÅÊù•Âª∫Á´ãÁöÑ„ÄÇ&lt;/p>
&lt;h3 id="-ÂéüÂ≠êÊÄß">üê• ÂéüÂ≠êÊÄß&lt;/h3>
&lt;p>‰∏ÄÊ¨°ÊàñÂ§öÊ¨°Êìç‰ΩúÔºåË¶Å‰πàÂÖ®ÈÉ®ÊâßË°å‰∏î‰∏çÂèóÂà∞‰ªª‰ΩïÂπ≤Êâ∞ÔºåË¶Å‰πàÂÖ®ÈÉΩ‰∏çÊâßË°å„ÄÇ&lt;/p>
&lt;ul>
&lt;li>Âà©Áî®ÈîÅÔºåÂèØ‰ª•ËÆ©‰ªª‰∏ÄÊó∂ÂàªÂè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãËÆøÈóÆ‰ª£Á†ÅÂùó„ÄÇ&lt;code>synchronized&lt;/code> &lt;code>Lock&lt;/code>&lt;/li>
&lt;li>Âà©Áî® &lt;code>CAS&lt;/code> ÂéüÂ≠êÁ±ªÔºå‰øùËØÅÂéüÂ≠êÊìç‰Ωú„ÄÇ&lt;/li>
&lt;/ul>
&lt;h3 id="-ÂèØËßÅÊÄß">üê§ ÂèØËßÅÊÄß&lt;/h3>
&lt;p>‰∏Ä‰∏™Á∫øÁ®ã‰øÆÊîπ‰∫ÜÂÖ±‰∫´ÂèòÈáèÁöÑÂÄºÔºåÂÖ∂‰ªñÁ∫øÁ®ãËÉΩÂ§üÁ´ãÂç≥ÂæóÁü•Ëøô‰∏™‰øÆÊîπ„ÄÇ&lt;/p>
&lt;ul>
&lt;li>&lt;code>volatile&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>ËßÑÂÆöÊØèÊ¨°ÂÜôÊìç‰ΩúÔºåÈÉΩÁ´ãÂç≥ÂêåÊ≠•Âà∞‰∏ªÂ≠òÔºõÊØèÊ¨°ËØªÊìç‰ΩúÔºåÈÉΩ‰ªé‰∏ªÂ≠ò‰∏≠ËØªÂèñ„ÄÇ&lt;/p>
&lt;ul>
&lt;li>&lt;code>synchronized&lt;/code> &lt;code>lock&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>ÂØπ‰∏Ä‰∏™ÂèòÈáèÊâßË°åÊâßË°å unlock ‰πãÂâçÔºåÂøÖÈ°ªÊääÂèòÈáèÂêåÊ≠•Âõû‰∏ªÂ≠ò‰∏≠„ÄÇ&lt;/p>
&lt;ul>
&lt;li>&lt;code>final&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="-ÊúâÂ∫èÊÄß">üê£ ÊúâÂ∫èÊÄß&lt;/h3>
&lt;p>Êåá‰ª§ÈáçÊéíÈóÆÈ¢òÔºå‰ª£Á†ÅÁöÑÊâßË°åÈ°∫Â∫è‰∏ç‰∏ÄÂÆö„ÄÇ&lt;/p>
&lt;ul>
&lt;li>&lt;code>volatile&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>ÂåÖÂê´Á¶ÅÊ≠¢Êåá‰ª§ÈáçÊéíÂ∫èÁöÑËØ≠‰πâ„ÄÇ&lt;/p>
&lt;ul>
&lt;li>&lt;code>synchronized&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Âè™Êúâ‰∏ÄÊù°Á∫øÁ®ãËÉΩÂ§üËøõÂÖ•‰∏¥ÁïåÂå∫„ÄÇ&lt;/p>
&lt;h2 id="volatile">volatile&lt;/h2>
&lt;p>Java ËôöÊãüÊú∫Êèê‰æõÁöÑËΩªÈáèÁ∫ßÂÜÖÂ≠òÂêåÊ≠•Êú∫Âà∂„ÄÇ&lt;/p>
&lt;p>‰ΩúÁî®Ôºö&lt;/p>
&lt;ul>
&lt;li>‚úîÔ∏è ‰øùÈöú‰∫ÜÊ≠§ÂèòÈáèÂØπÊâÄÊúâÁ∫øÁ®ãÁöÑÂèØËßÅÊÄß&lt;/li>
&lt;/ul>
&lt;p>volatile ÁöÑÂÜôÊìç‰ΩúÔºåÈÉΩ‰ºöÂà∑Êñ∞Âà∞‰∏ªÂÜÖÂ≠ò‰∏≠ÔºåÂπ∂‰ΩøÂÖ∂‰ªñÁ∫øÁ®ã‰∏≠ÁöÑ volatile ÂèòÈáèÂ§±ÊïàÔºõvolatile ÁöÑËØªÊìç‰ΩúÔºåÈÉΩ‰ºö‰ªé‰∏ªÂ≠ò‰∏≠ËØªÂèñ„ÄÇ&lt;/p>
&lt;ul>
&lt;li>‚úîÔ∏è Á¶ÅÊ≠¢Êåá‰ª§ÈáçÊéí‰ºòÂåñÔºàÊúâÂ∫èÊÄßÔºâ&lt;/li>
&lt;/ul>
&lt;p>Èò≤Ê≠¢ÂÜôÊìç‰Ωú‰πãÂâçÁöÑ‰ª£Á†ÅÔºåÈáçÊéíÂà∞ÂÜôÊìç‰Ωú‰πãÂêéÔºõÈò≤Ê≠¢ËØªÊìç‰Ωú‰πãÂêéÁöÑ‰ª£Á†ÅÔºåÈáçÊéíÂà∞ËØªÊìç‰Ωú‰πãÂâç„ÄÇ&lt;/p>
&lt;ul>
&lt;li>‚ùóÔ∏èÊó†Ê≥ï‰øùÈöúÂéüÂ≠êÊÄß&lt;/li>
&lt;/ul>
&lt;p>‰∏ÄÊù°Â≠óËäÇÁ†ÅÂú®ÊâßË°åÊó∂ÔºåÊòØÈúÄË¶ÅËøêË°åÂ§öÊù°Êåá‰ª§ÊâçËÉΩÂÆûÁé∞„ÄÇ&lt;/p>
&lt;p>ÂÆûÁé∞ÊñπÂºèÔºöÂÜÖÂ≠òÂ±èÈöú„ÄÇÈáçÊéíÂ∫èÊó∂Ôºå‰∏çËÉΩÊääÂêéÈù¢ÁöÑÊåá‰ª§ÈáçÊéíÂ∫èÂà∞ÂÜÖÂ≠òÂ±èÈöú‰πãÂâçÁöÑ‰ΩçÁΩÆ„ÄÇ&lt;/p>
&lt;p>‰øùËØÅÔºö‰πãÂâçÁöÑÊåá‰ª§‰∏ÄÂÆöÂÖ®ÈÉ®ÊâßË°åÔºå‰πãÂêéÁöÑÊåá‰ª§‰∏ÄÂÆöÈÉΩÊ≤°ÊúâÊâßË°åÔºåÂπ∂‰∏îÂâçÈù¢ËØ≠Âè•ÁöÑÁªìÊûúÂØπÂêéÈù¢ÁöÑËØ≠Âè•ÂèØËßÅ„ÄÇ&lt;/p>
&lt;h2 id="happens-before-ÂéüÂàô">happens-before ÂéüÂàô&lt;/h2>
&lt;p>ÂØπ‰∫é‰∏§‰∏™Êìç‰Ωú A Âíå BÔºåËøô‰∏§‰∏™Êìç‰ΩúÂèØ‰ª•Âú®‰∏çÂêåÁöÑÁ∫øÁ®ã‰∏≠ÊâßË°å„ÄÇÂ¶ÇÊûú A happens-before BÔºàA ‰ºòÂÖà‰∫é B ÊâßË°åÔºâÔºåÈÇ£‰πàÂèØ‰ª•‰øùËØÅÔºåÂΩì A Êìç‰ΩúÂÆåÂêéÔºåA ÁöÑÊìç‰ΩúÂØπ‰∫é B Êìç‰ΩúÊòØÂèØËßÅÁöÑ„ÄÇ&lt;/p>
&lt;p>Êåá‰ª§ÈáçÊéíÊèêÈ´ò‰∫ÜÂπ∂ÂèëÊÄßËÉΩÔºå‰ΩÜÊòØ Java ËôöÊãüÊú∫‰ºöÂØπÊåá‰ª§ÈáçÊéíÂÅö‰∏Ä‰∫õËßÑÂàôÈôêÂà∂ÔºåÂπ∂‰∏çËÉΩËÆ©ÊâÄÊúâÁöÑÊåá‰ª§ÈÉΩÈöèÊÑèÊîπÂèòÊâßË°å‰ΩçÁΩÆ„ÄÇ&lt;/p>
&lt;p>Java ÂÜÖÂ≠òÊ®°ÂûãÂ§©ÁÑ∂ÁöÑÂÖàË°åÂèëÁîüÂÖ≥Á≥ªÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Á®ãÂ∫èÈ°∫Â∫èËßÑÂàô&lt;/p>
&lt;p>Âú®‰∏Ä‰∏™Á∫øÁ®ãÂÜÖÔºåÂâçÈù¢ÁöÑ‰ª£Á†ÅÊìç‰Ωú‰ºò‰∫éÂêéÈù¢ÁöÑ‰ª£Á†ÅÊìç‰Ωú„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÈîÅÂÆöËßÑÂàô&lt;/p>
&lt;p>‰∏Ä‰∏™ unlock Êìç‰Ωú‰ºò‰∫éÂêéÈù¢ÂØπ‰∫éÂêå‰∏Ä‰∏™ÈîÅÁöÑ lock Êìç‰Ωú„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>volatile ËßÑÂàô&lt;/p>
&lt;p>‰∏Ä‰∏™ volatile ÂèòÈáèÁöÑÂÜôÊìç‰ΩúÔºå‰ºò‰∫éÂêéÈù¢Ëøô‰∏™ÂèòÈáèÁöÑËØªÊìç‰Ωú„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‰º†ÈÄíËßÑÂàô&lt;/p>
&lt;p>Â¶ÇÊûú A happens-before BÔºå‰∏î B happens-before CÔºåÈÇ£‰πà A happens-before C„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Á∫øÁ®ãÂêØÂä®ËßÑÂàô&lt;/p>
&lt;p>Thread ÂØπË±°ÁöÑ start() ÊñπÊ≥ï happens-before Á∫øÁ®ãÁöÑÊØè‰∏Ä‰∏™Âä®‰Ωú„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>Á±ªÂä†ËΩΩÂô®</title><link>https://emerywan.github.io/blog/p/java/jvm/classloader/</link><pubDate>Sat, 06 Aug 2022 16:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/java/jvm/classloader/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/25.jpeg" alt="Featured image of post Á±ªÂä†ËΩΩÂô®" />&lt;h2 id="Á±ªÂä†ËΩΩÂô®">Á±ªÂä†ËΩΩÂô®&lt;/h2>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/classloader/menu.png"
width="1707"
height="638"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/classloader/menu_hu8b8ca38d973bcbde05d207eb8795320e_321907_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/classloader/menu_hu8b8ca38d973bcbde05d207eb8795320e_321907_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="menu"
class="gallery-image"
data-flex-grow="267"
data-flex-basis="642px"
>&lt;/p>
&lt;h3 id="-bootstrapclassloader">üôà BootstrapClassLoader&lt;/h3>
&lt;p>ÂêØÂä®Á±ªÂä†ËΩΩÂô®ÔºåÊúÄÈ°∂Â±ÇÁöÑÂä†ËΩΩÁ±ªÔºåÁî± C/C++ ÂÆûÁé∞„ÄÇ&lt;/p>
&lt;p>Ë¥üË¥£Âä†ËΩΩÔºö&lt;/p>
&lt;ul>
&lt;li>&lt;code>%JAVA_HOME%/lib&lt;/code> ÁõÆÂΩï‰∏ãÁöÑ jar ÂåÖÂíåÁ±ª&lt;/li>
&lt;li>Ë¢´ &lt;code>-Xbootclasspath&lt;/code> ÂèÇÊï∞ÊåáÂÆöÁöÑË∑ØÂæÑ‰∏≠ÁöÑÊâÄÊúâÁ±ª„ÄÇ&lt;/li>
&lt;/ul>
&lt;h3 id="-extensionclassloader">üôâ ExtensionClassLoader&lt;/h3>
&lt;p>Êâ©Â±ïÁ±ªÂä†ËΩΩÂô®„ÄÇ&lt;/p>
&lt;p>ÊòØ‰∏ÄÁßç Java Á≥ªÁªüÁ±ªÂ∫ìÁöÑÊâ©Â±ïÊú∫Âà∂„ÄÇË¥üË¥£Âä†ËΩΩ &lt;code>%JRE_HOME%/lib/ext&lt;/code> ÁõÆÂΩï‰∏ãÁöÑ jar ÂåÖÂíåÁ±ªÔºåÊàñË¢´ &lt;code>java.ext.dirs&lt;/code> Á≥ªÁªüÂèòÈáèÊâÄÊåáÂÆöÁöÑË∑ØÂæÑ‰∏ãÁöÑ jar ÂåÖ„ÄÇ&lt;/p>
&lt;h3 id="-applicationclassloader">üôä ApplicationClassLoader&lt;/h3>
&lt;p>Èù¢ÂêëÁî®Êà∑ÁöÑÂä†ËΩΩÂô®ÔºåË¥üË¥£Âä†ËΩΩÂΩìÂâçÂ∫îÁî® &lt;code>classpath&lt;/code> ‰∏ãÁöÑÊâÄÊúâ jar ÂåÖÂíåÁ±ª„ÄÇ&lt;/p>
&lt;h2 id="Âèå‰∫≤ÂßîÊ¥æÊ®°Âûã">Âèå‰∫≤ÂßîÊ¥æÊ®°Âûã&lt;/h2>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/classloader/classloader.png"
width="1279"
height="699"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/classloader/classloader_hu2885d6b96687a867396da9eda76d4bf0_289144_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/classloader/classloader_hu2885d6b96687a867396da9eda76d4bf0_289144_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="classloader"
class="gallery-image"
data-flex-grow="182"
data-flex-basis="439px"
>&lt;/p>
&lt;p>ÊØè‰∏™Á±ªÂä†ËΩΩÂô®ÈÉΩÊúâËá™Â∑±ÁöÑÂëΩÂêçÁ©∫Èó¥ÔºåÁî®‰∏çÂêåÁöÑÁ±ªÂä†ËΩΩÂô®Âä†ËΩΩ‰∫ÜÂêå‰∏Ä‰∏™ÈôêÂÆöÂêçÁöÑÁ±ªÔºåJVM ‰πü‰ºöËÆ§‰∏∫ÊòØ‰∏§‰∏™‰∏çÂêåÁöÑÁ±ª„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">protected&lt;/span> &lt;span class="n">Class&lt;/span>&lt;span class="o">&amp;lt;?&amp;gt;&lt;/span> &lt;span class="n">loadClass&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kt">boolean&lt;/span> &lt;span class="n">resolve&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">throws&lt;/span> &lt;span class="n">ClassNotFoundException&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">synchronized&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">getClassLoadingLock&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">))&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// (1) Âà§Êñ≠ÊòØÂê¶Âä†ËΩΩËøáËØ•Á±ª
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">Class&lt;/span>&lt;span class="o">&amp;lt;?&amp;gt;&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">findLoadedClass&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">c&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">long&lt;/span> &lt;span class="n">t0&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">nanoTime&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">parent&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">parent&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">loadClass&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// (2) parent == null Á∫¶ÂÆö‰∏∫Ôºöparnet ‰∏∫ Bootstracp ClassLoader
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">findBootstrapClassOrNull&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">ClassNotFoundException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ClassNotFoundException thrown if class not found
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// from the non-null parent class loader
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">c&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// (3) ËØ¥Êòé parent Âä†ËΩΩ‰∏ç‰∫ÜÔºåÂΩìÂâç loader Â∞ùËØïÂä†ËΩΩ class
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="n">t1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">nanoTime&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">findClass&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// this is the defining class loader; record the stats
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">sun&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">misc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">PerfCounter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getParentDelegationTime&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">addTime&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">t1&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">t0&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sun&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">misc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">PerfCounter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getFindClassTime&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">addElapsedTimeFrom&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">t1&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sun&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">misc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">PerfCounter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getFindClasses&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">increment&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">resolve&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">resolveClass&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºå‰∏Ä‰∏™ÈôêÂÆöÂêçÁöÑÁ±ªÂè™‰ºöË¢´‰∏Ä‰∏™Á±ªÂä†ËΩΩÂô®Âä†ËΩΩÂπ∂Ëß£Êûê‰ΩøÁî®ÔºåÂú®Á®ãÂ∫è‰∏≠ÊòØÂîØ‰∏ÄÁöÑÔºå‰∏ç‰ºö‰∫ßÁîüÊ≠ß‰πâ„ÄÇ&lt;/p>
&lt;p>Âú®Âä†ËΩΩÊó∂ÔºåÈ¶ñÂÖà‰ºöÂà§Êñ≠ÂΩìÂâçÁ±ªÊòØÂê¶Ë¢´Âä†ËΩΩËøáÔºåÂ¶ÇÊûúÂ∑≤ÁªèÂä†ËΩΩÔºå‰ºöÁõ¥Êé•ËøîÂõûÔºåÂê¶ÂàôÊâç‰ºöÂ∞ùËØïÂä†ËΩΩ„ÄÇ&lt;/p>
&lt;p>Â∞ùËØïÂä†ËΩΩÊó∂Ôºå‰∏ç‰ºöËá™Â∑±ËøõË°åÂä†ËΩΩÔºåËÄåÊòØÂ∞ÜËØ∑Ê±ÇÂßîÊ¥æÁªôÁà∂Á±ªÂä†ËΩΩÂô®ÔºåÂΩìÁà∂Á±ªÂä†ËΩΩÂô®Êó†Ê≥ïÂä†ËΩΩÊó∂ÔºåÊâç‰ºöÁî±Ëá™Â∑±Â§ÑÁêÜ„ÄÇ&lt;/p></description></item><item><title>Á±ªÂä†ËΩΩÊú∫Âà∂</title><link>https://emerywan.github.io/blog/p/java/jvm/class-loading/</link><pubDate>Sat, 06 Aug 2022 13:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/java/jvm/class-loading/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/24.jpeg" alt="Featured image of post Á±ªÂä†ËΩΩÊú∫Âà∂" />&lt;h2 id="java-Á±ªÁîüÂëΩÂë®Êúü">Java Á±ªÁîüÂëΩÂë®Êúü&lt;/h2>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/life.png"
width="973"
height="331"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/life_hue0715323a61c74c3a1d0de4b0a99146c_113100_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/life_hue0715323a61c74c3a1d0de4b0a99146c_113100_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="java-class-life"
class="gallery-image"
data-flex-grow="293"
data-flex-basis="705px"
>&lt;/p>
&lt;h2 id="Á±ªÂä†ËΩΩËøáÁ®ã">Á±ªÂä†ËΩΩËøáÁ®ã&lt;/h2>
&lt;p>Á±ªÂä†ËΩΩ‰∏ªË¶ÅÊúâ‰∏âÊ≠•Ôºö&lt;code>Âä†ËΩΩ - ÈìæÊé• - ÂàùÂßãÂåñ&lt;/code>„ÄÇ&lt;/p>
&lt;h3 id="-Âä†ËΩΩ">ü•é Âä†ËΩΩ&lt;/h3>
&lt;p>Âä†ËΩΩÊòØ‰∏Ä‰∏™ËØªÂèñ Class Êñá‰ª∂ÔºåÂ∞ÜÂÖ∂ËΩ¨Âåñ‰∏∫ÊüêÁßçÈùôÊÄÅÊï∞ÊçÆÁªìÊûÑÂ≠òÂÇ®Âú®ÊñπÊ≥ïÂå∫ÂÜÖÔºåÂπ∂Âú®Â†Ü‰∏≠ÁîüÊàê‰∏Ä‰∏™‰æø‰∫éË∞ÉÁî®ÁöÑ &lt;code>java.lang.Class&lt;/code> Á±ªÂûãÁöÑÂØπË±°ÁöÑËøáÁ®ã„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/loading.png"
width="707"
height="335"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/loading_hu8b469e8111e2814cd40ca0f04de26462_22328_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/loading_hu8b469e8111e2814cd40ca0f04de26462_22328_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="loading"
class="gallery-image"
data-flex-grow="211"
data-flex-basis="506px"
>&lt;/p>
&lt;p>ÂàÜ‰∏∫‰∏âÊ≠•ËøõË°åÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Ëé∑ÂèñÂÆö‰πâÁ±ªÁöÑ‰∫åËøõÂà∂Â≠óËäÇÊµÅÔºà‰∏çÈôêÂà∂‰ªéÂì™ÈáåËé∑ÂèñÔºåÂèØ‰ª•‰ªéÊñá‰ª∂„ÄÅÁΩëÁªú„ÄÅÂç≥Êó∂ÁîüÊàêÔºâ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Â∞ÜÂ≠óËäÇÊµÅ‰ª£Ë°®ÁöÑÈùôÊÄÅÂ≠òÂÇ®ÁªìÊûÑÔºåËΩ¨Êç¢ÊàêÊñπÊ≥ïÂå∫‰∏≠ËøêË°åÊó∂Êï∞ÊçÆÁªìÊûÑ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Âú®Â†Ü‰∏≠ÁîüÊàê‰∏Ä‰∏™‰ª£Ë°®ËØ•Á±ªÁöÑ &lt;code>java.lang.Class&lt;/code> ÂØπË±°Ôºå‰Ωú‰∏∫ÊñπÊ≥ïÂå∫Ëøô‰∏™Á±ªÁöÑÂêÑÁßçÊï∞ÊçÆËÆøÈóÆÂÖ•Âè£&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-ÈìæÊé•">ü•é ÈìæÊé•&lt;/h3>
&lt;h4 id="-È™åËØÅ">‚öæÔ∏è È™åËØÅ&lt;/h4>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/verify.png"
width="915"
height="390"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/verify_hu8c1a3959f1e343b5f02da51e1aaf01f3_138925_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/verify_hu8c1a3959f1e343b5f02da51e1aaf01f3_138925_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="verify"
class="gallery-image"
data-flex-grow="234"
data-flex-basis="563px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Êñá‰ª∂Ê†ºÂºèÈ™åËØÅ&lt;/p>
&lt;p>È™åËØÅÂ≠óËäÇÊµÅÊòØÂê¶Á¨¶Âêà Class Êñá‰ª∂Ê†ºÂºèÁöÑËßÑËåÉÔºåËÉΩË¢´ÂΩìÂâçÁâàÊú¨ÁöÑËôöÊãüÊú∫Â§ÑÁêÜ„ÄÇ&lt;strong>ÂèëÁîüÂú®Âä†ËΩΩÈò∂ÊÆµ&lt;/strong>„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂÖÉÊï∞ÊçÆ„ÄÅÂ≠óËäÇÁ†ÅÈ™åËØÅ&lt;/p>
&lt;p>ÂØπÂ≠óËäÇÁ†ÅËøõË°åËØ≠Ê≥ï„ÄÅËØ≠‰πâÁöÑÂàÜÊûêÔºå‰øùËØÅÂÖ∂Á¨¶Âêà Java ËôöÊãüÊú∫ÁöÑËßÑËåÉÔºå‰∏ç‰ºöÊúâÂç±ÂÆ≥ËôöÊãüÊú∫ÁöÑË°å‰∏∫„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Á¨¶Âè∑ÂºïÁî®È™åËØÅ&lt;/p>
&lt;p>Á°Æ‰øùËß£ÊûêË°å‰∏∫ËÉΩÂ§üÊ≠£Â∏∏ÊâßË°å„ÄÇ&lt;strong>ÂèëÁîüÂú®Ëß£ÊûêÈò∂ÊÆµ&lt;/strong>„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h4 id="-ÂáÜÂ§á">‚öæÔ∏è ÂáÜÂ§á&lt;/h4>
&lt;p>‰∏∫Á±ª‰∏≠ÂÆö‰πâÁöÑÂèòÈáèÔºàÈùôÊÄÅÂèòÈáè &lt;code>static&lt;/code>ÔºâÂàÜÈÖçÂÜÖÂ≠òÂπ∂ËÆæÁΩÆÁ±ªÂèòÈáèÈõ∂ÂÄºÁöÑÈò∂ÊÆµ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/prepare.png"
width="482"
height="260"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/prepare_hu58a397643ad84aca2032de9a3ac6155c_29464_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/prepare_hu58a397643ad84aca2032de9a3ac6155c_29464_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="prepare"
class="gallery-image"
data-flex-grow="185"
data-flex-basis="444px"
>&lt;/p>
&lt;ul>
&lt;li>&lt;code>static&lt;/code> -&amp;gt; ËµãÈõ∂ÂÄº&lt;/li>
&lt;li>&lt;code>static final&lt;/code> -&amp;gt; ËµãÂÆö‰πâÁöÑÂ∏∏ÈáèÂÄº&lt;/li>
&lt;/ul>
&lt;h4 id="-Ëß£Êûê">‚öæÔ∏è Ëß£Êûê&lt;/h4>
&lt;p>Ëß£ÊûêÊòØÂ∞ÜÂ∏∏ÈáèÊ±†‰∏≠ÁöÑÁ¨¶Âè∑ÂºïÁî®ÊõøÊç¢‰∏∫Áõ¥Êé•ÂºïÁî®„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Á¨¶Âè∑ÂºïÁî®ÔºöÊèèËø∞ÂºïÁî®ÂØπË±°ÁöÑÁ¨¶Âè∑&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Áõ¥Êé•ÂºïÁî®ÔºöÊåáÂêëÁõÆÊ†áÂÆûÈôÖÂú∞ÂùÄÁöÑÊåáÈíà&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>üéæ Ëß£ÊûêÈÉ®ÂàÜÊòØÁÅµÊ¥ªÁöÑÔºåÂèØ‰ª•Âú®ÂàùÂßãÂåñÁéØËäÇÂêéÂÜçËøõË°åÔºåÂÆûÁé∞ÊâÄË∞ìÁöÑ‚ÄúÂêéÊúüÁªëÂÆö‚Äù„ÄÇÔºàÊñπÊ≥ïË∞ÉÁî®Áõ¥Âà∞ËøêË°åÊó∂Êâç‰ºöËß£ÊûêÔºåÂõ†‰∏∫Êó†Ê≥ïÂú®ÁºñËØëÊó∂Á°ÆÂÆöÊñπÊ≥ïË∞ÉÁî®ÊâÄÈúÄÁöÑÊâÄÊúâ‰ø°ÊÅØÔºåÊâÄ‰ª•ÊñπÊ≥ïÂÆö‰πâÂíåÊñπÊ≥ïË∞ÉÁî®Áõ¥Âà∞ËøêË°åÊó∂ÊâçÁªëÂÆö„ÄÇÔºâ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/resolve_1.png"
width="163"
height="370"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/resolve_1_hua9ef48196efa3564a4ef1eaa93606c3a_10102_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/resolve_1_hua9ef48196efa3564a4ef1eaa93606c3a_10102_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="resolve"
class="gallery-image"
data-flex-grow="44"
data-flex-basis="105px"
>&lt;/p>
&lt;p>ÂΩì‰∏Ä‰∏™Á±ªË¢´ÁºñËØëÊàê Class ‰πãÂêéÔºåÂÅáËÆæËøô‰∏™Á±ªÁß∞‰∏∫ &lt;code>A&lt;/code>ÔºåÂπ∂‰∏îÂú®Á±ª &lt;code>A&lt;/code> ‰∏≠ÂºïÁî®‰∫ÜÁ±ª &lt;code>B&lt;/code>„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Âú®ÁºñËØëÈò∂ÊÆµÔºå&lt;code>A&lt;/code> Êó†Ê≥ïÁ°ÆÂÆö &lt;code>B&lt;/code> ÊòØÂê¶Ë¢´ÁºñËØëÔºàÁé∞Âú® &lt;code>B&lt;/code> ‰∏ÄÂÆöÊú™Âä†ËΩΩÔºâÔºåÊ≠§Êó∂ &lt;code>A&lt;/code> Êó†Ê≥ïÁü•ÈÅì &lt;code>B&lt;/code> ÁöÑÂÆûÈôÖÂú∞ÂùÄÔºåÊâÄÊúâÂú® &lt;code>A.Class&lt;/code> ‰∏≠Ôºå‰ºö‰ΩøÁî®‰∏Ä‰∏™&lt;code>Â≠óÁ¨¶‰∏≤&lt;/code>‰ª£Ë°® &lt;code>B&lt;/code>ÔºåËøô‰∏™Â≠óÁ¨¶‰∏≤Ë¢´Áß∞‰∏∫&lt;strong>Á¨¶Âè∑ÂºïÁî®&lt;/strong>„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Âú®ËøêË°åÈò∂ÊÆµÔºå&lt;code>A&lt;/code> ÂèëÁîü‰∫ÜÂä†ËΩΩÔºåÂú®Ëß£ÊûêÊó∂ÔºåÂèëÁé∞ÂÖ∂‰∏≠ÁöÑ &lt;code>B&lt;/code> ËøòÊú™Ë¢´Âä†ËΩΩÔºåÂ∞±‰ºöËß¶ÂèëÁ±ª &lt;code>B&lt;/code> ÁöÑÂä†ËΩΩÔºåÂ∞Ü &lt;code>B&lt;/code> Âä†ËΩΩÂà∞ËôöÊãüÊú∫‰∏≠„ÄÇÊ≠§Êó∂Ôºå&lt;code>A&lt;/code> ‰∏≠ÁöÑÁ¨¶Âè∑ÂºïÁî®‰ºöË¢´ÊõøÊç¢‰∏∫ &lt;code>B&lt;/code> ‰∏≠ÁöÑÂÆûÈôÖÂú∞ÂùÄÔºà‰πüÂ∞±ÊòØÁõ¥Êé•ÂºïÁî®Ôºâ„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/resolve.png"
width="922"
height="538"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/resolve_hu45e5622ef4d0eaddcde37871cfee2a7a_117190_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/resolve_hu45e5622ef4d0eaddcde37871cfee2a7a_117190_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="resolve"
class="gallery-image"
data-flex-grow="171"
data-flex-basis="411px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ÈùôÊÄÅËß£Êûê&lt;/p>
&lt;p>Á±ª &lt;code>B&lt;/code> ÊòØÂÖ∑‰ΩìÁöÑÂÆûÁé∞Á±ªÔºåËß£ÊûêÁöÑÂØπË±°ÂçÅÂàÜÊòéÁ°ÆÔºåÂç≥‰ºöËøõË°åÈùôÊÄÅËß£Êûê„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Âä®ÊÄÅËß£Êûê&lt;/p>
&lt;p>Java ÈÄöËøáÂêéÊúüÁªëÂÆöÁöÑÊñπÂºèÂÆûÁé∞Â§öÊÄÅÔºåÈÄöËøáÂä®ÊÄÅËß£ÊûêÂÆûÁé∞„ÄÇ&lt;/p>
&lt;p>Â¶ÇÊûúÁ±ª &lt;code>B&lt;/code> ÊòØÊäΩË±°Á±ªÊàñËÄÖÊé•Âè£ÔºåÊúâÂÖ∑‰ΩìÁöÑÂÆûÁé∞Á±ª &lt;code>C&lt;/code>„ÄÅ&lt;code>D&lt;/code>ÔºåÂΩìÂâçÂÖ∑‰ΩìÁöÑÂÆûÁé∞ÊñπÂºèÂπ∂‰∏çÊòéÁ°ÆÔºåÊó†Ê≥ïÁ°ÆÂÆö‰ΩøÁî®Âì™‰∏™ÂÖ∑‰ΩìÂÆûÁé∞„ÄÇ&lt;/p>
&lt;p>Áõ¥Âà∞ËøêË°åËøáÁ®ã‰∏≠ÂèëÁîü‰∫ÜË∞ÉÁî®ÔºåËôöÊãüÊú∫Ë∞ÉÁî®Ê†à‰∏≠‰ºöÂæóÂà∞ÂÖ∑‰ΩìÁ±ªÁöÑ‰ø°ÊÅØÔºåÂÜçËøõË°åËß£ÊûêÔºåÂ∞±ÊúâÊòéÁ°ÆÁöÑÁõ¥Êé•ÂºïÁî®‰ª£ÊõøÁ¨¶Âè∑ÂºïÁî®„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-ÂàùÂßãÂåñ">ü•é ÂàùÂßãÂåñ&lt;/h3>
&lt;p>ËôöÊãüÊú∫ÁúüÊ≠£ÂºÄÂßãÊâßË°åÁ±ª‰∏≠ÁºñÂÜôÁöÑ‰ª£Á†ÅÔºåÂÆåÊàê‰∏Ä‰∫õ‰∏ªÂä®ÁöÑËµÑÊ∫êÂàùÂßãÂåñÂä®‰Ωú„ÄÇ&lt;/p>
&lt;p>&lt;strong>ÊâßË°åÁöÑÊòØÁ±ªÂ±ÇÈù¢ÁöÑÂàùÂßãÂåñ„ÄÇ&lt;/strong> Âè™ÊúâÊòæÂºèË∞ÉÁî® new Êâç‰ºöÊâßË°åÊûÑÈÄ†ÂáΩÊï∞ÁöÑÂàùÂßãÂåñ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/init.png"
width="533"
height="388"
srcset="https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/init_hud5162327100fcc16da85dffebeccc0e0_46268_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/java/jvm/class-loading/init_hud5162327100fcc16da85dffebeccc0e0_46268_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="init"
class="gallery-image"
data-flex-grow="137"
data-flex-basis="329px"
>&lt;/p>
&lt;ul>
&lt;li>Á±ªÂèòÈáèÔºàÈùôÊÄÅÂèòÈáèÔºâÁöÑËµãÂÄº &lt;code>static&lt;/code>&lt;/li>
&lt;li>ÈùôÊÄÅ‰ª£Á†ÅÂùó &lt;code>static { }&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="Â¶Ç‰ΩïÂà§Êñ≠Êó†Áî®Á±ª">Â¶Ç‰ΩïÂà§Êñ≠Êó†Áî®Á±ª&lt;/h2>
&lt;ul>
&lt;li>ËØ•Á±ªÁöÑÊâÄÊúâÂÆû‰æãÂØπË±°ÂÖ®ÈÉ®Ë¢´ GCÔºåÂú®Â†Ü‰∏≠‰∏çÂ≠òÂú®ËØ•Á±ªÁöÑ‰ªª‰ΩïÂÆû‰æãÂØπË±°&lt;/li>
&lt;li>ËØ•Á±ªÂØπÂ∫îÁöÑ &lt;code>java.lang.Class&lt;/code> ÂØπË±°ÔºåÂú®‰ªª‰ΩïÂú∞ÊñπÈÉΩÊ≤°ÊúâË¢´ÂºïÁî®&lt;/li>
&lt;li>ËØ•Á±ªÁöÑÁ±ªÂä†ËΩΩÂô®Â∑≤ÁªèË¢´ÂõûÊî∂&lt;/li>
&lt;/ul>
&lt;p>Êª°Ë∂≥‰ª•‰∏ä‰∏â‰∏™Êù°‰ª∂ÔºåËØ¥ÊòéËØ•Á±ªÂèØ‰ª•Ë¢´ÂõûÊî∂Ôºå‰ΩÜÊòØ‰∏éÂØπË±°‰∏çÂêåÔºåÊó†Áî®Á±ª‰∏ç‰∏ÄÂÆö‰ºöË¢´ÂõûÊî∂„ÄÇ&lt;/p>
&lt;h2 id="ÂèÇËÄÉ">ÂèÇËÄÉ&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://javaguide.cn/java/jvm/class-loading-process.html" target="_blank" rel="noopener"
>https://javaguide.cn/java/jvm/class-loading-process.html&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://www.bilibili.com/video/BV14U4y1L75q/?spm_id_from=333.788" target="_blank" rel="noopener"
>https://www.bilibili.com/video/BV14U4y1L75q/?spm_id_from=333.788&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Ê∑±ÂÖ•ÁêÜËß£ Java ËôöÊãüÊú∫&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>SQL ËØ≠Âè•‰ºòÂåñ</title><link>https://emerywan.github.io/blog/p/mysql/sql-optimize/</link><pubDate>Fri, 01 Jul 2022 18:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/mysql/sql-optimize/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/20.jpeg" alt="Featured image of post SQL ËØ≠Âè•‰ºòÂåñ" />&lt;blockquote>
&lt;p>üî• ‰∏ªË¶ÅÊÄùË∑ØÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üöÄ Â¢ûÂä†Êï∞ÊçÆÊó∂ÔºåÂ∞ΩÈáèÈ°∫Â∫èÊèíÂÖ•&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üöÄ Âà†Èô§„ÄÅ‰øÆÊîπ„ÄÅÊü•ËØ¢Êï∞ÊçÆÊó∂ÔºåÂ∞ΩÈáèËµ∞Á¥¢ÂºïÊìç‰Ωú&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h2 id="-‰∏ªÈîÆ‰ºòÂåñ">üêà‚Äç‚¨õ ‰∏ªÈîÆ‰ºòÂåñ&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>‚≠ê Êª°Ë∂≥‰∏öÂä°ÈúÄÊ±ÇÁöÑÊÉÖÂÜµ‰∏ãÔºåÂ∞ΩÈáèÈôç‰Ωé‰∏ªÈîÆÁöÑÈïøÂ∫¶ÔºåÂáèÂ∞ëÁ£ÅÁõò IO&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‚≠ê ÊèíÂÖ•Êï∞ÊçÆÂ∞ΩÈáèÈÄâÊã©È°∫Â∫èÊèíÂÖ•ÔºåÈÄâÊã©‰ΩøÁî® auto_increment Ëá™Â¢û‰∏ªÈîÆ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‚≠ê Â∞ΩÈáè‰∏çË¶Å‰ΩøÁî® UUID ÊàñÂÖ∂‰ªñËá™ÁÑ∂‰∏ªÈîÆÔºàÂ¶ÇË∫´‰ªΩËØÅÂè∑Ôºâ ‰Ωú‰∏∫‰∏ªÈîÆ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‚≠ê ‰∏öÂä°Êìç‰ΩúÈÅøÂÖçÂØπ‰∏ªÈîÆÁöÑ‰øÆÊîπ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Âú® InnoDB Â≠òÂÇ®ÂºïÊìé‰∏≠ÔºåË°®Êï∞ÊçÆÊòØÊ†πÊçÆ‰∏ªÈîÆÈ°∫Â∫èÁªÑÁªáÂ≠òÊîæÁöÑ„ÄÇËøôÁßçÂ≠òÂÇ®ÊñπÂºè‰∏∫Á¥¢ÂºïÁªÑÁªáË°®Ôºàindex organized table IOTÔºâ„ÄÇ&lt;/p>
&lt;p>Êï∞ÊçÆË°åÊòØËÆ∞ÂΩïÂú®ÈÄªËæëÁªìÊûÑ page È°µ‰∏≠ÁöÑÔºåËÄåÊØè‰∏Ä‰∏™È°µÁöÑÂ§ßÂ∞èÊòØÂõ∫ÂÆöÁöÑÔºåÈªòËÆ§ 16K„ÄÇ‰πüÂ∞±ÊÑèÂë≥ÁùÄÔºå‰∏Ä‰∏™È°µ‰∏≠ÊâÄÂ≠òÂÇ®ÁöÑË°å‰πüÊòØÊúâÈôêÁöÑÔºåÂ¶ÇÊûúÊèíÂÖ•ÁöÑÊï∞ÊçÆË°åÂú®ËØ•È°µÂ≠òÂÇ®‰∏ç‰∏ãÔºåÂ∞Ü‰ºöÂ≠òÂÇ®Âà∞‰∏ã‰∏Ä‰∏™È°µ‰∏≠ÔºåÈ°µ‰∏éÈ°µ‰πãÈó¥‰ºöÈÄöËøáÊåáÈíàËøûÊé•„ÄÇ&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;h2 id="-insert-‰ºòÂåñ">ü¶Æ insert ‰ºòÂåñ&lt;/h2>
&lt;p>‰∏ÄÊ¨°ÊÄßÂæÄÊï∞ÊçÆÂ∫ì‰∏≠ÊèíÂÖ•Â§öÊù°Êï∞ÊçÆÔºåÂèØ‰ªé‰ª•‰∏ã‰∏âÊñπÈù¢‰ºòÂåñÔºö&lt;/p>
&lt;ul>
&lt;li>ÊâπÈáèÊèíÂÖ•Êï∞ÊçÆ&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">insert&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">into&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">tb_test&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">values&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;Tom&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;Cat&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;Jerry&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>ÊâãÂä®ÊéßÂà∂‰∫ãÂä°&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">start&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">transaction&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">insert&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">into&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">tb_test&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">values&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;Tom&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;Cat&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;Jerry&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">insert&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">into&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">tb_test&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">values&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;Tom&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;Cat&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;Jerry&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">insert&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">into&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">tb_test&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">values&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;Tom&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;Cat&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;Jerry&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">commit&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>‰∏ªÈîÆÈ°∫Â∫èÊèíÂÖ•&lt;/li>
&lt;/ul>
&lt;p>Êï∞ÊçÆÂú® B+ Ê†ëÁöÑÂè∂Â≠êËäÇÁÇπÊúâÂ∫èÂ≠òÊîæÔºåÈ°∫Â∫èÊèíÂÖ•‰øùÈöúÊØèÊ¨°ÊèíÂÖ•ÈÉΩÊòØÂú®ÂêéÈù¢Ê∑ªÂä†‰∏ÄÊù°ËÆ∞ÂΩïÔºàÈ°∫Â∫èÁ£ÅÁõò IOÔºâÔºå‰∏çÈúÄË¶ÅË∞ÉÊï¥Âè∂Â≠êËäÇÁÇπ‰∏≠ÁöÑÂÜÖÂÆπ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">üôÖ‚Äç‚ôÇÔ∏è ‰∏ªÈîÆ‰π±Â∫èÊèíÂÖ• : 8 1 9 21 88 2 4 15 89 5 7 3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">üôã‚Äç ‰∏ªÈîÆÈ°∫Â∫èÊèíÂÖ• : 1 2 3 4 5 7 8 9 15 21 88 89
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="-update-‰ºòÂåñ">ü¶õ update ‰ºòÂåñ&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>ü´ß Èò≤Ê≠¢Á¥¢ÂºïÂ§±Êïà&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ü´ß Èò≤Ê≠¢ÂçáÁ∫ß‰∏∫Ë°®ÈîÅ&lt;/p>
&lt;p>InnoDBÁöÑË°åÈîÅÊòØÈíàÂØπÁ¥¢ÂºïÂä†ÁöÑÈîÅÔºå‰∏çÊòØÈíàÂØπËÆ∞ÂΩïÂä†ÁöÑÈîÅÔºåÂπ∂‰∏îËØ•Á¥¢Âºï‰∏çËÉΩÂ§±ÊïàÔºåÂê¶Âàô‰ºö‰ªéË°åÈîÅÂçáÁ∫ß‰∏∫Ë°®ÈîÅ„ÄÇ&lt;/p>
&lt;p>ÂºÄÂêØÂ§ö‰∏™‰∫ãÂä°ÔºåÂú®ÊâßË°å SQL Êó∂ÔºåÈò≤Ê≠¢Ë°åÈîÅÂçáÁ∫ß‰∏∫Ë°®ÈîÅ„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="-order-by-‰ºòÂåñ">ü¶í order by ‰ºòÂåñ&lt;/h2>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>
&lt;p>üçÄ Ê†πÊçÆÊéíÂ∫èÂ≠óÊÆµÂª∫Á´ãÂêàÈÄÇÁöÑÁ¥¢Âºï&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üçÄ Â§öÂ≠óÊÆµÊéíÂ∫èÊó∂ÔºåÂ∞ΩÈáèÈÅµÂæ™ÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàô&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üçÄ Â∞ΩÈáè‰ΩøÁî®Á¥¢Âºï / Ë¶ÜÁõñÁ¥¢Âºï &lt;!-- raw HTML omitted -->&lt;/p>
&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;h2 id="-limit-‰ºòÂåñ">üêé limit ‰ºòÂåñ&lt;/h2>
&lt;p>Âú®Êï∞ÊçÆÈáèÊØîËæÉÂ§ßÊó∂ÔºåÂ¶ÇÊûúËøõË°å limit ÂàÜÈ°µÊü•ËØ¢ÔºåÂú®Êü•ËØ¢Êó∂ÔºåË∂äÂæÄÂêéÔºåÂàÜÈ°µÊü•ËØ¢ÊïàÁéáË∂ä‰Ωé„ÄÇ&lt;/p>
&lt;p>ÂΩìÂú®ËøõË°åÂàÜÈ°µÊü•ËØ¢Êó∂ÔºåÂ¶ÇÊûúÊâßË°å &lt;code>limit 2000000,10&lt;/code> ÔºåÊ≠§Êó∂ MySQL ‰ºöÊéíÂ∫èÂâç 2000010 Êù°ÁöÑËÆ∞ÂΩïÔºå
‰ªÖ‰ªÖËøîÂõû 2000000 - 2000010 ÁöÑËÆ∞ÂΩïÔºåÂÖ∂‰ªñËÆ∞ÂΩï‰ºöË¢´‰∏¢ÂºÉÔºåÊü•ËØ¢ÊéíÂ∫èÁöÑ‰ª£‰ª∑ÈùûÂ∏∏Â§ß„ÄÇ&lt;/p>
&lt;p>‰ºòÂåñÊÄùË∑Ø:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üéà Âú®‰∏ö‰ΩôÂÖÅËÆ∏ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂèØ‰ª•ÈôêÂà∂È°µÊï∞„ÄÇÈÄöÂ∏∏Áî®Êà∑‰πü‰∏ç‰ºöÂêëÂêéÈù¢ÁøªÂæàÂ§öÈ°µ„ÄÇ&lt;/p>
&lt;p>‰æãÂ¶ÇÂú®Ê∑òÂÆùÂèåÂçÅ‰∏ÄÊó∂‰∏çËÉΩÊü•ËØ¢ÂéÜÂè≤Ë¥≠Áâ©ËÆ∞ÂΩï„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üéà ÂèØ‰ª•ÈÄöËøáÂÖàÂÆö‰ΩçÊï∞ÊçÆÔºåÂÖàÂÅèÁßªÔºåÂÜç limit&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">user&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">2000000&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">limit&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>üéà ÈÄöËøáË¶ÜÁõñÁ¥¢Âºï + Â≠êÊü•ËØ¢ÂΩ¢ÂºèËøõË°å‰ºòÂåñ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">user&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">u&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;gt;=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">user&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">order&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">by&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">limit&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">2000000&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">limit&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-- or
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">user&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">u&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">tb_sku&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">order&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">by&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">limit&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">2000000&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">u&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;/li>
&lt;/ul>
&lt;h2 id="-count-‰ºòÂåñ">ü¶¨ count ‰ºòÂåñ&lt;/h2>
&lt;p>&lt;code>count(*) == count(Êï∞Â≠ó) &amp;gt; count(‰∏ªÈîÆ) &amp;gt; count(Â≠óÊÆµ)&lt;/code>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>‚≠ê count(‰∏ªÈîÆ)&lt;/p>
&lt;ul>
&lt;li>InnoDB ÂºïÊìé‰ºöÈÅçÂéÜÊï¥Âº†Ë°®ÔºåÊääÊØè‰∏ÄË°åÁöÑ ‰∏ªÈîÆid ÂÄºÈÉΩÂèñÂá∫Êù•ÔºåËøîÂõûÁªôÊúçÂä°Â±Ç„ÄÇÊúçÂä°Â±ÇÊãøÂà∞‰∏ªÈîÆÂêéÔºåÊåâË°åËøõË°åÁ¥ØÂä†Ôºà‰∏ªÈîÆ‰∏çÂèØËÉΩ‰∏∫nullÔºâ„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>‚≠ê count(Â≠óÊÆµ)ÔºàÊ≥®ÊÑè null Á∫¶ÊùüÔºâ&lt;/p>
&lt;ul>
&lt;li>Ê≤°Êúâ not null Á∫¶Êùü: InnoDB ÂºïÊìé‰ºöÈÅçÂéÜÊï¥Âº†Ë°®ÊääÊØè‰∏ÄË°åÁöÑÂ≠óÊÆµÂÄºÈÉΩÂèñÂá∫Êù•ÔºåËøîÂõûÁªôÊúçÂä°Â±ÇÔºåÊúçÂä°Â±ÇÂà§Êñ≠ÊòØÂê¶‰∏∫ nullÔºå‰∏ç‰∏∫ nullÔºåÂ∞±ËÆ°Êï∞Á¥ØÂä†„ÄÇ&lt;/li>
&lt;li>Êúâ not null Á∫¶ÊùüÔºöInnoDB ÂºïÊìé‰ºöÈÅçÂéÜÊï¥Âº†Ë°®ÊääÊØè‰∏ÄË°åÁöÑÂ≠óÊÆµÂÄºÈÉΩÂèñÂá∫Êù•ÔºåËøîÂõûÁªôÊúçÂä°Â±ÇÔºåÁõ¥Êé•ÊåâË°åËøõË°åÁ¥ØÂä†„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>‚≠ê count(Êï∞Â≠ó)&lt;/p>
&lt;ul>
&lt;li>InnoDB ÂºïÊìéÈÅçÂéÜÊï¥Âº†Ë°®Ôºå‰ΩÜ‰∏çÂèñÂÄº„ÄÇÊúçÂä°Â±ÇÂØπ‰∫éËøîÂõûÁöÑÊØè‰∏ÄË°åÔºåÊîæ‰∏Ä‰∏™Êï∞Â≠ó ‚Äú1‚Äù ËøõÂéªÔºåÁõ¥Êé•ÊåâË°åËøõË°åÁ¥ØÂä†„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>‚≠ê count(*)&lt;/p>
&lt;ul>
&lt;li>InnoDBÂºïÊìéÂπ∂‰∏ç‰ºöÊääÂÖ®ÈÉ®Â≠óÊÆµÂèñÂá∫Êù•ÔºåËÄåÊòØ‰∏ìÈó®ÂÅö‰∫Ü‰ºòÂåñÔºå‰∏çÂèñÂÄºÔºåÊúçÂä°Â±ÇÁõ¥Êé•ÊåâË°åËøõË°åÁ¥ØÂä†„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>InnoDB Â≠òÂÇ®ÂºïÊìé</title><link>https://emerywan.github.io/blog/p/mysql/innodb/</link><pubDate>Fri, 01 Jul 2022 13:01:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/mysql/innodb/</guid><description>&lt;img src="https://emerywan.github.io/blog/p/mysql/innodb/innodb.webp" alt="Featured image of post InnoDB Â≠òÂÇ®ÂºïÊìé" />&lt;h2 id="‰∫ãÂä°">‰∫ãÂä°&lt;/h2>
&lt;p>‰∫ãÂä°ÊòØ‰∏ÄÁªÑÈÄªËæë‰∏äÁöÑÊï∞ÊçÆÂ∫ìÊìç‰ΩúÔºåËøô‰∫õÊìç‰ΩúË¶Å‰πàÂÖ®ÈÉ®ÊàêÂäüÔºåË¶Å‰πàÂÖ®ÈÉ®Â§±Ë¥•„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>A&lt;/code> ÂéüÂ≠êÊÄßÔºö‰∫ãÂä°ÊòØ‰∏çÂèØÂàÜÂâ≤ÁöÑÊúÄÂ∞èÊìç‰ΩúÂçïÂÖÉÔºåË¶Å‰πàÂÖ®ÈÉ®ÊàêÂäüÔºåË¶Å‰πàÂÖ®ÈÉ®Â§±Ë¥•„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>C&lt;/code> ‰∏ÄËá¥ÊÄßÔºö‰∫ãÂä°ÂÆåÊàêÊó∂ÔºåÂøÖÈ°ª‰ΩøÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩ‰øùÊåÅ‰∏ÄËá¥Áä∂ÊÄÅ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>I&lt;/code> ÈöîÁ¶ªÊÄßÔºöÊï∞ÊçÆÂ∫ìÁ≥ªÁªüÊèê‰æõÁöÑÈöîÁ¶ªÊú∫Âà∂Ôºå‰øùËØÅ‰∫ãÂä°Âú®‰∏çÂèóÂ§ñÈÉ®Âπ∂ÂèëÊìç‰ΩúÂΩ±ÂìçÁöÑÁã¨Á´ãÁéØÂ¢É‰∏ãËøêË°å„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>D&lt;/code> ÊåÅ‰πÖÊÄßÔºö‰∫ãÂä°‰∏ÄÊó¶Êèê‰∫§ÊàñÂõûÊªöÔºåÂÆÉÂØπÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆÁöÑÊîπÂèòÂ∞±ÊòØÊ∞∏‰πÖÁöÑ„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/innodb/1.png"
width="869"
height="333"
srcset="https://emerywan.github.io/blog/blog/p/mysql/innodb/1_hu3fd49fc1a58d123f3498503f7ff7204f_68265_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mysql/innodb/1_hu3fd49fc1a58d123f3498503f7ff7204f_68265_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="1"
class="gallery-image"
data-flex-grow="260"
data-flex-basis="626px"
>&lt;/p>
&lt;p>C(‰∏ÄËá¥ÊÄß)ÊòØÁõÆÁöÑÔºåA(ÂéüÂ≠êÊÄß)„ÄÅI(ÈöîÁ¶ªÊÄß)„ÄÅD(ÊåÅ‰πÖÊÄß)ÊòØÊòØ‰∏∫‰∫Ü‰øùËØÅ‰∏ÄËá¥ÊÄßÔºåÊï∞ÊçÆÂ∫ìÊèê‰æõÁöÑÊâãÊÆµ„ÄÇ&lt;/p>
&lt;h2 id="-redo-log">üîÉ redo log&lt;/h2>
&lt;p>ÈáçÂÅöÊó•ÂøóÔºåËÆ∞ÂΩïÁöÑÊòØ‚ÄúÊüê‰∏™Êï∞ÊçÆÈ°µ‰∏äÂÅö‰∫Ü‰ªÄ‰πà‰øÆÊîπ‚Äù„ÄÇÔºàÁâ©ÁêÜÊó•ÂøóÔºâ&lt;/p>
&lt;p>redo log Áî®Êù•‰øùÈöúÊï∞ÊçÆÂ∫ìÁöÑÊåÅ‰πÖÊÄß„ÄÇÂú®‰∏Ä‰∏™‰∫ãÂä°‰∏≠ÔºåÊâßË°åÂ¢ûÂà†ÊîπÁöÑÊìç‰ΩúÊó∂ÔºåInnoDB ÂºïÊìé‰ºöÂÖàÊìç‰ΩúÁºìÂÜ≤Ê±† Buffer Pool ‰∏≠ÁöÑÊï∞ÊçÆÔºåÂ¶ÇÊûúÁºìÂÜ≤Âå∫Ê≤°ÊúâÂØπÂ∫îÁöÑÊï∞ÊçÆÔºå‰ºöÈÄöËøáÂêéÂè∞Á∫øÁ®ãÂ∞ÜÁ£ÅÁõò‰∏≠ÁöÑÊï∞ÊçÆÂä†ËΩΩÂá∫Êù•ÔºåÂ≠òÊîæÂú®ÁºìÂÜ≤Âå∫‰∏≠ÔºåÂÜçÂ∞ÜÁºìÂÜ≤Ê±†‰∏≠ÁöÑÊï∞ÊçÆ‰øÆÊîπ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/innodb/redolog.png"
width="889"
height="359"
srcset="https://emerywan.github.io/blog/blog/p/mysql/innodb/redolog_huec6805565d40a88bf7c70b51e3ee84c7_38212_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mysql/innodb/redolog_huec6805565d40a88bf7c70b51e3ee84c7_38212_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="redolog"
class="gallery-image"
data-flex-grow="247"
data-flex-basis="594px"
>&lt;/p>
&lt;p>‰øÆÊîπÂêéÁöÑÊï∞ÊçÆÈ°µÊàë‰ª¨Áß∞‰∏∫ËÑèÈ°µÔºåÁºìÂÜ≤Âå∫ÁöÑËÑèÈ°µÊï∞ÊçÆÂπ∂‰∏çÊòØÂÆûÊó∂Âà∑Êñ∞ÁöÑÔºåËÄåÊòØ‰∏ÄÊÆµÊó∂Èó¥‰πãÂêéÂ∞ÜÁºìÂÜ≤Âå∫ÁöÑÊï∞ÊçÆÂà∑Êñ∞Âà∞Á£ÅÁõò‰∏≠ÔºàÈöèÊú∫Á£ÅÁõò IOÔºâÔºå‰ªéËÄå‰øùËØÅÁºìÂÜ≤Âå∫‰∏éÁ£ÅÁõòÁöÑÊï∞ÊçÆ‰∏ÄËá¥„ÄÇ&lt;/p>
&lt;p>ÂØπÁºìÂÜ≤Âå∫ÁöÑÊï∞ÊçÆËøõË°åÂ¢ûÂà†ÊîπÔºå‰ºöÈ¶ñÂÖàÂ∞ÜÊìç‰ΩúÁöÑÊï∞ÊçÆÈ°µÁöÑÂèòÂåñÔºåËÆ∞ÂΩïÂú® redo log buffer ‰∏≠„ÄÇÂú®‰∫ãÂä°Êèê‰∫§Êó∂ÔºåÂ∞Ü redo log buffer ‰∏≠ÁöÑÊï∞ÊçÆÂà∑Êñ∞Âà∞ redo log Á£ÅÁõòÊñá‰ª∂‰∏≠ÔºàÈ°∫Â∫èÁ£ÅÁõò IOÔºâ„ÄÇ&lt;/p>
&lt;p>Â¶ÇÊûúÂà∑Êñ∞ÁºìÂÜ≤Âå∫ÁöÑËÑèÈ°µÂà∞Á£ÅÁõòÊó∂ÂèëÁîüÈîôËØØÔºåÊàñËÄÖÂèëÁîü‰∫ÜÂºÇÂ∏∏Êñ≠ÁîµÔºåÂ∞±ÂèØ‰ª•ÂÄüÂä©‰∫é redo log ËøõË°åÊï∞ÊçÆÊÅ¢Â§çÔºåËøôÊ†∑Â∞±‰øùËØÅ‰∫Ü‰∫ãÂä°ÁöÑÊåÅ‰πÖÊÄß„ÄÇ&lt;/p>
&lt;h2 id="-undo-log">üîô undo log&lt;/h2>
&lt;p>ÂõûÊªöÊó•Âøó„ÄÇËÆ∞ÂΩïÊìç‰ΩúÊï∞ÊçÆÂ∫ìÁöÑÈÄÜÊìç‰ΩúÔºåÁî®‰∫éËøõË°åÂõûÊªö„ÄÇ&lt;/p>
&lt;p>‰ΩúÁî®Ôºö&lt;/p>
&lt;ul>
&lt;li>Êèê‰æõÂõûÊªöÊìç‰ΩúÔºà‰øùÈöú‰∫ãÂä°ÁöÑÂéüÂ≠êÊÄßÔºâ&lt;/li>
&lt;li>ÂÆûÁé∞ MVCC Êìç‰ΩúÔºåÊèêÂçáÊï∞ÊçÆÂ∫ìÊÄßËÉΩ&lt;/li>
&lt;/ul>
&lt;p>undo log ÊòØÈÄªËæëÊó•ÂøóÔºåÂú® InnoDB Â≠òÂÇ®ÂºïÊìéÂØπËÆ∞ÂΩïËøõË°å‰øÆÊîπÊó∂Ôºå‰ºöÊääÂõûÊªöÈúÄË¶ÅÁöÑ‰ø°ÊÅØÂÖ®ÈÉ®ËÆ∞ÂΩïÂà∞ undo ‰∏≠ÔºåÂ¶ÇÊûúÂèëÁîüÂõûÊªöÔºåÂ∞±‰ºöËØªÂèñ undo logÔºåÁÑ∂ÂêéÊâßË°å‰∏é‰πãÁõ∏ÂèçÁöÑÊìç‰Ωú„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>‚ûï ÊèíÂÖ•Êï∞ÊçÆÔºåËÆ∞ÂΩïËøôÊù°Êï∞ÊçÆÁöÑ‰∏ªÈîÆÔºåÂõûÊªöÊó∂Ê†πÊçÆ‰∏ªÈîÆÊääËØ•Êù°ËÆ∞ÂΩïÂà†Èô§&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‚ûñ Âà†Èô§Êï∞ÊçÆÔºåËÆ∞ÂΩïËøôÊù°Êï∞ÊçÆÁöÑÊâÄÊúâÂÜÖÂÆπÔºåÂõûÊªöÊó∂Â∞ÜËøô‰∫õÂÜÖÂÆπÁªÑÊàêÁöÑËÆ∞ÂΩïÊèíÂÖ•Ë°®‰∏≠&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üñãÔ∏è Êõ¥Êñ∞Êï∞ÊçÆÔºå&lt;/p>
&lt;ul>
&lt;li>Êõ¥Êñ∞‰∫Ü‰∏ªÈîÆÔºå‰ºöËÆ∞ÂΩï‰∏§Êù° undo logÔºå‰∏ÄÊù°Âà†Èô§ÁöÑÔºå‰∏ÄÊù°Êõ¥Êñ∞ÁöÑ&lt;/li>
&lt;li>Ê≤°ÊúâÊõ¥Êñ∞‰∏ªÈîÆÔºåËÆ∞ÂΩïËøôÊù°Êï∞ÊçÆÊõ¥Êñ∞ÂàóÁöÑÊóßÂÄºÔºåÂõûÊªöÊó∂Â∞ÜÊï∞ÊçÆÊõ¥Êñ∞‰∏∫ÊóßÂÄº&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="-mvcc">üìî MVCC&lt;/h2>
&lt;p>Â§öÁâàÊú¨Âπ∂ÂèëÊéßÂà∂ÔºåÂêå‰∏ÄÊù°ËÆ∞ÂΩïÂú®Êï∞ÊçÆÂ∫ì‰∏≠ÔºåÂèØ‰ª•Â≠òÂú®Â§ö‰∏™ÁâàÊú¨„ÄÇ&lt;/p>
&lt;p>‰æùËµñ‰∫éÔºö&lt;/p>
&lt;ul>
&lt;li>Ë°åÁöÑÈöêÂºèÂ≠óÊÆµ
&lt;ul>
&lt;li>DB_TRX_ID ‰∫ãÂä° id&lt;/li>
&lt;li>DB_ROLL_PTR ÂõûÊªöÊåáÈíàÔºàËÆ∞ÂΩïËøôÊù°ËÆ∞ÂΩïÁöÑ‰∏ä‰∏Ä‰∏™ÁâàÊú¨Ôºâ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>undo log&lt;/li>
&lt;li>Read View&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/innodb/2.png"
width="447"
height="293"
srcset="https://emerywan.github.io/blog/blog/p/mysql/innodb/2_hu6914e1ba0252a0a630b3ee48cb8867a4_30147_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mysql/innodb/2_hu6914e1ba0252a0a630b3ee48cb8867a4_30147_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="2"
class="gallery-image"
data-flex-grow="152"
data-flex-basis="366px"
>&lt;/p>
&lt;h3 id="ÂΩìÂâçËØª">ÂΩìÂâçËØª&lt;/h3>
&lt;p>ËØªÂèñÁöÑÊòØËÆ∞ÂΩïÁöÑÊúÄÊñ∞ÁâàÊú¨„ÄÇ&lt;/p>
&lt;p>&lt;code>update&lt;/code> &lt;code>insert&lt;/code> &lt;code>delete&lt;/code> &lt;code>select ... for update&lt;/code> &lt;code>select ... lock in share mode&lt;/code> ÈÉΩÊòØËøõË°åÂΩìÂâçËØª„ÄÇ&lt;/p>
&lt;h3 id="Âø´ÁÖßËØª">Âø´ÁÖßËØª&lt;/h3>
&lt;p>ÁÆÄÂçïÁöÑ‰∏çÂä†ÈîÅ &lt;code>select&lt;/code> Â∞±ÊòØÂø´ÁÖßËØª„ÄÇËØªÂèñÁöÑÊòØÂø´ÁÖßÁâàÊú¨ÔºåÈÄöËøá MVCC ËøõË°åÂπ∂ÂèëÊéßÂà∂„ÄÇ&lt;/p>
&lt;h2 id="-ÂÖ≥ÈîÆÁâπÊÄß">üöÄ ÂÖ≥ÈîÆÁâπÊÄß&lt;/h2>
&lt;p>InnoDB Â≠òÂÇ®ÂºïÊìéÁöÑÁâπÊÄßÔºåÂèØ‰ª•Â∏¶Êù•Êõ¥È´òÁöÑÊÄßËÉΩÂíåÂèØÈù†ÊÄß„ÄÇ&lt;/p>
&lt;h3 id="-ÊèíÂÖ•ÁºìÂÜ≤-insert-buffer">üßÆ ÊèíÂÖ•ÁºìÂÜ≤ Insert Buffer&lt;/h3>
&lt;p>ÂΩìÊèíÂÖ•‰∏ÄÊù°Êï∞ÊçÆÁöÑÊó∂ÂÄôÔºåÂú®ËÅöÁ∞áÁ¥¢Âºï‰∏≠ÔºåÈÄöÂ∏∏Êï∞ÊçÆÈÉΩÊòØÂú®Âè∂Â≠êËäÇÁÇπÈ°∫Â∫èÂ≠òÊîæÁöÑÔºåÂè™ÈúÄË¶ÅÂ∞ÜÊèíÂÖ•ÁöÑÊï∞ÊçÆÊîæÂà∞ÊúÄÂêéÂç≥ÂèØÔºà‰∏ªÈîÆÈ°∫Â∫èÂ≠òÊîæÔºâ„ÄÇ&lt;/p>
&lt;p>ÈÄöÂ∏∏Êàë‰ª¨ÈÉΩ‰ºöÂú®‰∏ÄÂº†Ë°®‰∏äÂàõÂª∫‰∏Ä‰∫õ‰∫åÁ∫ßÁ¥¢ÂºïÔºåËÄåËøô‰∫õ‰∫åÁ∫ßÁ¥¢ÂºïÂú®Êï∞ÊçÆÊèíÂÖ•Êó∂ÔºåÈúÄË¶ÅÁª¥Êä§Á¥¢ÂºïÊòØÁ¶ªÊï£ÁöÑÔºåÁî±‰∫éÈöèÊú∫ IO Â∞±‰ºöÂØºËá¥ÊèíÂÖ•ÊÄßËÉΩÁöÑ‰∏ãÈôç„ÄÇ&lt;/p>
&lt;p>‰∏∫‰∫ÜËß£ÂÜ≥‰ª•‰∏äÈóÆÈ¢òÔºåInnoDB ËÆæËÆ°‰∫Ü &lt;code>Insert Buffer&lt;/code>„ÄÇ&lt;/p>
&lt;p>‰∫åÁ∫ßÁ¥¢ÂºïÁöÑÊõ¥Êñ∞Êìç‰ΩúÔºö&lt;/p>
&lt;ul>
&lt;li>Â¶ÇÊûúÈúÄË¶ÅÊõ¥Êñ∞ÁöÑÁ¥¢ÂºïÈ°µÂú® Buffer Pool ‰∏≠ÔºåÂàôÁõ¥Êé•ÊèíÂÖ•Ôºõ&lt;/li>
&lt;li>Â¶ÇÊûú‰∏çÂú®ÔºåÂàôÊèíÂÖ• Insert BufferÔºå‰πãÂêé‰ª•‰∏ÄÂÆöÁöÑÈ¢ëÁéáÂíåÊÉÖÂÜµÂú®‰∏é‰∫åÁ∫ßÁ¥¢ÂºïÂêàÂπ∂&lt;/li>
&lt;/ul>
&lt;p>‰ΩøÁî® Insert Buffer ÈúÄË¶ÅÊª°Ë∂≥‰∏§‰∏™Êù°‰ª∂Ôºö&lt;/p>
&lt;ul>
&lt;li>‚≠ê ‰∫åÁ∫ßÁ¥¢Âºï&lt;/li>
&lt;li>‚≠ê ÈùûÂîØ‰∏ÄÁ¥¢Âºï&lt;/li>
&lt;/ul>
&lt;p>Â¶ÇÊûú‰∫åÁ∫ßÁ¥¢ÂºïÊòØÂîØ‰∏ÄÁöÑÔºåÂú®ÊèíÂÖ•Êó∂ÔºåËøòÈúÄË¶ÅÂéªÁ¥¢ÂºïÈ°µÊü•ÊâæÊîπÁ¥¢ÂºïÊòØÂê¶ÂîØ‰∏ÄÔºåËøôÊ†∑ÁöÑÁ¶ªÊï£ËØªÂèñ‰∏§ÈÉ®ÂàÜÔºå‰ºöÂØºËá¥ Insert Buffer Â§±ÂéªÊÑè‰πâ„ÄÇ&lt;/p>
&lt;p>ÂêéÁª≠ÁöÑÁâàÊú¨Êèê‰æõ‰∫ÜÂçáÁ∫ßÁâàÊú¨ &lt;code>Change Buffer&lt;/code>ÔºåÂØπ Insert„ÄÅDelete„ÄÅUpdate ÈÉΩËøõË°åÁºìÂÜ≤„ÄÇ&lt;/p>
&lt;h3 id="-‰∏§Ê¨°ÂÜô-double-write">üñãÔ∏è ‰∏§Ê¨°ÂÜô Double Write&lt;/h3>
&lt;p>InnoDB Â∞ÜËÑèÈ°µÂà∑Êñ∞Âà∞Á£ÅÁõò‰∏≠Êó∂ÔºåÁ™ÅÁÑ∂ÂèëÁîüÂÆïÊú∫ÔºåÂè™ÂÜôÂÖ•‰∫Ü‰∏ÄÂçäÔºåÂèØËÉΩ‰ºöÂèëÁîüÊï∞ÊçÆ‰∏¢Â§±ÁöÑÈóÆÈ¢ò„ÄÇ&lt;/p>
&lt;p>InnDB ‰ΩøÁî® Double Wirte Êú∫Âà∂ÔºåÁªôÊï∞ÊçÆÊ∑ªÂä†ÂâØÊú¨ÔºåÈò≤Ê≠¢Êï∞ÊçÆ‰∏¢Â§±„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/innodb/doublewrite.png"
width="1178"
height="730"
srcset="https://emerywan.github.io/blog/blog/p/mysql/innodb/doublewrite_hu9ca5738e358d4e9e6de3d859e62edb84_153884_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mysql/innodb/doublewrite_hu9ca5738e358d4e9e6de3d859e62edb84_153884_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="161"
data-flex-basis="387px"
>&lt;/p>
&lt;p>ÈúÄË¶ÅÂà∑Êñ∞ÁöÑËÑèÈ°µ‰ºöË¢´Â§çÂà∂Âà∞ Double Write Buffer ‰∏≠ÔºåÂú®ÈúÄË¶ÅÂà∑ÁõòÊó∂Ôºö&lt;/p>
&lt;ul>
&lt;li>ÂÖàÂàÜ‰∏§Ê¨°ÂÜôÂÖ•‰∏Ä‰ªΩÂà∞ÂÖ±‰∫´Ë°®Á©∫Èó¥ÁöÑ double wirte Áâ©ÁêÜÁ£ÅÁõò‰∏äÔºàÈ°∫Â∫èÂÜôÂÖ•Ôºâ&lt;/li>
&lt;li>ÂÜçÂ∞ÜÊï∞ÊçÆÂêåÊ≠•Âà∞Á£ÅÁõò‰∏≠ÔºàÈöèÊú∫ IOÔºâ&lt;/li>
&lt;/ul>
&lt;h3 id="-Ëá™ÈÄÇÂ∫îÂìàÂ∏åÁ¥¢Âºï">üóÇÔ∏è Ëá™ÈÄÇÂ∫îÂìàÂ∏åÁ¥¢Âºï&lt;/h3>
&lt;p>InnoDB Â≠òÂÇ®ÂºïÊìé‰ºöËá™Âä®Ê†πÊçÆËÆøÈóÆÁöÑÈ¢ëÁéáÂíåÊ®°ÂºèÁªôÁÉ≠ÁÇπÊï∞ÊçÆÂª∫Á´ã‰∏Ä‰∏™ Hash Á¥¢ÂºïÔºåÂä†Âø´ËØªËØ∑Ê±Ç„ÄÇ&lt;/p>
&lt;p>Âè™ËÉΩ‰∏∫Á≠âÂÄºÊü•ËØ¢Âª∫Á´ãÔºåËåÉÂõ¥Êü•ËØ¢‰∏çËÉΩÂª∫Á´ã„ÄÇ&lt;/p>
&lt;h3 id="-È¢ÑËØªÊú∫Âà∂">üìñ È¢ÑËØªÊú∫Âà∂&lt;/h3>
&lt;p>InnoDB ‰ºöÂ∞ÜÊü•ËØ¢È°µÁöÑÈÇªËøëÈ°µ‰∏ÄËµ∑ËØªÂà∞ &lt;a class="link" href="https://www.letout.cn/p/mysql/innodb/buffer-pool/" target="_blank" rel="noopener"
>Buffer Pool&lt;/a> ‰∏≠„ÄÇ&lt;/p>
&lt;p>ÈÄöËøáÊîπËøõÁöÑ LRU ÈìæË°®ÔºàÁÆ°ÁêÜÂπ≤ÂáÄÈ°µ &amp;amp; ËÑèÈ°µÁöÑÈìæË°®ÔºâÔºåËß£ÂÜ≥‰∫ÜÈ¢ÑËØªÂ§±ÊïàÁöÑÈóÆÈ¢ò„ÄÇ„ÄÇ&lt;/p></description></item><item><title>MySQL ‰∏≠ÁöÑÊó•Âøó</title><link>https://emerywan.github.io/blog/p/mysql/log/</link><pubDate>Thu, 30 Jun 2022 18:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/mysql/log/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/19.jpeg" alt="Featured image of post MySQL ‰∏≠ÁöÑÊó•Âøó" />&lt;h2 id="-server-Â±ÇÊó•Âøó">üñ•Ô∏è Server Â±ÇÊó•Âøó&lt;/h2>
&lt;h3 id="ÈîôËØØÊó•Âøó">ÈîôËØØÊó•Âøó&lt;/h3>
&lt;p>ÈîôËØØÊó•ÂøóÊòØ MySQL ‰∏≠ÊúÄÈáçË¶ÅÁöÑÊó•Âøó‰πã‰∏ÄÔºåÂÆÉËÆ∞ÂΩï‰∫ÜÂΩì mysqld ÂêØÂä®ÂíåÂÅúÊ≠¢Êó∂Ôºå‰ª•ÂèäÊúçÂä°Âô®Âú®ËøêË°åËøáÁ®ã‰∏≠ÂèëÁîü‰ªª‰Ωï‰∏•ÈáçÈîôËØØÊó∂ÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ„ÄÇ&lt;/p>
&lt;p>ÂΩìÊï∞ÊçÆÂ∫ìÂá∫Áé∞‰ªª‰ΩïÊïÖÈöúÂØºËá¥Êó†Ê≥ïÊ≠£Â∏∏‰ΩøÁî®Êó∂ÔºåÂª∫ËÆÆÈ¶ñÂÖàÊü•ÁúãÊ≠§Êó•Âøó„ÄÇÊü•ÁúãÊó•Âøó‰ΩçÁΩÆÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">show&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">variables&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">like&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;%log_error%&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/log/errorlog.png"
width="669"
height="214"
srcset="https://emerywan.github.io/blog/blog/p/mysql/log/errorlog_huaf2aa946fc0c9a4be25a1e7ae77fcd38_27013_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mysql/log/errorlog_huaf2aa946fc0c9a4be25a1e7ae77fcd38_27013_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="errorlog"
class="gallery-image"
data-flex-grow="312"
data-flex-basis="750px"
>&lt;/p>
&lt;h3 id="Êü•ËØ¢Êó•Âøó">Êü•ËØ¢Êó•Âøó&lt;/h3>
&lt;p>Êü•ËØ¢Êó•Âøó‰∏≠ËÆ∞ÂΩï‰∫ÜÂÆ¢Êà∑Á´ØÁöÑÊâÄÊúâÊìç‰ΩúËØ≠Âè•„ÄÇÔºàbinlog ‰∏çÂåÖÂê´Êü•ËØ¢Êï∞ÊçÆÁöÑ SQL ËØ≠Âè•Ôºâ&lt;/p>
&lt;p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÊü•ËØ¢Êó•ÂøóÊòØÊú™ÂºÄÂêØÁöÑ„ÄÇ&lt;/p>
&lt;p>Â¶ÇÊûúÈúÄË¶ÅÂºÄÂêØÊü•ËØ¢Êó•ÂøóÔºåÂèØ‰ª•‰øÆÊîπMySQLÁöÑÈÖçÁΩÆÊñá‰ª∂ /etc/my.cnf Êñá‰ª∂ÔºåÊ∑ªÂä†Â¶Ç‰∏ãÂÜÖÂÆπÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-conf" data-lang="conf">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># ËØ•ÈÄâÈ°πÁî®Êù•ÂºÄÂêØÊü•ËØ¢Êó•Âøó
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># ÂèØÈÄâÂÄº 0 ÂÖ≥Èó≠ 1 ÂºÄÂêØ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nv">general_log&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># ËÆæÁΩÆÊó•ÂøóÁöÑÊñá‰ª∂Âêç
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Â¶ÇÊûúÊ≤°ÊúâÊåáÂÆöÔºåÈªòËÆ§ÁöÑÊñá‰ª∂Âêç‰∏∫ host_name.log
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nv">general_log_file&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">mysql_query.log&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÂºÄÂêØ‰∫ÜÊü•ËØ¢Êó•Âøó‰πãÂêéÔºå/var/lib/mysql/ ÁõÆÂΩï‰∏ãÂ∞±‰ºöÂá∫Áé∞ mysql_query.log Êñá‰ª∂„ÄÇ&lt;/p>
&lt;p>ÊâÄÊúâÁöÑÂÆ¢Êà∑Á´ØÁöÑÂ¢ûÂà†ÊîπÊü•Êìç‰ΩúÈÉΩ‰ºöËÆ∞ÂΩïÂú®ËØ•Êó•ÂøóÊñá‰ª∂‰πã‰∏≠ÔºåÈïøÊó∂Èó¥ËøêË°åÂêéÔºåËØ•Êó•ÂøóÊñá‰ª∂Â∞Ü‰ºöÈùûÂ∏∏Â§ß„ÄÇ&lt;/p>
&lt;h3 id="ÊÖ¢Êü•ËØ¢Êó•Âøó">ÊÖ¢Êü•ËØ¢Êó•Âøó&lt;/h3>
&lt;p>ÊÖ¢Êü•ËØ¢Êó•ÂøóËÆ∞ÂΩï‰∫ÜÔºö&lt;/p>
&lt;ul>
&lt;li>ÊâßË°åÊó∂Èó¥Ë∂ÖËøá &lt;code>long_query_time&lt;/code>&lt;/li>
&lt;li>Êâ´ÊèèËÆ∞ÂΩïÊï∞Â§ß‰∫é &lt;code>min_examined_row_limit&lt;/code>
ÁöÑÊâÄÊúâÁöÑSQLËØ≠Âè•ÁöÑÊó•ÂøóÔºåÈªòËÆ§Êú™ÂºÄÂêØ„ÄÇ&lt;/li>
&lt;/ul>
&lt;p>Â¶ÇÊûúÈúÄË¶ÅÂºÄÂêØÊÖ¢Êü•ËØ¢Êó•ÂøóÔºåÈúÄË¶ÅÂú® MySQL ÁöÑÈÖçÁΩÆÊñá‰ª∂ /etc/my.cnf ‰∏≠ÈÖçÁΩÆÂ¶Ç‰∏ãÂèÇÊï∞Ôºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-conf" data-lang="conf">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># ÊÖ¢Êü•ËØ¢Êó•Âøó
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nv">slow_query_log&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># ÊâßË°åÊó∂Èó¥ÂèÇÊï∞
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nv">long_query_time&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">2&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºå‰∏ç‰ºöËÆ∞ÂΩïÁÆ°ÁêÜËØ≠Âè•Ôºå‰πü‰∏ç‰ºöËÆ∞ÂΩï‰∏ç‰ΩøÁî®Á¥¢ÂºïËøõË°åÊü•ÊâæÁöÑÊü•ËØ¢„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-conf" data-lang="conf">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># ËÆ∞ÂΩïÊâßË°åËæÉÊÖ¢ÁöÑÁÆ°ÁêÜËØ≠Âè•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nv">log_slow_admin_statements&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># ËÆ∞ÂΩïÊâßË°åËæÉÊÖ¢ÁöÑÊú™‰ΩøÁî®Á¥¢ÂºïÁöÑËØ≠Âè•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nv">log_queries_not_using_indexes&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="nv">1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="-bin-log">üî¢ bin log&lt;/h3>
&lt;p>‰∫åËøõÂà∂Êó•ÂøóÔºàbin logÔºâÊòØËÆ∞ÂΩï‰∫ÜÊâÄÊúâÁöÑÊï∞ÊçÆÂ∫ìË°®ÁªìÊûÑÂèòÊõ¥ÔºàDDLÔºâÂíåË°®Êï∞ÊçÆ‰øÆÊîπÔºàDMLÔºâÁöÑÊó•Âøó„ÄÇ&lt;/p>
&lt;p>‰ΩúÁî®Ôºö&lt;/p>
&lt;ul>
&lt;li>Êï∞ÊçÆÂΩíÊ°£&lt;/li>
&lt;li>ÁÅæÈöæÊó∂Êï∞ÊçÆÊÅ¢Â§ç&lt;/li>
&lt;li>MySQL ‰∏ª‰ªéÂ§çÂà∂&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">show&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">variables&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">like&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;%log_bin%&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/log/binlog.png"
width="602"
height="240"
srcset="https://emerywan.github.io/blog/blog/p/mysql/log/binlog_hue4b3570af35eb515872cd8390aac573d_28397_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mysql/log/binlog_hue4b3570af35eb515872cd8390aac573d_28397_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="binlog"
class="gallery-image"
data-flex-grow="250"
data-flex-basis="602px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>log_bin_basename&lt;/p>
&lt;ul>
&lt;li>ÂΩìÂâçÊï∞ÊçÆÂ∫ìÊúçÂä°Âô®ÁöÑbinlogÊó•ÂøóÁöÑÂü∫Á°ÄÂêçÁß∞(ÂâçÁºÄ)ÔºåÂÖ∑‰ΩìÁöÑbinlogÊñá‰ª∂ÂêçÈúÄË¶ÅÂÜçËØ•basenameÁöÑÂü∫Á°Ä‰∏äÂä†‰∏äÁºñÂè∑(ÁºñÂè∑‰ªé000001ÂºÄÂßã)„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>log_bin_index&lt;/p>
&lt;ul>
&lt;li>binlogÁöÑÁ¥¢ÂºïÊñá‰ª∂ÔºåÈáåÈù¢ËÆ∞ÂΩï‰∫ÜÂΩìÂâçÊúçÂä°Âô®ÂÖ≥ËÅîÁöÑbinlogÊñá‰ª∂ÊúâÂì™‰∫õ„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="binlog-Ê†ºÂºè">binlog Ê†ºÂºè&lt;/h4>
&lt;p>MySQL ÊúçÂä°Âô®‰∏≠Êèê‰æõ‰∫ÜÂ§öÁßçÊ†ºÂºèÊù•ËÆ∞ÂΩï‰∫åËøõÂà∂Êó•ÂøóÔºö&lt;/p>
&lt;p>ÈÖçÁΩÆ‰∫åËøõÂà∂Êó•ÂøóÁöÑÊ†ºÂºèÔºåÂè™ÈúÄË¶ÅÂú® /etc/my.cnf ‰∏≠ÈÖçÁΩÆ binlog_format ÂèÇÊï∞Âç≥ÂèØ„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üìÉ &lt;code>statement&lt;/code>&lt;/p>
&lt;ul>
&lt;li>Âü∫‰∫é SQL ËØ≠Âè•ÁöÑÊó•ÂøóËÆ∞ÂΩïÔºåËÆ∞ÂΩïÁöÑÊòØ SQL ËØ≠Âè•ÔºåÂØπÊï∞ÊçÆËøõË°å‰øÆÊîπÁöÑ SQL ÈÉΩ‰ºöËÆ∞ÂΩïÂú®Êó•ÂøóÊñá‰ª∂‰∏≠„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>üìï &lt;code>row&lt;/code> ÔºàÈªòËÆ§Ôºâ&lt;/p>
&lt;ul>
&lt;li>Âü∫‰∫éË°åÁöÑÊó•ÂøóËÆ∞ÂΩïÔºåËÆ∞ÂΩïÁöÑÊòØÊØè‰∏ÄË°åÁöÑÊï∞ÊçÆÂèòÊõ¥„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>üñáÔ∏è &lt;code>mixed&lt;/code>&lt;/p>
&lt;ul>
&lt;li>Ê∑∑Âêà‰∫Ü statememt Âíå row ‰∏§ÁßçÊ†ºÂºèÔºåÈªòËÆ§ÈááÁî®statementÔºåÂú®Êüê‰∫õÁâπÊÆäÊÉÖÂÜµ‰∏ã‰ºöËá™Âä®ÂàáÊç¢‰∏∫ row ËøõË°åËÆ∞ÂΩï„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">show&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">variables&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">like&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;%binlog_format%&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/log/binlogformat.png"
width="432"
height="156"
srcset="https://emerywan.github.io/blog/blog/p/mysql/log/binlogformat_hu025aaab383e907dcebf622698b084bf9_13882_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mysql/log/binlogformat_hu025aaab383e907dcebf622698b084bf9_13882_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="binlogformat"
class="gallery-image"
data-flex-grow="276"
data-flex-basis="664px"
>&lt;/p>
&lt;h4 id="Êü•Áúã-bin-log">Êü•Áúã bin log&lt;/h4>
&lt;p>Êó•ÂøóÊòØ‰ª•‰∫åËøõÂà∂ÊñπÂºèÂ≠òÂÇ®ÁöÑÔºå‰∏çËÉΩÁõ¥Êé•ËØªÂèñÔºåÈúÄË¶ÅÈÄöËøá‰∫åËøõÂà∂Êó•ÂøóÊü•ËØ¢Â∑•ÂÖ∑ &lt;code>mysqlbinlog&lt;/code> Êù•Êü•Áúã„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">mysqlbinlog [ÂèÇÊï∞] logfilename
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ÂèÇÊï∞ÈÄâÈ°πÔºö
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -d ÊåáÂÆöÊï∞ÊçÆÂ∫ìÂêçÁß∞ÔºåÂè™ÂàóÂá∫ÊåáÂÆöÁöÑÊï∞ÊçÆÂ∫ìÁõ∏ÂÖ≥Êìç‰Ωú
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -o ÂøΩÁï•ÊéâÊó•Âøó‰∏≠ÁöÑÂâç n Ë°åÂëΩ‰ª§
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -v Â∞ÜË°å‰∫ã‰ª∂(Êï∞ÊçÆÂèòÊõ¥)ÈáçÊûÑ‰∏∫SQLËØ≠Âè•
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -vv Â∞ÜË°å‰∫ã‰ª∂(Êï∞ÊçÆÂèòÊõ¥)ÈáçÊûÑ‰∏∫SQLËØ≠Âè•ÔºåÂπ∂ËæìÂá∫Ê≥®Èáä‰ø°ÊÅØ
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="Ê∏ÖÁêÜ-bin-log">Ê∏ÖÁêÜ bin log&lt;/h4>
&lt;ul>
&lt;li>
&lt;p>&lt;code>reset master&lt;/code>&lt;/p>
&lt;ul>
&lt;li>Âà†Èô§ÂÖ®ÈÉ® binlog Êó•ÂøóÔºåÂà†Èô§‰πãÂêéÔºåÊó•ÂøóÁºñÂè∑ÔºåÂ∞Ü‰ªé binlog.000001ÈáçÊñ∞ÂºÄÂßã&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;code>purge master logs to 'binlog.000005'&lt;/code>&lt;/p>
&lt;ul>
&lt;li>Âà†Èô§ 000005 ‰πãÂâçÁöÑÊâÄÊúâÊó•Âøó&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;code>purge master logs before 'yyyy-mm-dd hh24:mi:ss'&lt;/code>&lt;/p>
&lt;ul>
&lt;li>Âà†Èô§Êó•Âøó‰∏∫ &amp;ldquo;yyyy-mm-dd hh24:mi:ss&amp;rdquo; ‰πãÂâç‰∫ßÁîüÁöÑÊâÄÊúâÊó•Âøó&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>ÂèØ‰ª•Âú® mysql ÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈÖçÁΩÆ‰∫åËøõÂà∂Êó•ÂøóÁöÑËøáÊúüÊó∂Èó¥ÔºåËÆæÁΩÆ‰∫Ü‰πãÂêéÔºå‰∫åËøõÂà∂Êó•ÂøóËøáÊúü‰ºöËá™Âä®Âà†Èô§„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">show&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">variables&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">like&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;%binlog_expire_logs_seconds%&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/log/binlogexpire.png"
width="541"
height="153"
srcset="https://emerywan.github.io/blog/blog/p/mysql/log/binlogexpire_hua71c1465b703f02a37880ff6dd450f1c_15632_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mysql/log/binlogexpire_hua71c1465b703f02a37880ff6dd450f1c_15632_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="binlogexpire"
class="gallery-image"
data-flex-grow="353"
data-flex-basis="848px"
>&lt;/p>
&lt;h2 id="-inoodb-Â≠òÂÇ®ÂºïÊìéÊó•Âøó">üíΩ InooDB Â≠òÂÇ®ÂºïÊìéÊó•Âøó&lt;/h2>
&lt;h3 id="-redo-log-ÈáçÂÅöÊó•Âøó">‚è±Ô∏è redo log ÈáçÂÅöÊó•Âøó&lt;/h3>
&lt;p>MySQL Êõ¥Êñ∞Êï∞ÊçÆÊìç‰ΩúÁöÑÈÉΩÊòØ Buffer Pool ÂÜÖÂ≠ò‰∏≠ÁöÑÁºìÂ≠òÈ°µÔºåË¢´‰øÆÊîπËøáÁöÑËÑèÈ°µ‰∏ç‰ºöÁ´ãÂç≥Ë¢´Âà∑Êñ∞Âà∞Á£ÅÁõò‰∏≠ÔºàÈöèÊú∫Á£ÅÁõò IO ÊÄßËÉΩ‰ΩéÔºâÔºå‰∏∫‰∫ÜÈò≤Ê≠¢Êñ≠ÁîµÁ≠âÊÉÖÂÜµÈÄ†ÊàêÂÜÖÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆ‰∏¢Â§±ÔºåÂà©Áî® redo log ËÆ∞ÂΩïÊï∞ÊçÆÈ°µÁöÑÊõ¥Êñ∞Êìç‰ΩúÔºåÂêéÁª≠Âú®ÂêàÈÄÇÁöÑÊó∂Èó¥ÂÜç‰øÆÊîπÁ£ÅÁõò‰∏≠ÁöÑÊï∞ÊçÆ„ÄÇÔºàWAL ÊäÄÊúØÔºâ&lt;/p>
&lt;p>redo log ÊòØÁâ©ÁêÜÊó•ÂøóÔºåËÆ∞ÂΩï‰∫ÜÊï∞ÊçÆÈ°µÂÅö‰∫Ü‰ªÄ‰πà‰øÆÊîπ„ÄÇ‰æãÂ¶ÇÔºöÂØπ XXX Ë°®Á©∫Èó¥‰∏≠ÁöÑ YYY Êï∞ÊçÆÈ°µ ZZZ ÂÅèÁßªÈáèÁöÑÂú∞ÊñπÂÅö‰∫Ü AAA Êõ¥Êñ∞„ÄÇ&lt;/p>
&lt;p>redo log ËÆ∞ÂΩï‰∫Ü‰∫ãÂä°ÂÆåÊàêÂêéÁöÑÊï∞ÊçÆÁä∂ÊÄÅÔºåÂΩì‰∫ãÂä°Êèê‰∫§Êó∂ÔºåÂè™Ë¶ÅÂ∞Ü redo log ÊåÅ‰πÖÂåñÂà∞Á°¨ÁõòÂç≥ÂèØÔºàÈ°∫Â∫èÁ£ÅÁõò IOÔºâÔºå‰∏çÈúÄË¶ÅÂ∞Ü Buffer Pool ‰∏≠ÁöÑËÑèÈ°µÊåÅ‰πÖÂåñÂà∞Á°¨ÁõòÔºàÈöèÊú∫Á£ÅÁõò IOÔºâ„ÄÇ&lt;/p>
&lt;p>‰øùËØÅ‰∫Ü‰∫ãÂä° ACID ÁâπÊÄß‰∏≠ÁöÑÊåÅ‰πÖÊÄßÔºåÂΩìÊï∞ÊçÆÂ∫ìÂèëÁîüÊïÖÈöúÊó∂ÔºåÂèØ‰ª•Âà©Áî® redo log ÊÅ¢Â§çÊï∞ÊçÆ„ÄÇ&lt;/p>
&lt;h4 id="-redo-log-Âæ™ÁéØÂÜô">üîÉ redo log Âæ™ÁéØÂÜô&lt;/h4>
&lt;p>redo log ÊòØ‰∏∫‰∫ÜÈò≤Ê≠¢ Buffer Pool ‰∏≠ÁöÑËÑèÈ°µ‰∏¢Â§±ËÄåËÆæËÆ°ÁöÑ„ÄÇÂΩìÈöèÁùÄÊúçÂä°ÁöÑËøêË°åÔºåBuffer Pool ‰∏≠ÁöÑËÑèÈ°µÂà∑Êñ∞Âà∞‰∫ÜÁ£ÅÁõò‰∏≠Ôºåredo log ‰∏≠ÁöÑËÆ∞ÂΩïÂ∞±Ê≤°ÊúâÁî®‰∫ÜÔºåÂèØ‰ª•Êì¶Èô§ÊóßËÆ∞ÂΩï„ÄÇ&lt;/p>
&lt;p>ÊâÄ‰ª• redo log ÈááÁî®‰∫ÜÂæ™ÁéØÂÜôÁöÑÊñπÂºèÔºåÊï∞ÊçÆÂÜôÂà∞Êú´Â∞æÂèà‰ºöÂõûÂà∞Êñá‰ª∂ÁöÑÂºÄÂ§¥ÔºåÊñ∞Êï∞ÊçÆÂèØ‰ª•Ë¶ÜÁõñÊó†Áî®ÁöÑÊóßÊï∞ÊçÆ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/log/redo-log.webp"
width="1362"
height="906"
srcset="https://emerywan.github.io/blog/blog/p/mysql/log/redo-log_hud436e5fcec2bf61353c634ad67370294_39572_480x0_resize_q75_h2_box_2.webp 480w, https://emerywan.github.io/blog/blog/p/mysql/log/redo-log_hud436e5fcec2bf61353c634ad67370294_39572_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="150"
data-flex-basis="360px"
>&lt;/p>
&lt;h4 id="Âà∑Áõò">Âà∑Áõò&lt;/h4>
&lt;p>‰∫ßÁîüÁöÑ redo log Âπ∂‰∏çÊòØÁõ¥Êé•ÂÜôÂÖ•Á£ÅÁõòÁöÑÔºå‰ºöÂÖàÂÜôÂà∞ redo log buffer ‰∏≠ÔºåÂêéÁª≠ÂÜçÊåÅ‰πÖÂåñÂà∞Á£ÅÁõò„ÄÇ&lt;/p>
&lt;p>redo log buffer ÈªòËÆ§Â§ßÂ∞è‰∏∫ &lt;code>innodb_log_Buffer_size = 16MB&lt;/code>ÔºåÂ¢ûÂä†ÂÆÉÁöÑÂ§ßÂ∞èÔºåÂèØ‰ª•ËÆ© MySQL Â§ÑÁêÜÂ§ß‰∫ãÂä°‰∏çÂøÖÂÜôÂÖ•Âà∞Á£ÅÁõòÔºåËøõËÄåÊèêÂçá IO ÊÄßËÉΩ„ÄÇ&lt;/p>
&lt;p>redo log buffer Âà∑ÁõòÊó∂Êú∫Ôºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>InnoDB ÁöÑÂêéÂè∞Á∫øÁ®ãÔºåÊØèÈöî 1sÔºå‰ºöÂ∞Ü redo log buffer ÊåÅ‰πÖÂåñÂà∞Á£ÅÁõò&lt;/p>
&lt;/li>
&lt;li>
&lt;p>redo log buffer ‰∏≠ËÆ∞ÂΩïÁöÑÂÜôÂÖ•ÈáèÂ§ß‰∫éËÆæÁΩÆÁ©∫Èó¥ÁöÑ‰∏ÄÂçäÊó∂&lt;/p>
&lt;/li>
&lt;li>
&lt;p>MySQL Ê≠£Â∏∏ÂÖ≥Èó≠Êó∂&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÊØèÊ¨°‰∫ãÂä°Êèê‰∫§Êó∂ÔºåÂ∞Ü redo log buffer ‰∏≠ redo log ÊåÅ‰πÖÂåñÂà∞Á£ÅÁõò &lt;code>innodb_flush_log_at_trx_commit&lt;/code> ÊéßÂà∂&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h4 id="‰∏§Èò∂ÊÆµÊèê‰∫§">‰∏§Èò∂ÊÆµÊèê‰∫§&lt;/h4>
&lt;p>redo log Âíå bin log ÊåÅ‰πÖÂåñÂà∞Á°¨ÁõòÔºåÊòØ‰∏§‰∏™Áã¨Á´ãÁöÑÊìç‰ΩúÔºåÂèØËÉΩ‰ºöÂá∫Áé∞ÂçäÊàêÂäüÁöÑÁä∂ÊÄÅÔºåÂØºËá¥‰∏§‰ªΩÊó•Âøó‰πãÈó¥ÁöÑÈÄªËæë‰∏ç‰∏ÄËá¥„ÄÇ&lt;/p>
&lt;p>‰∏∫‰∫ÜÈÅøÂÖçËøô‰∏™ÈóÆÈ¢òÔºå‰øùËØÅ‰∏§‰∏™Êó•ÂøóÁöÑ‰∏ÄËá¥ÊÄßÔºå‰ΩøÁî®‰∫Ü‚Äù‰∏§Èò∂ÊÆµÊèê‰∫§‚ÄúÊù•Ëß£ÂÜ≥„ÄÇÊääÂçï‰∏™‰∫ãÂä°ÁöÑÊèê‰∫§ÊãÜÂàÜÊàê‰∫Ü‰∏§‰∏™Èò∂ÊÆµÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Prepare ÂáÜÂ§áÈò∂ÊÆµ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Commit Êèê‰∫§Èò∂ÊÆµ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Â∞Ü redo log ÂÜôÂÖ•ÊãÜÊàê‰∫Ü‰∏§‰∏™Ê≠•È™§Ôºöprepare Âíå commitÔºå‰∏≠Èó¥ÂÜçÁ©øÊèíÂÜôÂÖ• bin log„ÄÇ&lt;/p>
&lt;p>&lt;code>redo log prepare -&amp;gt; bin log -&amp;gt; redo log commit&lt;/code>&lt;/p>
&lt;p>ÂΩì bin log ÊàêÂäüÊåÅ‰πÖÂåñÂà∞Á£ÅÁõòÔºåÂ∞±Ë¢´ËÆ§‰∏∫‰∫ãÂä°Â∑≤ÁªèÊâßË°åÊàêÂäüÔºàÂç≥‰Ωø redo log ÊòØ prepare ‰πüÊ≤°ÊúâÂÖ≥Á≥ªÔºâ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/log/prepare-commit.png"
width="887"
height="859"
srcset="https://emerywan.github.io/blog/blog/p/mysql/log/prepare-commit_hu761b281e24776a109dc5986da4421988_282489_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mysql/log/prepare-commit_hu761b281e24776a109dc5986da4421988_282489_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="103"
data-flex-basis="247px"
>&lt;/p>
&lt;h3 id="-undo-log-ÂõûÊªöÊó•Âøó">üîô undo log ÂõûÊªöÊó•Âøó&lt;/h3>
&lt;p>undo log ÊòØ‰∏ÄÁßçÁî®‰∫éÊí§ÈîÄÂõûÊªöÁöÑÊó•Âøó„ÄÇInnoDB Êõ¥Êñ∞ËÆ∞ÂΩïÂâçÔºå‰ºöÂ∞ÜÊìç‰ΩúÂâçÁöÑÊï∞ÊçÆËÆ∞ÂΩïÁöÑ undo ‰∏≠ÔºåÂΩì‰∫ãÂä°ÂõûÊªöÊó∂ÔºåÂà©Áî® undo log ËøõË°åÂõûÊªö„ÄÇ&lt;/p>
&lt;p>undo log ‰∏ªË¶ÅÁî®‰∫éÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üéóÔ∏è ÂÆûÁé∞‰∫ãÂä°ÂõûÊªöÔºå‰øùÈöú‰∫ãÂä° ACID ‰∏≠ÁöÑÂéüÂ≠êÊÄß&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üéóÔ∏è undo log ‰∏é ReadView ÈÖçÂêàÔºåÂÆûÁé∞ MVCC&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Âú® InnoDB Â≠òÂÇ®ÂºïÊìéÂØπËÆ∞ÂΩïËøõË°å‰øÆÊîπÊó∂Ôºå‰ºöÊääÂõûÊªöÈúÄË¶ÅÁöÑ‰ø°ÊÅØÂÖ®ÈÉ®ËÆ∞ÂΩïÂà∞ undo ‰∏≠ÔºåÂ¶ÇÊûúÂèëÁîüÂõûÊªöÔºåÂ∞±‰ºöËØªÂèñ undo logÔºåÁÑ∂ÂêéÊâßË°å‰∏é‰πãÁõ∏ÂèçÁöÑÊìç‰Ωú„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>‚ûï ÊèíÂÖ•Êï∞ÊçÆÔºåËÆ∞ÂΩïËøôÊù°Êï∞ÊçÆÁöÑ‰∏ªÈîÆÔºåÂõûÊªöÊó∂Ê†πÊçÆ‰∏ªÈîÆÊääËØ•Êù°ËÆ∞ÂΩïÂà†Èô§&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‚ûñ Âà†Èô§Êï∞ÊçÆÔºåËÆ∞ÂΩïËøôÊù°Êï∞ÊçÆÁöÑÊâÄÊúâÂÜÖÂÆπÔºåÂõûÊªöÊó∂Â∞ÜËøô‰∫õÂÜÖÂÆπÁªÑÊàêÁöÑËÆ∞ÂΩïÊèíÂÖ•Ë°®‰∏≠&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üñãÔ∏è Êõ¥Êñ∞Êï∞ÊçÆÔºå&lt;/p>
&lt;ul>
&lt;li>Êõ¥Êñ∞‰∫Ü‰∏ªÈîÆÔºå‰ºöËÆ∞ÂΩï‰∏§Êù° undo logÔºå‰∏ÄÊù°Âà†Èô§ÁöÑÔºå‰∏ÄÊù°Êõ¥Êñ∞ÁöÑ&lt;/li>
&lt;li>Ê≤°ÊúâÊõ¥Êñ∞‰∏ªÈîÆÔºåËÆ∞ÂΩïËøôÊù°Êï∞ÊçÆÊõ¥Êñ∞ÂàóÁöÑÊóßÂÄºÔºåÂõûÊªöÊó∂Â∞ÜÊï∞ÊçÆÊõ¥Êñ∞‰∏∫ÊóßÂÄº&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="ÁâàÊú¨Èìæ">ÁâàÊú¨Èìæ&lt;/h4>
&lt;p>‰∏ÄÊù°ËÆ∞ÂΩïÁöÑÊØèÊ¨°Êõ¥Êñ∞Êìç‰Ωú‰∫ßÁîüÁöÑ undo log Ê†ºÂºèÈÉΩ‰ºöÊúâÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>trx_id ‰∫ãÂä° id&lt;/p>
&lt;p>ËÆ∞ÂΩï‰∫ÜËØ•ËÆ∞ÂΩïÊòØÁî±Âì™‰∏Ä‰∏™‰∫ãÂä°‰øÆÊîπÁöÑ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>roll_pointer ÂõûÊªöÊåáÈíà&lt;/p>
&lt;p>ÂõûÊªöÊåáÈíàÂèØ‰ª•Â∞Ü undo log ‰∏≤ËøûÊàê‰∏Ä‰∏™ÈìæË°®ÔºåËøô‰∏™ÈìæË°®Áß∞‰∏∫ÁâàÊú¨Èìæ„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/log/version-link.webp"
width="1140"
height="591"
srcset="https://emerywan.github.io/blog/blog/p/mysql/log/version-link_hu0442ac56d20b027197f4981105a2d120_16904_480x0_resize_q75_h2_box_2.webp 480w, https://emerywan.github.io/blog/blog/p/mysql/log/version-link_hu0442ac56d20b027197f4981105a2d120_16904_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="192"
data-flex-basis="462px"
>&lt;/p></description></item><item><title>MySQL Á¥¢Âºï</title><link>https://emerywan.github.io/blog/p/mysql/index/</link><pubDate>Thu, 30 Jun 2022 14:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/mysql/index/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/15.jpeg" alt="Featured image of post MySQL Á¥¢Âºï" />&lt;h2 id="Á¥¢Âºï">Á¥¢Âºï&lt;/h2>
&lt;p>Á¥¢ÂºïÔºàindexÔºâÊòØÂ∏ÆÂä© MySQL È´òÊïàËé∑ÂèñÊï∞ÊçÆÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÊèêÈ´òÊü•ËØ¢ÊïàÁéá„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>‰ºòÁÇπ&lt;/p>
&lt;ul>
&lt;li>ÊèêÈ´òÊï∞ÊçÆÁöÑÊü•ËØ¢ÈÄüÂ∫¶&lt;/li>
&lt;li>Èôç‰ΩéÊï∞ÊçÆÂ∫ìÁöÑ IO ÊàêÊú¨&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Áº∫ÁÇπ&lt;/p>
&lt;ul>
&lt;li>Âç†Áî®Á£ÅÁõòÁ©∫Èó¥&lt;/li>
&lt;li>Â¢ûÂà†ÊîπÈúÄË¶ÅÁª¥Êä§Á¥¢ÂºïÔºåÊÄßËÉΩÂèØËÉΩ‰ºö‰∏ãÈôç&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="Á¥¢ÂºïÁöÑÂàÜÁ±ª">Á¥¢ÂºïÁöÑÂàÜÁ±ª&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- Êü•ÁúãË°®‰∏≠ÁöÑÁ¥¢Âºï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">show&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">index&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">table_name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="‰∏ªÈîÆÁ¥¢Âºï">‰∏ªÈîÆÁ¥¢Âºï&lt;/h3>
&lt;p>ÂΩì‰∏ÄÂº†Ë°®ÔºåÊääÊüê‰∏™ÂàóËÆæ‰∏∫‰∏ªÈîÆÁöÑÊó∂ÂÄôÔºåÂàôËØ•ÂàóÂ∞±ÊòØ‰∏ªÈîÆÁ¥¢Âºï„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">create&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">table&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">demo&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">primary&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">key&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">auto_increment&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ÊôÆÈÄöÁ¥¢Âºï">ÊôÆÈÄöÁ¥¢Âºï&lt;/h3>
&lt;p>Áî®Ë°®‰∏≠ÁöÑÊôÆÈÄöÂàóÊûÑÂª∫ÁöÑÁ¥¢ÂºïÔºåÊ≤°Êúâ‰ªª‰ΩïÈôêÂà∂„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">create&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">table&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">demo&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">primary&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">key&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">auto_increment&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">varchar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">128&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">index&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">demo_index_name&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">---
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">create&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">index&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">demo_index_name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">on&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">demo_table&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ÂîØ‰∏ÄÁ¥¢Âºï">ÂîØ‰∏ÄÁ¥¢Âºï&lt;/h3>
&lt;p>Á¥¢ÂºïÂàóÁöÑÂÄºÂøÖÈ°ªÂîØ‰∏ÄÔºåÂÖÅËÆ∏ÊúâÂ§ö‰∏™Á©∫ÂÄº nullÔºàÂíå‰∏ªÈîÆ‰∏çÂêåÔºå‰∏ªÈîÆ‰∏çÂÖÅËÆ∏‰∏∫Á©∫Ôºâ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">create&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">table&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">demo&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">primary&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">key&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">auto_increment&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">varchar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">128&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">unique&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">index&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">new_unique_index_name&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">---
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">create&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">unique&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">index&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">new_unique_index_name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">on&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">demo_table&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ÂÖ®ÊñáÁ¥¢Âºï">ÂÖ®ÊñáÁ¥¢Âºï&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">create&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">table&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">demo&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">primary&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">key&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">auto_increment&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">varchar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">128&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">content&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">text&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">fulltext&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">index&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">demo_fulltext_index_content&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">content&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ÁªÑÂêàÁ¥¢Âºï">ÁªÑÂêàÁ¥¢Âºï&lt;/h3>
&lt;p>ÁªÑÂêàÁ¥¢Âºï / ËÅîÂêàÁ¥¢Âºï&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">create&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">index&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">demo_name_age_index&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">on&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">demo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">age&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ËÅöÁ∞áÁ¥¢Âºï">ËÅöÁ∞áÁ¥¢Âºï&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>Á¥¢ÂºïÂíåÊï∞ÊçÆÊîæÂú®‰∏ÄËµ∑ÔºåÁ¥¢ÂºïÁªìÊûÑÁöÑÂè∂Â≠êËäÇÁÇπ‰øùÂ≠ò‰∫ÜË°åÊï∞ÊçÆÔºåÊâæÂà∞‰∫ÜÁ¥¢ÂºïÂ∞±ÊâæÂà∞‰∫ÜÊï∞ÊçÆ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ËÆøÈóÆÊï∞ÊçÆÊõ¥Âø´ÔºåËÅöÁ∞áÁ¥¢ÂºïÂ∞ÜÁ¥¢ÂºïÂíåÊï∞ÊçÆ‰øùÂ≠òÂú®‰∏Ä‰∏™B+Ê†ë‰∏ä„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÊèíÂÖ•ÈÄüÂ∫¶‰∏•Èáç‰æùËµñ‰∫éÊèíÂÖ•È°∫Â∫è„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Êõ¥Êñ∞ËÅöÁ∞áÁ¥¢ÂºïÂàóÁöÑ‰ª£‰ª∑ÂæàÈ´ò„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/index/index8.png"
width="722"
height="369"
srcset="https://emerywan.github.io/blog/blog/p/mysql/index/index8_hu9d45f79d8b338c019791de22ea52eb90_62479_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mysql/index/index8_hu9d45f79d8b338c019791de22ea52eb90_62479_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="index8"
class="gallery-image"
data-flex-grow="195"
data-flex-basis="469px"
>&lt;/p>
&lt;h3 id="ÈùûËÅöÁ∞áÁ¥¢Âºï‰∫åÁ∫ßÁ¥¢Âºï">ÈùûËÅöÁ∞áÁ¥¢ÂºïÔºà‰∫åÁ∫ßÁ¥¢ÂºïÔºâ&lt;/h3>
&lt;p>Â∞ÜÊï∞ÊçÆ‰∏éÁ¥¢ÂºïÂàÜÂºÄÂ≠òÂÇ®ÔºåÁ¥¢ÂºïÁªìÊûÑÁöÑÂè∂Â≠êËäÇÁÇπÂÖ≥ËÅîÁöÑÊòØÂØπÂ∫îÁöÑ‰∏ªÈîÆ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/index/clustering-index.png"
width="840"
height="571"
srcset="https://emerywan.github.io/blog/blog/p/mysql/index/clustering-index_hub32172b742ab96d724c643b42699b935_232051_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mysql/index/clustering-index_hub32172b742ab96d724c643b42699b935_232051_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="clustering-index"
class="gallery-image"
data-flex-grow="147"
data-flex-basis="353px"
>&lt;/p>
&lt;ul>
&lt;li>‰∫åÁ∫ßÁ¥¢ÂºïËÆøÈóÆÈúÄË¶Å‰∏§Ê¨°Á¥¢ÂºïÊü•ÊâæÔºåË¶ÅÂõûË°®„ÄÇ&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/index/index9.png"
width="727"
height="389"
srcset="https://emerywan.github.io/blog/blog/p/mysql/index/index9_hua49cf0193b83cd4f61e5b4747229532b_46178_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mysql/index/index9_hua49cf0193b83cd4f61e5b4747229532b_46178_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="index9"
class="gallery-image"
data-flex-grow="186"
data-flex-basis="448px"
>&lt;/p>
&lt;h2 id="Á¥¢ÂºïÁöÑÁªìÊûÑ">Á¥¢ÂºïÁöÑÁªìÊûÑ&lt;/h2>
&lt;h3 id="b-tree">B Tree&lt;/h3>
&lt;p>B Ê†ëÊòØ‰∏ÄÁßçÂ§öÂèâÂπ≥Ë°°Êü•ÊâæÊ†ëÔºåÂÖ∂‰∏ªË¶ÅÁâπÁÇπÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Ê†ëÁöÑËäÇÁÇπ‰∏≠Â≠òÂÇ®ÁùÄÂ§ö‰∏™ÂÖÉÁ¥†ÔºåÊØè‰∏™ÂÜÖËäÇÁÇπÊúâÂ§ö‰∏™ÂàÜÂèâ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Âú®ÊâÄÊúâÁöÑËäÇÁÇπÈÉΩÂÇ®Â≠òÊï∞ÊçÆ„ÄÇÊØè‰∏™ËäÇÁÇπ‰∏≠ÂåÖÂê´ÈîÆÂÄºÂíåÊï∞ÊçÆÔºåËäÇÁÇπ‰∏≠ÁöÑÈîÆÂÄº‰ªéÂ∞èÂà∞Â§ßÊéíÂàó„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Áà∂ËäÇÁÇπÂΩì‰∏≠ÁöÑÂÖÉÁ¥†‰∏ç‰ºöÂá∫Áé∞Âú®Â≠êËäÇÁÇπ‰∏≠„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÊâÄÊúâÁöÑÂè∂Â≠êÁªìÁÇπÈÉΩ‰Ωç‰∫éÂêå‰∏ÄÂ±ÇÔºåÂè∂ËäÇÁÇπÂÖ∑ÊúâÁõ∏ÂêåÁöÑÊ∑±Â∫¶ÔºåÂè∂ËäÇÁÇπ‰πãÈó¥Ê≤°ÊúâÊåáÈíàËøûÊé•„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/index/BTree.png"
width="824"
height="496"
srcset="https://emerywan.github.io/blog/blog/p/mysql/index/BTree_hu5a2ea9e01a7974b484f27a03994c1eb9_162577_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mysql/index/BTree_hu5a2ea9e01a7974b484f27a03994c1eb9_162577_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="BTree"
class="gallery-image"
data-flex-grow="166"
data-flex-basis="398px"
>&lt;/p>
&lt;h3 id="b-tree-1">B+ Tree&lt;/h3>
&lt;p>B+ Ê†ëÊòØ B Ê†ëÁöÑÂçáÁ∫ßÁâà„ÄÇB+ Ê†ëÂú®ÁªìÊûÑ‰∏äÂíåBÊ†ëÁöÑÂå∫Âà´Âú®‰∫éÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Âè™ÊúâÂè∂Â≠êËäÇÁÇπÊâç‰ºöÂ≠òÂÇ®Êï∞ÊçÆÔºåÈùûÂè∂Â≠êËäÇÁÇπÂè™Â≠òÂÇ®ÈîÆÂÄºÔºåÁî®‰∫éÊü•Êâæ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Âè∂Â≠êËäÇÁÇπ‰πãÈó¥‰ΩøÁî®ÂèåÂêëÊåáÈíàËøûÊé•ÔºåÊúÄÂ∫ïÂ±ÇÁöÑÂè∂Â≠êËäÇÁÇπÂΩ¢Êàê‰∫Ü‰∏Ä‰∏™ÂèåÂêëÊúâÂ∫èÈìæË°®„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Âè∂Â≠êËäÇÁÇπ‰øùÂ≠ò‰∫ÜÁà∂ËäÇÁÇπÊâÄÊúâÂÖ≥ÈîÆÂ≠óËÆ∞ÂΩïÁöÑÊåáÈíà„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/index/BTree2.png"
width="726"
height="486"
srcset="https://emerywan.github.io/blog/blog/p/mysql/index/BTree2_hu9d51150ef65d39ad05b8ca626e16e349_124398_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mysql/index/BTree2_hu9d51150ef65d39ad05b8ca626e16e349_124398_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="B&amp;#43;Tree"
class="gallery-image"
data-flex-grow="149"
data-flex-basis="358px"
>&lt;/p>
&lt;p>Áõ∏ÊØî‰∏é B Ê†ëÔºåB+ Ê†ëÊúâ‰ª•‰∏ãÊèêÂçáÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Êâ´Ë°®ËÉΩÂäõÊõ¥Âº∫ÔºàËøõË°åÂÖ®Ë°®Êâ´ÊèèÔºåÂè™ÈúÄË¶ÅÈÅçÂéÜÂè∂Â≠êËäÇÁÇπÂç≥ÂèØÔºâ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂÖ∑ÊúâÊõ¥Â•ΩÁöÑÁ£ÅÁõòËØªÂÜôËÉΩÂäõÔºàÈùûÂè∂Â≠êËäÇÁÇπ‰∏çÂ≠òÂÇ®Êï∞ÊçÆÔºå‰ΩøÊ†ëÊõ¥ÁüÆÔºåIO Êìç‰ΩúÊõ¥Â∞ëÔºå‰∏ÄÊ¨°Á£ÅÁõòÂä†ËΩΩÊâ´ÊèèËåÉÂõ¥Êõ¥Â§ßÔºâ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Êü•ËØ¢ÊïàÁéáÁ®≥ÂÆöÔºàÊï∞ÊçÆÈÉΩÂ≠òÂÇ®Âú®Âè∂Â≠êËäÇÁÇπÔºåIO Ê¨°Êï∞Á®≥ÂÆöÔºâ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Â¢ûÂà†Êï∞ÊçÆÊïàÁéáÊõ¥È´òÔºàÊï∞ÊçÆÂú®Âè∂Â≠êËäÇÁÇπ‰ª•ÊúâÂ∫èÈìæË°®Â≠òÂÇ®ÔºåÂèØÊèêÈ´òÊï∞ÊçÆÂ¢ûÂà†ÊïàÁéáÔºâ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Êï∞ÊçÆÂ∫ì‰∏≠ÔºåB+ Ê†ëÁöÑÈ´òÂ∫¶‰∏ÄËà¨ÈÉΩÂú® 2~4 Â±Ç„ÄÇÁî±‰∫é MySQL ÁöÑ INNODB ÂºïÊìéÂú®ËÆæËÆ°Êó∂ÊòØÂ∞Ü B+ Ê†ëÁöÑÊ†πËäÇÁÇπÂ∏∏È©ªÂÜÖÂ≠òÁöÑÔºåÂõ†Ê≠§Âú®Êü•ÊâæÊüê‰∏ÄÈîÆÂÄºÁöÑË°åËÆ∞ÂΩïÊó∂ÔºåÊúÄÂ§öÂè™ÈúÄË¶Å 1~3 Ê¨°Á£ÅÁõòIO„ÄÇ&lt;/p>
&lt;h3 id="hash">Hash&lt;/h3>
&lt;p>ÊîØÊåÅ hash Á¥¢ÂºïÁöÑÊòØ Memory Â≠òÂÇ®ÂºïÊìé„ÄÇÈááÁî®‰∏ÄÂÆöÁöÑ hash ÁÆóÊ≥ïÔºåÂ∞ÜÈîÆÂÄºÊç¢ÁÆóÊàêÊñ∞ÁöÑ hash ÂÄºÔºåÊò†Â∞ÑÂà∞ÂØπÂ∫îÁöÑÊßΩ‰Ωç‰∏äÔºåÁÑ∂ÂêéÂ≠òÂÇ®Âú® hash Ë°®‰∏≠„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/index/hash.png"
width="551"
height="297"
srcset="https://emerywan.github.io/blog/blog/p/mysql/index/hash_hu44e081159408b7a12e5ef78d4b9f0b5d_44702_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mysql/index/hash_hu44e081159408b7a12e5ef78d4b9f0b5d_44702_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="hash"
class="gallery-image"
data-flex-grow="185"
data-flex-basis="445px"
>&lt;/p>
&lt;p>ÁâπÁÇπÔºö&lt;/p>
&lt;ul>
&lt;li>Âè™ËÉΩÁî®‰∫éÂØπÁ≠âÊØîËæÉÔºà=, inÔºâÔºå‰∏çÊîØÊåÅËåÉÂõ¥Êü•ËØ¢Ôºàbetween, &amp;gt;, &amp;lt;Ôºâ&lt;/li>
&lt;li>Êó†Ê≥ïÂà©Áî®Á¥¢ÂºïÂÆåÊàêÊéíÂ∫èÊìç‰Ωú&lt;/li>
&lt;li>Êü•ËØ¢ÊïàÁéáÈ´òÔºåÈÄöÂ∏∏Âè™ÈúÄË¶Å‰∏ÄÊ¨°Ê£ÄÁ¥¢ÔºàÊó† hash ÂÜ≤Á™ÅÁöÑÊÉÖÂÜµÔºâ&lt;/li>
&lt;/ul>
&lt;h2 id="ÂàõÂª∫Á¥¢ÂºïÁöÑÂéüÂàô">ÂàõÂª∫Á¥¢ÂºïÁöÑÂéüÂàô&lt;/h2>
&lt;h3 id="-Âª∫ËÆÆÂàõÂª∫Á¥¢Âºï">üôÜ Âª∫ËÆÆÂàõÂª∫Á¥¢Âºï&lt;/h3>
&lt;ul>
&lt;li>‚úÖ &lt;code>select&lt;/code> ËØ≠Âè•ÔºåÈ¢ëÁπÅ‰Ωú‰∏∫ &lt;code>where&lt;/code> Êù°‰ª∂ÁöÑÂ≠óÊÆµ&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">employees&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">first_name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Georgi&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-- index(first_name)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">employees&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">first_name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Georgi&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">and&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">last_name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Cools&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-- ËÅîÂêàÁ¥¢Âºï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- index(first_name, last_name)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- Ê≥®ÊÑèÊª°Ë∂≥ÔºöÊúÄÂ∑¶ÂâçÁºÄÂéüÂàô
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- index(last_name, first_name) -&amp;gt; where first_name=&amp;#34;Georgi&amp;#34; Êó†Ê≥ï‰ΩøÁî®Á¥¢Âºï
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>‚úÖ &lt;code>update/delete&lt;/code> ËØ≠Âè•ÁöÑ &lt;code>where&lt;/code> Êù°‰ª∂&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">update&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">employees&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">set&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">first_name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Jim&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">emp_no&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;100001&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">delete&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">employees&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">fitst_name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Georgi&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>‚úÖ ÈúÄË¶ÅÂàÜÁªÑÔºåÊéíÂ∫èÁöÑÂ≠óÊÆµ&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">dept_no&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">count&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">dept_emp&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">group&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">by&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">dept_no&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>‚úÖ ‰ΩøÁî® &lt;code>distinct&lt;/code> ÁöÑÂ≠óÊÆµ&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">distinct&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">first_name&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">employees&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>
&lt;p>‚úÖ Â≠óÊÆµÈúÄË¶ÅÂîØ‰∏ÄÊÄßÁ∫¶Êùü&lt;/p>
&lt;ul>
&lt;li>ÂîØ‰∏ÄÁ¥¢Âºï&lt;/li>
&lt;li>‰∏ªÈîÆÁ¥¢Âºï&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>‚úÖ Â§öË°®Êü•ËØ¢ÔºåËøûÊé•Â≠óÊÆµÂ∫îÂàõÂª∫Á¥¢Âºï&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Á±ªÂûãÂä°ÂøÖ‰øùÊåÅ‰∏ÄËá¥&lt;/strong>ÔºåÈÅøÂÖçÈöêÂºèË£ÖÊç¢&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">emp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">dept_name&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">employees&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">emp&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">left&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">join&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">dept_emp&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">de&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">on&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">emp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">emp_no&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">de&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">emp_no&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">left&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">join&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">departments&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">on&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">de&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">dept_no&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">dept_no&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">de&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">emp_no&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;100001&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-- employees.emp_no dept_emp.emp_no Á±ªÂûãÂä°ÂøÖ‰øùÊåÅ‰∏ÄËá¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- dept_emp.dept_no departmants.dept_no Á±ªÂûãÂä°ÂøÖ‰øùÊåÅ‰∏ÄËá¥
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="-‰∏çÂª∫ËÆÆÂàõÂª∫Á¥¢Âºï">üôÖ ‰∏çÂª∫ËÆÆÂàõÂª∫Á¥¢Âºï&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>‚ùå &lt;code>where&lt;/code> Â≠êÂè•‰∏≠Áî®‰∏çÂà∞ÁöÑÂ≠óÊÆµ&lt;/p>
&lt;p>Á¥¢ÂºïÁöÑ‰ΩúÁî®ÊòØÂø´ÈÄüÂÆö‰ΩçÂà∞ÊÉ≥Ë¶ÅÁöÑÊï∞ÊçÆÔºåÁî®‰∏çÂà∞Â∞±Ê≤°ÊúâÂøÖË¶ÅÂàõÂª∫Êï∞ÊçÆ‰∫Ü„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‚ùå Ë°®ÈáåÁöÑËÆ∞ÂΩïÈùûÂ∏∏Â∞ë&lt;/p>
&lt;p>Â¶ÇÂè™Êúâ 100 Êù°Êï∞ÊçÆÔºåÊúâÊó†ÂΩ±Âìç‰∏çÂ§ß„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‚ùå ÊúâÂ§ßÈáèÈáçÂ§çÊï∞ÊçÆÔºåÈÄâÊã©ÊÄß‰Ωé&lt;/p>
&lt;p>Â¶ÇÔºöÊÄßÂà´Â≠óÊÆµÔºåÂØºËá¥Â§ßÈáèÂõûË°®„ÄÇ&lt;/p>
&lt;p>Á¥¢ÂºïÁöÑÈÄâÊã©ÊÄßË∂äÈ´òÔºåÊü•ËØ¢ÊïàÁéáË∂äÂ•ΩÔºåÂèØ‰ª•Âú®Êü•ÊâæËøáÁ®ã‰∏≠ËøáÊª§Êõ¥Â§öÁöÑË°å&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‚ùå È¢ëÁπÅÊõ¥Êñ∞ÁöÑÂ≠óÊÆµÔºåÂàõÂª∫Á¥¢ÂºïË¶ÅËÄÉËôëÁª¥Êä§Á¥¢ÂºïÁöÑÂºÄÈîÄ&lt;/p>
&lt;p>È¢ëÁπÅ‰øÆÊîπÁöÑÂ≠óÊÆµÔºå‰∏çÊé®ËçêÂàõÂª∫Á¥¢Âºï„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="Á¥¢ÂºïÂ§±Êïà‰∏éËß£ÂÜ≥ÊñπÊ°à">Á¥¢ÂºïÂ§±Êïà‰∏éËß£ÂÜ≥ÊñπÊ°à&lt;/h2>
&lt;blockquote>
&lt;p>ÊòØÂê¶‰ΩøÁî®Á¥¢ÂºïÂèñÂÜ≥‰∫é üöÄ Êü•ËØ¢‰ª£‰ª∑&lt;/p>
&lt;p>Âç≥‰ΩøÂèØ‰ª•‰ΩøÁî®Á¥¢ÂºïÊó∂Ôºå‰ΩÜ MySQL ËØÑ‰º∞ÂêéÔºå‰∏çÂ¶ÇÂÖ®Ë°®Êâ´ÊèèÔºå‰ºöÊîæÂºÉ‰ΩøÁî®Á¥¢Âºï&lt;/p>
&lt;/blockquote>
&lt;h3 id="-Á¥¢ÂºïÂàó‰∏çÁã¨Á´ãËøõË°å‰∫ÜËÆ°ÁÆóÊàñÂèòÊàê‰∫ÜÂèÇÊï∞">‚ö†Ô∏è Á¥¢ÂºïÂàó‰∏çÁã¨Á´ãÔºåËøõË°å‰∫ÜËÆ°ÁÆóÊàñÂèòÊàê‰∫ÜÂèÇÊï∞&lt;/h3>
&lt;ul>
&lt;li>Á¥¢ÂºïÂ≠óÊÆµËøõË°å‰∫ÜË°®ËææÂºèËÆ°ÁÆó&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">explain&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">form&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">employees&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">emp_no&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">100003&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/index/index1.png"
width="1185"
height="157"
srcset="https://emerywan.github.io/blog/blog/p/mysql/index/index1_huaa761d032e691cca90bef5eef1dadb87_81724_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mysql/index/index1_huaa761d032e691cca90bef5eef1dadb87_81724_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="1"
class="gallery-image"
data-flex-grow="754"
data-flex-basis="1811px"
>&lt;/p>
&lt;p>Â∫î‰∫ãÂÖàËÆ°ÁÆóÂ•ΩË°®ËææÂºèÁöÑÂÄºÔºåÂÜç‰º†ÂÖ•ÔºåÈÅøÂÖçÂú® SQL &lt;code>where&lt;/code> ÁöÑÂ∑¶‰æßÂÅöËÆ°ÁÆó„ÄÇ&lt;/p>
&lt;ul>
&lt;li>Á¥¢ÂºïÂ≠óÊÆµÊòØÂáΩÊï∞ÁöÑÂèÇÊï∞&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">explain&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">employees&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">substring&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fitst_name&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;Geo&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>‰∫ãÂÖàËÆ°ÁÆóÂ•ΩÂÜç‰º†ÂÖ•„ÄÇ&lt;/p>
&lt;p>ÊàñËÄÖ‰ΩøÁî®‰∏Ä‰∫õÁ≠â‰ª∑ÁöÑ SQL„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">explain&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">employees&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">first_name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">list&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;Geo%&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-- first_name ÈúÄË¶ÅÊòØÁ¥¢ÂºïÁöÑÊÉÖÂÜµ‰∏ãÊúâÊïàÔºàÊ†πÊçÆÂÆûÈôÖÂú∫ÊôØÔºâ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- Ê≥®ÊÑè like Á¥¢ÂºïÂ§±ÊïàÁöÑÊÉÖÂÜµ
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/index/index2.png"
width="1169"
height="154"
srcset="https://emerywan.github.io/blog/blog/p/mysql/index/index2_hu58e272ce7b5bb61c6085e6a94f631f41_86327_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mysql/index/index2_hu58e272ce7b5bb61c6085e6a94f631f41_86327_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="2"
class="gallery-image"
data-flex-grow="759"
data-flex-basis="1821px"
>&lt;/p>
&lt;h3 id="-‰ΩøÁî®‰∫ÜÂ∑¶Ê®°Á≥ä">‚ö†Ô∏è ‰ΩøÁî®‰∫ÜÂ∑¶Ê®°Á≥ä&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">explain&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">employees&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">first_name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">like&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;%Geo%&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">-- Êó†Ê≥ï‰ΩøÁî®Á¥¢Âºï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">explain&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">employee&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">first_name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">like&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;Geo%&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">-- ÂèØ‰ª•‰ΩøÁî®Á¥¢Âºï
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Â¶ÇÊûúÊó†Ê≥ïÈÅøÂÖçÔºå‰∏îÊúâËæÉÈ´òÈúÄÊ±ÇÔºåÂèØ‰ª•ËÄÉËôë‰ΩøÁî®ÊêúÁ¥¢ÂºïÊìé„ÄÇ&lt;/p>
&lt;h3 id="-or-Êü•ËØ¢ÁöÑÈÉ®ÂàÜÂ≠óÊÆµÊ≤°ÊúâÁ¥¢Âºï">‚ö†Ô∏è or Êü•ËØ¢ÁöÑÈÉ®ÂàÜÂ≠óÊÆµÊ≤°ÊúâÁ¥¢Âºï&lt;/h3>
&lt;p>or ÁöÑÂê´‰πâÊòØ‰∏§‰∏™Êù°‰ª∂Êª°Ë∂≥‰∏Ä‰∏™Âç≥ÂèØÔºåÊâÄ‰ª•Âè™Êúâ‰∏Ä‰∏™Êù°‰ª∂ÂàóÊúâÁ¥¢ÂºïÊòØÊó†Áî®ÁöÑ„ÄÇÂè™Ë¶ÅÊù°‰ª∂Âàó‰∏≠Êúâ‰∏Ä‰∏™‰∏çÊòØÁ¥¢ÂºïÂàóÔºåÂ∞±‰ºöËøõË°åÂÖ®Ë°®Êâ´Êèè„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">explain&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">employees&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">first_name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Georgi&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">or&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">last_name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Georgi&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-- ÂÅáËÆæÂΩìÂâç first_name ÊúâÁ¥¢ÂºïÔºålast_name Ê≤°ÊúâÁ¥¢ÂºïÔºåËØ•Êù° sql Êó†Ê≥ï‰ΩøÁî®Á¥¢Âºï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- index(fitst_name)
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/index/index3.png"
width="1148"
height="176"
srcset="https://emerywan.github.io/blog/blog/p/mysql/index/index3_hua5c1e2b296fd025c6e1f6de1e5790543_84429_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mysql/index/index3_hua5c1e2b296fd025c6e1f6de1e5790543_84429_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="3"
class="gallery-image"
data-flex-grow="652"
data-flex-basis="1565px"
>&lt;/p>
&lt;p>Ëß£ÂÜ≥ÔºöÊ†πÊçÆÂÆûÈôÖ‰∏öÂä°ÔºåÊ∑ªÂä†Áõ∏Â∫îÁöÑÁ¥¢Âºï„ÄÇ&lt;/p>
&lt;p>Ê∑ªÂä†Á¥¢ÂºïÂêéÔºåÈÅøÂÖç‰∫ÜÂÖ®Ë°®Êâ´Êèè„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/index/index4.png"
width="1129"
height="139"
srcset="https://emerywan.github.io/blog/blog/p/mysql/index/index4_hu903a3bbf3d6eb2ece40fc0c15484c985_86767_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mysql/index/index4_hu903a3bbf3d6eb2ece40fc0c15484c985_86767_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="4"
class="gallery-image"
data-flex-grow="812"
data-flex-basis="1949px"
>&lt;/p>
&lt;h3 id="-‰∏çÁ¨¶ÂêàÊúÄÂ∑¶ÂâçÁºÄÂéüÂàôÁöÑÊü•ËØ¢">‚ö†Ô∏è ‰∏çÁ¨¶ÂêàÊúÄÂ∑¶ÂâçÁºÄÂéüÂàôÁöÑÊü•ËØ¢&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">explain&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">employees&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">first_name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Facello&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-- index(last_name, first_name)
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/index/index5.png"
width="1156"
height="155"
srcset="https://emerywan.github.io/blog/blog/p/mysql/index/index5_huc69773c1cc30429ec167298f8192f5a8_78720_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mysql/index/index5_huc69773c1cc30429ec167298f8192f5a8_78720_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="5"
class="gallery-image"
data-flex-grow="745"
data-flex-basis="1789px"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">explain&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">employees&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">first_name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Facello&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-- Êõ¥Êç¢Á¥¢ÂºïÈ°∫Â∫è
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- index(first_name, last_name)
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/index/index6.png"
width="1144"
height="179"
srcset="https://emerywan.github.io/blog/blog/p/mysql/index/index6_huc94bdeb83f55eebd5e2d4f615313b023_79724_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mysql/index/index6_huc94bdeb83f55eebd5e2d4f615313b023_79724_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="6"
class="gallery-image"
data-flex-grow="639"
data-flex-basis="1533px"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">employees&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">last_name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">and&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">first_name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-- index(first_name, last_name)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- MySQL ÁöÑÂºïÊìé‰∏∫Êõ¥Â•ΩÂà©Áî®Â§çÂêàÁ¥¢ÂºïÔºå‰ºöÂä®ÊÄÅË∞ÉÊï¥Â≠óÊÆµÈ°∫Â∫è
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="-Â≠óÁ¨¶‰∏≤Êù°‰ª∂Ê≤°Êúâ‰ΩøÁî®-">‚ö†Ô∏è Â≠óÁ¨¶‰∏≤Êù°‰ª∂Ê≤°Êúâ‰ΩøÁî® &amp;quot;&amp;quot;&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">explain&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">dept_emp&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">dept_no&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">-- ËøôÈáå dept_no Âú®Êï∞ÊçÆÂ∫ìÂÆö‰πâ‰∏∫ varchar
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="-ÈöêÂºèËΩ¨Êç¢ÂØºËá¥Á¥¢ÂºïÂ§±Êïà">‚ö†Ô∏è ÈöêÂºèËΩ¨Êç¢ÂØºËá¥Á¥¢ÂºïÂ§±Êïà&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">emp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">dept_name&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">employees&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">emp&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">left&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">join&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">dept_emp&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">de&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">on&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">emp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">emp_no&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">de&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">emp_no&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">left&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">join&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">departments&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">on&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">de&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">dept_no&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">dept_no&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">de&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">emp_no&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;100001&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-- employees.emp_no dept_emp.emp_no Á±ªÂûã‰∏ç‰∏ÄËá¥Êó∂‰ºöÂØºËá¥ÈöêÂºèËΩ¨Êç¢
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- dept_emp de departments.dept_no Á±ªÂûã‰∏ç‰∏ÄËá¥Êó∂‰ºöÂØºËá¥ÈöêÂºèËΩ¨Êç¢
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="null-Êù°‰ª∂Êü•ËØ¢">null Êù°‰ª∂Êü•ËØ¢&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>Êü•ËØ¢Êó∂ÔºåÈááÁî® &lt;code>is null&lt;/code> &lt;code>is not null&lt;/code> Êù°‰ª∂ÔºåÊ†πÊçÆË°®‰∏≠ÁöÑÊï∞ÊçÆÂàÜÂ∏ÉÔºå&lt;strong>MySQL ‰ºöËá™Ë°åÂà§Êñ≠ÊòØÂê¶Ëµ∞Á¥¢ÂºïÔºåÂπ∂‰∏çÂõ∫ÂÆö&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>MySQL ÂÆòÊñπÂª∫ËÆÆÂ∞ΩÈáèÊääÂ≠óÊÆµÂÆö‰πâ‰∏∫ &lt;code>NOT NULL&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/index/index7.png"
width="821"
height="497"
srcset="https://emerywan.github.io/blog/blog/p/mysql/index/index7_hu4d7b4705c5cf93f7dc141b75d9f23067_225180_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mysql/index/index7_hu4d7b4705c5cf93f7dc141b75d9f23067_225180_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="7"
class="gallery-image"
data-flex-grow="165"
data-flex-basis="396px"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">explain&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">users&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mobile&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">is&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">null&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="mysql-ËØÑ‰º∞ÂÖ®Ë°®Êâ´ÊèèÊõ¥Âø´">MySQL ËØÑ‰º∞ÂÖ®Ë°®Êâ´ÊèèÊõ¥Âø´&lt;/h3>
&lt;p>MySQL Âú®Êü•ËØ¢Êó∂Ôºå‰ºöËØÑ‰º∞‰ΩøÁî®Á¥¢ÂºïÁöÑÊïàÁéá‰∏éËµ∞ÂÖ®Ë°®Êâ´ÊèèÁöÑÊïàÁéáÔºåÂ¶ÇÊûúËµ∞ÂÖ®Ë°®Êâ´ÊèèÊõ¥Âø´ÔºåÂàôÊîæÂºÉÁ¥¢ÂºïÔºåËµ∞ÂÖ®Ë°®Êâ´Êèè„ÄÇ&lt;/p>
&lt;p>Âõ†‰∏∫Á¥¢ÂºïÊòØÁî®Êù•Á¥¢ÂºïÂ∞ëÈáèÊï∞ÊçÆÁöÑÔºåÂ¶ÇÊûúÈÄöËøáÁ¥¢ÂºïÊü•ËØ¢ËøîÂõûÂ§ßÊâπÈáèÁöÑÊï∞ÊçÆÔºåÂàôËøò‰∏çÂ¶ÇËµ∞ÂÖ®Ë°®Êâ´ÊèèÊù•ÁöÑÂø´ÔºåÊ≠§Êó∂Á¥¢ÂºïÂ∞±‰ºöÂ§±Êïà„ÄÇ&lt;/p>
&lt;h2 id="ÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàô">ÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàô&lt;/h2>
&lt;p>ÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàôÊåáÁöÑÊòØÊü•ËØ¢‰ªéÁ¥¢ÂºïÁöÑÊúÄÂ∑¶ÂàóÂºÄÂßãÔºåÂπ∂‰∏î‰∏çË∑≥ËøáÁ¥¢Âºï‰∏≠ÁöÑÂàó„ÄÇ&lt;/p>
&lt;p>Â¶ÇÊûúË∑≥Ë∑ÉÊüê‰∏ÄÂàóÔºåÁ¥¢ÂºïÂ∞Ü‰ºöÈÉ®ÂàÜÂ§±Êïà(ÂêéÈù¢ÁöÑÂ≠óÊÆµÁ¥¢ÂºïÂ§±Êïà)„ÄÇ&lt;/p>
&lt;p>‰∏≠Èó¥‰∏çËÉΩË∑≥ËøáÊüê‰∏ÄÂàóÔºåÂê¶ÂàôËØ•ÂàóÂêéÈù¢ÁöÑÂ≠óÊÆµÁ¥¢ÂºïÂ∞ÜÂ§±Êïà„ÄÇ&lt;/p>
&lt;h2 id="ËåÉÂõ¥Êü•ËØ¢">ËåÉÂõ¥Êü•ËØ¢&lt;/h2>
&lt;p>ËÅîÂêàÁ¥¢Âºï‰∏≠ÔºåÂá∫Áé∞ËåÉÂõ¥Êü•ËØ¢(&amp;gt;, &amp;lt;)ÔºåËåÉÂõ¥Êü•ËØ¢Âè≥‰æßÁöÑÂàóÁ¥¢ÂºïÂ§±Êïà„ÄÇ&lt;/p>
&lt;h2 id="Ë¶ÜÁõñÁ¥¢Âºï">Ë¶ÜÁõñÁ¥¢Âºï&lt;/h2>
&lt;p>ÂØπ‰∫éÁ¥¢Âºï XÔºå&lt;code>SELECT&lt;/code> ÁöÑÂ≠óÊÆµÂè™ÈúÄË¶Å‰ªéÁ¥¢Âºï‰∏≠Â∞±ËÉΩËé∑ÂæóÔºåËÄåÊó†ÈúÄÂõûË°®Ëé∑Âèñ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- index(name, age, pos)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pos&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">staffs&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;July&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">and&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">age&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">14&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ÂâçÁºÄÁ¥¢Âºï">ÂâçÁºÄÁ¥¢Âºï&lt;/h2>
&lt;p>ÂΩìÂ≠óÊÆµÁ±ªÂûã‰∏∫Â≠óÁ¨¶‰∏≤ÔºàvarcharÔºåtextÔºålongtextÁ≠âÔºâÊó∂ÔºåÊúâÊó∂ÂÄôÈúÄË¶ÅÁ¥¢ÂºïÂæàÈïøÁöÑÂ≠óÁ¨¶‰∏≤ÔºåËøô‰ºöËÆ©
Á¥¢ÂºïÂèòÂæóÂæàÂ§ßÔºåÊü•ËØ¢Êó∂ÔºåÊµ™Ë¥πÂ§ßÈáèÁöÑÁ£ÅÁõò IOÔºå ÂΩ±ÂìçÊü•ËØ¢ÊïàÁéá„ÄÇ&lt;/p>
&lt;p>ÂèØ‰ª•Âè™Â∞ÜÂ≠óÁ¨¶‰∏≤ÁöÑ‰∏ÄÈÉ®ÂàÜÂâçÁºÄÔºåÂª∫Á´ãÁ¥¢ÂºïÔºåËøôÊ†∑ÂèØ‰ª•Â§ßÂ§ßËäÇÁ∫¶Á¥¢ÂºïÁ©∫Èó¥Ôºå‰ªéËÄåÊèêÈ´òÁ¥¢ÂºïÊïàÁéá„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- ‰∏∫ email Â≠óÊÆµÔºåÂª∫Á´ãÁ¥¢ÂºïÈïøÂ∫¶‰∏∫ 5 ÁöÑÂâçÁºÄÁ¥¢Âºï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">create&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">index&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">index_email_5&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">on&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">tb_user&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">email&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">));&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="explain">explain&lt;/h2>
&lt;p>Êü•Áúã SQL ËØ≠Âè•ÁöÑÊâßË°åËÆ°Âàí„ÄÇÂ≠óÊÆµÂê´‰πâÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>id&lt;/p>
&lt;ul>
&lt;li>Âú®‰∏Ä‰∏™Â§ßÁöÑÊü•ËØ¢ËØ≠Âè•‰∏≠ÔºåÊØè‰∏™ select ÂÖ≥ÈîÆÂ≠óÈÉΩÂØπÂ∫î‰∏Ä‰∏™ÂîØ‰∏Ä id&lt;/li>
&lt;li>id Áõ∏ÂêåÔºåÊâßË°åÈ°∫Â∫è‰ªé‰∏äÂà∞‰∏ãÔºõid ‰∏çÂêåÔºåÂÄºË∂äÂ§ßÔºåË∂äÂÖàÊâßË°å&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>select_type&lt;/p>
&lt;ul>
&lt;li>Ë°®Á§∫ select ÂØπÂ∫îÁöÑÊü•ËØ¢Á±ªÂûã&lt;/li>
&lt;li>SIMPLE (ÁÆÄÂçï select,‰∏ç‰ΩøÁî® union ÊàñÂ≠êÊü•ËØ¢Á≠â)&lt;/li>
&lt;li>PRIMARY (Êü•ËØ¢‰∏≠Ëã•ÂåÖÂê´‰ªª‰ΩïÂ§çÊùÇÁöÑÂ≠êÈÉ®ÂàÜ,ÊúÄÂ§ñÂ±ÇÁöÑ select Ë¢´Ê†áËÆ∞‰∏∫ PRIMARY)&lt;/li>
&lt;li>UNION (union ‰∏≠ÁöÑÁ¨¨‰∫å‰∏™ÊàñÂêéÈù¢ÁöÑ select ËØ≠Âè•)&lt;/li>
&lt;li>SUBQUERY (Â≠êÊü•ËØ¢‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™ select)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>table&lt;/p>
&lt;ul>
&lt;li>Ëøô‰∏ÄË°åÁöÑÊï∞ÊçÆÊòØÂÖ≥‰∫éÂì™Âº†Ë°®&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>type&lt;/p>
&lt;ul>
&lt;li>MySQL Âú®Ë°®‰∏≠ÊâæÂà∞ÊâÄÈúÄË°åÁöÑÊñπÂºè&lt;/li>
&lt;li>ÊÄßËÉΩÁî±Â•ΩÂà∞Â∑ÆÁöÑËøûÊé•Á±ªÂûã‰∏∫ÔºöNULL„ÄÅsystem„ÄÅconst„ÄÅeq_refÔºâ„ÄÅref„ÄÅrange„ÄÅindex„ÄÅallÔºàÂÖ®Ë°®Êâ´ÊèèÔºâ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>possible_keys&lt;/p>
&lt;ul>
&lt;li>ÂèØËÉΩÂ∫îÁî®Âú®ËøôÂº†Ë°®‰∏äÁöÑÁ¥¢Âºï&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>key&lt;/p>
&lt;ul>
&lt;li>ÂÆûÈôÖ‰ΩøÁî®ÁöÑÁ¥¢ÂºïÔºåÂ¶ÇÊûú‰∏∫ NULLÔºåÂàôÊ≤°Êúâ‰ΩøÁî®Á¥¢Âºï&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>key_len&lt;/p>
&lt;ul>
&lt;li>ÂÆûÈôÖ‰ΩøÁî®Á¥¢ÂºïÁöÑÈïøÂ∫¶ÔºàËØ•ÂÄº‰∏∫Á¥¢ÂºïÂ≠óÊÆµÊúÄÂ§ßÂèØËÉΩÈïøÂ∫¶ÔºåÂπ∂ÈùûÂÆûÈôÖ‰ΩøÁî®ÈïøÂ∫¶ÔºåÂú®‰∏çÊçüÂ§±Á≤æÁ°ÆÊÄßÁöÑÂâçÊèê‰∏ãÔºåÈïøÂ∫¶Ë∂äÁü≠Ë∂äÂ•ΩÔºâ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ref&lt;/p>
&lt;ul>
&lt;li>‰∏äËø∞Ë°®ÁöÑËøûÊé•ÂåπÈÖçÊù°‰ª∂ÔºåÂç≥Âì™‰∫õÂàóÊàñÂ∏∏ÈáèË¢´Áî®‰∫éÊü•ÊâæÁ¥¢ÂºïÂàó‰∏äÁöÑÂÄº&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>rows&lt;/p>
&lt;ul>
&lt;li>MySQL ËÆ§‰∏∫ÂøÖÈ°ªË¶ÅÊâßË°åÊü•ËØ¢ÁöÑË°åÊï∞ÔºåÂú® innodb ÂºïÊìéÁöÑË°®‰∏≠ÔºåÊòØ‰∏Ä‰∏™‰º∞ËÆ°ÂÄºÔºå‰∏çÊòØÂáÜÁ°ÆÁöÑ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Extra&lt;/p>
&lt;ul>
&lt;li>MySQLËß£ÂÜ≥Êü•ËØ¢ÁöÑËØ¶ÁªÜ‰ø°ÊÅØ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="ÂèÇËÄÉ">ÂèÇËÄÉ&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://juejin.cn/post/6936032090546765837" target="_blank" rel="noopener"
>https://juejin.cn/post/6936032090546765837&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Linux ÁõÆÂΩïÁªìÊûÑ‰ªãÁªç</title><link>https://emerywan.github.io/blog/p/linux-dir/</link><pubDate>Thu, 23 Jun 2022 02:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/linux-dir/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/10.jpeg" alt="Featured image of post Linux ÁõÆÂΩïÁªìÊûÑ‰ªãÁªç" />&lt;p>Linux ÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÁöÑÁ≥ªÁªüÔºå‰ΩøÂæó Linux ÂèëË°åÁâàÊú¨ÊúâÂæàÂ§öÔºåÂà©Áî® Linux ÂºÄÂèë‰∫ßÂìÅÁöÑÂõ¢Èòü‰πüÊúâÂæàÂ§öÔºåÂ¶ÇÊûú‰ªªÁî±ÊØè‰∏™‰∫∫ÈÉΩÊåâÁÖßËá™Â∑±ÁöÑÊÉ≥Ê≥ïÊù•ÈÖçÁΩÆ Linux Á≥ªÁªüÊñá‰ª∂ÁõÆÂΩïÔºåÂêéÊúüÂèØËÉΩ‰ºö‰∫ßÁîüËØ∏Â§öÁöÑÁÆ°ÁêÜÈóÆÈ¢ò„ÄÇ&lt;/p>
&lt;p>‰∏∫‰∫ÜÈÅøÂÖçËØ∏Â§ö‰ΩøÁî®ËÄÖÂØπ Linux Á≥ªÁªüÁõÆÂΩïÁªìÊûÑÂ§©È©¨Ë°åÁ©∫ÔºåLinux Âü∫Èáë‰ºöÂèëÂ∏É‰∫Ü FHS Ê†áÂáÜ„ÄÇÂ§öÊï∞ Linux ÂèëË°åÁâàÁ≥ªÁªüÈÉΩÈÅµÂæ™Ëøô‰∏ÄÊ†áÂáÜ„ÄÇ&lt;/p>
&lt;blockquote>
&lt;p>FHSÔºàFilesystem Hierarchy StandardÔºâÔºåÊñá‰ª∂Á≥ªÁªüÂ±ÇÊ¨°ÂåñÊ†áÂáÜÔºåËØ•Ê†áÂáÜËßÑÂÆö‰∫Ü Linux Á≥ªÁªü‰∏≠ÊâÄÊúâ‰∏ÄÁ∫ßÁõÆÂΩï‰ª•ÂèäÈÉ®ÂàÜ‰∫åÁ∫ßÁõÆÂΩïÔºà/usr Âíå /varÔºâÁöÑÁî®ÈÄî„ÄÇÂèëÂ∏ÉÊ≠§Ê†áÂáÜÁöÑ‰∏ªË¶ÅÁõÆÁöÑÂ∞±ÊòØ‰∏∫‰∫ÜËÆ©Áî®Êà∑Ê∏ÖÊ•öÂú∞‰∫ÜËß£ÊØè‰∏™ÁõÆÂΩïÂ∫îËØ•Â≠òÊîæ‰ªÄ‰πàÁ±ªÂûãÁöÑÊñá‰ª∂„ÄÇ&lt;/p>
&lt;/blockquote>
&lt;p>Âá†‰πéÊâÄÊúâÁöÑ Linux ÂèëË°åÁâàÈÉΩÂåÖÂê´‰ª•‰∏ãÁöÑÁõÆÂΩïÁªìÊûÑÔºö&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/linux-dir/directory.png"
width="950"
height="450"
srcset="https://emerywan.github.io/blog/blog/p/linux-dir/directory_hua98ec03a363a3999681794ab96f9f09a_36725_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/linux-dir/directory_hua98ec03a363a3999681794ab96f9f09a_36725_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="directory"
class="gallery-image"
data-flex-grow="211"
data-flex-basis="506px"
>&lt;/p>
&lt;p>‰∏çÂêåÁöÑÂèëË°åÁâàÂèØËÉΩ‰ºöÊ∑ªÂä†‰∏Ä‰∏ãÁã¨ÊúâÁöÑÁõÆÂΩïÔºå‰æãÂ¶Ç Ubuntu ‰∏≠ÂåÖÂê´ &lt;code>/snap&lt;/code> Êù•ÊîæÁΩÆ snap Â∫îÁî®„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/linux-dir/root.png"
width="893"
height="485"
srcset="https://emerywan.github.io/blog/blog/p/linux-dir/root_hu18035549831c69e974e5e46a3403bc3f_73150_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/linux-dir/root_hu18035549831c69e974e5e46a3403bc3f_73150_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="root"
class="gallery-image"
data-flex-grow="184"
data-flex-basis="441px"
>&lt;/p>
&lt;h2 id="bin">/bin&lt;/h2>
&lt;p>Binary&lt;/p>
&lt;p>‰∫åËøõÂà∂ÂèØÊâßË°åÊñá‰ª∂ÂíåÂèØÊâßË°åÊñá‰ª∂ÁöÑÂø´Êç∑ÊñπÂºèÔºàËΩØÈìæÊé•ÔºâÔºåÂ≠òÊîæÁùÄÂ∏∏Áî®ÁöÑÂëΩ‰ª§„ÄÇ&lt;/p>
&lt;p>‰æãÂ¶ÇÂ∏∏Áî®ÁöÑ &lt;code>ls&lt;/code> &lt;code>cp&lt;/code> &lt;code>cd&lt;/code> Á≠âÂëΩ‰ª§ÈÉΩÂ≠òÊîæÂú®ËøôÈáå„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/linux-dir/bin.png"
width="893"
height="485"
srcset="https://emerywan.github.io/blog/blog/p/linux-dir/bin_hu88e8cbe9114805e25899e6212c3f7b45_50694_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/linux-dir/bin_hu88e8cbe9114805e25899e6212c3f7b45_50694_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="bin"
class="gallery-image"
data-flex-grow="184"
data-flex-basis="441px"
>&lt;/p>
&lt;h2 id="boot">/boot&lt;/h2>
&lt;p>ÂêØÂä® Linux Êó∂‰ΩøÁî®ÁöÑ‰∏Ä‰∫õÊ†∏ÂøÉÊñá‰ª∂ÔºåÂåÖÊã¨‰∏Ä‰∫õËøûÊé•Êñá‰ª∂‰ª•ÂèäÈïúÂÉèÊñá‰ª∂„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/linux-dir/boot.png"
width="893"
height="485"
srcset="https://emerywan.github.io/blog/blog/p/linux-dir/boot_hu918783384ee5a012af8445662a5570f5_99689_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/linux-dir/boot_hu918783384ee5a012af8445662a5570f5_99689_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="boot"
class="gallery-image"
data-flex-grow="184"
data-flex-basis="441px"
>&lt;/p>
&lt;p>Â¶ÇÊûúÊòØ‰ª• UEFI ÊñπÂºèÂÆâË£ÖÁöÑÁ≥ªÁªüÔºåÂÖ∂‰∏≠ &lt;code>efi&lt;/code> Êñá‰ª∂Â§π‰∏≠ÁöÑ‰∏∫ &lt;code>EFI&lt;/code> ÂàÜÂå∫‰∏≠ÁöÑÂºïÂØº„ÄÇ&lt;/p>
&lt;h2 id="dev">/dev&lt;/h2>
&lt;p>Device&lt;/p>
&lt;p>Â≠òÊîæÁùÄÊâÄÊúâÁöÑËÆæÂ§áÊñá‰ª∂„ÄÇÂú® Linux ‰∏≠ÔºåÊâÄÊúâ‰∏úË•øÈÉΩÊòØ‰ª•Êñá‰ª∂ÁöÑÂΩ¢ÂºèÂ≠òÂú®ÁöÑÔºåÂåÖÊã¨Á°¨‰ª∂ËÆæÂ§á„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/linux-dir/dev.png"
width="893"
height="485"
srcset="https://emerywan.github.io/blog/blog/p/linux-dir/dev_hu5755a852922f274414d0e5a0eab070dd_98725_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/linux-dir/dev_hu5755a852922f274414d0e5a0eab070dd_98725_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="dev"
class="gallery-image"
data-flex-grow="184"
data-flex-basis="441px"
>&lt;/p>
&lt;h2 id="etc">/etc&lt;/h2>
&lt;p>Etcetera&lt;/p>
&lt;p>Â≠òÊîæÁ®ãÂ∫èÁöÑÈÖçÁΩÆ‰ø°ÊÅØÔºåÂ§ßÂ§öÊï∞ÂÆâË£ÖÁöÑÂ∫îÁî®ÈÖçÁΩÆ‰ø°ÊÅØÈÉΩ‰ºöÂú®ËøôÈáå„ÄÇ&lt;/p>
&lt;p>‰æãÂ¶ÇÔºö&lt;/p>
&lt;ul>
&lt;li>&lt;code>/etc/apt&lt;/code> apt Ê∫êÈÖçÁΩÆÁõÆÂΩï&lt;/li>
&lt;li>&lt;code>/ect/vim&lt;/code> vim ÈÖçÁΩÆÁõÆÂΩï&lt;/li>
&lt;li>&lt;code>/etc/nginx&lt;/code> nginx ÈÖçÁΩÆÁõÆÂΩï&lt;/li>
&lt;li>&lt;code>/ect/redis&lt;/code> redis ÈÖçÁΩÆÁõÆÂΩï&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/linux-dir/etc.png"
width="893"
height="485"
srcset="https://emerywan.github.io/blog/blog/p/linux-dir/etc_hu7a52980e1c04af5a90bf8edab9585ec6_85844_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/linux-dir/etc_hu7a52980e1c04af5a90bf8edab9585ec6_85844_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="etc"
class="gallery-image"
data-flex-grow="184"
data-flex-basis="441px"
>&lt;/p>
&lt;h2 id="home">/home&lt;/h2>
&lt;p>Áî®Êà∑ÁöÑ‰∏ªÁõÆÂΩï„ÄÇ&lt;/p>
&lt;p>Âú® Linux ‰∏≠ÔºåÊØè‰∏™Áî®Êà∑ÈÉΩÊúâ‰∏Ä‰∏™Ëá™Â∑±ÁöÑÁõÆÂΩïÔºå‰∏ÄËà¨ËØ•ÁõÆÂΩïÂêçÊòØ‰ª•Áî®Êà∑ÁöÑË¥¶Âè∑ÂëΩÂêç„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/linux-dir/home.png"
width="893"
height="485"
srcset="https://emerywan.github.io/blog/blog/p/linux-dir/home_hud18e334789b3c740b9a20da6a45ce695_61060_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/linux-dir/home_hud18e334789b3c740b9a20da6a45ce695_61060_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="home"
class="gallery-image"
data-flex-grow="184"
data-flex-basis="441px"
>&lt;/p>
&lt;h2 id="lib">/lib&lt;/h2>
&lt;p>Library&lt;/p>
&lt;p>Á≥ªÁªüÊúÄÂü∫Êú¨ÁöÑÂä®ÊÄÅËøûÊé•ÂÖ±‰∫´Â∫ìÔºåÂÖ∂‰ΩúÁî®Á±ª‰ºº‰∫é Windows ÈáåÁöÑ DLL Êñá‰ª∂„ÄÇ&lt;/p>
&lt;p>Âá†‰πéÊâÄÊúâÁöÑÂ∫îÁî®Á®ãÂ∫èÈÉΩÈúÄË¶ÅÁî®Âà∞Ëøô‰∫õÂÖ±‰∫´Â∫ì„ÄÇÂåÖÂê´ bin Âíå sbin ‰∏≠ÂèØÊâßË°åÊñá‰ª∂ÁöÑ‰æùËµñ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/linux-dir/lib.png"
width="893"
height="485"
srcset="https://emerywan.github.io/blog/blog/p/linux-dir/lib_hub083733446fb3cb4ae55f28313c8182b_83036_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/linux-dir/lib_hub083733446fb3cb4ae55f28313c8182b_83036_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="lib"
class="gallery-image"
data-flex-grow="184"
data-flex-basis="441px"
>&lt;/p>
&lt;h2 id="media">/media&lt;/h2>
&lt;p>Ëá™Âä®ÊåÇËΩΩÁöÑËÆæÂ§áÔºåÊØîÂ¶Ç U ÁõòÔºåÁßªÂä®Á°¨ÁõòÔºåÁΩëÁªúËÆæÂ§áÁ≠âÁöÑÁõÆÂΩï„ÄÇ&lt;/p>
&lt;p>ÊØîÂ¶ÇÁé∞Âú®Êúâ‰∏Ä‰∏™ U ÁõòÔºåÊèíÂà∞ÁîµËÑë‰∏ä‰πãÂêéÔºåÁ≥ªÁªü‰ºöÊää U ÁõòËá™Âä®ÊåÇËΩΩÂà∞ &lt;code>/media/$USER&lt;/code> Êñá‰ª∂Â§π‰∏≠„ÄÇ&lt;/p>
&lt;h2 id="mnt">/mnt&lt;/h2>
&lt;p>Êèê‰æõÁªôÁî®Êà∑‰∏¥Êó∂ÊâãÂä®ÊåÇËΩΩËÆæÂ§áÊñá‰ª∂Â§πÔºå‰∏ÄËà¨ÊòØÁ©∫Êñá‰ª∂Â§π„ÄÇ&lt;/p>
&lt;p>ÊØîÂ¶ÇÁé∞Âú®Ë¶ÅÊâãÂä®ÊåÇËΩΩ‰∏Ä‰∏™Á°¨ÁõòÔºåÂèØÁî®Â¶Ç‰∏ãÊåÇËΩΩÂà∞ &lt;code>/mnt&lt;/code>Ôºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">mount /dev/sdb1 /mnt/disk
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="opt">/opt&lt;/h2>
&lt;p>Optional&lt;/p>
&lt;p>‰∏Ä‰∫õÁ¨¨‰∏âÊñπËΩØ‰ª∂ÂÆâË£ÖÁöÑÁõÆÂΩï„ÄÇ&lt;/p>
&lt;p>ÊØîÂ¶Ç Chrome ÊµèËßàÂô®ÔºåWPS Á≠âËΩØ‰ª∂ÔºåÈÉΩ‰ºöÂÆâË£ÖÂú®ËøôÈáå„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/linux-dir/opt.png"
width="893"
height="485"
srcset="https://emerywan.github.io/blog/blog/p/linux-dir/opt_huea96cc753b9c5430ebdf81edcd8754fb_76369_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/linux-dir/opt_huea96cc753b9c5430ebdf81edcd8754fb_76369_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="opt"
class="gallery-image"
data-flex-grow="184"
data-flex-basis="441px"
>&lt;/p>
&lt;h2 id="root">/root&lt;/h2>
&lt;p>ËøôÊòØ root Áî®Êà∑ÁöÑÂÆ∂ÁõÆÂΩï„ÄÇ&lt;/p>
&lt;h2 id="proc">/proc&lt;/h2>
&lt;p>Processes&lt;/p>
&lt;p>&lt;code>/proc&lt;/code> ÊòØ‰∏ÄÁßç‰º™Êñá‰ª∂Á≥ªÁªüÔºà‰πüÂç≥ËôöÊãüÊñá‰ª∂Á≥ªÁªüÔºâÔºåÂ≠òÂÇ®ÁöÑÊòØÂΩìÂâçÂÜÖÊ†∏ËøêË°åÁä∂ÊÄÅÁöÑ‰∏ÄÁ≥ªÂàóÁâπÊÆäÊñá‰ª∂ÔºåËøô‰∏™ÁõÆÂΩïÊòØ‰∏Ä‰∏™ËôöÊãüÁöÑÁõÆÂΩïÔºåÂÆÉÊòØÁ≥ªÁªüÂÜÖÂ≠òÁöÑÊò†Â∞ÑÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÁõ¥Êé•ËÆøÈóÆËøô‰∏™ÁõÆÂΩïÊù•Ëé∑ÂèñÁ≥ªÁªü‰ø°ÊÅØ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/linux-dir/procversion.png"
width="734"
height="476"
srcset="https://emerywan.github.io/blog/blog/p/linux-dir/procversion_hua30e25cc62b3a6421f2f9b1383e8ea4d_32573_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/linux-dir/procversion_hua30e25cc62b3a6421f2f9b1383e8ea4d_32573_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="procversion"
class="gallery-image"
data-flex-grow="154"
data-flex-basis="370px"
>&lt;/p>
&lt;p>&lt;code>/proc&lt;/code> ÈáåÈù¢Êúâ‰∏ÄÂ§ßÂ†ÜÊï∞Â≠óÂëΩÂêçÁöÑÊñá‰ª∂Â§πÔºåËøô‰∏™Êï∞Â≠óÂÖ∂ÂÆûÊòØ Process IDÔºàPIDÔºâÔºåÂØπÂ∫îÁùÄËøêË°åÁöÑÊúçÂä°„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/linux-dir/procps.png"
width="734"
height="476"
srcset="https://emerywan.github.io/blog/blog/p/linux-dir/procps_hu3633a821f850bd2d5d2ffca1ae08eb64_38818_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/linux-dir/procps_hu3633a821f850bd2d5d2ffca1ae08eb64_38818_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="procps"
class="gallery-image"
data-flex-grow="154"
data-flex-basis="370px"
>&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/linux-dir/proccat.png"
width="734"
height="476"
srcset="https://emerywan.github.io/blog/blog/p/linux-dir/proccat_hu433bb9e8c82cee4321d94d03495747e7_47919_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/linux-dir/proccat_hu433bb9e8c82cee4321d94d03495747e7_47919_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="proccat"
class="gallery-image"
data-flex-grow="154"
data-flex-basis="370px"
>&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/linux-dir/proc1929.png"
width="893"
height="485"
srcset="https://emerywan.github.io/blog/blog/p/linux-dir/proc1929_hue982c12fdacf4a0dd83c56ac9a4d5cac_81321_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/linux-dir/proc1929_hue982c12fdacf4a0dd83c56ac9a4d5cac_81321_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="proc1929"
class="gallery-image"
data-flex-grow="184"
data-flex-basis="441px"
>&lt;/p>
&lt;h2 id="sbin">/sbin&lt;/h2>
&lt;p>Superuser Binaries&lt;/p>
&lt;p>ËøôÈáåÂ≠òÊîæÁöÑÊòØÁ≥ªÁªüÁÆ°ÁêÜÂëò‰ΩøÁî®ÁöÑÁ≥ªÁªüÁÆ°ÁêÜÁ®ãÂ∫è„ÄÇ&lt;/p>
&lt;p>‰æãÂ¶ÇÂ∏∏ËßÅÁöÑ &lt;code>groupadd&lt;/code> &lt;code>groupdel&lt;/code>„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/linux-dir/sbin.png"
width="893"
height="485"
srcset="https://emerywan.github.io/blog/blog/p/linux-dir/sbin_hufd2d26ea46f84ef22af6fb59ef9f4da6_85048_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/linux-dir/sbin_hufd2d26ea46f84ef22af6fb59ef9f4da6_85048_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="sbin"
class="gallery-image"
data-flex-grow="184"
data-flex-basis="441px"
>&lt;/p>
&lt;h2 id="srv">/srv&lt;/h2>
&lt;p>Service&lt;/p>
&lt;p>‰∏ªË¶ÅÁî®Êù•Â≠òÊîæÊúçÂä°Êï∞ÊçÆ„ÄÇÂØπ‰∫éÊ°åÈù¢Áâà Linux Á≥ªÁªüÔºåËøô‰∏™Êñá‰ª∂Â§π‰∏ÄËà¨ÊòØÁ©∫ÁöÑÔºå‰ΩÜÊòØÂØπ‰∫é Linux ÊúçÂä°Âô®ÔºåWeb ÊúçÂä°ÊàñËÄÖ FTP Êñá‰ª∂ÊúçÂä°ÁöÑËµÑÊ∫êÂèØ‰ª•Â≠òÊîæÂú®ËøôÈáå„ÄÇ&lt;/p>
&lt;h2 id="tmp">/tmp&lt;/h2>
&lt;p>Temporary&lt;/p>
&lt;p>Â≠òÂÇ®‰∏Ä‰∫õÁ®ãÂ∫èÁöÑ‰∏¥Êó∂Êñá‰ª∂„ÄÇ&lt;/p>
&lt;p>‰∏¥Êó∂Êñá‰ª∂ÂèØËÉΩËµ∑Âà∞ÂæàÈáçË¶ÅÁöÑ‰ΩúÁî®„ÄÇÊØîÂ¶ÇÊúâÊó∂ÂÄô Word ÊñáÊ°£Â¥©Ê∫É‰∫ÜÔºåÂ•Ω‰∏çÂÆπÊòìÂÜôÁöÑ‰∏úË•øÂÖ®Ê≤°‰∫ÜÔºåLinux ÁöÑÂæàÂ§öÊñáÊú¨ÁºñËæëÂô®ÈÉΩ‰ºöÂú® &lt;code>/tmp&lt;/code> Êîæ‰∏Ä‰ªΩÂΩìÂâçÊñáÊú¨ÁöÑ copy ‰Ωú‰∏∫‰∏¥Êó∂Êñá‰ª∂ÔºåÂ¶ÇÊûú‰Ω†ÁöÑÁºñËæëÂô®ÊÑèÂ§ñÂ¥©Ê∫ÉÔºåÊúâÊú∫‰ºöÂú® &lt;code>/tmp&lt;/code> Êâæ‰∏ÄÊâæ‰∏¥Êó∂Êñá‰ª∂Êä¢Êïë‰∏Ä‰∏ã„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/linux-dir/tmp.png"
width="893"
height="485"
srcset="https://emerywan.github.io/blog/blog/p/linux-dir/tmp_hu1b50e9a39b2feae689bf9b3fbfb30a17_96039_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/linux-dir/tmp_hu1b50e9a39b2feae689bf9b3fbfb30a17_96039_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="tmp"
class="gallery-image"
data-flex-grow="184"
data-flex-basis="441px"
>&lt;/p>
&lt;h2 id="usr">/usr&lt;/h2>
&lt;p>Unix Shared Resources&lt;/p>
&lt;p>ÂÖ±‰∫´ËµÑÊ∫êÔºåËøôÊòØ‰∏Ä‰∏™ÈùûÂ∏∏ÈáçË¶ÅÁöÑÁõÆÂΩïÔºåÁî®Êà∑ÁöÑÂæàÂ§öÂ∫îÁî®Á®ãÂ∫èÂíåÊñá‰ª∂ÈÉΩÊîæÂú®Ëøô‰∏™ÁõÆÂΩï‰∏ãÔºåÁ±ª‰ºº‰∫é windows ‰∏ãÁöÑ program files ÁõÆÂΩï„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/linux-dir/usr.png"
width="893"
height="485"
srcset="https://emerywan.github.io/blog/blog/p/linux-dir/usr_hu2204c3c3a7c106aec9dea68c29029999_46168_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/linux-dir/usr_hu2204c3c3a7c106aec9dea68c29029999_46168_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="usr"
class="gallery-image"
data-flex-grow="184"
data-flex-basis="441px"
>&lt;/p>
&lt;h3 id="usrbin---usrsbin">/usr/bin /usr/sbin&lt;/h3>
&lt;p>Á≥ªÁªüÁî®Êà∑ / Ë∂ÖÁ∫ßÁÆ°ÁêÜÂëò ‰ΩøÁî®ÁöÑÂ∫îÁî®Á®ãÂ∫è„ÄÇ&lt;/p>
&lt;p>Âú® Ubuntu ‰∏≠Ôºå&lt;code>/bin&lt;/code> &lt;code>/sbin&lt;/code> ÂÖ∂ÂÆûÂ∞±ÊòØ &lt;code>/usr/bin&lt;/code> &lt;code>/usr/sbin&lt;/code> ÁöÑ‰∏Ä‰∏™ÈìæÊé•„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/linux-dir/usrbin.png"
width="734"
height="476"
srcset="https://emerywan.github.io/blog/blog/p/linux-dir/usrbin_hu6a478b7090e2cf503d0d2abd86c3db3e_22476_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/linux-dir/usrbin_hu6a478b7090e2cf503d0d2abd86c3db3e_22476_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="usrbin"
class="gallery-image"
data-flex-grow="154"
data-flex-basis="370px"
>&lt;/p>
&lt;h3 id="usrsrc">/usr/src&lt;/h3>
&lt;p>ÂÜÖÊ†∏Ê∫ê‰ª£Á†ÅÈªòËÆ§ÁöÑÊîæÁΩÆÁõÆÂΩï„ÄÇ&lt;/p>
&lt;h3 id="usrlib">/usr/lib&lt;/h3>
&lt;p>ÂåÖÂê´ÊâÄÊúâÈÇ£‰∫õÁî®Êà∑‰∏çËÉΩÁõ¥Êé•ÊâßË°åÁöÑÂ∫ìÊñá‰ª∂„ÄÇÂåÖÂê´ÁùÄÊâÄÊúâ &amp;lsquo;/usr/bin&amp;rsquo; Âíå &amp;lsquo;/usr/sbin&amp;rsquo; ÁõÆÂΩï‰∏≠ÂèØÊâßË°åÂëΩ‰ª§Á®ãÂ∫èÈúÄË∞ÉÁî®ÁöÑ‰∫åËøõÂà∂Â∫ìÊñá‰ª∂„ÄÇ&lt;/p>
&lt;p>‰æãÂ¶Ç‰ΩøÁî® &lt;code>apt&lt;/code> ÂÆâË£Ö openjdk ÁöÑÁõÆÂΩïÂú® &lt;code>/usr/lib/jvm&lt;/code>„ÄÇ&lt;/p>
&lt;h3 id="usrshare">/usr/share&lt;/h3>
&lt;p>ÂåÖÂê´Áã¨Á´ã‰∫éÊû∂ÊûÑÁöÑÂÖ±‰∫´Êï∞ÊçÆ„ÄÇ&lt;/p>
&lt;p>‰æãÂ¶ÇÁ≥ªÁªüÊ°åÈù¢ÂõæÊ†áÁõÆÂΩï &lt;code>/user/share/applications&lt;/code>„ÄÇ&lt;/p>
&lt;h3 id="usrlocal">/usr/local&lt;/h3>
&lt;p>Áî®‰∫éÊú¨Âú∞ÂÆâË£ÖËΩØ‰ª∂ÁöÑÁõÆÊ†áÁõÆÂΩï„ÄÇ‰ªéÊ∫ê‰ª£Á†ÅÂÆâË£ÖÁöÑÁî®Êà∑Á®ãÂ∫èÈÉΩÂ∞ÜÂÆâË£ÖÂà∞ËøôÈáå„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/linux-dir/usrlocal.png"
width="893"
height="485"
srcset="https://emerywan.github.io/blog/blog/p/linux-dir/usrlocal_hu79bfa6340b43e74ca17a031487cf8d3c_78872_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/linux-dir/usrlocal_hu79bfa6340b43e74ca17a031487cf8d3c_78872_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="usrlocal"
class="gallery-image"
data-flex-grow="184"
data-flex-basis="441px"
>&lt;/p>
&lt;h2 id="var">/var&lt;/h2>
&lt;p>Variable&lt;/p>
&lt;p>Â≠òÊîæÁùÄÂú®‰∏çÊñ≠Êâ©ÂÖÖÁùÄÁöÑ‰∏úË•øÔºåÊàë‰ª¨‰π†ÊÉØÂ∞ÜÈÇ£‰∫õÁªèÂ∏∏Ë¢´‰øÆÊîπÁöÑÁõÆÂΩïÊîæÂú®Ëøô‰∏™ÁõÆÂΩï‰∏ã„ÄÇ&lt;/p>
&lt;p>‰æãÂ¶ÇÊó•ÂøóÊñá‰ª∂„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/linux-dir/var.png"
width="893"
height="485"
srcset="https://emerywan.github.io/blog/blog/p/linux-dir/var_hu71c741f1b1910044aff61d309cf9c7cd_50789_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/linux-dir/var_hu71c741f1b1910044aff61d309cf9c7cd_50789_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="var"
class="gallery-image"
data-flex-grow="184"
data-flex-basis="441px"
>&lt;/p>
&lt;h2 id="ÂèÇËÄÉ">ÂèÇËÄÉ&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://segmentfault.com/a/1190000038497705" target="_blank" rel="noopener"
>https://segmentfault.com/a/1190000038497705&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.runoob.com/linux/linux-system-contents.html" target="_blank" rel="noopener"
>https://www.runoob.com/linux/linux-system-contents.html&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Êï∞ÊçÆÂ∫ìÂü∫Á°ÄÊÄªÁªì</title><link>https://emerywan.github.io/blog/p/mysql/sql-base/</link><pubDate>Wed, 01 Jun 2022 18:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/mysql/sql-base/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/29.jpeg" alt="Featured image of post Êï∞ÊçÆÂ∫ìÂü∫Á°ÄÊÄªÁªì" />&lt;h2 id="ÂàõÂª∫Êï∞ÊçÆÂ∫ì">ÂàõÂª∫Êï∞ÊçÆÂ∫ì&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">create&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">database&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">use&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ÂàõÂª∫Ë°®">ÂàõÂª∫Ë°®&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">create&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">table&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mytable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">not&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">null&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">auto_increment&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">col1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">not&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">null&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">default&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">col2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">varchar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">45&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">null&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">col3&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">date&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">null&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">primary&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">key&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="‰øÆÊîπË°®">‰øÆÊîπË°®&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">alter&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">table&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mytable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">add&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">col&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">char&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">20&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">alter&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">table&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mytable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">drop&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">column&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">col&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="Âà†Èô§Ë°®">Âà†Èô§Ë°®&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">drop&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">table&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mytable&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ÊèíÂÖ•‰ø°ÊÅØ">ÊèíÂÖ•‰ø°ÊÅØ&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">insert&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">into&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mytable&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">col1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">col2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">values&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;val1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;val2&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="Êõ¥Êñ∞‰ø°ÊÅØ">Êõ¥Êñ∞‰ø°ÊÅØ&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">update&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mytable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">set&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">col&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">val&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="Âà†Èô§‰ø°ÊÅØ">Âà†Èô§‰ø°ÊÅØ&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">delete&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mytable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="Êü•ËØ¢">Êü•ËØ¢&lt;/h2>
&lt;h3 id="distinct">distinct&lt;/h3>
&lt;p>ÂéªÈáç&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">distinct&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">col1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">col2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mytable&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="limit">limit&lt;/h3>
&lt;p>ÈôêÂà∂ËøîÂõûÁöÑË°åÊï∞&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- ËøîÂõûÂâç5Ë°å
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mytable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">limit&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mytable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">limit&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-- ËøîÂõû 3-5 Ë°å
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- offset:2, limit:3 Ë∑≥Ëøá2Ë°åÂèñ3‰∏™ÁªìÊûú
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mytable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">limit&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mytable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">limit&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">offset&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="asc">asc&lt;/h2>
&lt;p>ÂçáÂ∫èÔºàÈªòËÆ§Ôºâ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mytable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">order&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">by&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">col1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">asc&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="desc">desc&lt;/h2>
&lt;p>ÈôçÂ∫è&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mytable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">order&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">by&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">col2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">desc&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ËøáÊª§">ËøáÊª§&lt;/h2>
&lt;p>where&lt;/p>
&lt;ul>
&lt;li>
&lt;p>= Á≠â‰∫é&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&amp;lt; Â∞è‰∫é&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&amp;gt; Â§ß‰∫é&lt;/p>
&lt;/li>
&lt;li>
&lt;p>!= ‰∏çÁ≠â‰∫é&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&amp;lt;= Â∞è‰∫éÁ≠â‰∫é&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&amp;gt;= Â§ß‰∫éÁ≠â‰∫é&lt;/p>
&lt;/li>
&lt;li>
&lt;p>between &amp;hellip; and &amp;hellip; ‰∏§‰∏™ÂÄº‰πãÈó¥ÔºàÂ∑¶Èó≠Âè≥Èó≠Âå∫Èó¥Ôºâ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>is null Á©∫ÂÄº&lt;/p>
&lt;/li>
&lt;li>
&lt;p>and&lt;/p>
&lt;/li>
&lt;li>
&lt;p>or&lt;/p>
&lt;/li>
&lt;li>
&lt;p>in&lt;/p>
&lt;/li>
&lt;li>
&lt;p>not&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mytable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">col&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">is&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">null&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ÈÄöÈÖçÁ¨¶">ÈÄöÈÖçÁ¨¶&lt;/h2>
&lt;ul>
&lt;li>&lt;code>%&lt;/code>
&lt;ul>
&lt;li>ÂåπÈÖç &amp;gt;= 0 ‰∏™Â≠óÁ¨¶&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>_&lt;/code>
&lt;ul>
&lt;li>ÂåπÈÖç‰∏Ä‰∏™Â≠óÁ¨¶&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>[]&lt;/code>
&lt;ul>
&lt;li>ÂåπÈÖçÈõÜÂêàÂÜÖ‰∏≠ÁöÑ‰ªª‰∏ÄÂ≠óÁ¨¶&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>[^]&lt;/code>
&lt;ul>
&lt;li>‰∏çÂåπÈÖçÈõÜÂêàÂÜÖÁöÑ‰ªª‰∏ÄÂ≠óÁ¨¶&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- ‰∏ç‰ª• A B ÂºÄÂ§¥ÁöÑ‰ªªÊÑèÊñáÊú¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mytable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">col&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">like&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;[^AB]%&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-- Â≠¶Âè∑ÁöÑÊúÄÂêé‰∏Ä‰Ωç‰∏çÊòØ2„ÄÅ3„ÄÅ5ÁöÑÂ≠¶Áîü‰ø°ÊÅØ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">Â≠¶ÁîüË°®&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">Â≠¶Âè∑&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">like&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;%[^235]&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-- Êü•ËØ¢Â≠¶ÁîüË°®‰∏≠Âßì Âº†„ÄÅÊùé„ÄÅÂàò ÁöÑÂ≠¶ÁîüÁöÑÊÉÖÂÜµ„ÄÇ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">Â≠¶ÁîüË°®&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">ÂßìÂêç&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">like&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;[Âº†ÊùéÂàò]%&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ÂàÜÁªÑ">ÂàÜÁªÑ&lt;/h2>
&lt;p>GROUP BY&lt;/p>
&lt;p>ÊääÂÖ∑ÊúâÁõ∏ÂêåÁöÑÊï∞ÊçÆÂÄºÁöÑË°åÔºåÊîæÂú®Âêå‰∏ÄÁªÑ‰∏≠„ÄÇ&lt;/p>
&lt;p>ÂèØ‰ª•ÂØπÂêå‰∏ÄÂàÜÁªÑÊï∞ÊçÆÔºå‰ΩøÁî®Ê±áÊÄªÂáΩÊï∞ËøõË°åÂ§ÑÁêÜÔºå‰æãÂ¶ÇÊ±ÇÂàÜÁªÑÊï∞ÊçÆÁöÑÂπ≥ÂùáÂÄº„ÄÇ&lt;/p>
&lt;p>ÊåáÂÆöÁöÑÂàÜÁªÑÂ≠óÊÆµÔºåÂ§ÑÁêÜËÉΩÊåâÂ≠óÊÆµËøõË°åÂàÜÁªÑÔºå‰πü‰ºöËá™Âä®ÊåâËØ•Â≠óÊÆµËøõË°åÊéíÂ∫è„ÄÇ&lt;/p>
&lt;p>HAVING ËøáÊª§ÂàÜÁªÑ„ÄÇ&lt;/p>
&lt;h2 id="Â≠êÊü•ËØ¢">Â≠êÊü•ËØ¢&lt;/h2>
&lt;p>Â≠êÊü•ËØ¢Âè™ËÉΩËøîÂõû‰∏Ä‰∏™Â≠óÊÆµÁöÑÊï∞ÊçÆ„ÄÇÂèØ‰ª•Â∞ÜÂ≠êÊü•ËØ¢ÁöÑÁªìÊûú‰Ωú‰∏∫ where ËØ≠Âè•ÁöÑËøáÊª§Êù°‰ª∂„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mytable1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">col&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">in&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">col2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mytable2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cust_name&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">count&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">orders&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">orders&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">cust_id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">customers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">cust_id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">as&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">corder_num&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">customers&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">order&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">by&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cust_name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ËøûÊé•">ËøûÊé•&lt;/h2>
&lt;p>Êää‰∏§‰∏™ÊàñÂ§ö‰∏™Ë°®ÁöÑË°åÁªìÂêàËµ∑Êù•&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mysql/sql-base/sql-join.png"
width="966"
height="760"
srcset="https://emerywan.github.io/blog/blog/p/mysql/sql-base/sql-join_hu7ef284e13e9cf28fd7f9189c5de87613_174040_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mysql/sql-base/sql-join_hu7ef284e13e9cf28fd7f9189c5de87613_174040_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="sql-join"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="305px"
>&lt;/p>
&lt;h3 id="join--inner-join">JOIN / INNER JOIN&lt;/h3>
&lt;p>Ë°®‰∏≠Â≠òÂú®Ëá≥Â∞ë‰∏Ä‰∏™ÂåπÈÖçÊó∂ËøîÂõûË°å„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">website&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">website&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">access_log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">count&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">access_log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">data&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">website&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">inner&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">join&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">access_log&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">on&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">website&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">access_log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">site_id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">--- inner join Âíå join ÊòØ‰∏ÄÊ†∑ÁöÑ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">website&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">website&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">access_log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">count&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">access_log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">data&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">website&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">join&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">access_log&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">on&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">website&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">access_log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">site_id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="left-join">LEFT JOIN&lt;/h3>
&lt;p>‰ªé Â∑¶Ë°® ËøîÂõûÊâÄÊúâÁöÑË°åÔºåÂç≥‰ΩøÂè≥Ë°®‰∏≠Ê≤°ÊúâÂåπÈÖç„ÄÇÔºàÊ≤°ÊúâÂåπÈÖçÊòæÁ§∫ÁªìÊûú‰∏∫ nullÔºâ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- ËøîÂõûÊâÄÊúâÁöÑÁΩëÁ´ôÂèä‰ªñ‰ª¨ÁöÑËÆøÈóÆÈáèÔºàÂ¶ÇÊûúÊúâÁöÑËØùÔºâ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- Â∞Ü website ‰Ωú‰∏∫Â∑¶Ë°®Ôºåaccess_log ‰Ωú‰∏∫Âè≥Ë°®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">website&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">access_log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">count&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">access_log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">date&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">website&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">left&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">join&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">access_log&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">on&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">website&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">access_log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">site_id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">order&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">by&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">access_log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">count&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">desc&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="right-join">RIGHT JOIN&lt;/h3>
&lt;p>‰ªéÂè≥Ë°®ËøîÂõûÊâÄÊúâÁöÑË°åÔºåÂç≥‰ΩøÂùêÊ†áÊ≤°ÊúâÂåπÈÖç„ÄÇÔºàÂ∑¶Ë°®Ê≤°ÊúâÂåπÈÖçÊòæÁ§∫ÁªìÊûú‰∏∫ nullÔºâ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- ËøîÂõûÊâÄÊúâÁΩëÁ´ôÁöÑËÆøÈóÆËÆ∞ÂΩï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- Âú®Â∑¶Ë°®‰∏≠Ê≤°ÊúâËÆ∞ÂΩïÔºå‰πü‰ºöÊòæÁ§∫ null
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">website&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">access_log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">count&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">access_log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">date&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">website&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">right&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">join&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">access_log&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">on&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">access_log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">site_id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">website&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">order&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">by&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">access_log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">count&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">desc&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="full-join‰∏çÊîØÊåÅ">FULL JOINÔºà‰∏çÊîØÊåÅÔºâ&lt;/h3>
&lt;p>ÔºàMySQL ‰∏çÊîØÊåÅÔºå‰ΩøÁî® union ÊãºÊé•Ôºâ&lt;/p>
&lt;p>ÂÖ®ËøûÊé•„ÄÇ
Âè™Ë¶ÅÂ∑¶Ë°®ÔºåÂè≥Ë°®ÔºåÂÖ∂‰∏≠‰∏Ä‰∏™Ë°®Â≠òÂú®ÂåπÈÖçÔºåÂàôËøîÂõûË°å„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">website&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">access_log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">count&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">access_log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">date&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">website&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">full&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">join&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">on&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">website&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">is&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">access_log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">site_id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">on&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">website&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">access_log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">site_id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">order&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">by&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">access_log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">count&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">desc&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="Ëá™ËøûÊé•">Ëá™ËøûÊé•&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- ÊâæÂá∫‰∏é jim Â§ÑÂú®Âêå‰∏ÄÈÉ®Èó®ÁöÑÊâÄÊúâÂëòÂ∑•ÁöÑÂßìÂêç
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">employee&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">department&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">department&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">employee&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;jim&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">--
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">employee&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">as&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">inner&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">join&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">employee&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">as&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">on&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">department&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">department&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">and&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;jim&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ÁªÑÂêà">ÁªÑÂêà&lt;/h2>
&lt;p>union ÁªÑÂêà‰∏§‰∏™Êü•ËØ¢„ÄÇÊØè‰∏™Êü•ËØ¢ÂøÖÈ°ªÂåÖÂê´Áõ∏ÂêåÁöÑÂàóÔºåË°®ËææÂºèÂíåËÅöÈõÜÂáΩÊï∞„ÄÇ&lt;/p>
&lt;p>ÈªòËÆ§ÂéªÈô§Áõ∏ÂêåÁöÑË°åÔºåÂ¶ÇÊûúÈúÄË¶Å‰øùÁïôÁõ∏ÂêåÁöÑË°åÔºå‰ΩøÁî® union all„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">col&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mytable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">col&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">union&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">col&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mytable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">col&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ÂáΩÊï∞">ÂáΩÊï∞&lt;/h2>
&lt;h3 id="ËÆ°ÁÆóÂ≠óÊÆµ">ËÆ°ÁÆóÂ≠óÊÆµ&lt;/h3>
&lt;ul>
&lt;li>avg()
&lt;ul>
&lt;li>Âπ≥ÂùáÂÄºÔºà‰ºöÂøΩÁï• null Ë°åÔºâ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>round()
&lt;ul>
&lt;li>round(x) ÂõõËàç‰∫îÂÖ•Ôºõround(x, n) ‰øùÁïô n ‰ΩçÂ∞èÊï∞&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>count()
&lt;ul>
&lt;li>ËøîÂõûÊüêÂàóÁöÑË°åÊï∞&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>max()
&lt;ul>
&lt;li>ËøîÂõûÊüêÂàóÁöÑÊúÄÂ§ßÂÄº&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>min()
&lt;ul>
&lt;li>ËøîÂõûÊüêÂàóÁöÑÊúÄÂ∞èÂÄº&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>sum()
&lt;ul>
&lt;li>ÊüêÂàó‰πãÂíå&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="ÊñáÊú¨Â§ÑÁêÜ">ÊñáÊú¨Â§ÑÁêÜ&lt;/h3>
&lt;ul>
&lt;li>left()
&lt;ul>
&lt;li>Â∑¶ËæπÁöÑÂ≠óÁ¨¶&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>right()
&lt;ul>
&lt;li>Âè≥ËæπÁöÑÂ≠óÁ¨¶&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>lower()
&lt;ul>
&lt;li>ËΩ¨Êç¢ÊàêÂ∞èÂÜô&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>upper()
&lt;ul>
&lt;li>ËΩ¨Êç¢ÊàêÂ§ßÂÜô&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ltrem()
&lt;ul>
&lt;li>ÂéªÈô§Â∑¶ËæπÁöÑÁ©∫Ê†º&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>rtrem()
&lt;ul>
&lt;li>ÂéªÈô§Âè≥ËæπÁöÑÁ©∫Ê†º&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>length()
&lt;ul>
&lt;li>ÈïøÂ∫¶&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>soundex()
&lt;ul>
&lt;li>ËΩ¨Êç¢ÊàêËØ≠Èü≥ÂÄº&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="Êù°‰ª∂ÂáΩÊï∞">Êù°‰ª∂ÂáΩÊï∞&lt;/h3>
&lt;ul>
&lt;li>&lt;code>if(expr, v1, v2)&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>expr ÊàêÁ´ãÔºåËøîÂõûÁªìÊûú v1ÔºåÂê¶ÂàôËøîÂõû v2„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- SELECT IF(1 &amp;gt; 0,&amp;#39;Ê≠£Á°Æ&amp;#39;,&amp;#39;ÈîôËØØ&amp;#39;)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- -&amp;gt;Ê≠£Á°Æ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-- --
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-- Â∞ÜÁî®Êà∑ÂàíÂàÜ‰∏∫25Â≤Å‰ª•‰∏ãÂíå25Â≤ÅÂèä‰ª•‰∏ä‰∏§‰∏™Âπ¥ÈæÑÊÆµÔºåÂàÜÂà´Êü•ÁúãËøô‰∏§‰∏™Âπ¥ÈæÑÊÆµÁî®Êà∑Êï∞Èáè
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">age&lt;/span>&lt;span class="o">&amp;gt;=&lt;/span>&lt;span class="mi">25&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;25Â≤ÅÂèä‰ª•‰∏ä&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;25Â≤Å‰ª•‰∏ã&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">as&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">age_info&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">count&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user_profile&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">group&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">by&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">age_info&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>ifnull(v1, v2)&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>v1 ÁöÑÂÄº‰∏ç‰∏∫ nullÔºåËøîÂõû v1ÔºåÂê¶ÂàôËøîÂõû v2„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ifnull&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">distinct&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">salary&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Employee&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">order&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">by&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">salary&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">desc&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">limit&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">null&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">as&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">SecondHighestSalary&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>case&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- Â∞ÜÁî®Êà∑ÂàíÂàÜ‰∏∫25Â≤Å‰ª•‰∏ãÂíå25Â≤ÅÂèä‰ª•‰∏ä‰∏§‰∏™Âπ¥ÈæÑÊÆµÔºåÂàÜÂà´Êü•ÁúãËøô‰∏§‰∏™Âπ¥ÈæÑÊÆµÁî®Êà∑Êï∞Èáè
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">case&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">when&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">age&lt;/span>&lt;span class="o">&amp;gt;=&lt;/span>&lt;span class="mi">25&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">then&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;25Â≤ÅÂèä‰ª•‰∏ä&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;25Â≤Å‰ª•‰∏ã&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">end&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">as&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">age_info&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">count&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">as&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">number&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user_profile&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">group&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">by&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">age_info&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-- Â∞ÜÁî®Êà∑ÂàíÂàÜ‰∏∫20Â≤Å‰ª•‰∏ãÔºå20-24Â≤ÅÔºå25Â≤ÅÂèä‰ª•‰∏ä‰∏â‰∏™Âπ¥ÈæÑÊÆµÔºåÂàÜÂà´Êü•Áúã‰∏çÂêåÂπ¥ÈæÑÊÆµÁî®Êà∑ÁöÑÊòéÁªÜÊÉÖÂÜµ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">device_id&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">gender&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">case&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">when&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">age&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="mi">20&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">then&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;20Â≤Å‰ª•‰∏ã&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">when&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">age&lt;/span>&lt;span class="o">&amp;gt;=&lt;/span>&lt;span class="mi">20&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">and&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">age&lt;/span>&lt;span class="o">&amp;lt;=&lt;/span>&lt;span class="mi">24&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">then&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;20-24Â≤Å&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">when&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">age&lt;/span>&lt;span class="o">&amp;gt;=&lt;/span>&lt;span class="mi">25&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">then&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;25Â≤ÅÂèä‰ª•‰∏ä&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;ÂÖ∂‰ªñ&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">end&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">as&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">age_cut&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user_profile&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">update&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Salary&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">set&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sex&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">case&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">set&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">when&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;m&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">then&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;f&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">then&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;f&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">end&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted --></description></item><item><title>Redis Â∏∏ËßÅÊï∞ÊçÆÁªìÊûÑ</title><link>https://emerywan.github.io/blog/p/redis/data-struct/</link><pubDate>Wed, 01 Jun 2022 01:52:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/redis/data-struct/</guid><description>&lt;img src="https://emerywan.github.io/blog/p/redis/data-struct/redis.jpg" alt="Featured image of post Redis Â∏∏ËßÅÊï∞ÊçÆÁªìÊûÑ" />&lt;p>Redis Êèê‰æõ‰∫Ü‰∏∞ÂØåÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåÂ∏∏ËßÅÁöÑÊúâ‰∫îÁßçÔºö&lt;/p>
&lt;ul>
&lt;li>String Â≠óÁ¨¶‰∏≤&lt;/li>
&lt;li>List ÂàóË°®&lt;/li>
&lt;li>Hash ÂìàÂ∏å&lt;/li>
&lt;li>Set ÈõÜÂêà&lt;/li>
&lt;li>Zset ÊúâÂ∫èÈõÜÂêà&lt;/li>
&lt;/ul>
&lt;p>ÈöèÁùÄ Redis ÁâàÊú¨ÁöÑÊõ¥Êñ∞ÔºåÂêéÈù¢ÂèàÊîØÊåÅ‰∫ÜÂõõÁßçÊï∞ÊçÆÁ±ªÂûãÔºö&lt;/p>
&lt;ul>
&lt;li>BitMap (2.2)&lt;/li>
&lt;li>HyperLogLog (2.8)&lt;/li>
&lt;li>GEO (3.2)&lt;/li>
&lt;li>Stream (5.0)&lt;/li>
&lt;/ul>
&lt;p>&lt;a class="link" href="https://try.redis.io/" target="_blank" rel="noopener"
>Âú®Á∫ø Redis ‰ΩìÈ™å ‚Üí https://try.redis.io/&lt;/a>&lt;/p>
&lt;h2 id="-string">ü¶Æ String&lt;/h2>
&lt;p>String ÊòØÊúÄÂü∫Êú¨ÁöÑ &lt;code>key-value&lt;/code> ÁªìÊûÑ„ÄÇ&lt;code>key&lt;/code> ÊòØÂîØ‰∏ÄÊ†áËØÜÔºàÂèØ‰ª•ÊòØÂ≠óÁ¨¶‰∏≤„ÄÅÊï∞Â≠óÔºâÔºå&lt;code>value&lt;/code> ÊòØÂÖ∑‰ΩìÁöÑÂÄºÔºàÊúÄÈïøÂèØ‰ª•ÂÆπÁ∫≥ 521MÔºâ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/redis/data-struct/string.webp"
width="1698"
height="724"
srcset="https://emerywan.github.io/blog/blog/p/redis/data-struct/string_hu6be3934e7d6496236c063d8dd99c676c_31658_480x0_resize_q75_h2_box_2.webp 480w, https://emerywan.github.io/blog/blog/p/redis/data-struct/string_hu6be3934e7d6496236c063d8dd99c676c_31658_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="234"
data-flex-basis="562px"
>&lt;/p>
&lt;h3 id="-Â∏∏Áî®ÂëΩ‰ª§">üéóÔ∏è Â∏∏Áî®ÂëΩ‰ª§&lt;/h3>
&lt;ul>
&lt;li>üß© Âü∫Êú¨Êìç‰Ωú&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ËÆæÁΩÆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> name emery
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ëé∑Âèñ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">get name
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Âà§Êñ≠ key ÊòØÂê¶Â≠òÂú®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">exists name
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ëé∑ÂèñÂ≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">strlen name
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Âà†Èô§&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">del name
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>üß© ÊâπÈáèËÆæÁΩÆ&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÊâπÈáèËÆæÁΩÆ k-v&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mset key1 value1 key2 value2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÊâπÈáèËé∑Âèñ k-v&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mget key1 key2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>üß© ËÆ°Êï∞Âô®Ôºàvalue ‰∏∫Êï¥Êï∞Ôºâ&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ËÆæÁΩÆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> num &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># +1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">incr num
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># +10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">incrby num &lt;span class="m">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># -1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">decr num
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># -10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">decrby num &lt;span class="m">10&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>üß© ËøáÊúüÔºàÈªòËÆ§‰∏∫Ê∞∏‰∏çËøáÊúüÔºâ&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ê∑ªÂä†Âπ∂ËÆæÁΩÆËøáÊúüÊó∂Èó¥ ex-&amp;gt;Áßí px-&amp;gt;ÊØ´Áßí&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> name emery ex &lt;span class="m">60&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÂØπÂ∑≤Â≠òÂú®ÁöÑ key ËÆæÁΩÆËøáÊúü&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">expire name &lt;span class="m">60&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Êü•ÁúãËøáÊúüÊó∂Èó¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ttl name
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÁßªÈô§ËøáÊúüÊó∂Èó¥ÔºàÊó†ËøáÊúüÊó∂Èó¥ ttl ËøîÂõû -1Ôºâ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">persist name
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>üß© Â≠òÂú®‰∏é‰∏çÂ≠òÂú®&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># key ‰∏çÂ≠òÂú®ÊâçÊàêÂäü&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> name emery nx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># key Â≠òÂú®ÊâçÊàêÂäü&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> name emery xx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="-ÂÆûÁé∞ÊñπÂºè">üé° ÂÆûÁé∞ÊñπÂºè&lt;/h3>
&lt;p>String ÁöÑÂ∫ïÂ±ÇÂÆûÁé∞ÊòØËá™ÂÆö‰πâÁöÑ SDSÔºàÁÆÄÂçïÂä®ÊÄÅÂ≠óÁ¨¶‰∏≤Ôºâ„ÄÇ&lt;/p>
&lt;p>Áõ∏ÊØî‰∫é C ËØ≠Ë®ÄÁöÑÂ≠óÁ¨¶‰∏≤Ôºö&lt;/p>
&lt;ul>
&lt;li>SDS ‰∏ç‰ªÖÂèØ‰ª•‰øùÂ≠òÊñáÊú¨ÔºåËøòÂèØ‰ª•‰øùÂ≠ò‰∫åËøõÂà∂Êï∞ÊçÆÔºàÂ¶ÇÂõæÁâá„ÄÅÈü≥È¢ë„ÄÅËßÜÈ¢ëÁ≠âÔºâ„ÄÇ&lt;/li>
&lt;/ul>
&lt;p>SDS ÁöÑ API ÈÉΩ‰ºö‰∏ÄÂ§ÑÁêÜ‰∫åËøõÂà∂ÁöÑÊñπÂºèÂ§ÑÁêÜ‰øùÂ≠òÂú® &lt;code>buf[]&lt;/code> Êï∞ÁªÑ‰∏≠ÁöÑÊï∞ÊçÆ„ÄÇ&lt;/p>
&lt;ul>
&lt;li>SDS Ëé∑ÂèñÂ≠óÁ¨¶‰∏≤ÈïøÂ∫¶ÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÊòØ O(1)„ÄÇ&lt;/li>
&lt;/ul>
&lt;p>C ËØ≠Ë®ÄÁöÑÂ≠óÁ¨¶‰∏≤‰∏ç‰ºöËÆ∞ÂΩïËá™Ë∫´ÈïøÂ∫¶ÔºåËé∑ÂèñÈúÄË¶ÅÈÅçÂéÜÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫ O(n)„ÄÇSDS ÁªìÊûÑ‰∏≠ËÆ∞ÂΩï‰∫ÜÈïøÂ∫¶„ÄÇ&lt;/p>
&lt;ul>
&lt;li>SDS ÁöÑ API ÊòØÂÆâÂÖ®ÁöÑÔºåÊãºÊé•Â≠óÁ¨¶‰∏≤‰∏ç‰ºöÂØºËá¥ÁºìÂÜ≤Âå∫Ê∫¢Âá∫„ÄÇ&lt;/li>
&lt;/ul>
&lt;p>SDS Âú®ÊãºÊé•Ââç‰ºöÊ£ÄÊü•Á©∫Èó¥ÊòØÂê¶Êª°Ë∂≥Ë¶ÅÊ±ÇÔºå‰∏çÂ§üÁöÑËØù‰ºöËá™Âä®Êâ©ÂÆπ„ÄÇ&lt;/p>
&lt;h3 id="-‰ΩøÁî®Âú∫ÊôØ">üßµ ‰ΩøÁî®Âú∫ÊôØ&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>üìê ÁºìÂ≠òÂØπË±°&lt;/p>
&lt;ul>
&lt;li>Áõ¥Êé•ÁºìÂ≠ò JSON„ÄÇ &lt;code>SET user:1 '{&amp;quot;name&amp;quot;:&amp;quot;emery&amp;quot;, &amp;quot;age&amp;quot;:18}'&lt;/code>&lt;/li>
&lt;li>ÂàÜÁ¶ª‰∏∫ user:id ‰Ωú‰∏∫ keyÔºåÁî® mset Â≠òÂÇ®„ÄÇ &lt;code>MSET user:1:name emery user:1:age 18 user:2:name lin user:2:age 20&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>üìê Â∏∏ËßÑËÆ°Êï∞&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Redis Â§ÑÁêÜÂëΩ‰ª§ÊòØÂçïÁ∫øÁ®ãÁöÑÔºåÊâÄ‰ª•ÊâßË°åÂëΩ‰ª§ÁöÑËøáÁ®ãÊòØÂéüÂ≠êÁöÑ„ÄÇÂèØ‰ª•ÂØπËÆøÈóÆËÆøÈóÆÊ¨°Êï∞„ÄÅÁÇπËµû„ÄÅËΩ¨Âèë„ÄÅÂ∫ìÂ≠òÊï∞ÈáèËøõË°åÁªüËÆ°„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> aritcle:readcount:1001 &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÂéüÂ≠êÊìç‰Ωú&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">incr aritcle:readcount:1001
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>üìê &lt;a class="link" href="https://www.letout.cn/p/distributed-lock/redis/" target="_blank" rel="noopener"
>ÂàÜÂ∏ÉÂºèÈîÅ&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>NX&lt;/code> ÂèÇÊï∞ÂèØ‰ª•ÂÆûÁé∞Âú® key Â≠òÂú®ÁöÑÊó∂ÂÄôÔºåÊâçÊèíÂÖ•Êï∞ÊçÆÔºåÂèØ‰ª•Áî®Êù•ÂÆûÁé∞ÂàÜÂ∏ÉÂºèÈîÅ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># lock_key ÂàÜÂ∏ÉÂºèÈîÅÁöÑ key&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># unique_value ÂÆ¢Êà∑Á´ØÁîüÊàêÁöÑÂîØ‰∏ÄÊ†áËØÜ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># NX Âú® lock_key ‰∏çÂ≠òÂú®Êó∂ÔºåÊâçËøõË°åÊìç‰Ωú&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># PX ÊØ´Áßí 10000ms -&amp;gt; 10s&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> lock_key unique_value NX PX &lt;span class="m">10000&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>üìê ÂÖ±‰∫´ session ‰ø°ÊÅØ&lt;/li>
&lt;/ul>
&lt;p>Session ‰øùÂ≠òÂú®ÊúçÂä°Á´ØÔºåÈÄöÂ∏∏Áî®‰∫é‰øùÂ≠òÁî®Êà∑ÁöÑ‰ºöËØùÁä∂ÊÄÅÔºàÁôªÂΩïÔºâ„ÄÇ&lt;/p>
&lt;p>Âú®ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ÔºåÁî®Êà∑Â§öÊ¨°ËØ∑Ê±Ç‰∏ç‰∏ÄÂÆöÈÉΩÂú®Âêå‰∏ÄÂè∞ÊúçÂä°Âô®‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•ÂÄüÂä© Redis ÂØπ Session ‰ø°ÊÅØËøõË°åÁªü‰∏ÄÁöÑÂ≠òÂÇ®ÂíåÁÆ°ÁêÜÔºåÊúçÂä°Âô®ÈÉΩÂéªÂêå‰∏Ä‰∏™ Redis Ëé∑ÂèñÁõ∏ÂÖ≥ÁöÑ Session ‰ø°ÊÅØÔºåËøôÊ†∑Â∞±Ëß£ÂÜ≥‰∫ÜÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏ã Session Â≠òÂÇ®ÁöÑÈóÆÈ¢ò„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/redis/data-struct/session.webp"
width="473"
height="412"
srcset="https://emerywan.github.io/blog/blog/p/redis/data-struct/session_hua9fef675509e88be48c6a316850a3976_17592_480x0_resize_q75_h2_box_2.webp 480w, https://emerywan.github.io/blog/blog/p/redis/data-struct/session_hua9fef675509e88be48c6a316850a3976_17592_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="114"
data-flex-basis="275px"
>&lt;/p>
&lt;h2 id="-list">üêÖ List&lt;/h2>
&lt;p>List ÊòØÁÆÄÂçïÁöÑÂ≠óÁ¨¶‰∏≤ÂàóË°®ÔºåÊåâÁÖßÊèíÂÖ•È°∫Â∫èÊéíÂ∫èÔºåÂèØ‰ª•‰ªéÂ§¥ÈÉ®ÊàñÂ∞æÈÉ®Âêë List ‰∏≠Ê∑ªÂä†ÂÖÉÁ¥†„ÄÇÊúÄÂ§ßÈïøÂ∫¶‰∏∫ &lt;code>2^32 - 1&lt;/code>„ÄÇ&lt;/p>
&lt;h3 id="-Â∏∏Áî®ÂëΩ‰ª§-1">üéóÔ∏è Â∏∏Áî®ÂëΩ‰ª§&lt;/h3>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/redis/data-struct/list.webp"
width="1936"
height="684"
srcset="https://emerywan.github.io/blog/blog/p/redis/data-struct/list_huc892bbfdf91688e9656244dd3482dcd2_21712_480x0_resize_q75_h2_box_2.webp 480w, https://emerywan.github.io/blog/blog/p/redis/data-struct/list_huc892bbfdf91688e9656244dd3482dcd2_21712_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="283"
data-flex-basis="679px"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÊèíÂÖ•&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lpush key value
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rpush key value
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÁßªÈô§&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lpop key
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rpop key
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ËøîÂõûÊåáÂÆöÂå∫Èó¥ÂÜÖÁöÑÂÖÉÁ¥†Ôºà‰ªé 0 ÂºÄÂßãÔºâ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lrange key start end
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÂºπÂá∫‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÂπ∂ÈòªÂ°û timeout ÁßíÔºàÂΩì timeout=0 Â∞±‰∏ÄÁõ¥ÈòªÂ°ûÔºâ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">blpop key timeout
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">brpop key timeout
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="-ÂÆûÁé∞ÊñπÂºè-1">üé° ÂÆûÁé∞ÊñπÂºè&lt;/h3>
&lt;p>Redis List Â∫ïÂ±ÇÁî±Ôºà1ÔºâÂéãÁº©ÂàóË°® Êàñ Ôºà2ÔºâÂèåÂêëÈìæË°® ÂÆûÁé∞„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ÂéãÁº©ÂàóË°®Ôºö&lt;/p>
&lt;ul>
&lt;li>Â¶ÇÊûúÂàóË°®ÁöÑÂÖÉÁ¥†‰∏™Êï∞Â∞è‰∫é 512 ‰∏™ÔºàÈªòËÆ§ÂÄºÔºåÂèØÁî± list-max-ziplist-entries ÈÖçÁΩÆÔºâÔºå&lt;/li>
&lt;li>ÂàóË°®ÊØè‰∏™ÂÖÉÁ¥†ÁöÑÂÄºÈÉΩÂ∞è‰∫é 64 Â≠óËäÇÔºàÈªòËÆ§ÂÄºÔºåÂèØÁî± list-max-ziplist-value ÈÖçÁΩÆÔºâÔºå&lt;/li>
&lt;li>Redis ‰ºö‰ΩøÁî®ÂéãÁº©ÂàóË°®‰Ωú‰∏∫ List Á±ªÂûãÁöÑÂ∫ïÂ±ÇÊï∞ÊçÆÁªìÊûÑ„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ÂèåÂêëÂàóË°®Ôºö‰∏çÊª°Ë∂≥ÂéãÁº©ÂàóË°®ÁöÑÊù°‰ª∂Â∫ïÂ±ÇÂ∞±‰ºö‰ΩøÁî®ÂèåÂêëÂàóË°®„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>ÂéãÁº©ÂàóË°®&lt;/p>
&lt;p>ÊòØ Reids ‰∏∫‰∫ÜËäÇÁ∫¶ÂÜÖÂ≠òËÄåÂºÄÂèëÁöÑÔºåÁî±ËøûÁª≠ÂÜÖÂ≠òÂùóÁªÑÊàêÁöÑÈ°∫Â∫èÂûãÊï∞ÊçÆÁªìÊûÑÔºåÊúâÁÇπÁ±ªÂûã‰∫éÊï∞ÁªÑ„ÄÇ&lt;/p>
&lt;p>Âú®Ë°®Â§¥Êúâ‰∏â‰∏™Â≠óÊÆµÔºö
Ôºà1ÔºâzlbytesÔºöÂéãÁº©ÂàóË°®Âç†Áî®ÁöÑÂÜÖÂ≠òÂ≠óËäÇÊï∞Ôºõ
Ôºà2ÔºâzltailÔºöÂàóË°®Â∞æÁöÑÂÅèÁßªÈáèÔºàÂ∞æÈÉ®Ë∑ùÁ¶ªÈ¶ñÈÉ®ÊúâÂ§öÂ∞ë‰∏™Â≠óËäÇÔºâÔºõ
Ôºà3ÔºâzllenÔºöÂéãÁº©ÂàóË°®ÂåÖÂê´ÁöÑËäÇÁÇπÊï∞ÈáèÔºõ&lt;/p>
&lt;p>Âú®Ë°®Â∞æÊúâ‰∏Ä‰∏™Â≠óÊÆµÔºö
Ôºà4ÔºâzlendÔºöÂàóË°®ÁªìÊùüÁöÑÊ†áÂøóÔºàÂõ∫ÂÆöÂÄº 0xFF -&amp;gt; 255ÔºâÔºõ&lt;/p>
&lt;p>Êü•ÊâæÂÆö‰ΩçÁ¨¨‰∏Ä‰∏™ÂíåÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫ÔºöO(1)
Êü•ÊâæÂÖ∂‰ªñÂÖÉÁ¥†ÔºåÂè™ËÉΩÈÄê‰∏™Êü•ÊâæÔºåO(n)ÔºåÊâÄ‰ª•ÂéãÁº©ÂàóË°®‰∏çÈÄÇÂêà‰øùÂ≠òËøáÂ§öÁöÑÂÖÉÁ¥†„ÄÇ&lt;/p>
&lt;p>Âú® Redis‰∏≠ÔºåList„ÄÅHash„ÄÅZset ÂØπË±°ÔºåÂú®ÂÖÉÁ¥†Êï∞ÈáèËæÉÂ∞ëÔºåÂÖÉÁ¥†ÂÄº‰∏çÂ§ßÊó∂Ôºå‰ºö‰ΩøÁî®ÂéãÁº©ÂàóË°®‰Ωú‰∏∫Â∫ïÂ±ÇÊï∞ÊçÆÁªìÊûÑ„ÄÇ&lt;/p>
&lt;/blockquote>
&lt;h3 id="-‰ΩøÁî®Âú∫ÊôØ-1">üßµ ‰ΩøÁî®Âú∫ÊôØ&lt;/h3>
&lt;ul>
&lt;li>üìê Ê∂àÊÅØÈòüÂàó&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/redis/data-struct/list-mq.webp"
width="1642"
height="374"
srcset="https://emerywan.github.io/blog/blog/p/redis/data-struct/list-mq_hu84909a50c09ec905badb1edece873c1a_26948_480x0_resize_q75_h2_box_2.webp 480w, https://emerywan.github.io/blog/blog/p/redis/data-struct/list-mq_hu84909a50c09ec905badb1edece873c1a_26948_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="439"
data-flex-basis="1053px"
>&lt;/p>
&lt;h2 id="-hash">ü¶õ Hash&lt;/h2>
&lt;p>Hash ÊòØ‰∏Ä‰∏™ÈîÆÂÄºÂØπÁöÑÈõÜÂêà &lt;code>key-value&lt;/code>ÔºåÁâπÂà´ÈÄÇÂêàÂ≠òÂÇ®ÂØπË±°„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/redis/data-struct/hash.webp"
width="1240"
height="888"
srcset="https://emerywan.github.io/blog/blog/p/redis/data-struct/hash_hu502a0c0c4b1bff1d1b5a1b9e04992920_41732_480x0_resize_q75_h2_box_2.webp 480w, https://emerywan.github.io/blog/blog/p/redis/data-struct/hash_hu502a0c0c4b1bff1d1b5a1b9e04992920_41732_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="139"
data-flex-basis="335px"
>&lt;/p>
&lt;h3 id="-Â∏∏Áî®ÂëΩ‰ª§-2">üéóÔ∏è Â∏∏Áî®ÂëΩ‰ª§&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Â≠òÂÇ®‰∏Ä‰∏™ key=people ÁöÑÂìàÂ∏åË°® &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hset people name &lt;span class="s2">&amp;#34;Emery&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ëé∑ÂèñÂìàÂ∏åË°®‰∏≠ÁöÑÂÄº&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hget people name
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Â≠òÂÇ®Â§ö‰∏™ÈîÆÂÄºÂØπ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hmset people name &lt;span class="s2">&amp;#34;Emery&amp;#34;&lt;/span> age &lt;span class="m">18&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÊâπÈáèËé∑ÂèñÈîÆÂÄºÂØπ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hmget people name age
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Âà†Èô§‰∏Ä‰∏™ÂìàÂ∏åË°®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hdel people
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ëé∑ÂæóÂìàÂ∏åË°®‰∏≠key-valueÂØπÁöÑÊï∞Èáè&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hlen people
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ëé∑ÂèñÂìàÂ∏åË°®‰∏≠ÊâÄÊúâÁöÑ key&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hgetall people
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="-ÂÆûÁé∞ÊñπÂºè-2">üé° ÂÆûÁé∞ÊñπÂºè&lt;/h3>
&lt;p>Hash Á±ªÂûãÁöÑÂ∫ïÂ±ÇÊï∞ÊçÆÁªìÊûÑÁî± Ôºà1ÔºâÂéãÁº©ÂàóË°® Êàñ Ôºà2ÔºâÂìàÂ∏åË°® ÂÆûÁé∞„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ÂéãÁº©ÂàóË°®&lt;/p>
&lt;ul>
&lt;li>ÂÖÉÁ¥†Â∞è‰∫é 512 ‰∏™&lt;/li>
&lt;li>ÊâÄÊúâÁöÑÂÄºÂ∞è‰∫é 64 Â≠óËäÇ&lt;/li>
&lt;li>‰ΩøÁî®ÂéãÁº©ÂàóË°®&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ÂìàÂ∏åË°®&lt;/p>
&lt;ul>
&lt;li>‰∏çÊª°Ë∂≥‰ª•‰∏äÊù°‰ª∂‰ΩøÁî® hash Ë°®&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="-‰ΩøÁî®Âú∫ÊôØ-2">üßµ ‰ΩøÁî®Âú∫ÊôØ&lt;/h3>
&lt;ul>
&lt;li>üìê ÁºìÂ≠òÂØπË±°&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/redis/data-struct/hash-object.webp"
width="1192"
height="840"
srcset="https://emerywan.github.io/blog/blog/p/redis/data-struct/hash-object_huacd74159ecd6ae063f912243dd43d93b_31326_480x0_resize_q75_h2_box_2.webp 480w, https://emerywan.github.io/blog/blog/p/redis/data-struct/hash-object_huacd74159ecd6ae063f912243dd43d93b_31326_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="141"
data-flex-basis="340px"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">hmset uid:10001 name Tom age &lt;span class="m">15&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hmset uid:10002 name Jerry age &lt;span class="m">13&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hmget uid:10001
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>‰ΩøÁî® String Á±ªÂûãÁºìÂ≠ò JSON ‰πüÊòØÁºìÂ≠òÂØπË±°ÁöÑ‰∏ÄÁßçÂá°ÊòØÔºåÂ¶ÇÊûúÂØπË±°‰∏≠Êüê‰∫õÂ±ûÊÄßÈ¢ëÁπÅÂèòÂåñÔºåÂèØ‰ª•ËÄÉËôë‰ΩøÁî® Hash„ÄÇ&lt;/p>
&lt;ul>
&lt;li>üõí Ë¥≠Áâ©ËΩ¶
&lt;ul>
&lt;li>üòÉ Áî®Êà∑ id -&amp;gt; key&lt;/li>
&lt;li>üè™ ÂïÜÂìÅ id -&amp;gt; field&lt;/li>
&lt;li>üî¢ ÂïÜÂìÅÊï∞Èáè -&amp;gt; value&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ê∑ªÂä†ÂïÜÂìÅ cart:{Áî®Êà∑id} {ÂïÜÂìÅid} 1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hset cart:10001 &lt;span class="m">22223&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ê∑ªÂä†Êï∞Èáè&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hincrby cart:10001 &lt;span class="m">22223&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ëé∑ÂæóÂïÜÂìÅÊï∞Èáè&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hget cart:10001 &lt;span class="m">22223&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Âà†Èô§ÂïÜÂìÅ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hdel cart:10001 &lt;span class="m">22223&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ëé∑ÂèñË¥≠Áâ©ËΩ¶ÊâÄÊúâÂïÜÂìÅ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hgetall cart:10001
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Âú®ÂÆûÈôÖ‰∏öÂä°‰∏≠ÔºåRedis ‰∏≠Âè™Â≠òÂÇ®‰∫ÜÂïÜÂìÅÁöÑ id ‰ø°ÊÅØÔºåÂú®ÂõûÊòæÂïÜÂìÅÁöÑÂÖ∑‰Ωì‰ø°ÊÅØÊó∂ÔºåÂÜçÊãøÂïÜÂìÅ id Êü•ËØ¢‰∏ÄÊ¨°Êï∞ÊçÆÂ∫ìÔºåËé∑ÂèñÂÆåÊï¥ÁöÑÂïÜÂìÅ‰ø°ÊÅØ„ÄÇ&lt;/p>
&lt;h2 id="-set">üêë Set&lt;/h2>
&lt;p>Set ÊòØ‰∏Ä‰∏™Êó†Â∫èÂπ∂ÂîØ‰∏ÄÁöÑÈõÜÂêàÔºàÂ≠òÂÇ®È°∫Â∫è‰∏ç‰ºöÊåâÁÖßÊèíÂÖ•ÁöÑÂÖàÂêéÈ°∫Â∫èËøõË°åÂ≠òÂÇ®Ôºâ„ÄÇ&lt;/p>
&lt;p>ÈõÜÂêà‰∏≠ÊúÄÂ§öÂèØ‰ª•Â≠òÂÇ® &lt;code>2^32 - 1&lt;/code> ‰∏™ÂÖÉÁ¥†ÔºåÈô§Â¢ûÂà†ÊîπÊü•Â§ñÔºåËøòÊîØÊåÅÂ§ö‰∏™ÈõÜÂêàÁöÑ‰∫§ÈõÜ„ÄÅÂπ∂ÈõÜÂíåÂ∑ÆÈõÜ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/redis/data-struct/set.webp"
width="1268"
height="654"
srcset="https://emerywan.github.io/blog/blog/p/redis/data-struct/set_hu834a88f1bdb5e75fecc5121b1cadeb66_29462_480x0_resize_q75_h2_box_2.webp 480w, https://emerywan.github.io/blog/blog/p/redis/data-struct/set_hu834a88f1bdb5e75fecc5121b1cadeb66_29462_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="193"
data-flex-basis="465px"
>&lt;/p>
&lt;p>List ‰∏é Set ÁöÑÂå∫Âà´Ôºö&lt;/p>
&lt;ul>
&lt;li>List ÂèØ‰ª•Â≠òÂÇ®ÈáçÂ§çÂÖÉÁ¥†ÔºåSet ‰∏çÂèØ‰ª•&lt;/li>
&lt;li>List ÊåâÁÖßÂÖÉÁ¥†Ê∑ªÂä†ÁöÑÈ°∫Â∫èÂ≠òÂÇ®ÂÖÉÁ¥†ÔºåSet Â≠òÂÇ®ÂÖÉÁ¥†ÊòØÊó†Â∫èÁöÑ&lt;/li>
&lt;/ul>
&lt;h3 id="-Â∏∏Áî®ÂëΩ‰ª§-3">üéóÔ∏è Â∏∏Áî®ÂëΩ‰ª§&lt;/h3>
&lt;ul>
&lt;li>üß© Â∏∏Áî®Êìç‰Ωú&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ê∑ªÂä†ÂÖÉÁ¥†ÔºàÂ∑≤Â≠òÂú®ÂàôÂøΩÁï•Ôºâ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sadd key value1 &lt;span class="o">[&lt;/span>value2 ...&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Âà†Èô§ÂÖÉÁ¥†&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">srem key value1 &lt;span class="o">[&lt;/span>value2 ...&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ëé∑ÂèñÊâÄÊúâÁöÑÂÖÉÁ¥†&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">smembers key
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ëé∑ÂèñÈõÜÂêà‰∏≠ÁöÑÂÖÉÁ¥†‰∏™Êï∞&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">scard key
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Âà§Êñ≠ÊòØÂê¶Â≠òÂú®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sismember key value
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ‰ªéÈõÜÂêà‰∏≠ÈöèÊú∫ÈÄâÂèñ count ‰∏™ÂÖÉÁ¥†Ôºå‰∏ç‰ªé‰∏≠Âà†Èô§&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">srandmember key &lt;span class="o">[&lt;/span>count&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ‰ªéÈõÜÂêà‰∏≠ÈöèÊú∫ÈÄâÂèñ count ‰∏™ÂÖÉÁ¥†ÔºåÂπ∂Âà†Èô§&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">spop key &lt;span class="o">[&lt;/span>count&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>üß© ËøêÁÆóÊìç‰Ωú&lt;/li>
&lt;/ul>
&lt;p>‚ö† Set ÁöÑ‰∫§Âπ∂Â∑ÆÈõÜËøêÁÆóÁöÑÂ§çÊùÇÂ∫¶ËæÉÈ´òÔºåÂú®Êï∞ÊçÆÈáèËæÉÂ§ßÊó∂ÔºåÂ¶ÇÊûúÁõ¥Êé•ÊâßË°åËÆ°ÁÆóÔºå‰ºöÂØºËá¥ Redis ÂÆû‰æãÈòªÂ°û„ÄÇ
Âú®ÂÆûÈôÖ‰∏≠ÔºåÊé®ËçêËé∑ÂèñÊï∞ÊçÆÂêéÔºåÂú®ÂÆ¢Êà∑Á´ØÂéªÂÆåÊàêËÆ°ÁÆó„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ‰∫§ÈõÜ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sinter key1 &lt;span class="o">[&lt;/span>key2 ...&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ‰∫§ÈõÜÂπ∂Â≠òÂÇ®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sinterstore destination key1 &lt;span class="o">[&lt;/span>key2 ...&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Âπ∂ÈõÜ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sunion key1 &lt;span class="o">[&lt;/span>key2 ...&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sunionstore destination key1 &lt;span class="o">[&lt;/span>key2 ...&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Â∑ÆÈõÜ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sdiff key1 &lt;span class="o">[&lt;/span>key2 ...&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sdiffstore destination key1 &lt;span class="o">[&lt;/span>key2 ...&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="-ÂÆûÁé∞ÊñπÂºè-3">üé° ÂÆûÁé∞ÊñπÂºè&lt;/h3>
&lt;p>Set Á±ªÂûãÁöÑÂ∫ïÂ±ÇÊï∞ÊçÆÁªìÊûÑÁî± Ôºà1ÔºâÂìàÂ∏åË°® Êàñ Ôºà2ÔºâÊï¥Êï∞ÈõÜÂêàÂÆûÁé∞„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Êï¥Êï∞ÈõÜÂêà&lt;/p>
&lt;ul>
&lt;li>ÂÖÉÁ¥†‰∏™Êï∞Â∞ë‰∫é 512 ‰∏™ÔºåÂ∫ïÂ±ÇÈááÁî®Êï¥Êï∞ÈõÜÂêà‰Ωú‰∏∫Êï∞ÊçÆÁªìÊûÑ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ÂìàÂ∏åË°®&lt;/p>
&lt;ul>
&lt;li>‰∏çÊª°Ë∂≥‰ª•‰∏äÊù°‰ª∂Ôºå‰ΩøÁî®ÂìàÂ∏åË°®‰Ωú‰∏∫Â∫ïÂ±ÇÊï∞ÊçÆÁªìÊûÑ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="-‰ΩøÁî®Âú∫ÊôØ-3">üßµ ‰ΩøÁî®Âú∫ÊôØ&lt;/h3>
&lt;p>Set ‰∏ªË¶ÅÊòØÊó†Áª≠Ôºå‰∏çÂèØÈáçÂ§çÔºåÂèØÊ±Ç‰∫§Âπ∂Â∑ÆÁöÑÁâπÊÄß„ÄÇ&lt;/p>
&lt;ul>
&lt;li>üìê ÁÇπËµû&lt;/li>
&lt;/ul>
&lt;p>Set Á±ªÂûãÂèØ‰ª•‰øùËØÅÁî®Êà∑Âè™ËÉΩÁÇπ‰∏Ä‰∏™Ëµû„ÄÇ&lt;/p>
&lt;ul>
&lt;li>key -&amp;gt; ÊñáÁ´† id&lt;/li>
&lt;li>value -&amp;gt; Áî®Êà∑ id&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÊñáÁ´† 1 Ë¢´ id ‰∏∫ 1„ÄÅ2„ÄÅ3 ÁöÑÁî®Êà∑ÁÇπËµû&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sadd article:1 uid:1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sadd article:1 uid:2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sadd article:1 uid:3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÂèñÊ∂àÁÇπËµû&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">srem article:1 uid:1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ëé∑Âèñ ÊñáÁ´† 1 ÁöÑÁÇπËµûÁî®Êà∑ id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">smembers article:1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ëé∑Âèñ ÊñáÁ´† 1 ÁöÑÁÇπËµûÊï∞Èáè&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">scard article:1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Âà§Êñ≠ Áî®Êà∑ 1 ÊòØÂê¶ÂØπÊñáÁ´† 1 ËøõË°å‰∫ÜÁÇπËµû&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sismember article:1 uid:1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>üìê ÂÖ±ÂêåÂÖ≥Ê≥®&lt;/li>
&lt;/ul>
&lt;p>Set ÊîØÊåÅ‰∫§ÈõÜËøêÁÆóÔºåÂèØ‰ª•Áî®Êù•ËÆ°ÁÆóÂÖ±ÂêåÂÖ≥Ê≥®ÁöÑÂ•ΩÂèãÔºåÂÖ¨‰ºóÂè∑Á≠â„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># id ‰∏∫ 1„ÄÅ2 ÁöÑÁî®Êà∑ÂÖ≥Ê≥®ÁöÑÂÖ¨‰ºóÂè∑&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sadd uid:1 &lt;span class="m">5&lt;/span> &lt;span class="m">6&lt;/span> &lt;span class="m">7&lt;/span> &lt;span class="m">8&lt;/span> &lt;span class="m">9&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sadd uid:2 &lt;span class="m">7&lt;/span> &lt;span class="m">8&lt;/span> &lt;span class="m">9&lt;/span> &lt;span class="m">10&lt;/span> &lt;span class="m">11&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ëé∑ÂèñÂÖ±ÂêåÂÖ≥Ê≥®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sinter uid:1 uid:2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Áªô uid:2 Êé®Ëçê uid:1 ÂÖ≥Ê≥®ÁöÑÂÖ¨‰ºóÂè∑&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sdiff uid:1 uid:2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># È™åËØÅÊüê‰∏™ÂÖ¨‰ºóÂè∑ÊòØÂê¶Ë¢´ÂêåÊó∂ÂÖ≥Ê≥®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sismember uid:1 &lt;span class="m">5&lt;/span> &lt;span class="c1"># -&amp;gt; 1 ÂÖ≥Ê≥®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sismember uid:2 &lt;span class="m">5&lt;/span> &lt;span class="c1"># -&amp;gt; 0 Êú™ÂÖ≥Ê≥®&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>üìê ÊäΩÂ•ñÊ¥ªÂä®&lt;/li>
&lt;/ul>
&lt;p>key-&amp;gt;Ê¥ªÂä®ÂêçÔºåvalue-&amp;gt;Áî®Êà∑ÂêçÔºåÂ≠òÂÇ®ÊüêÊ¥ªÂä®‰∏≠‰∏≠Â•ñÁöÑÁî®Êà∑Âêç ÔºåSet Á±ªÂûãÂõ†‰∏∫ÊúâÂéªÈáçÂäüËÉΩÔºåÂèØ‰ª•‰øùËØÅÂêå‰∏Ä‰∏™Áî®Êà∑‰∏ç‰ºö‰∏≠Â•ñ‰∏§Ê¨°„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">sadd lucky Tom Jerry John Sean Marry Lindy Sary Mark
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÊäΩÂèñ 1 ‰∏™‰∏ÄÁ≠âÂ•ñÔºö&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">srangememeber lucky &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÊäΩÂèñ 2 ‰∏™‰∫åÁ≠âÂ•ñÔºö&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">srangememeber lucky &lt;span class="m">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ‰∏çÂÖÅËÆ∏ÈáçÂ§çËé∑Â•ñ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">spop lucky &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="-zset">ü¶• Zset&lt;/h2>
&lt;p>ZsetÔºàÊúâÂ∫èÈõÜÂêàÔºå‰ªéÂ∞èÂà∞Â§ßÔºâ Áõ∏ÊØî‰∫é Set Á±ªÂûãÂ§ö‰∫Ü‰∏Ä‰∏™ÊéíÂ∫èÂàÜÂÄº socre„ÄÇ&lt;/p>
&lt;p>ÂØπ‰∫éÊúâÂ∫èÈõÜÂêà ZSet Êù•ËØ¥ÔºåÊØè‰∏™Â≠òÂÇ®ÁöÑÂÖÉÁ¥†Áî±‰∏§‰∏™ÂÄºÁªÑÊàêÔºå‰∏Ä‰∏™ÊòØÊúâÂ∫èÈõÜÂêàÁöÑÂÖÉÁ¥†ÂÄºÔºå‰∏Ä‰∏™ÊòØÊéíÂ∫èÂÄº„ÄÇ&lt;/p>
&lt;p>Zset ‰∏≠ÂÖÉÁ¥†‰∏çËÉΩÈáçÂ§çÔºåÂàÜÊï∞ÂÄºÂèØ‰ª•ÈáçÂ§çÔºåÂπ∂‰∏îÂèØ‰ª•ÊéíÂ∫è„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/redis/data-struct/zset.webp"
width="1226"
height="616"
srcset="https://emerywan.github.io/blog/blog/p/redis/data-struct/zset_hudfba1ba2f4862e7afd7997bee0d59f08_21828_480x0_resize_q75_h2_box_2.webp 480w, https://emerywan.github.io/blog/blog/p/redis/data-struct/zset_hudfba1ba2f4862e7afd7997bee0d59f08_21828_1024x0_resize_q75_h2_box_2.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="199"
data-flex-basis="477px"
>&lt;/p>
&lt;h3 id="-Â∏∏Áî®ÂëΩ‰ª§-4">üéóÔ∏è Â∏∏Áî®ÂëΩ‰ª§&lt;/h3>
&lt;ul>
&lt;li>üß© Â∏∏Áî®Êìç‰Ωú&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÂêëÊúâÂ∫èÈõÜÂêà‰∏≠Âä†ÂÖ•Â∏¶ÂàÜÂÄºÁöÑÂÖÉÁ¥†&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zadd key socre number &lt;span class="o">[[&lt;/span>score number&lt;span class="o">]&lt;/span> ...&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ‰ªéÊúâÂ∫èÈõÜÂêà‰∏≠Âà†Èô§ÂÖÉÁ¥†&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zrem key number &lt;span class="o">[&lt;/span>number ...&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ËøîÂõûÊúâÂ∫èÈõÜÂêà‰∏≠ÂÖÉÁ¥†ÁöÑÂàÜÊï∞&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zscore key number
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ËøîÂõûÊúâÂ∫èÈõÜÂêà‰∏≠ÂÖÉÁ¥†ÁöÑ‰∏™Êï∞&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zcard key
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ‰∏∫ÊúâÂ∫èÈõÜÂêà‰∏≠ member ÁöÑÂàÜÂÄºÂä†‰∏ä increment&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zincrby key increment member
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ê≠£Â∫èËé∑ÂèñÊúâÂ∫èÈõÜÂêà‰∏≠ start-&amp;gt;end ÁöÑ‰∏ãË°®ÂÖÉÁ¥†&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zrange key start end &lt;span class="o">[&lt;/span>withscores&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÂÄíÂ∫èËé∑ÂèñÊúâÂ∫èÈõÜÂêà‰∏≠ start-&amp;gt;end ÁöÑ‰∏ãÊ†áÂÖÉÁ¥†&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zrevrange key start end &lt;span class="o">[&lt;/span>withscores&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="-ÂÆûÁé∞ÊñπÂºè-4">üé° ÂÆûÁé∞ÊñπÂºè&lt;/h3>
&lt;p>ÊúâÂ∫èÈõÜÂêà Zset Â∫ïÂ±Ç‰ΩøÁî® Ôºà1ÔºâÂéãÁº©ÂàóË°® Êàñ Ôºà2ÔºâË∑≥Ë°® ‰Ωú‰∏∫Êï∞ÊçÆÁªìÊûÑ„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ÂéãÁº©ÂàóË°®ÔºöÊúâÂ∫èÈõÜÂêà‰∏≠ÂÖÉÁ¥†Â∞è‰∫é 128 ‰∏™ÔºåÂπ∂‰∏îÊØè‰∏™ÂÖÉÁ¥†ÁöÑÂÄºÂ∞è‰∫é 64 Â≠óËäÇÊó∂Ôºå‰ΩøÁî®ÂéãÁº©ÂàóË°®‰Ωú‰∏∫Â∫ïÂ±ÇÊï∞ÊçÆÁªìÊûÑ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Ë∑≥Ë°®Ôºö‰∏çÊª°Ë∂≥‰∏äËø∞Êù°‰ª∂Ôºå‰ΩøÁî®Ë∞ÉË°®„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-‰ΩøÁî®Âú∫ÊôØ-4">üßµ ‰ΩøÁî®Âú∫ÊôØ&lt;/h3>
&lt;ul>
&lt;li>üìê ÊéíË°åÊ¶ú&lt;/li>
&lt;/ul>
&lt;p>‰æãÂ¶ÇÊ∏∏ÊàèÁßØÂàÜÊéíË°åÊ¶úÔºåËßÜÈ¢ëÊí≠ÊîæÊéíÂêçÔºåÁîµÂïÜÁ≥ªÁªü‰∏≠ÂïÜÂìÅÁöÑÈîÄÈáèÊéíÂêç„ÄÇ&lt;/p>
&lt;p>key-&amp;gt;ÊéíË°åÊ¶úÁöÑÁ±ªÂûãÔºõmember-&amp;gt;ÈúÄÊéíË°åÁöÑÂÜÖÂÆπÔºàÂ¶ÇÊñáÁ´†idÔºâÔºõscore-&amp;gt;ÁÇπÂáªÊï∞„ÄÅÁÇπËµûÊï∞Á≠â&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># emery ÂèëÁöÑid=1ÁöÑÊñáÁ´†Ëé∑Âæó‰∫Ü 200 ‰∏™Ëµû&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zadd user:emery:ranking &lt;span class="m">200&lt;/span> arcticle:1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÁªôÊñáÁ´† 1 ÁÇπËµû&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zincrby user:emery:ranking &lt;span class="m">1&lt;/span> article:1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Êü•ÁúãÊüêÁØáÊñáÁ´†ÁöÑÁÇπËµûÊï∞&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zscore user:emery:ranking article:1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Êü•ÁúãÁÇπËµûÊï∞ÊúÄÂ§öÁöÑ 3 ÁØáÊñáÁ´†&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zrevrange user:emery:ranking &lt;span class="m">0&lt;/span> &lt;span class="m">2&lt;/span> withscores
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ëé∑Âèñ 100 ËµûÂà∞ 200 ËµûÁöÑÊñáÁ´†&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zrangebysocre user:emery:ranking &lt;span class="m">100&lt;/span> &lt;span class="m">200&lt;/span> withscores
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>üìê Âª∂Êó∂ÈòüÂàó&lt;/li>
&lt;/ul>
&lt;p>Âà©Áî® score Â≠òÂÇ®Âª∂Êó∂ÊâßË°åÁöÑÊó∂Èó¥Ôºå‰ΩøÁî® zrangebysocre Êü•ËØ¢ÊâÄÊúâÁ¨¶ÂêàÊù°‰ª∂ÁöÑÂæÖÂ§ÑÁêÜ‰ªªÂä°ÔºåÂÜçËøõË°åÂ§ÑÁêÜ„ÄÇ&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;h2 id="-ÂèÇËÄÉ">üîó ÂèÇËÄÉ&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://xiaolincoding.com/redis/data_struct/command.html" target="_blank" rel="noopener"
>https://xiaolincoding.com/redis/data_struct/command.html&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>‰ΩøÁî® ZooKeeper ÂÆûÁé∞ÂàÜÂ∏ÉÂºèÈîÅ</title><link>https://emerywan.github.io/blog/p/distributed/lock/zookeeper/</link><pubDate>Wed, 11 May 2022 21:14:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/distributed/lock/zookeeper/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/2.jpeg" alt="Featured image of post ‰ΩøÁî® ZooKeeper ÂÆûÁé∞ÂàÜÂ∏ÉÂºèÈîÅ" />&lt;h2 id="‰ΩøÁî®-zookeeper-ÂÆûÁé∞">‰ΩøÁî® ZooKeeper ÂÆûÁé∞&lt;/h2>
&lt;h3 id="ÂéüÁêÜ">ÂéüÁêÜ&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>ÊåÅ‰πÖËäÇÁÇπÔºàÁ∫¢Ëâ≤Ôºâ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Áû¨Êó∂ËäÇÁÇπÔºàÈªÑËâ≤ÔºâÔºö‰∏çÂèØÂÜçÊúâÂ≠êËäÇÁÇπÔºå‰ºöËØùÁªìÊùüÂêéÁû¨Êó∂ËäÇÁÇπ‰ºöËá™Âä®Ê∂àÂ§±&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/distributed/lock/zookeeper/node.png"
width="542"
height="618"
srcset="https://emerywan.github.io/blog/blog/p/distributed/lock/zookeeper/node_hubb94f897927986ed284f5e5898a8688d_78967_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/distributed/lock/zookeeper/node_hubb94f897927986ed284f5e5898a8688d_78967_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="node"
class="gallery-image"
data-flex-grow="87"
data-flex-basis="210px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Âà©Áî® Zookeeper ÁöÑÁû¨Êó∂ÊúâÂ∫èËäÇÁÇπÁöÑÁâπÊÄßÔºåÂ§öÁ∫øÁ®ãÂπ∂ÂèëÂàõÂª∫Áû¨Êó∂ËäÇÁÇπÊó∂ÔºåÂæóÂà∞ÊúâÂ∫èÁöÑÂ∫èÂàó&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Â∫èÂè∑ÊúÄÂ∞èÁöÑÁ∫øÁ®ãËé∑ÂæóÈîÅÔºåÂÖ∂‰ªñÁöÑÁ∫øÁ®ãÂàôÁõëÂê¨Ëá™Â∑±Â∫èÂè∑ÁöÑÂâç‰∏Ä‰∏™Â∫èÂè∑ÔºõÂΩìÂâç‰∏Ä‰∏™Á∫øÁ®ãÊâßË°åÂÆåÊàêÔºåÂà†Èô§Ëá™Â∑±Â∫èÂè∑ÁöÑËäÇÁÇπÔºõ‰∏ã‰∏Ä‰∏™Â∫èÂè∑ÁöÑÁ∫øÁ®ãÂæóÂà∞ÈÄöÁü•ÔºåÂ∞ÜÁªßÁª≠ÊâßË°å&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂàõÂª∫ËäÇÁÇπÊó∂ÔºåÂ∑≤ÁªèÁ°ÆÂÆö‰∫ÜÁ∫øÁ®ãÁöÑÊâßË°åÈ°∫Â∫è&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/distributed/lock/zookeeper/thread.png"
width="485"
height="297"
srcset="https://emerywan.github.io/blog/blog/p/distributed/lock/zookeeper/thread_hu0d11f519269d68572311b436f0d9b410_73659_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/distributed/lock/zookeeper/thread_hu0d11f519269d68572311b436f0d9b410_73659_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="thread"
class="gallery-image"
data-flex-grow="163"
data-flex-basis="391px"
>&lt;/p>
&lt;h3 id="ÂÆûÁé∞">ÂÆûÁé∞&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;span class="lnt">79
&lt;/span>&lt;span class="lnt">80
&lt;/span>&lt;span class="lnt">81
&lt;/span>&lt;span class="lnt">82
&lt;/span>&lt;span class="lnt">83
&lt;/span>&lt;span class="lnt">84
&lt;/span>&lt;span class="lnt">85
&lt;/span>&lt;span class="lnt">86
&lt;/span>&lt;span class="lnt">87
&lt;/span>&lt;span class="lnt">88
&lt;/span>&lt;span class="lnt">89
&lt;/span>&lt;span class="lnt">90
&lt;/span>&lt;span class="lnt">91
&lt;/span>&lt;span class="lnt">92
&lt;/span>&lt;span class="lnt">93
&lt;/span>&lt;span class="lnt">94
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">ZkLock&lt;/span> &lt;span class="kd">implements&lt;/span> &lt;span class="n">AutoCloseable&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Watcher&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="n">ZooKeeper&lt;/span> &lt;span class="n">zooKeeper&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="n">znode&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="c1">// ÂΩìÂâçÁ∫øÁ®ãÂàõÂª∫ÁöÑË∑ØÂæÑ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="nf">ZkLock&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="n">connectString&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">sessionTimeout&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="kd">throws&lt;/span> &lt;span class="n">IOException&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">zooKeeper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ZooKeeper&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">connectString&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">sessionTimeout&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * try-catch-with-resource
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">clode&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="kd">throws&lt;/span> &lt;span class="n">Exception&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">zooKeeper&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">delete&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">znode&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">zooKeeper&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">close&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">info&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;ÈáäÊîæÈîÅ&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * ËßÇÂØüÂô®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">process&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">WatchedEvent&lt;/span> &lt;span class="n">watchedEvent&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÂΩìÂâç‰∏Ä‰∏™ËäÇÁÇπË¢´Âà†Èô§Êó∂ÔºåÂèØÂî§ÈÜíËé∑ÂèñÈîÅÁöÑÁ≠âÂæÖÔºåË°®Á§∫ÂΩìÂâçÁ∫øÁ®ãËé∑Âèñ‰∫ÜÈîÅ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">watchedEvent&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getType&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">Event&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">EventType&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">NodeDeleted&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">synchronized&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">notify&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * Ëé∑ÂèñÈîÅ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">boolean&lt;/span> &lt;span class="nf">getLock&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="n">businessCode&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">String&lt;/span> &lt;span class="n">path&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;/&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">businessCode&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Stat&lt;/span> &lt;span class="n">stat&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">zooKeeper&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">exists&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="kc">null&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">stat&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="c1">// ÂΩìÂâç‰∏öÂä°Ëã•Ê≤°ÊúâÊåÅ‰πÖËäÇÁÇπ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ÂÖàÂàõÂª∫‰∏Ä‰∏™ÊåÅ‰πÖËäÇÁÇπÔºåÂú®ÊåÅ‰πÖËäÇÁÇπÈáåÂàõÂª∫Áû¨Êó∂ËäÇÁÇπ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">zooKeeper&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">create&lt;/span>&lt;span class="o">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">path&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">businessCode&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getBytes&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">StandardCharsets&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">UTF_8&lt;/span>&lt;span class="o">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ZooDefs&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">Ids&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">OPEN_ACL_UNSAFE&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="c1">// ÂÖ¨ÂºÄÊùÉÈôêÔºå‰∏ç‰ΩøÁî®Áî®Êà∑ÂêçÂØÜÁ†ÅÂ∞±ËÉΩËÆøÈóÆËøô‰∏™ËäÇÁÇπ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">CreateMode&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">PERSISTENT&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÂàõÂª∫Áû¨Êó∂ÊúâÂ∫èËäÇÁÇπ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="n">subPath&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;/&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">businessCode&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;/&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">businessCode&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;_&amp;#34;&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">znode&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">zooKeeper&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">create&lt;/span>&lt;span class="o">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">subPath&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">businessCode&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getBytes&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">StandardCharsets&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">UTF_8&lt;/span>&lt;span class="o">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ZooDefs&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">Ids&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">OPEN_ACL_UNSAFE&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">CreateMode&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">EPHEMERAL_SEQUENTIAL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Ëé∑ÂèñËØ•‰∏öÂä°‰∏ãÁöÑÊâÄÊúâÁû¨Êó∂ËäÇÁÇπÔºåËøõË°åÊØîËæÉÊéíÂ∫è
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">childrenNodes&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">zooKeeper&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getChildren&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Collections&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">sort&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">childrenNodes&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Â¶ÇÊûúÂàóË°®‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™ÊòØÂΩìÂâçÂàõÂª∫ÁöÑËäÇÁÇπÔºåÁõ¥Êé•Ëé∑ÂèñÈîÅ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="n">firstNode&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">childrenNodes&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">znode&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">endsWith&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">firstNode&lt;/span>&lt;span class="o">))&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÁõëÂê¨Ââç‰∏Ä‰∏™ËäÇÁÇπÔºåÁ≠âÂæÖËé∑ÂèñÈîÅ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="n">lastNode&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">firstNode&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="n">node&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">childrenNode&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÊâæÂà∞ÂΩìÂâçËäÇÁÇπÔºåÁõëÂê¨Ââç‰∏Ä‰∏™ËäÇÁÇπ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">znode&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">endWith&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">node&lt;/span>&lt;span class="o">))&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">zooKeeper&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">exists&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;/&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">businessCode&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;/&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">lastNode&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lastNode&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">node&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">synchronized&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ËÆ©ÂΩìÂâçÁ∫øÁ®ãÈòªÂ°ûÔºåÂπ∂‰∏î‰ºöÈáäÊîæÈîÅ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ‰∏äÈù¢ÁöÑÂêåÊ≠•‰ª£Á†ÅÂùóÊâç‰ºöËé∑ÂæóÈîÅÂπ∂ÊâßË°å notify()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">wait&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">KeeperException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">InterruptedException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ÊµãËØï">ÊµãËØï&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Slf4j&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@RestController&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">ZkLockController&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@GetMapping&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;/zkLock&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="nf">zkLock&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">info&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;ËøõÂÖ•ÊñπÊ≥ï&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">ZkLock&lt;/span> &lt;span class="n">zklock&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ZkLock&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;127.0.0.1:2181&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">10000&lt;/span>&lt;span class="o">))&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">zkLock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getLock&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;order&amp;#34;&lt;/span>&lt;span class="o">))&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">info&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Ëé∑Âèñ‰∫ÜÈîÅ&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">TimeUtil&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">SECONDS&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">sleep&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">10&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// Ê®°Êãü‰∏öÂä°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">InterruptedException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">info&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;ÂÆåÊàê‰∏öÂä°&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Exception&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s">&amp;#34;success&amp;#34;&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="curator">Curator&lt;/h2>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/distributed/lock/zookeeper/curator.png"
width="537"
height="87"
srcset="https://emerywan.github.io/blog/blog/p/distributed/lock/zookeeper/curator_hu690a82169c4c3fdc258308de88a2c62f_35331_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/distributed/lock/zookeeper/curator_hu690a82169c4c3fdc258308de88a2c62f_35331_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="curator"
class="gallery-image"
data-flex-grow="617"
data-flex-basis="1481px"
>&lt;/p>
&lt;h3 id="‰æùËµñÈÖçÁΩÆ">‰æùËµñÈÖçÁΩÆ&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.apache.curator&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>curator-recipes&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>4.2.0&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ÂÆûÁé∞-1">ÂÆûÁé∞&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Slf4j&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">DemoTest&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Test&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">test&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">String&lt;/span> &lt;span class="n">zookeeperConnectionString&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;127.0.0.1:2181&amp;#34;&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">RetryPolicy&lt;/span> &lt;span class="n">retryPolicy&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ExponentialBackoffRetry&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">1000&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">3&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">CuratorFramework&lt;/span> &lt;span class="n">client&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">CuratorFrameworkFactory&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">newClient&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">zookeeperConnectionString&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">retryPolicy&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">client&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">start&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">String&lt;/span> &lt;span class="n">lockPath&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;/order&amp;#34;&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">InterProcessMutex&lt;/span> &lt;span class="n">lock&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">InterProcessMutex&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">client&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">lockPath&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Ëé∑Âèñ‰∫íÊñ•ÈîÅÔºåÈòªÂ°ûÁõ¥Âà∞ÂèØÁî®ÔºåÊàñÁªôÂÆöÊó∂Èó¥Âà∞Êúü
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Âêå‰∏Ä‰∏™Á∫øÁ®ãË∞ÉÁî® acquire() ÂèØÈáçÂÖ•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">acquire&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">30&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">TimeUnit&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">SECONDS&lt;/span>&lt;span class="o">))&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">info&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Ëé∑ÂèñÈîÅ&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">finally&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÂøÖÈ°ªÈÄöËøá release() ÈáäÊîæÈîÅ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">release&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Exception&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>‰ΩøÁî® Redis ÂÆûÁé∞ÂàÜÂ∏ÉÂºèÈîÅ</title><link>https://emerywan.github.io/blog/p/distributed/lock/redis/</link><pubDate>Wed, 11 May 2022 12:14:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/distributed/lock/redis/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/1.jpeg" alt="Featured image of post ‰ΩøÁî® Redis ÂÆûÁé∞ÂàÜÂ∏ÉÂºèÈîÅ" />&lt;h2 id="redis-nx-ÂÆûÁé∞">Redis NX ÂÆûÁé∞&lt;/h2>
&lt;p>Âà©Áî® NX ÁöÑ&lt;strong>ÂéüÂ≠êÊÄß&lt;/strong>ÔºåÂ§ö‰∏™Á∫øÁ®ãÂπ∂ÂèëÊó∂ÔºåÂè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãÂèØ‰ª•ËÆæÁΩÆÊàêÂäüÔºåËÆæÁΩÆÊàêÂäüÂç≥Ëé∑Âèñ‰∫ÜÈîÅ„ÄÇ&lt;/p>
&lt;p>&lt;strong>Â¶ÇÊûúÊ≤°ÊúâËé∑ÂèñÈîÅÔºå‰∏ç‰ºöÈòªÂ°ûÂΩìÂâçÊñπÊ≥ïÔºåÁõ¥Êé•Ë∑≥Ëøá‰ªªÂä°„ÄÇ&lt;/strong>&lt;/p>
&lt;h3 id="Ëé∑ÂèñÈîÅ">Ëé∑ÂèñÈîÅ&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># set key unique_value NX PX 30000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> product:stock:clothes UUID NX PX &lt;span class="m">30000&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>key
&lt;ul>
&lt;li>Ê†πÊçÆ‰∏çÂêåÁöÑ‰∏öÂä°ÔºåÂå∫ÂàÜ‰∏çÂêåÁöÑÈîÅ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>unique_value
&lt;ul>
&lt;li>‰øùËØÅÊØè‰∏™Á∫øÁ®ãÁöÑÈöèÊú∫ÂÄºÈÉΩ‰∏çÂêåÔºåÁî®‰∫éÈáäÊîæÈîÅÊó∂ÁöÑÊ†°È™å&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>NX
&lt;ul>
&lt;li>key ‰∏çÂ≠òÂú®Êó∂ËÆæÁΩÆÊàêÂäüÔºåkey Â≠òÂú®Âàô‰∏çÊàêÂäü&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>PX
&lt;ul>
&lt;li>Ëá™Âä®Â§±ÊïàÊó∂Èó¥„ÄÇËã•Âá∫Áé∞ÂºÇÂ∏∏ÔºåÊ≤°Êúâ‰∏ªÂä®ÈáäÊîæÈîÅÔºåÂèØ‰ª•‰øùËØÅË∂ÖÊó∂ÂêéÔºåÈîÅÂèØ‰ª•ËøáÊúüÂ§±ÊïàÔºàÊØ´ÁßíÔºâ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="ÈáäÊîæÈîÅ">ÈáäÊîæÈîÅ&lt;/h3>
&lt;p>ÈáäÊîæÈîÅÂ∞ÜËØ• key Âà†Èô§ÔºåÂú®ÈáäÊîæÈîÅ‰πãÂâçÈúÄË¶ÅÊ†°È™åËÆæÁΩÆÁöÑÈöèÊú∫Êï∞ÔºåÁõ∏ÂêåÊâçË°®Á§∫ÊòØËØ•Á∫øÁ®ãÂä†ÁöÑÈîÅÔºåËÉΩÈáäÊîæ„ÄÇ&lt;/p>
&lt;p>ÈúÄË¶ÅÈááÁî® LUA ËÑöÊú¨Ôºådel ÂëΩ‰ª§Ê≤°ÊúâÊèê‰æõÊ†°È™åÂÄºÁöÑÂäüËÉΩ„ÄÇ&lt;/p>
&lt;p>redis ÊâßË°åÂëΩ‰ª§ÊòØÊåâÁÖß‰∏ÄÊù°Êåá‰ª§ÂÆåÊàê‰πãÂêéÔºåÂÜçÊâßË°å‰∏ã‰∏ÄÊù°ÔºåÁî® lua ËÑöÊú¨ÔºåËÉΩ‰øùËØÅ redis ÊâßË°åÂÆåËøô‰∏™ËÑöÊú¨ÊâçÊâßË°å‰∏ã‰∏ÄÊù°ÔºåÊâÄ‰ª•ËÉΩ‰øùËØÅÂà§Êñ≠ Âíå Âà†Èô§ÊòØÂéüÂ≠êÊÄßÁöÑ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-lua" data-lang="lua">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">if&lt;/span> &lt;span class="n">redis.call&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;get&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">KEYS&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">ARGV&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="kr">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">return&lt;/span> &lt;span class="n">redis.call&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;del&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">KEYS&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">return&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">end&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ÂÆûÁé∞">ÂÆûÁé∞&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Slf4j&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@RestController&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">RedisLockController&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Autowired&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="n">RedisTemplate&lt;/span> &lt;span class="n">redisTemplate&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@GetMapping&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;/redisLock&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="nf">redisLock&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Ëé∑ÂèñÂàÜÂ∏ÉÂºèÈîÅ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">Boolean&lt;/span> &lt;span class="n">lock&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">redisTemplate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">execute&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="n">RedisCallback&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Boolean&lt;/span>&lt;span class="o">&amp;gt;)&lt;/span> &lt;span class="n">redisConnection&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Expiration&lt;/span> &lt;span class="n">expiration&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Expiration&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">seconds&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">30&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// NX
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">RedisStringCommands&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">SetOption&lt;/span> &lt;span class="n">setOption&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">RedisStringCommands&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">SetOption&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">ifAbsent&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÈúÄË¶Å‰ΩøÁî® redisTemplate ‰∏≠ÁöÑÂ∫èÂàóÂåñÂô®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">byte&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">redisKey&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">redisTemplate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getKeySerializer&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">serialize&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">key&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">byte&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">redisValue&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">redisTemplate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getValueSerializer&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">serialize&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">redisConnection&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">set&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">redisKey&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">redisValue&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">expiration&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">lock&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="c1">// Ëé∑ÂèñÂà∞‰∫ÜÈîÅ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">info&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Ëé∑ÂèñÂà∞‰∫ÜÈîÅ&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">TimeUnit&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">SECONDS&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">sleep&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">15&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// Ê®°Êãü‰∏öÂä°Â§ÑÁêÜ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">InterruptedException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">finally&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">String&lt;/span> &lt;span class="n">script&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;if redis.call(\&amp;#34;get\&amp;#34;,KEYS[1])==ARGV[1] then\n&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;\treturn redis.call(\&amp;#34;del\&amp;#34;,KEYS[1])\n&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;else\n&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;\treturn 0\n&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;end&amp;#34;&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">RedisScript&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Boolean&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">redisScript&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">RedisScript&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">script&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Boolean&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">boolean&lt;/span> &lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">redisTemplate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">execute&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">redisScript&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Arrays&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">asList&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">key&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">info&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;ÈáäÊîæÈîÅ {}&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">info&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;‰∏öÂä°ÂÆåÊàê&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s">&amp;#34;success&amp;#34;&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Slf4j&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@RestController&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">RedisLock&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="n">RedisTemplate&lt;/span> &lt;span class="n">redisTemplate&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÈîÅÂêçÁß∞Ôºå‰∏çÂêå‰∏öÂä°ÂèØËÉΩÈîÅ‰∏çÂêå
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">private&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="n">key&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÈîÅËøáÊúüÊó∂Èó¥ÔºåÂçï‰ΩçÁßí
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">private&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">expireTime&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="nf">RedisLock&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">RedisTemplate&lt;/span> &lt;span class="n">redisTemplate&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="n">key&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">expireTime&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">redisTemplate&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">redisTemplate&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">key&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">key&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">expireTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">expireTime&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// value ÂèØ‰ª•‰∏çÊö¥Èú≤Âá∫ÂéªÔºåÊØè‰∏™Á∫øÁ®ãÈÉΩÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">UUID&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">randomUUID&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">toString&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * Ëé∑ÂèñÈîÅ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">boolean&lt;/span> &lt;span class="nf">getLock&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Ëé∑ÂèñÂàÜÂ∏ÉÂºèÈîÅ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">Boolean&lt;/span> &lt;span class="n">lock&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Boolean&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="n">redisTemplate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">execute&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="n">RedisCallback&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Boolean&lt;/span>&lt;span class="o">&amp;gt;)&lt;/span> &lt;span class="n">redisConnection&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Expiration&lt;/span> &lt;span class="n">expiration&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Expiration&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">seconds&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">expireTime&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// NX
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">RedisStringCommands&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">SetOption&lt;/span> &lt;span class="n">setOption&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">RedisStringCommands&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">SetOption&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">ifAbsent&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Áî±‰∫éËøôÈáåÈúÄË¶ÅÊé•Âèó byte, ‰∏çËÉΩÊö¥ÂäõÁöÑ‰ΩøÁî® string.getBytes()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Ë¶Å‰ΩøÁî®Ê®°ÊùøÈáåÈù¢ÁöÑ key\value Â∫èÂàóÂåñÂô®Êù•ÂÆûÁé∞
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">byte&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">redisKey&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">redisTemplate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getKeySerializer&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">serialize&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">key&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">byte&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">redisValue&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">redisTemplate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getValueSerializer&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">serialize&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Boolean&lt;/span> &lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">redisConnection&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">set&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">redisKey&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">redisValue&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">expiration&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">setOption&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">lock&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * ÈáäÊîæÈîÅ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">boolean&lt;/span> &lt;span class="nf">unLock&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// lua ËÑöÊú¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="n">script&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;if redis.call(\&amp;#34;get\&amp;#34;,KEYS[1])==ARGV[1] then\n&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;\treturn redis.call(\&amp;#34;del\&amp;#34;,KEYS[1])\n&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;else\n&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;\treturn 0\n&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;end&amp;#34;&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">RedisScript&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Boolean&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">redisScript&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">RedisScript&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">script&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Boolean&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Boolean&lt;/span> &lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Boolean&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="n">redisTemplate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">execute&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">redisScript&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Arrays&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">asList&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">key&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="redisson">Redisson&lt;/h2>
&lt;h3 id="‰æùËµñÈÖçÁΩÆ">‰æùËµñÈÖçÁΩÆ&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.redisson&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>redisson-spring-boot-starter&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>3.16.7&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ÂÆûÁé∞-1">ÂÆûÁé∞&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Slf4j&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@RestController&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">RedissonLockController&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Autowired&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="n">RedissonClient&lt;/span> &lt;span class="n">redissonClient&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@GetMapping&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;/redissonLock&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="nf">redissonLock&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">info&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;ÊâßË°åÊñπÊ≥ï&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">final&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="n">key&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;redisson&amp;#34;&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">RLock&lt;/span> &lt;span class="n">lock&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">redissonClient&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getLock&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">key&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÈîÅË∂ÖÊó∂Êó∂Èó¥ÔºåÂ¶ÇÊûúÊú™Ëé∑ÂæóÈîÅÔºå‰ºöÈòªÂ°ûÁ≠âÂæÖËé∑ÂèñÂà∞ÈîÅÔºà-1 Ë°®Á§∫Ê≤°ÊúâË∂ÖÊó∂Êó∂Èó¥Ôºâ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">lock&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">30&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">TimeUnit&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">SECONDS&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">info&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Ëé∑ÂèñÈîÅ&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">TimeUnit&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">SECONDS&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">sleep&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">10&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">InterruptedException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">finally&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">info&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;ÈáäÊîæÈîÅ&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">unlock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">info&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;ÂÆåÊàê‰∏öÂä°&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s">&amp;#34;success&amp;#34;&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Java Âπ∂Âèë - CyclicBarrier ÂÆûÁé∞ÂéüÁêÜ</title><link>https://emerywan.github.io/blog/p/thread/cyclicbarrier/</link><pubDate>Tue, 03 May 2022 23:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/thread/cyclicbarrier/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/14.jpeg" alt="Featured image of post Java Âπ∂Âèë - CyclicBarrier ÂÆûÁé∞ÂéüÁêÜ" />&lt;h2 id="ÂéüÁêÜ">ÂéüÁêÜ&lt;/h2>
&lt;p>&lt;code>CyclicBarrier&lt;/code> ÈÄöËøáÂèØÈáçÂÖ•ÈîÅ &lt;code>CyclicBarrier&lt;/code> ÂÆûÁé∞ÔºåÂÜÖÈÉ®‰ΩøÁî®ÈùôÊÄÅÂÜÖÈÉ®Á±ª &lt;code>Generation&lt;/code> Áª¥Êä§ &lt;code>broken&lt;/code> Ê†áËÆ∞ÔºåË°®Á§∫Â±èÈöúÊòØÂê¶ÂèØÁî®„ÄÇ&lt;/p>
&lt;p>ÈÄöËøáÊûÑÈÄ†ÊñπÊ≥ï‰º†ÂÖ•Á≠âÂæÖÁ∫øÁ®ãÊï∞ &lt;code>parties&lt;/code>„ÄÇ&lt;/p>
&lt;p>ÊØèÊ¨°Êúâ‰∏Ä‰∏™Á∫øÁ®ãÂà∞ËææÂ±èÈöúÔºå &lt;code>count - 1&lt;/code>ÔºåÁõ¥Âà∞ &lt;code>count = 0&lt;/code>Ôºå‰ºöÈáäÊîæÂ±èÈöúÔºåÂî§ÈÜíÊâÄÊúâÁ≠âÂæÖÁöÑÁ∫øÁ®ãÔºåÂπ∂‰ΩøÁî® &lt;code>nextGeneration()&lt;/code> ÂØπ &lt;code>count&lt;/code> Âíå &lt;code>generation&lt;/code> ËøõË°åÈáçÁΩÆÔºåËøõË°å‰∏ã‰∏ÄËΩÆÂæ™ÁéØ„ÄÇ&lt;/p>
&lt;p>Êúâ‰∏âÁßçÊÉÖÂÜµ‰ºöÈÄ†ÊàêÂ±èÈöúÁ†¥ÂùèÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>CyclicBarrier Runnable command ÊñπÊ≥ïÊäõÂá∫ÂºÇÂ∏∏&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Âú®ÈáäÊîæÊù°‰ª∂ËøòÊú™ËææÂà∞Êó∂ÔºåÊüê‰∏™Á∫øÁ®ãÊäõÂá∫‰∫ÜÂºÇÂ∏∏&lt;/p>
&lt;/li>
&lt;li>
&lt;p>await() Á≠âÂæÖË∂ÖÊó∂&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="Ê∫êÁ†Å">Ê∫êÁ†Å&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;span class="lnt">117
&lt;/span>&lt;span class="lnt">118
&lt;/span>&lt;span class="lnt">119
&lt;/span>&lt;span class="lnt">120
&lt;/span>&lt;span class="lnt">121
&lt;/span>&lt;span class="lnt">122
&lt;/span>&lt;span class="lnt">123
&lt;/span>&lt;span class="lnt">124
&lt;/span>&lt;span class="lnt">125
&lt;/span>&lt;span class="lnt">126
&lt;/span>&lt;span class="lnt">127
&lt;/span>&lt;span class="lnt">128
&lt;/span>&lt;span class="lnt">129
&lt;/span>&lt;span class="lnt">130
&lt;/span>&lt;span class="lnt">131
&lt;/span>&lt;span class="lnt">132
&lt;/span>&lt;span class="lnt">133
&lt;/span>&lt;span class="lnt">134
&lt;/span>&lt;span class="lnt">135
&lt;/span>&lt;span class="lnt">136
&lt;/span>&lt;span class="lnt">137
&lt;/span>&lt;span class="lnt">138
&lt;/span>&lt;span class="lnt">139
&lt;/span>&lt;span class="lnt">140
&lt;/span>&lt;span class="lnt">141
&lt;/span>&lt;span class="lnt">142
&lt;/span>&lt;span class="lnt">143
&lt;/span>&lt;span class="lnt">144
&lt;/span>&lt;span class="lnt">145
&lt;/span>&lt;span class="lnt">146
&lt;/span>&lt;span class="lnt">147
&lt;/span>&lt;span class="lnt">148
&lt;/span>&lt;span class="lnt">149
&lt;/span>&lt;span class="lnt">150
&lt;/span>&lt;span class="lnt">151
&lt;/span>&lt;span class="lnt">152
&lt;/span>&lt;span class="lnt">153
&lt;/span>&lt;span class="lnt">154
&lt;/span>&lt;span class="lnt">155
&lt;/span>&lt;span class="lnt">156
&lt;/span>&lt;span class="lnt">157
&lt;/span>&lt;span class="lnt">158
&lt;/span>&lt;span class="lnt">159
&lt;/span>&lt;span class="lnt">160
&lt;/span>&lt;span class="lnt">161
&lt;/span>&lt;span class="lnt">162
&lt;/span>&lt;span class="lnt">163
&lt;/span>&lt;span class="lnt">164
&lt;/span>&lt;span class="lnt">165
&lt;/span>&lt;span class="lnt">166
&lt;/span>&lt;span class="lnt">167
&lt;/span>&lt;span class="lnt">168
&lt;/span>&lt;span class="lnt">169
&lt;/span>&lt;span class="lnt">170
&lt;/span>&lt;span class="lnt">171
&lt;/span>&lt;span class="lnt">172
&lt;/span>&lt;span class="lnt">173
&lt;/span>&lt;span class="lnt">174
&lt;/span>&lt;span class="lnt">175
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">CyclicBarrier&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÂÜÖÈÉ®Á±ªÔºåÂ≠òÊîæ broken Ê†áËÆ∞ÔºåË°®Á§∫Â±èÈöúÊòØÂê¶Ë¢´ÊçüÂùèÔºåÊçüÂùèÂêéÊó†Ê≥ïÊ≠£Â∏∏Â∑•‰Ωú
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">private&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Generation&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">boolean&lt;/span> &lt;span class="n">broken&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÂèØÈáçÂÖ•ÈîÅ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">private&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="n">ReentrantLock&lt;/span> &lt;span class="n">lock&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ReentrantLock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="n">Condition&lt;/span> &lt;span class="n">trip&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">newCondition&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Â±èÈöúÈòªÊå°ÁöÑÁ∫øÁ®ãÊï∞ÔºåÊûÑÈÄ†ÊñπÊ≥ï‰º†ÂÖ•ÁöÑÂàùÂßãÂåñÂÄº
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">private&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">parties&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Â±èÈöúÈáäÊîæÊó∂ÊâßË°åÁöÑÊñπÊ≥ï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">private&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="n">Runnable&lt;/span> &lt;span class="n">barrierCommand&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÂΩìÂâçÁöÑ Generation ÂØπË±°ÔºåÊØè‰∏ÄËΩÆÈÉΩ‰ºöÊúâ‰∏Ä‰∏™Êñ∞ÁöÑ Generation ÂØπË±°ÔºåÂ≠òÊîæ broken Ê†áËÆ∞
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">private&lt;/span> &lt;span class="n">Generation&lt;/span> &lt;span class="n">generation&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Generation&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÂΩìÂâçËøòÈúÄË¶ÅÈòªÊå°Âá†‰∏™Á∫øÁ®ãÔºåÊØèÊ¨° -1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">private&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">count&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÂºÄÂêØ‰∏ã‰∏ÄËΩÆÂ±èÈöúÔºàcount==0 Êàñ resetÔºâ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">private&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">nextGeneration&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Âî§ÈÜíÊâÄÊúâÁ≠âÂæÖÁ∫øÁ®ã
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">trip&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">signalAll&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÈáçÁΩÆ count
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">parties&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">generation&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Generation&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Á†¥ÂùèÂΩìÂâçÂ±èÈöúÔºåÂèò‰∏∫‰∏çÂèØÁî®Áä∂ÊÄÅÔºåÂèØ‰ª•‰ΩøÁî® reset ÊÅ¢Â§ç
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">private&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">breakBarrier&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">generation&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">broken&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">parties&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">trip&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">signalAll&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">dowait&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">boolean&lt;/span> &lt;span class="n">timed&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="n">nanos&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">throws&lt;/span> &lt;span class="n">InterruptedException&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">BrokenBarrierException&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">TimeoutException&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">final&lt;/span> &lt;span class="n">ReentrantLock&lt;/span> &lt;span class="n">lock&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">lock&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Âä†ÈîÅÔºåÊúâÂ§ö‰∏™Á∫øÁ®ã‰ºöË∞ÉÁî® await() Âè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãËÉΩÂ§üËøõÂÖ•ÂêåÊ≠•ÊñπÊ≥ï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">lock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">final&lt;/span> &lt;span class="n">Generation&lt;/span> &lt;span class="n">g&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">generation&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">g&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">broken&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="c1">// Â±èÈöúÊòØÂê¶ÊçüÂùè
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">BrokenBarrierException&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Thread&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">interrupted&lt;/span>&lt;span class="o">())&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">breakBarrier&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">InterruptedException&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">index&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">count&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">index&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="c1">// ËææÂà∞Êù°‰ª∂ÔºåÂèØÊâìÁ†¥Â±èÈöú
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">boolean&lt;/span> &lt;span class="n">ranAction&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">final&lt;/span> &lt;span class="n">Runnable&lt;/span> &lt;span class="n">command&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">barrierCommand&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="c1">// ÊâßË°åÊâìÁ†¥Â±èÈöúÁöÑÂëΩ‰ª§
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">command&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">run&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ranAction&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">nextGeneration&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// ÂºÄÂêØ‰∏ã‰∏ÄËΩÆÂæ™ÁéØÔºåÈáåÈù¢‰ºöÂî§ÈÜíÊâÄÊúâÁ≠âÂæÖÁöÑÁ∫øÁ®ã
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">finally&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(!&lt;/span>&lt;span class="n">ranAction&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="c1">// (1) ÂÅáÂ¶Ç command Âá∫Áé∞ÂºÇÂ∏∏ÔºåÁ†¥ÂùèÂ±èÈöú
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">breakBarrier&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÂΩìÂâçËøòÊú™ËææÂà∞ÂÜ≤Á†¥Â±èÈöúÁöÑÁöÑÊù°‰ª∂
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ‰∏ÄÁõ¥Âæ™ÁéØÁ≠âÂæÖÔºåÁõ¥Âà∞Âà∞ËææÊâìÁ†¥Â±èÈöúÁöÑÊù°‰ª∂Ôºå‰∏≠Êñ≠ÔºåÊàñË∂ÖÊó∂
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="o">(;;)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(!&lt;/span>&lt;span class="n">timed&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">trip&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">await&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// Êú™ËææÂà∞Ë∂ÖÊó∂Êó∂Èó¥ÔºåËøõË°åÁ≠âÂæÖÔºåÁõ¥Âà∞Ë¢´Âî§ÈÜí
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">nanos&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">0L&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">nanos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">trip&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">awaitNanos&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">nanos&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">InterruptedException&lt;/span> &lt;span class="n">ie&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="c1">// (2) Á≠âÂæÖÂà∞ËææÊù°‰ª∂Êó∂ÔºåÁ∫øÁ®ãË¢´‰∏≠Êñ≠ÔºåÁ†¥ÂùèÂ±èÈöú
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">g&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">generation&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="o">!&lt;/span> &lt;span class="n">g&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">broken&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">breakBarrier&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="n">ie&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// We&amp;#39;re about to finish waiting even if we had not
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// been interrupted, so this interrupt is deemed to
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// &amp;#34;belong&amp;#34; to subsequent execution.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">Thread&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">currentThread&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">interrupt&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">g&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">broken&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="c1">// Á∫øÁ®ãË¢´Âî§ÈÜí‰πãÂêéÔºåÂ±èÈöúË¢´Á†¥ÂùèÔºåÁõ¥Êé•ÊäõÂá∫ÂºÇÂ∏∏
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">BrokenBarrierException&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">g&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">generation&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="c1">// ËøîÂõûÂΩìÂâçÁ∫øÁ®ãÊòØÁ¨¨Âá†‰∏™Âà∞ËææÁöÑÁ∫øÁ®ã
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">index&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">timed&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">nanos&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">0L&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="c1">// (3) Á≠âÂæÖË∂ÖÊó∂ÔºåÁ†¥ÂùèÂ±èÈöú
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">breakBarrier&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">TimeoutException&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">finally&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">unlock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="nf">CyclicBarrier&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">parties&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Runnable&lt;/span> &lt;span class="n">barrierAction&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">parties&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">IllegalArgumentException&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">parties&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">parties&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">parties&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">barrierCommand&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">barrierAction&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="nf">CyclicBarrier&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">parties&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">parties&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">getParties&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">parties&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÂºÄÂßãÁ≠âÂæÖ ËøîÂõûÂΩìÂâçÁ∫øÁ®ãÊòØÁ¨¨Âá†‰∏™Âà∞ËææÁöÑÁ∫øÁ®ã
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">public&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">await&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="kd">throws&lt;/span> &lt;span class="n">InterruptedException&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">BrokenBarrierException&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">dowait&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">0L&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">TimeoutException&lt;/span> &lt;span class="n">toe&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Error&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">toe&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// cannot happen
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">await&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">long&lt;/span> &lt;span class="n">timeout&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">TimeUnit&lt;/span> &lt;span class="n">unit&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">throws&lt;/span> &lt;span class="n">InterruptedException&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">BrokenBarrierException&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">TimeoutException&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">dowait&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">unit&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">toNanos&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">timeout&lt;/span>&lt;span class="o">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Âà§Êñ≠Â±èÈöúÊòØÂê¶Ë¢´Á†¥Âùè
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">public&lt;/span> &lt;span class="kt">boolean&lt;/span> &lt;span class="nf">isBroken&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">final&lt;/span> &lt;span class="n">ReentrantLock&lt;/span> &lt;span class="n">lock&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">lock&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">lock&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// ÈúÄÂä†ÈîÅËÆøÈóÆÔºåÂÖ∂‰ªñÁ∫øÁ®ãÂèØËÉΩÂú®ÊâßË°å dowait()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">generation&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">broken&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">finally&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">unlock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÈáçÁΩÆÊìç‰Ωú ÂÖàÁ†¥ÂùèÂ±èÈöúÔºåÂÜçËøõË°å‰∏ã‰∏ÄËΩÆÂæ™ÁéØÂ±èÈöú
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">reset&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">final&lt;/span> &lt;span class="n">ReentrantLock&lt;/span> &lt;span class="n">lock&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">lock&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">lock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">breakBarrier&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// break the current generation
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">nextGeneration&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// start a new generation
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span> &lt;span class="k">finally&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">unlock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Ëé∑ÂèñÁ≠âÂæÖÁ∫øÁ®ãÊï∞
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">public&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">getNumberWaiting&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">final&lt;/span> &lt;span class="n">ReentrantLock&lt;/span> &lt;span class="n">lock&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">lock&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">lock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">parties&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">count&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">finally&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">unlock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Java Âπ∂Âèë - CountDownLatch ÂÆûÁé∞ÂéüÁêÜ</title><link>https://emerywan.github.io/blog/p/thread/countdownlatch/</link><pubDate>Tue, 03 May 2022 14:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/thread/countdownlatch/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/6.jpeg" alt="Featured image of post Java Âπ∂Âèë - CountDownLatch ÂÆûÁé∞ÂéüÁêÜ" />&lt;h2 id="Âü∫Êú¨ÂÆûÁé∞ÊÄùË∑Ø">Âü∫Êú¨ÂÆûÁé∞ÊÄùË∑ØÔºö&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>Âà©Áî® &lt;strong>ÂÖ±‰∫´ÈîÅ&lt;/strong> ÂÆûÁé∞&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂàùÂßãÂåñÊó∂Ôºå&lt;code>state=count&lt;/code> Âç≥Â∑≤Áªè‰∏ä‰∫Ü &lt;code>count&lt;/code> Ê¨°ÂÖ±‰∫´ÈîÅ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>await()&lt;/code> Âç≥Âä†ÂÖ±‰∫´ÈîÅÔºåÂøÖÈ°ª &lt;code>state=0&lt;/code> Êó∂ÊâçËÉΩÂä†ÈîÅÊàêÂäüÔºåÂê¶ÂàôÊåâÁÖß AQS Êú∫Âà∂ÔºåËøõÂÖ•Á≠âÂæÖÈòüÂàóÈòªÂ°û&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>countDown()&lt;/code> Ëß£‰∏ÄÊ¨°ÈîÅÔºåÁõ¥Âà∞‰∏∫ &lt;code>0&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="Ê∫êÁ†Å">Ê∫êÁ†Å&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">CountDownLatch&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÂÜÖÈÉ®Á±ªÂÆûÁé∞ AQS
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">private&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Sync&lt;/span> &lt;span class="kd">extends&lt;/span> &lt;span class="n">AbstractQueuedSynchronizer&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="n">serialVersionUID&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">4982264981922014374L&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Sync&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">count&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="c1">// ‰ΩøÁî® AQS ÁöÑ state ‰Ωú‰∏∫ËÆ°Êï∞Âô®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">setState&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">count&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="nf">getCount&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">getState&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÈááÁî® **ÂÖ±‰∫´ÈîÅ** Êú∫Âà∂ÔºåÂõ†‰∏∫ÂèØ‰ª•Ë¢´‰∏çÂêåÁöÑÁ∫øÁ®ã countdown
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">protected&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">tryAcquireShared&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">acquires&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">getState&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="n">1&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">protected&lt;/span> &lt;span class="kt">boolean&lt;/span> &lt;span class="nf">tryReleaseShared&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">releases&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÊØèÊ¨°ÊâßË°åÂ∞Ü state-1ÔºåÁõ¥Âà∞ state=0
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="o">(;;)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">getState&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">c&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">nextc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">compareAndSetState&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">nextc&lt;/span>&lt;span class="o">))&lt;/span> &lt;span class="c1">// ÈÄöËøá CAS ÊîπÂèò state ÁöÑÂÄºÔºåÂ§±Ë¥•‰ºöËøõË°å‰∏ã‰∏ÄËΩÆÂæ™ÁéØ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">nextc&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="n">Sync&lt;/span> &lt;span class="n">sync&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="nf">CountDownLatch&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">count&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">count&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">IllegalArgumentException&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;count &amp;lt; 0&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">sync&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Sync&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">count&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÈÄöËøá acquireSharedInterruptibly Ëé∑ÂèñÂÖ±‰∫´ÈîÅ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Ëã• state!=0 ‰ºöË¢´ÊåÅÁª≠ÈòªÂ°û
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">await&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="kd">throws&lt;/span> &lt;span class="n">InterruptedException&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sync&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">acquireSharedInterruptibly&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// 1 ËøôÈáåÊòØÈöèÊÑèÁöÑÂèÇÊï∞ÔºåÂú® coutdownlatch ‰∏≠Êó†ÊÑè‰πâ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">boolean&lt;/span> &lt;span class="nf">await&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">long&lt;/span> &lt;span class="n">timeout&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">TimeUnit&lt;/span> &lt;span class="n">unit&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">throws&lt;/span> &lt;span class="n">InterruptedException&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">sync&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">tryAcquireSharedNanos&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">unit&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">toNanos&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">timeout&lt;/span>&lt;span class="o">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Ëß£ÈîÅ‰∏ÄÊ¨°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">countDown&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sync&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">releaseShared&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Ëé∑ÂèñÂΩìÂâçËÆ°Êï∞
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">public&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="nf">getCount&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">sync&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getCount&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="nf">toString&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kd">super&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">toString&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;[Count = &amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">sync&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getCount&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;]&amp;#34;&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>‰ΩøÁî® Github Actions Âú®ËÖæËÆØ‰∫ë CloudBase ÈÉ®ÁΩ≤ Hugo</title><link>https://emerywan.github.io/blog/p/hugo-in-cloudbase/</link><pubDate>Mon, 02 May 2022 21:14:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/hugo-in-cloudbase/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/3.jpeg" alt="Featured image of post ‰ΩøÁî® Github Actions Âú®ËÖæËÆØ‰∫ë CloudBase ÈÉ®ÁΩ≤ Hugo" />&lt;h2 id="-‰ªãÁªç">üå± ‰ªãÁªç&lt;/h2>
&lt;p>ËÆ∏Â§öÂπ≥Âè∞ÈÉΩÊèê‰æõ‰∫ÜÂÖçË¥πÁöÑÈùôÊÄÅÈ°µÈù¢ÊâòÁÆ°ÁöÑÊúçÂä°ÔºåÂ¶Ç &lt;code>Github Pages&lt;/code>Ôºå&lt;code>Vercel&lt;/code>Ôºå&lt;code>Netlify&lt;/code>Á≠â„ÄÇ‰ΩÜÂú®ÂõΩÂÜÖÁî±‰∫é‰∏Ä‰∫õ‚ÄúÂéüÂõ†‚ÄùÔºåËøô‰∫õÂõΩÂ§ñÁöÑÊúçÂä°Âú®ÂõΩÂÜÖÁöÑËÆøÈóÆÂπ∂‰∏çÁ®≥ÂÆö„ÄÇ&lt;/p>
&lt;p>ÂõΩÂÜÖÁöÑÂÖçË¥πÊâòÁÆ°Âπ≥Âè∞Â¶Ç &lt;code>Gitee&lt;/code> ÈôêÂà∂ÂæàÂ§öÔºå‰∏çÂèØ‰ª•Ëá™ÂÆö‰πâÂüüÂêçËÄå‰∏î‰πãÂâçÂá∫Áé∞‰∫ÜÈò≤ÁõóÈìæÈóÆÈ¢òÔºåËÆøÈóÆ‰πü‰∏çÊòØÂæàÂø´Ôºå‰∏çÂ§™Êé®Ëçê‰Ωú‰∏∫ÊâòÁÆ°Âπ≥Âè∞„ÄÇ&lt;/p>
&lt;p>ËÖæËÆØ‰∫ëÊé®Âá∫ÁöÑ‰∫ëÂºÄÂèë &lt;code>CloudBase&lt;/code> ‰πüÊúâÈùôÊÄÅÈ°µÈù¢ÊâòÁÆ°ÊúçÂä°„ÄÇÂÖ∂ÂÆûÂÆÉÁõ∏ÊØîËøô‰∫õÈùôÊÄÅÊâòÁÆ°Âπ≥Âè∞ÔºåÊúâÊõ¥Â§öÂº∫Â§ßÁöÑÂäüËÉΩÔºåÁîöËá≥ËÉΩÂ§üÊê≠‰∏ÄÊï¥Â•óÁ≥ªÁªü„ÄÇËôΩÁÑ∂ÊòØ‰ªòË¥πÊúçÂä°Ôºå‰ΩÜÊòØÂú®ÊåâÈáè‰ªòË¥πÁöÑÊÉÖÂÜµ‰∏ãËµÑË¥π‰∏çÊòØÂæàÈ´òÔºåÂú®ÂçöÂÆ¢ËÆøÈóÆÈáè‰∏çÊòØÂæàÈ´òÁöÑÊÉÖÂÜµ‰∏ãÂçÅÂàÜÂêàÈÄÇ„ÄÇ&lt;/p>
&lt;p>ÁõÆÂâçÂú®ËÖæËÆØ‰∫ë‰∏≠ÊöÇÊó∂ËøòÊ≤°Êúâ &lt;code>Hugo&lt;/code> ÁöÑÊ®°Êùø„ÄÇÁõÆÂâçÊúâ‰∏§ÁßçÊñπÂºèÂèØ‰ª•ËææÂà∞Ëá™Âä®ÈÉ®ÁΩ≤ÁöÑÂäüËÉΩÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üå∞ ‰ΩøÁî® &lt;code>Github Actions&lt;/code> ÁºñËØëÔºåÈÄöËøá &lt;code>Tencent CloudBase Github Action&lt;/code> Ëá™Âä®ÈÉ®ÁΩ≤Âà∞ &lt;code>CloudBase&lt;/code>„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üå∞ ‰ΩøÁî® &lt;code>Github Actions&lt;/code> ÁºñËØëÔºåÊé®ÈÄÅÂà∞ &lt;code>Web Â∫îÁî®ÊâòÁÆ°ÔºàwebifyÔºâ&lt;/code> ÁöÑÁÆÄÊòìÈùôÊÄÅÈ°µÈù¢Ê®°Êùø„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="-‰ΩøÁî®-cloudbase">üèñ ‰ΩøÁî® CloudBase&lt;/h2>
&lt;p>&lt;strong>‰ΩøÁî® CloudBse Êó∂Ôºå‰ΩøÁî®ÊåâÈáèËÆ°Ë¥πÁéØÂ¢É‰ºöÊúâ‰∏Ä‰∫õÂÖçË¥πÁî®Èáè„ÄÇ&lt;/strong>&lt;/p>
&lt;h3 id="-ËÖæËÆØ‰∫ë">‚òÅÔ∏è ËÖæËÆØ‰∫ë&lt;/h3>
&lt;h4 id="ÂàõÂª∫ÁéØÂ¢É">ÂàõÂª∫ÁéØÂ¢É&lt;/h4>
&lt;p>Âú® &lt;code>‰∫ëÂºÄÂèë CloudBase&lt;/code> Êñ∞Âª∫‰∏Ä‰∏™Â∫îÁî®ÔºåÈÄâÊã© &lt;strong>Á©∫Ê®°Êùø&lt;/strong>ÔºåÊ†πÊçÆËá™Ë∫´ÈúÄÊ±ÇÂ°´ÂÜô‰ø°ÊÅØ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/hugo-in-cloudbase/new.png"
width="1896"
height="1608"
srcset="https://emerywan.github.io/blog/blog/p/hugo-in-cloudbase/new_hu99910b72135936b76933bc6c60d2f8a9_394958_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/hugo-in-cloudbase/new_hu99910b72135936b76933bc6c60d2f8a9_394958_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="new"
class="gallery-image"
data-flex-grow="117"
data-flex-basis="282px"
>&lt;/p>
&lt;p>ÂàõÂª∫ÊàêÂäüÂêéÔºåËé∑Âæó &lt;code>ÁéØÂ¢ÉID&lt;/code>„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/hugo-in-cloudbase/env_id.png"
width="796"
height="406"
srcset="https://emerywan.github.io/blog/blog/p/hugo-in-cloudbase/env_id_hucc29efc322e6de70f5fc042978c8e74b_42486_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/hugo-in-cloudbase/env_id_hucc29efc322e6de70f5fc042978c8e74b_42486_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="env_id"
class="gallery-image"
data-flex-grow="196"
data-flex-basis="470px"
>&lt;/p>
&lt;h4 id="Ëé∑Âèñ-api-ÂØÜÈí•">Ëé∑Âèñ API ÂØÜÈí•&lt;/h4>
&lt;p>‰∏∫ÈÉ®ÁΩ≤Êñ∞Âª∫‰∏Ä‰∏™ÂØÜÈí•ÂØπ„ÄÇÂú® &lt;code>ËÆøÈóÆÁÆ°ÁêÜ -&amp;gt; Áî®Êà∑ÂàóË°® -&amp;gt; Êñ∞Âª∫Áî®Êà∑ -&amp;gt; Ëá™ÂÆö‰πâÂàõÂª∫ -&amp;gt; ÂèØËÆøÈóÆËµÑÊ∫êÂπ∂Êé•Êî∂Ê∂àÊÅØ&lt;/code>„ÄÇ&lt;a class="link" href="https://console.cloud.tencent.com/cam" target="_blank" rel="noopener"
>üîó ‰º†ÈÄÅÈó®&lt;/a>&lt;/p>
&lt;p>Ê†πÊçÆËá™Â∑±ÁöÑÈúÄË¶ÅÔºåÊñ∞Âª∫Áî®Êà∑ÂêçÂêéÈÄâÊã© &lt;code>ÁºñÁ®ãËÆøÈóÆ&lt;/code>ÔºåÁÇπÂáª‰∏ã‰∏ÄÊ≠•„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/hugo-in-cloudbase/new_user.png"
width="2122"
height="1158"
srcset="https://emerywan.github.io/blog/blog/p/hugo-in-cloudbase/new_user_hu5db7ae8d8e85e220ba3039161cacacd8_188871_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/hugo-in-cloudbase/new_user_hu5db7ae8d8e85e220ba3039161cacacd8_188871_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="new_user"
class="gallery-image"
data-flex-grow="183"
data-flex-basis="439px"
>&lt;/p>
&lt;p>Âú®Ëá™ÂÆö‰πâÁ≠ñÁï•‰∏≠ÂãæÈÄâÔºö&lt;/p>
&lt;ul>
&lt;li>&lt;code>QcloudAccessForTCBRole&lt;/code>ÔºöÊéà‰∫à‰∫ëÂºÄÂèëÔºàTCBÔºâÂØπ‰∫ëËµÑÊ∫êÁöÑËÆøÈóÆÊùÉÈôêÔºõ&lt;/li>
&lt;li>&lt;code>QcloudAccessForTCBRoleInAccessCloudBaseRun&lt;/code>Ôºö‰æõ‰∫ëÂºÄÂèëÔºàTCBÔºâÊúçÂä°ËßíËâ≤ÔºàTCB_QcsRoleÔºâËøõË°åÂÖ≥ËÅîÔºåÁî®‰∫é TCB ËÆøÈóÆÂÖ∂‰ªñ‰∫ëÊúçÂä°ËµÑÊ∫ê„ÄÇÂåÖÂê´ÁßÅÊúâÁΩëÁªú VPC„ÄÅ‰∫ëÊúçÂä°Âô® CVM Áõ∏ÂÖ≥Êìç‰ΩúÊùÉÈôê„ÄÇ&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/hugo-in-cloudbase/access.png"
width="2048"
height="626"
srcset="https://emerywan.github.io/blog/blog/p/hugo-in-cloudbase/access_hu76f892695bd748244f5434357abaf2d0_122725_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/hugo-in-cloudbase/access_hu76f892695bd748244f5434357abaf2d0_122725_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="access"
class="gallery-image"
data-flex-grow="327"
data-flex-basis="785px"
>&lt;/p>
&lt;p>ÁÇπ‰∏Ä‰∏ã‰∏ÄÊ≠•ÂêéÔºåÊñ∞Âª∫Áî®Êà∑ÊàêÂäü„ÄÇÂèØ‰ª•Ëé∑Âæó &lt;code>SecretId&lt;/code> Âíå &lt;code>SecretKey&lt;/code>„ÄÇ&lt;/p>
&lt;h3 id="-github-actions">‚öôÔ∏è Github Actions&lt;/h3>
&lt;h4 id="ËÆæÁΩÆ-github-secrets">ËÆæÁΩÆ Github Secrets&lt;/h4>
&lt;p>Âú®È°πÁõÆÁöÑ &lt;code>Settings -&amp;gt; Secrets -&amp;gt; Actions&lt;/code> ‰∏≠Ê∑ªÂä†‰∏äËø∞ÂæóÂà∞ÁöÑ &lt;code>ENV_ID&lt;/code>Ôºå&lt;code>SECRET_ID&lt;/code>Ôºå&lt;code>SECRET_KEY&lt;/code>ÔºàÂêçÁß∞ÂèØ‰ª•Ëá™ÂÆö‰πâÔºâ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/hugo-in-cloudbase/secret.png"
width="1616"
height="366"
srcset="https://emerywan.github.io/blog/blog/p/hugo-in-cloudbase/secret_hu55ad514f0e88b8a75da2092c1dc5a21a_68162_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/hugo-in-cloudbase/secret_hu55ad514f0e88b8a75da2092c1dc5a21a_68162_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="secret"
class="gallery-image"
data-flex-grow="441"
data-flex-basis="1059px"
>&lt;/p>
&lt;h4 id="Ê∑ªÂä†-workflows">Ê∑ªÂä† workflows&lt;/h4>
&lt;p>ÂèØ‰ª•Âú®‰ªìÂ∫ìÁöÑ &lt;code>Actions&lt;/code> ‰∏≠ &lt;code>new workflow&lt;/code>ÔºåÊàñËÄÖÂú®È°πÁõÆ‰∏≠ &lt;code>.github/workflows&lt;/code> Ê∑ªÂä†„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Tencent CloudBase&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">push&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">branches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">main&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hugo-publish&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">publish content to static website&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Checkout&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">submodules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fetch-depth&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Setup Hugo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">peaceiris/actions-hugo@v2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hugo-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">extended&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Build&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">hugo --minify --gc&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ‰ΩøÁî®‰∫ëÂºÄÂèë Github Action ÈÉ®ÁΩ≤&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deploy to Tencent CloudBase&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TencentCloudBase/cloudbase-action@v2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">secretId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.QCLOUD_SECRET_ID }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">secretKey&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.QCLOUD_SECRET_KEY }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">envId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.QCLOUD_ENV_ID }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>üöß ÊèêÁ§∫Ôºö&lt;/p>
&lt;p>ËøôÈáå‰ΩøÁî®‰∫Ü &lt;code>TencentCloudBase/cloudbase-action@v2&lt;/code>ÔºåÈúÄË¶ÅÂú®È°πÁõÆÊ†πÁõÆÂΩïÊ∑ªÂä† &lt;code>cloudbaserc.json&lt;/code>„ÄÇ&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;envId&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;{{env.ENV_ID}}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// ËøôÈáåÈúÄË¶ÅÊõ¥Êîπ‰∏∫‰Ω†ÁöÑ ÁéØÂ¢ÉIDÔºåÊàñËÄÖÂú® .env Êñá‰ª∂‰∏≠ÈÖçÁΩÆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;$schema&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://framework-1258016615.tcloudbaseapp.com/schema/latest.json&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;version&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;2.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;framework&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;hugo-blog&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;plugins&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;client&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;use&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;@cloudbase/framework-plugin-website&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;inputs&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;outputPath&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;public&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;ignore&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;.git&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;.github&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;cloudbaserc.js&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>üöß ÊèêÁ§∫Ôºö&lt;/p>
&lt;p>ËøôÈáå‰πüÂèØ‰ª•ÈÄâÊã© &lt;code> Tencent CloudBase Github Action V1&lt;/code>„ÄÇüôã‚Äç‚ôÇÔ∏è &lt;strong>ÔºàÊé®ËçêÔºâ&lt;/strong>&lt;/p>
&lt;p>V2 ÊØî V1 ÊúâÊõ¥Â§öÂäüËÉΩÔºåÊØîÂ¶ÇÊãâÂèñ‰ª£Á†ÅÂú®ËÖæËÆØ‰∫ëÁ´ØÁºñËØëÔºå‰ΩÜÁõÆÂâçÊ≤°Êúâ Hugo Ê®°Êùø„ÄÇÊàë‰ª¨Â∑≤ÁªèÂú® Github Actions ‰∫ßÂá∫‰∫ÜÈùôÊÄÅÊñá‰ª∂ÔºåÁõ¥Êé•Êé®ÈÄÅÂç≥ÂèØ„ÄÇÊâÄ‰ª•ÁõÆÂâçÂØπ‰∫é hugo Êù•ËØ¥ÔºåÊ≤°‰ªÄ‰πàÂå∫Âà´Ôºå‰ΩøÁî®ÁîöËá≥ V1 Êõ¥Âø´Êõ¥ÁÆÄÊ¥Å„ÄÇ&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Â∞Ü‰∏äËø∞ jobs ÂÜÖÊõøÊç¢‰∏∫&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deploy to Tencent CloudBase&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TencentCloudBase/cloudbase-action@v1.1.1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">secretId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.QCLOUD_SECRET_ID }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">secretKey&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.QCLOUD_SECRET_KEY }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">envId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.QCLOUD_ENV_ID }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">staticSrcPath&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">public&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="-‰ΩøÁî®-webify">üèù ‰ΩøÁî® webify&lt;/h2>
&lt;p>‰ΩøÁî® Web Â∫îÁî®ÊâòÁÆ°ÔºàwebifyÔºâ‰∏ªË¶ÅÊòØÂà©Áî® &lt;code>Github Actions&lt;/code> ÁîüÊàê ÈùôÊÄÅÈ°µÈù¢Âà∞Âè¶‰∏Ä‰∏™ÂàÜÊîØÔºåÂÜçÊâòÁÆ°Ëøô‰∏™ÂàÜÊîØÁöÑÂÜÖÂÆπ„ÄÇ&lt;/p>
&lt;h3 id="-ÂàõÂª∫ÊúçÂä°">‚òÅÔ∏è ÂàõÂª∫ÊúçÂä°&lt;/h3>
&lt;p>Âú® &lt;code>Web Â∫îÁî®ÊâòÁÆ° -&amp;gt; Êñ∞Âª∫Â∫îÁî®&lt;/code> Êñ∞Âª∫‰∏Ä‰∏™ÁÆÄÊòìÈùôÊÄÅÈ°µÈù¢Ê®°Êùø„ÄÇÊ†πÊçÆÈúÄÊ±ÇÂ°´ÂÜô‰ø°ÊÅØ„ÄÇÈÄâÊã©Á∫ØÈùôÊÄÅÈ°µÈù¢„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/hugo-in-cloudbase/webify.png"
width="2530"
height="1256"
srcset="https://emerywan.github.io/blog/blog/p/hugo-in-cloudbase/webify_hu211af589e3a728aa0fd91d8fdf6a5a77_643488_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/hugo-in-cloudbase/webify_hu211af589e3a728aa0fd91d8fdf6a5a77_643488_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="webify"
class="gallery-image"
data-flex-grow="201"
data-flex-basis="483px"
>&lt;/p>
&lt;p>Âú® &lt;code>Â∫îÁî®ÂàóË°® -&amp;gt; Â∫îÁî®ËÆæÁΩÆ&lt;/code> ‰∏≠ÈÖçÁΩÆ‰ªìÂ∫ì‰ø°ÊÅØÔºåÂπ∂Ê†πÊçÆËá™Ë∫´ÊÉÖÂÜµÈÄâÊã©ÈùôÊÄÅÊñá‰ª∂ÁöÑÈÉ®ÁΩ≤ÂàÜÊîØ„ÄÇÔºàÂ¶ÇÊûúÂΩìÂâçÊ≤°ÊúâÁîüÊàêÈùôÊÄÅÈ°µÈù¢ÁöÑÂàÜÊîØÔºåÂèØÂÆåÊàêÂêéÈù¢Êìç‰ΩúÂêéÂÜçËøõË°åÊ≠§Ê≠•È™§Ôºâ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/hugo-in-cloudbase/webify_info.png"
width="1896"
height="1164"
srcset="https://emerywan.github.io/blog/blog/p/hugo-in-cloudbase/webify_info_hufa1571ab4508131ee643c8a2551cf3ff_136359_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/hugo-in-cloudbase/webify_info_hufa1571ab4508131ee643c8a2551cf3ff_136359_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="webify_info"
class="gallery-image"
data-flex-grow="162"
data-flex-basis="390px"
>&lt;/p>
&lt;h3 id="-github-actions-1">‚öôÔ∏è Github Actions&lt;/h3>
&lt;h4 id="ËÆæÁΩÆ-github-token">ËÆæÁΩÆ Github Token&lt;/h4>
&lt;p>Âú®Áî®Êà∑ÁöÑ &lt;code>Settings -&amp;gt; Developer settings -&amp;gt; Personal access tokens -&amp;gt; Generate new token&lt;/code> Ëé∑Âèñ‰∏Ä‰∏™ &lt;code>Repo Token&lt;/code>„ÄÇ&lt;a class="link" href="https://github.com/settings/tokens" target="_blank" rel="noopener"
>üîó ‰º†ÈÄÅÈó®&lt;/a>&lt;/p>
&lt;p>Âú®È°πÁõÆÁöÑ &lt;code>Settings -&amp;gt; Secrets -&amp;gt; Actions&lt;/code> ‰∏≠Ê∑ªÂä†‰∏äËø∞ÂæóÂà∞ÁöÑ &lt;code>Token&lt;/code>„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/hugo-in-cloudbase/access_token.png"
width="1600"
height="598"
srcset="https://emerywan.github.io/blog/blog/p/hugo-in-cloudbase/access_token_hu161bb7d01a4edfa7f2231ebb5df9a1e4_123158_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/hugo-in-cloudbase/access_token_hu161bb7d01a4edfa7f2231ebb5df9a1e4_123158_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="access_token"
class="gallery-image"
data-flex-grow="267"
data-flex-basis="642px"
>&lt;/p>
&lt;h4 id="Ê∑ªÂä†-workflows-1">Ê∑ªÂä† workflows&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Tencent CloudBase&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">push&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">branches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">main&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hugo-publish&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">publish content to static website&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Checkout&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">submodules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fetch-depth&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Setup Hugo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">peaceiris/actions-hugo@v2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hugo-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">extended&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Build&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">hugo --minify --gc&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deploy to Branch&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">peaceiris/actions-gh-pages@v3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">github_token&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.ACCESS_TOKEN }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">keep_files&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">publish_branch&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">gh-pages &lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Êõ¥Êîπ‰∏∫‰Ω†ÊÉ≥Ë¶ÅÁîüÊàêÁöÑÂàÜÊîØ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">publich_dir&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">./public&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">commit_message&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ github.event.head_commit.message }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="-ÂèÇËÄÉ">‚õì ÂèÇËÄÉ&lt;/h2>
&lt;ul>
&lt;li>üîó &lt;a class="link" href="https://blog.wangjunfeng.com/post/hugo-cloudbase/" target="_blank" rel="noopener"
>https://blog.wangjunfeng.com/post/hugo-cloudbase/&lt;/a>&lt;/li>
&lt;li>üîó &lt;a class="link" href="https://cloud.tencent.com/document/product/1210/43389" target="_blank" rel="noopener"
>https://cloud.tencent.com/document/product/1210/43389&lt;/a>&lt;/li>
&lt;li>üîó &lt;a class="link" href="https://github.com/TencentCloudBase/cloudbase-action" target="_blank" rel="noopener"
>https://github.com/TencentCloudBase/cloudbase-action&lt;/a>&lt;/li>
&lt;li>üîó &lt;a class="link" href="https://github.com/TencentCloudBase/cloudbase-action/blob/3354b442713265aa9d7c5bf03b0b8cb0173f546f/README.md" target="_blank" rel="noopener"
>https://github.com/TencentCloudBase/cloudbase-action/blob/3354b442713265aa9d7c5bf03b0b8cb0173f546f/README.md&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Âú® Ubuntu ‰ºòÈõÖÂú∞ÂÆâË£Ö zip Â∫îÁî® ü§î</title><link>https://emerywan.github.io/blog/p/ubuntu-software-install/</link><pubDate>Mon, 02 May 2022 02:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/ubuntu-software-install/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/4.jpeg" alt="Featured image of post Âú® Ubuntu ‰ºòÈõÖÂú∞ÂÆâË£Ö zip Â∫îÁî® ü§î" />&lt;h2 id="ËØ¥Êòé">ËØ¥Êòé&lt;/h2>
&lt;p>Ubuntu Êúâ‰∫õÁ¨¨‰∏âÊñπËΩØ‰ª∂Âè™Êèê‰æõ‰∫åËøõÂà∂ÊâßË°åÊñá‰ª∂ÔºàÂéãÁº©ÂåÖÊàñ AppImageÔºâÔºåËÄå‰∏çÊòØÂÆâË£ÖÂåÖÊàñËÄÖ apt Ê∫êÔºåËøôÊó∂ÂÄôÈúÄË¶ÅÊàë‰ª¨ÂéªËá™Â∑±Ëß£ÂéãÊñá‰ª∂ÔºåÊîæÂú®Ëá™ÂÆö‰πâÁõÆÂΩïÔºåÂπ∂ËøõË°åÈÖçÁΩÆ„ÄÇ&lt;/p>
&lt;p>Âπ≥Â∏∏‰ΩøÁî®Ê°åÈù¢ÁéØÂ¢ÉÁöÑËØùÔºåËøôÊ†∑ÂÆâË£ÖÂêéÔºåÊõ¥Êñ∞ËøòÊòØÊúâÁÇπÈ∫ªÁÉ¶ÁöÑÔºå‰∏ÄÊõ¥Êñ∞Â∞±Ë¶Å‰øÆÊîπÂæàÂ§öÂú∞Êñπ„ÄÇ&lt;/p>
&lt;p>ËøôÈáå‰ªãÁªçÊàëÂπ≥Â∏∏ÁöÑÈÖçÁΩÆÊñπÂºèÔºåÊØèÊ¨°Êõ¥Êñ∞ÂêéÔºåÂè™ÈúÄË¶Å‰øÆÊîπËΩØÈìæÊé•Âç≥ÂèØÔºåÊÑüËßâËøòÊòØÊå∫Êñπ‰æøÁöÑ„ÄÇ&lt;/p>
&lt;h2 id="ÊñπÂºè">ÊñπÂºè&lt;/h2>
&lt;p>‰ª• &lt;a class="link" href="https://github.com/Fndroid/clash_for_windows_pkg/releases" target="_blank" rel="noopener"
>cfw&lt;/a> ÂÆâË£Ö‰∏∫‰æãÔºåLinux Êèê‰æõ &lt;code>.tar.gz&lt;/code> ÁöÑÊâßË°åÊñá‰ª∂„ÄÇ&lt;/p>
&lt;p>ÊàëÈÄöÂ∏∏ÈÉΩÊääËøôÊ†∑ÁöÑËΩØ‰ª∂ÈÉΩÁªü‰∏ÄÊîæÂà∞ &lt;code>~/Applications&lt;/code> ‰∏≠„ÄÇ&lt;/p>
&lt;ul>
&lt;li>üèïÔ∏è È¶ñÂÖàÂàõÂª∫‰∏Ä‰∏™ÂÆâË£ÖÁöÑËΩØ‰ª∂ÁöÑÊñá‰ª∂Â§π&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">mkdir -p ~/Application/clash
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>üèûÔ∏è Â∞Ü‰∏ãËΩΩÁöÑÊñá‰ª∂Ëß£ÂéãÂà∞ËØ•Êñá‰ª∂Â§π‰∏≠&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">tar -xzvf Clash.for.Windows-0.19.12 -C ~/Application/clash
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>üèúÔ∏è ÂàõÂª∫ÂêØÂä®Êñá‰ª∂ÁöÑËΩØËøûÊé•&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">ln -s ./Clash&lt;span class="se">\ &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="se">\ &lt;/span>Windows-0.19.12-x64-linux/cfw ./clash
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÈÄöËøáËøôÁßçÊñπÂºèÔºåÊØèÊ¨°ÂêØÂä®Â∫îÁî®ÈÉΩ‰ΩøÁî®Ëøô‰∏™ËΩØÈìæÊé•ËøõË°åÊìç‰ΩúÔºåÂΩìÈúÄË¶ÅÂçáÁ∫ßÂ∫îÁî®Êó∂ÔºåÂè™ÈúÄË¶ÅÂàõÂª∫Êñ∞ÁöÑËΩØÈìæÊé•ÔºåÊåáÂêëÊñ∞ÁöÑÂêØÂä®Êñá‰ª∂„ÄÇ&lt;/p>
&lt;p>‰∏çÈúÄË¶ÅÊØèÊ¨°ÂçáÁ∫ßÁâàÊú¨ÔºåÈÉΩÊîπÂÖ∂‰ªñÂú∞ÊñπÔºåËÄå‰∏îÂèØ‰ª•ÈÄöËøáÊñá‰ª∂Â§πÂëΩÂêçÂæàÊ∏ÖÊ•öÂú∞Áü•ÈÅìÂΩìÂâç‰ΩøÁî®Âú∞ÁâàÊú¨Âè∑„ÄÇüëç&lt;/p>
&lt;p>ÊúÄÂêéÁöÑÊïàÊûúÂ¶Ç‰∏ãÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ tree . -L 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">‚îú‚îÄ‚îÄ clash -&amp;gt; ./Clash for Windows-0.19.12-x64-linux/cfw
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">‚îú‚îÄ‚îÄ Clash for Windows-0.19.12-x64-linux
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">‚îî‚îÄ‚îÄ Clash for Windows-0.19.2-x64-linux
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>üèñÔ∏è Ê∑ªÂä†Ê°åÈù¢ÂõæÊ†á&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">vim ~/.local/share/applications/clw.desktop
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ê∑ªÂä†‰ª•‰∏ãÂÜÖÂÆπÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-conf" data-lang="conf">&lt;span class="line">&lt;span class="cl">&lt;span class="err">[&lt;/span>&lt;span class="nv">Desktop&lt;/span> &lt;span class="nv">Entry&lt;/span>&lt;span class="err">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">Name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">Clash&lt;/span> &lt;span class="nv">for&lt;/span> &lt;span class="nv">Linux&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">Icon&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="nv">home&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="nv">emery&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="nv">Applications&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="nv">icon&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="nv">clash_icon.png&lt;/span> &lt;span class="c"># ÊõøÊç¢‰∏∫Ëá™Â∑±ÁöÑÁõÆÂΩï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nv">Comment&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">Clash&lt;/span> &lt;span class="nv">for&lt;/span> &lt;span class="nv">Linux&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">Exec&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/home/emery/Applications/Clash/clash&amp;#34;&lt;/span> &lt;span class="err">%&lt;/span>&lt;span class="nv">u&lt;/span> &lt;span class="c"># ÊõøÊç¢‰∏∫Ëá™Â∑±ÁöÑÁõÆÂΩï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nv">Type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">Application&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">Categories&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">Network&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">Terminal&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">StartupNotify&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Âú® Ubuntu ‰∏≠Êê≠Âª∫ CUDA ÁéØÂ¢É</title><link>https://emerywan.github.io/blog/p/cuda/</link><pubDate>Mon, 02 May 2022 02:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/cuda/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/11.jpeg" alt="Featured image of post Âú® Ubuntu ‰∏≠Êê≠Âª∫ CUDA ÁéØÂ¢É" />&lt;h2 id="nvdia-È©±Âä®">Nvdia È©±Âä®&lt;/h2>
&lt;p>È¶ñÂÖàÔºåËØ∑Á°Æ‰øùÂú®Á≥ªÁªü‰∏≠ÂÆâË£Ö‰∫ÜËã±‰ºüËææÊòæÂç°È©±Âä®ÔºåÂèØ‰ª•‰ΩøÁî® &lt;code>nvidia-msi&lt;/code> ÂëΩ‰ª§Êü•ÁúãÊòæÂç°ÂØπÂ∫î‰ø°ÊÅØ„ÄÇ&lt;/p>
&lt;p>Â¶ÇÊûúÊ≤°ÊúâÂÆâË£ÖÈ©±Âä®ÔºåÂèØ‰ª•ÂèÇËÄÉËØ•Á´†ËäÇ„ÄÇ&lt;a class="link" href="https://emerywan.github.io/blog/guide/prepare/driver.html" >‰º†ÈÄÅÈó®‚û°Ô∏è&lt;/a>&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/cuda/nvidia-msi.png"
width="734"
height="512"
srcset="https://emerywan.github.io/blog/blog/p/cuda/nvidia-msi_hu25fedbd9e105d28334236f2eb0bd81d5_56804_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/cuda/nvidia-msi_hu25fedbd9e105d28334236f2eb0bd81d5_56804_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="nvidia-msi"
class="gallery-image"
data-flex-grow="143"
data-flex-basis="344px"
>&lt;/p>
&lt;p>Êé®Ëçê‰ΩøÁî®Á≥ªÁªüËá™Â∏¶ËΩØ‰ª∂ &lt;code>ËΩØ‰ª∂ÂíåÊõ¥Êñ∞&lt;/code> ÂÆâË£ÖÊòæÂç°È©±Âä®„ÄÇÊâìÂºÄÂ∫îÁî®ÂêéÔºåÁÇπÂáª &lt;code>ÈôÑÂä†È©±Âä®&lt;/code> ÈÄâÈ°πÔºå‰ºöÂØπÊâÄÊúâÂèØÈÄâÁöÑÈôÑÂä†È©±Âä®ËøõË°åÊêúÁ¥¢„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/cuda/nvidia-install.png"
width="877"
height="500"
srcset="https://emerywan.github.io/blog/blog/p/cuda/nvidia-install_hud8377b5c2eaf750be9838eb34291d82b_111878_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/cuda/nvidia-install_hud8377b5c2eaf750be9838eb34291d82b_111878_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="nvidia-install"
class="gallery-image"
data-flex-grow="175"
data-flex-basis="420px"
>&lt;/p>
&lt;p>ÂÖ∂‰∏≠Ôºå&lt;code>Nouveau&lt;/code> ‰∏∫Ëã±‰ºüËææÊòæÂç°ÂºÄÊ∫êÈ©±Âä®ÔºàÈªòËÆ§ÂÆâË£ÖÔºâÔºåÈÄâÊã©ÈúÄË¶ÅÁöÑ &lt;code>NVIDIA drive&lt;/code> È©±Âä®ÈÄâÈ°πÔºåÁÇπÂáª &lt;code>Â∫îÁî®Êõ¥Êîπ&lt;/code>„ÄÇ&lt;/p>
&lt;p>Á≠âÂæÖËøõÂ∫¶Êù°ÁªìÊùüÂêéÔºåÈáçÂêØÁîµËÑëÔºåÂç≥ÂÆåÊàê‰∫ÜÊòæÂç°È©±Âä®ÁöÑÂÆâË£Ö„ÄÇ&lt;/p>
&lt;h2 id="cuda">CUDA&lt;/h2>
&lt;p>‰Ω†ÂèØ‰ª•Âú® &lt;a class="link" href="https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/index.html" target="_blank" rel="noopener"
>ËøôÈáå&lt;/a> ÁúãÂà∞ÊòæÂç°È©±Âä®ÁâàÊú¨‰∏é CUDA ÁâàÊú¨ÁöÑÂØπÂ∫îÂÖ≥Á≥ª„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/cuda/cuda.png"
width="1540"
height="358"
srcset="https://emerywan.github.io/blog/blog/p/cuda/cuda_hu06d82653b392e263a912d34e822f7d1a_74559_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/cuda/cuda_hu06d82653b392e263a912d34e822f7d1a_74559_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="cuda"
class="gallery-image"
data-flex-grow="430"
data-flex-basis="1032px"
>&lt;/p>
&lt;p>üå∞ Âú®ËøôÈáåÁöÑÊòæÂç°È©±Âä®ÁâàÊú¨‰∏∫ &lt;code>470.103.01&lt;/code>ÔºåÊ†πÊçÆÂØπÂ∫îË°®ÂèØÁü•ÔºåÊúÄÈ´òÂèØÈÄâÁöÑ CUDA Toolkit ÁöÑÁâàÊú¨Âè∑‰∏∫ &lt;code>CUDA 11.4 Update 4&lt;/code>„ÄÇ&lt;/p>
&lt;p>‰πãÂêéÔºåÂèØÂú®ÂÆòÁΩë &lt;a class="link" href="https://developer.nvidia.com/cuda-toolkit-archive" target="_blank" rel="noopener"
>ËØ•È°µÈù¢&lt;/a> ‰∏≠ÔºåÈÄâÊã©ÂØπÂ∫îÁöÑ CUDA Toolkit„ÄÇ&lt;/p>
&lt;p>ÂèØÊ†πÊçÆÂΩìÂâçÁ≥ªÁªüÁéØÂ¢ÉÔºåÈÄâÊã©ÂØπÂ∫îÁöÑ‰∏ãËΩΩÈÄâÈ°πÔºàÊé®Ëçê‰∏ãËΩΩ &lt;code>.drunfile&lt;/code>Ôºå&lt;code>.deb&lt;/code> ‰ºöË¶ÜÁõñÁ≥ªÁªüÂÆâË£ÖÁöÑÊòæÂç°È©±Âä®ÔºâÔºö&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/cuda/cuda-platform.png"
width="2506"
height="894"
srcset="https://emerywan.github.io/blog/blog/p/cuda/cuda-platform_hu9bf542e30b48a580f041a55f80ab65bc_245327_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/cuda/cuda-platform_hu9bf542e30b48a580f041a55f80ab65bc_245327_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="cuda-platform"
class="gallery-image"
data-flex-grow="280"
data-flex-basis="672px"
>&lt;/p>
&lt;p>‰∏ãËΩΩÂÆåÊàêÂêéÔºå‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§ËøõË°åÂÆâË£ÖÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> &lt;span class="si">${&lt;/span>&lt;span class="nv">DOWNLOAD_DIR&lt;/span>&lt;span class="si">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chmod +x ./cuda_&lt;span class="o">{&lt;/span>Version&lt;span class="o">}&lt;/span>_linux.run
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo sh ./cuda_&lt;span class="o">{&lt;/span>Version&lt;span class="o">}&lt;/span>_linux.run
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>::: warning Ë≠¶Âëä üöß
Ê≥®ÊÑèÔºöÂú®ÂÆâË£ÖËøáÁ®ã‰∏≠ÔºåËØ∑ÂèñÊ∂àÂãæÈÄâÂÆâË£ÖÈ©±Âä®ÈÄâÈ°π„ÄÇ
:::&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/cuda/cuda-install.png"
width="734"
height="476"
srcset="https://emerywan.github.io/blog/blog/p/cuda/cuda-install_hu423287ac940ffb3bc75497440c5c47d7_30663_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/cuda/cuda-install_hu423287ac940ffb3bc75497440c5c47d7_30663_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="cuda-install"
class="gallery-image"
data-flex-grow="154"
data-flex-basis="370px"
>&lt;/p>
&lt;p>ÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáèÔºåÂú®ÂØπÂ∫îÈÖçÁΩÆÊñá‰ª∂‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÂÜÖÂÆπÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># bash -&amp;gt; .bashrc / zsh -&amp;gt; .zshrc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">CUDA_HOME&lt;/span>&lt;span class="o">=&lt;/span>/usr/local/cuda-&lt;span class="o">{&lt;/span>Version&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">CUDA_HOME&lt;/span>&lt;span class="si">}&lt;/span>/bin:&lt;span class="si">${&lt;/span>&lt;span class="nv">PATH&lt;/span>&lt;span class="si">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="cudnn">cuDNN&lt;/h2>
&lt;p>‰Ω†ÂèØ‰ª•Âú®ÂÆòÁΩë &lt;a class="link" href="https://developer.nvidia.com/rdp/cudnn-download" target="_blank" rel="noopener"
>Ê≠§ÈìæÊé•&lt;/a> ‰∏ãËΩΩ CUDNNÔºåÈúÄË¶ÅÊ≥®ÂÜåÂºÄÂèëËÄÖË¥¶Âè∑ÔºåÂèØËÉΩËøòÈúÄË¶Å‰∏Ä‰∏™‚ÄúËâØÂ•ΩÁöÑÁΩëÁªúÁéØÂ¢É‚Äù„ÄÇ&lt;/p>
&lt;p>ÈÄâÊã©‰∏é CUDA Áõ∏ÂØπÂ∫îÁî®ÁöÑ cuDNNÔºåÊé®Ëçê‰∏ãËΩΩÂéãÁº©ÂåÖÊ†ºÂºè„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/cuda/cudnn.png"
width="2228"
height="1498"
srcset="https://emerywan.github.io/blog/blog/p/cuda/cudnn_hu2d2e598f2ebb22e3f94073a6174ea5e2_332327_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/cuda/cudnn_hu2d2e598f2ebb22e3f94073a6174ea5e2_332327_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="cudnn"
class="gallery-image"
data-flex-grow="148"
data-flex-basis="356px"
>&lt;/p>
&lt;p>‰∏ãËΩΩÂÆåÊàêÂêéÔºåËß£ÂéãÊñá‰ª∂Â§πÔºåÂπ∂Ê†πÊçÆ‰ª•‰∏ãÂëΩ‰ª§Â§çÂà∂Ëß£ÂéãÂêéÊñá‰ª∂Â§π‰∏≠ÁöÑ &lt;code>lib64&lt;/code> &lt;code>include&lt;/code> Êñá‰ª∂Â§πÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">tar -xzvf cudnn-linux-&lt;span class="o">{&lt;/span>Version&lt;span class="o">}&lt;/span>.tar.gz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo cp cudnn-linux-&lt;span class="o">{&lt;/span>Version&lt;span class="o">}&lt;/span>/lib64/* /usr/local/cuda/lib64
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo cp cudnn-linux-&lt;span class="o">{&lt;/span>Version&lt;span class="o">}&lt;/span>/include/* /usr/local/cuda/include
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Â§çÂà∂ÂÆåÊàêÂêéÔºåÂèØ‰ª•ÈÄöËøá‰ª•‰∏ãÂëΩ‰ª§Êü•Áúã cuDNN ÁâàÊú¨‰ø°ÊÅØÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">cat /usr/local/cuda-10.1/include/cudnn.h &lt;span class="p">|&lt;/span> grep CUDNN_MAJOR -A &lt;span class="m">2&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Java Âπ∂Âèë - Âπ∂ÂèëÂÆâÂÖ®ÁöÑÂÆπÂô®</title><link>https://emerywan.github.io/blog/p/thread/collection/</link><pubDate>Fri, 29 Apr 2022 14:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/thread/collection/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/16.jpeg" alt="Featured image of post Java Âπ∂Âèë - Âπ∂ÂèëÂÆâÂÖ®ÁöÑÂÆπÂô®" />&lt;h2 id="-ÈÅóÁïôÁöÑÂÆâÂÖ®ÈõÜÂêà">üöß ÈÅóÁïôÁöÑÂÆâÂÖ®ÈõÜÂêà&lt;/h2>
&lt;p>Â¶ÇÔºö&lt;/p>
&lt;ul>
&lt;li>Hashtable&lt;/li>
&lt;li>Vector&lt;/li>
&lt;/ul>
&lt;p>Ëøô‰∫õÈõÜÂêàÁöÑÂÆûÁé∞ÊñπÂºèÁÆÄÂçïÁ≤óÊö¥ÔºåÂú®ÊñπÊ≥ï‰∏äÁõ¥Êé•‰ΩøÁî® &lt;code>synchronized&lt;/code> ËøõË°å‰øÆÈ•∞ÔºåÂú®ËøõË°åËØªÂÜôÁ≠âÊìç‰ΩúÊó∂Ôºå‰ºöÈîÅ‰ΩèÊï¥‰∏™ÂØπË±°ÔºåÂπ∂ÂèëÊÄßËÉΩ‰∏çÂ§™Â•Ω„ÄÇ&lt;/p>
&lt;h2 id="-collections-ÂÆâÂÖ®ÈõÜÂêà">üì¶ Collections ÂÆâÂÖ®ÈõÜÂêà&lt;/h2>
&lt;p>Â¶ÇÔºö&lt;/p>
&lt;ul>
&lt;li>Collections.synchronizedCollection(Collection&lt;!-- raw HTML omitted --> c)&lt;/li>
&lt;li>Collections.synchronizedList(List&lt;!-- raw HTML omitted --> list)&lt;/li>
&lt;li>Collections.synchronizedMap(Map&amp;lt;K,V&amp;gt; m)&lt;/li>
&lt;li>Collections.synchronizedSet(Set&lt;!-- raw HTML omitted --> s)&lt;/li>
&lt;li>&amp;hellip;&lt;/li>
&lt;/ul>
&lt;p>‰ΩøÁî®ËØ•ÊñπÊ≥ïÔºå‰º†ÂÖ•‰∏Ä‰∏™Á∫øÁ®ã‰∏çÂÆâÂÖ®ÁöÑÈõÜÂêàÔºåËøîÂõû‰∏Ä‰∏™ Collections ÂÜÖÈÉ®ÁöÑÈùôÊÄÅÁ±ªÂØπË±°ÔºåÁî®‰∫éÂ∞Ü‰∏Ä‰∏™‰∏çÂÆâÂÖ®ÁöÑÈõÜÂêàÂèòÊàê‰∏Ä‰∏™Á∫øÁ®ãÂÆâÂÖ®ÁöÑÈõÜÂêà„ÄÇ&lt;/p>
&lt;p>ËØ•ÊñπÊ≥ï‰ºöÂ∞Ü‰º†ÂÖ•ÁöÑÈõÜÂêà‰Ωú‰∏∫ÊàêÂëòÂèòÈáèÔºåÊØèÊ¨°Êìç‰ΩúÊó∂ÔºåÈÉΩ‰ΩøÁî® &lt;code>synchronized&lt;/code> Âä†ÈîÅÔºåÈîÅ‰Ωè &lt;code>mutex&lt;/code>ÔºàMap ‰∏≠‰∏∫ÂΩìÂâçÂØπË±° thisÔºâ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">private&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">SynchronizedMap&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">K&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="n">V&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">implements&lt;/span> &lt;span class="n">Map&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">K&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="n">V&lt;/span>&lt;span class="o">&amp;gt;,&lt;/span> &lt;span class="n">Serializable&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="n">serialVersionUID&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">1978198479659022715L&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="n">Map&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">K&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="n">V&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="c1">// Backing Map
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="n">Object&lt;/span> &lt;span class="n">mutex&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="c1">// Object on which to synchronize
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SynchronizedMap&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Map&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">K&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="n">V&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">m&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Objects&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">requireNonNull&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mutex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SynchronizedMap&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Map&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">K&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="n">V&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Object&lt;/span> &lt;span class="n">mutex&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">m&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">mutex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mutex&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">size&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">synchronized&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">mutex&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>&lt;span class="k">return&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">size&lt;/span>&lt;span class="o">();}&lt;/span> &lt;span class="c1">// Êìç‰ΩúÈÉΩ‰ºöÈîÅ‰Ωè mutex
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ... ÂÖ∂‰ªñÊñπÊ≥ï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="-juc-ÂÆâÂÖ®ÈõÜÂêà">üõ† JUC ÂÆâÂÖ®ÈõÜÂêà&lt;/h2>
&lt;p>&lt;code>java.util.concurrent&lt;/code> ‰∏ãÊèê‰æõÁöÑÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÈõÜÂêàÁ±ªÔºåÂèØ‰ª•ÂàÜ‰∏∫‰∏âÁ±ªÔºö&lt;/p>
&lt;ul>
&lt;li>Concurrent Á≥ªÂàóÔºàÈÄÇÂêàÂÜôÂ§öÁöÑÂú∫ÊôØÔºåÂÜÖÈÉ®‰ΩøÁî® CAS ‰ºòÂåñÔºâ&lt;/li>
&lt;li>CopyOnWrite Á≥ªÂàóÔºàÈÄÇÂêà‰∫éËØªÂ§öÂÜôÂ∞ëÁöÑÂú∫ÊôØÔºâ&lt;/li>
&lt;li>Blocking Á≥ªÂàóÔºàÈòªÂ°ûÈòüÂàóÔºâ&lt;/li>
&lt;/ul>
&lt;h3 id="-concurrent">‚úç Concurrent&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;code>ConcurrentHashMap&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>ConcurrentLinkedQueue&lt;/code> / &lt;code>ConcurrentLinkedDeque&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>ConcurrentSkipListMap&lt;/code> / &lt;code>ConcurrentSkipListSet&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-copyonwrite">üìñ CopyOnWrite&lt;/h3>
&lt;ul>
&lt;li>&lt;code>CopyOnWriteArrayList&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>ÈááÁî®‰∫ÜÂÜôÂÖ•Êó∂Êã∑Ë¥ùÁöÑÊÄùÊÉ≥ÔºåÊõ¥ÊîπÊìç‰Ωú‰ºöÂ∞ÜÂ∫ïÂ±ÇÊï∞ÁªÑÊã∑Ë¥ù‰∏Ä‰ªΩÔºåÊõ¥ÊîπÂú®Êñ∞ÁöÑÊï∞ÁªÑ‰∏äÊâßË°åÔºåÂπ∂ÂèëÊó∂ËØªÂÜôÊìç‰ΩúËææÂà∞ËØªÂÜôÂàÜÁ¶ª„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kt">boolean&lt;/span> &lt;span class="nf">add&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">E&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">final&lt;/span> &lt;span class="n">ReentrantLock&lt;/span> &lt;span class="n">lock&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">lock&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">lock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Object&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">elements&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">getArray&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">elements&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">length&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Object&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">newElements&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Arrays&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">copyOf&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">elements&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">1&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">newElements&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="n">len&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">setArray&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">newElements&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// ÊõøÊç¢Êï∞ÁªÑ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">finally&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">unlock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ËØªÊìç‰Ωú‰∏çËøõË°åÂä†ÈîÅ„ÄÇÈÄÇÂêà‰∫éËØªÂ§öÂÜôÂ∞ëÁöÑÂú∫ÊôØ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@SuppressWarnings&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;unchecked&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">private&lt;/span> &lt;span class="n">E&lt;/span> &lt;span class="nf">get&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">index&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">E&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="o">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="n">E&lt;/span> &lt;span class="nf">get&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">index&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">get&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">getArray&lt;/span>&lt;span class="o">(),&lt;/span> &lt;span class="n">index&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>CopyOnWriteArraySet&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>CopyOnWriteArraySet&lt;/code> ÂÜÖÈÉ®Áî± &lt;code>CopyOnWriteArrayList&lt;/code> ÂÆûÁé∞&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">CopyOnWriteArraySet&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">E&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="kd">extends&lt;/span> &lt;span class="n">AbstractSet&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">E&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">implements&lt;/span> &lt;span class="n">java&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">io&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">Serializable&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="nf">CopyOnWriteArraySet&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">al&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">CopyOnWriteArrayList&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">E&lt;/span>&lt;span class="o">&amp;gt;();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="-blocking">üöß Blocking&lt;/h3>
&lt;p>ÊúâÁïåÈòüÂàóÔºöÊúâÂõ∫ÂÆöÂ§ßÂ∞èÁöÑÈòüÂàó„ÄÇ&lt;/p>
&lt;p>Êó†ÁïåÈòüÂàóÔºöÊ≤°ÊúâÂõ∫ÂÆöÂ§ßÂ∞èÁöÑÈòüÂàó&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>ArrayBlockingQueue&lt;/code>&lt;/p>
&lt;ul>
&lt;li>ÊúâÁïåÂ∏¶ÁºìÂÜ≤ÈòªÂ°ûÈòüÂàóÔºåÊï∞ÁªÑÂÆûÁé∞&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;code>LinkedBlockingQueue&lt;/code>&lt;/p>
&lt;ul>
&lt;li>Áî±ÁïåÂ∏¶ÁºìÂÜ≤ÈòªÂ°ûÈòüÂàó (Integer.MAX_VALUE)ÔºåÈìæË°®ÂÆûÁé∞ÔºåÂèØ‰ª•Ëá™ÂÆö‰πâ‰∏äÈôê&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;code>LinkedBlockingDeque&lt;/code>&lt;/p>
&lt;ul>
&lt;li>ÂèåÁ´ØÈòüÂàó&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;code>DelayQueue&lt;/code>&lt;/p>
&lt;ul>
&lt;li>Âª∂Êó∂Êó†ÁïåÈòªÂ°ûÈòüÂàóÔºåÂè™ÂÖÅËÆ∏Â≠òÊîæÂèØ‰ª•Âª∂Êó∂ÁöÑÂÖÉÁ¥†ÔºåÈòüÂàó head ÊòØÊúÄÂÖàÂà∞ÊúüÁöÑÔºåÂ¶ÇÊûúÈòüÂàó‰∏≠ÂÖÉÁ¥†Ê≤°ÊúâÂà∞ÊúüÔºåÂ∞±ÁÆóÈòüÂàó‰∏≠ÊúâÂÖÉÁ¥†‰πü‰∏çËÉΩËé∑ÂèñÂà∞&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;code>SynchronousQueue&lt;/code>&lt;/p>
&lt;ul>
&lt;li>Ê≤°ÊúâÂÆπÈáèÁöÑÂêåÊ≠•ÈòüÂàóÔºå‰∏çÂ≠òÂÇ®ÂÖÉÁ¥†ÔºåÊØè‰∏Ä‰∏™ put ÂøÖÈ°ªË¶ÅÁ≠âÂæÖ‰∏Ä‰∏™ take Êìç‰Ωú&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;code>PriorityBlockingQueue&lt;/code>&lt;/p>
&lt;ul>
&lt;li>Êó†Áïå‰ºòÂÖàÈòªÂ°ûÈòüÂàóÔºåPriorityQueue ÁöÑÁ∫øÁ®ãÂÆâÂÖ®ÁâàÔºå‰∏çÂÖÅËÆ∏Â≠òÊîæ null&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="Â∏∏Áî®ÊñπÊ≥ï">Â∏∏Áî®ÊñπÊ≥ï&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">interface&lt;/span> &lt;span class="nc">BloockingQueue&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">E&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="kd">extends&lt;/span> &lt;span class="n">Queue&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">E&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÈòüÂàóÊª°ÊäõÂá∫ÂºÇÂ∏∏
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">boolean&lt;/span> &lt;span class="nf">add&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">E&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Êó†ÂÖÉÁ¥†ÊäõÂá∫ÂºÇÂ∏∏
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">boolean&lt;/span> &lt;span class="nf">remove&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Object&lt;/span> &lt;span class="n">o&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ÈòüÂàóÊª°ËøîÂõû false ÊàêÂäüÊ∑ªÂä† true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">boolean&lt;/span> &lt;span class="nf">offer&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">E&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÈòüÂàó‰∏∫Á©∫ËøîÂõû null
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">E&lt;/span> &lt;span class="nf">poll&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÈòªÂ°ûÊó∂Á≠âÂæÖ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ÈòüÂàóÊª°Êó∂ÔºåÈòªÂ°ûËøõË°åÁ≠âÂæÖ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">boolean&lt;/span> &lt;span class="nf">put&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">E&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="kd">throws&lt;/span> &lt;span class="n">InterruptedException&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÈòüÂàó‰∏∫Á©∫Êó∂ÔºåÈòªÂ°ûËøõË°åÁ≠âÂæÖ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">E&lt;/span> &lt;span class="nf">take&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="kd">throws&lt;/span> &lt;span class="n">InterruptedException&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="linkedblockingqueue">LinkedBlockingQueue&lt;/h4>
&lt;p>Âú® &lt;code>LinkedBlockingQeque&lt;/code> ‰∏≠‰ΩøÁî®‰∫Ü dummy ËäÇÁÇπÂíå‰∏§ÊääÈîÅÔºåÂú®Âêå‰∏ÄÊó∂ÂàªÔºåÂèØ‰ª•ÂÖÅËÆ∏‰∏§‰∏™Á∫øÁ®ãÂàÜÂà´ÊâßË°å &lt;code>put&lt;/code> Âíå &lt;code>take&lt;/code>„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">private&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="n">ReentrantLock&lt;/span> &lt;span class="n">putLock&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ReentrantLock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">private&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="n">ReentrantLock&lt;/span> &lt;span class="n">takeLock&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ReentrantLock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>put&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">put&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">E&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="kd">throws&lt;/span> &lt;span class="n">InterruptedException&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">NullPointerException&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Node&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">E&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">node&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Node&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">E&lt;/span>&lt;span class="o">&amp;gt;(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">final&lt;/span> &lt;span class="n">ReentrantLock&lt;/span> &lt;span class="n">putLock&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">putLock&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ËÆ°Êï∞
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="n">AtomicInteger&lt;/span> &lt;span class="n">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">count&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">putLock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">lockInterruptibly&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Â¶ÇÊûúÂÆπÈáèÂ∑≤Êª°ÔºåËøõË°åÁ≠âÂæÖ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">while&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">count&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">capacity&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">notFull&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">await&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÂÆπÈáèÊú™Êª°ÔºåËøõË°åÂÖ•Èòü
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">enqueue&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">node&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">count&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getAndIncrement&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÂÖ•ÈòüÂêéÈòüÂàóËøòÊúâÁ©∫‰Ωç, Âî§ÈÜíÂÖ∂‰ªñ put Á∫øÁ®ã
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">c&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">1&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">capacity&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">notFull&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">signal&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// Âè™Âî§ÈÜí‰∏Ä‰∏™ÔºåÂáèÂ∞ëÁ´û‰∫â
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span> &lt;span class="k">finally&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">putLock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">unlock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Â¶ÇÊûúÈòüÂàó‰∏≠Êúâ‰∏Ä‰∏™ÂÖÉÁ¥†, Âî§ÈÜí take Á∫øÁ®ã
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">c&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// notEmpty.signal() ËÄå‰∏çÊòØ notEmpty.signalAll()ÔºõÂáèÂ∞ëÁ´û‰∫â
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">signalNotEmpty&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>take&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="n">E&lt;/span> &lt;span class="nf">take&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="kd">throws&lt;/span> &lt;span class="n">InterruptedException&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">E&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">final&lt;/span> &lt;span class="n">AtomicInteger&lt;/span> &lt;span class="n">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">count&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">final&lt;/span> &lt;span class="n">ReentrantLock&lt;/span> &lt;span class="n">takeLock&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">takeLock&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">takeLock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">lockInterruptibly&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">count&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">notEmpty&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">await&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">dequeue&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">count&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getAndDecrement&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">c&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">1&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">notEmpty&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">signal&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">finally&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">takeLock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">unlock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Â¶ÇÊûúÈòüÂàó‰∏≠Âè™Êúâ‰∏Ä‰∏™Á©∫‰ΩçÊó∂, Âè´ÈÜí put Á∫øÁ®ã
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Â¶ÇÊûúÊúâÂ§ö‰∏™Á∫øÁ®ãËøõË°åÂá∫Èòü, Á¨¨‰∏Ä‰∏™Á∫øÁ®ã c == capacity, ÂêéÁª≠Á∫øÁ®ã c &amp;lt; capacity
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">c&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">capacity&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// notFull.signal() ËÄå‰∏çÊòØ notFull.signalAll()ÔºåÂáèÂ∞ëÁ´û‰∫â
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">signalNotFull&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Java Âπ∂Âèë - AQS</title><link>https://emerywan.github.io/blog/p/thread/aqs/</link><pubDate>Wed, 13 Apr 2022 14:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/thread/aqs/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/6.jpeg" alt="Featured image of post Java Âπ∂Âèë - AQS" />&lt;h2 id="aqs">AQS&lt;/h2>
&lt;p>AQS &lt;code>AbstractQueuedSynchronized&lt;/code> ÊòØ‰∏Ä‰∏™Áî®Êù•ÊûÑÂª∫ÈîÅÂíåÂêåÊ≠•Âô®ÁöÑÊ°ÜÊû∂ÔºåÊòØÂØπ CAS ÁöÑ‰∏ÄÁßçÂ∞ÅË£ÖÂíå‰∏∞ÂØåÔºåAQS ÂºïÂÖ•‰∫ÜÁã¨Âç†ÈîÅÔºåÂÖ±‰∫´ÈîÅÁ≠âÊÄßË¥®„ÄÇ&lt;/p>
&lt;p>‰ΩøÁî® AQS ËÉΩÂ§üÂü∫‰∫é Java APIÔºåÁÆÄÂçïÈ´òÊïàÂú∞ÊûÑÂª∫Âá∫Â∫îÁî®ÂπøÊ≥õÁöÑÂ§ßÈáèÂêåÊ≠•Âô®ÔºåÁî®‰∫é Java Â§öÁ∫øÁ®ã‰πãÈó¥ÁöÑÂêåÊ≠•„ÄÇ&lt;/p>
&lt;h2 id="Ê†∏ÂøÉÊÄùÊÉ≥">Ê†∏ÂøÉÊÄùÊÉ≥&lt;/h2>
&lt;p>AQS ‰ΩøÁî®‰∏Ä‰∏™ &lt;code>volatile int state&lt;/code> ÊàêÂëòÂèòÈáèË°®Á§∫ÂêåÊ≠•Áä∂ÊÄÅ„ÄÇ&lt;/p>
&lt;p>‰ΩøÁî® CAS &lt;code>compareAndSetState&lt;/code> ÂØπËØ•ÂêåÊ≠•Áä∂ÊÄÅËøõË°åÂéüÂ≠êÊìç‰ΩúÔºåÂÆûÁé∞ÂØπÂÖ∂ÂÄºÁöÑ‰øÆÊîπ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ÂÖ±‰∫´ÂèòÈáèÔºå‰ΩøÁî® volatile ‰øùÈöúÂèØËßÅÊÄß
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">private&lt;/span> &lt;span class="kd">volatile&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">state&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>AQS ÈÄöËøáÂÜÖÁΩÆÁöÑ &lt;code>FIFO&lt;/code> ÂèåÂêëÈòüÂàóÊù•ÂÆåÊàêÂêåÊ≠•Áä∂ÊÄÅÁöÑÁÆ°ÁêÜÔºåËé∑ÂèñËµÑÊ∫êÁ∫øÁ®ãÁöÑÊéíÈòüÂ∑•‰Ωú„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">private&lt;/span> &lt;span class="kd">transient&lt;/span> &lt;span class="kd">volatile&lt;/span> &lt;span class="n">Node&lt;/span> &lt;span class="n">head&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">private&lt;/span> &lt;span class="kd">transient&lt;/span> &lt;span class="kd">volatile&lt;/span> &lt;span class="n">Node&lt;/span> &lt;span class="n">tail&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÂΩìËØ∑Ê±ÇÁöÑÂÖ±‰∫´ËµÑÊ∫êÁ©∫Èó≤Êó∂ÔºåÂ∞ÜÂΩìÂâçËØ∑Ê±ÇËµÑÊ∫êÁöÑÁ∫øÁ®ãËÆæÁΩÆ‰∏∫ÊúâÊïàÁöÑÂ∑•‰ΩúÁ∫øÁ®ãÔºåÂπ∂Â∞ÜÂÖ±‰∫´ËµÑÊ∫êËÆæÁΩÆ‰∏∫ÈîÅÂÆöÁä∂ÊÄÅ„ÄÇ&lt;/p>
&lt;p>Â¶ÇÊûúË¢´ËØ∑Ê±ÇÁöÑÂÖ±‰∫´ËµÑÊ∫êË¢´Âç†Áî®ÔºåÂ∞ÜÊöÇÊó∂Ëé∑Âèñ‰∏çÂà∞ÈîÅÁöÑÁ∫øÁ®ãÊûÑÈÄ†Êàê‰∏Ä‰∏™ Node Âä†ÂÖ•Âà∞ÈòüÂàó‰∏≠„ÄÇ&lt;/p>
&lt;h2 id="ËµÑÊ∫êÁöÑÂÖ±‰∫´ÊñπÂºè">ËµÑÊ∫êÁöÑÂÖ±‰∫´ÊñπÂºè&lt;/h2>
&lt;h3 id="Áã¨Âç†">Áã¨Âç†&lt;/h3>
&lt;p>ÂΩì‰∏Ä‰∏™Á∫øÁ®ã‰ª•Áã¨Âç†Ê®°ÂºèËé∑ÂèñÈîÅÊó∂ÔºåÂÖ∂‰ªñ‰ªª‰ΩïÁ∫øÁ®ãÈÉΩÂøÖÈ°ªÁ≠âÂæÖ„ÄÇ&lt;/p>
&lt;ul>
&lt;li>ReentrantLock&lt;/li>
&lt;/ul>
&lt;h3 id="ÂÖ±‰∫´">ÂÖ±‰∫´&lt;/h3>
&lt;p>ÂΩì‰∏Ä‰∏™Á∫øÁ®ã‰ª•ÂÖ±‰∫´Ê®°ÂºèËé∑ÂèñÈîÅÊó∂ÔºåÂÖ∂‰ªñ‰πüÊÉ≥‰ª•ÂÖ±‰∫´Ê®°ÂºèËé∑ÂèñÈîÅÁöÑÁ∫øÁ®ã‰πüËÉΩÂ§ü‰∏ÄËµ∑ËÆøÈóÆÂÖ±‰∫´ËµÑÊ∫êÔºå‰ΩÜÂÖ∂‰ªñÊÉ≥‰ª•Áã¨Âç†Ê®°ÂºèËé∑ÂèñÈîÅÁöÑÁ∫øÁ®ãÈúÄË¶ÅÁ≠âÂæÖ„ÄÇ&lt;/p>
&lt;ul>
&lt;li>CountDownLatch&lt;/li>
&lt;li>CyclicBarrier&lt;/li>
&lt;li>Semaphore&lt;/li>
&lt;/ul>
&lt;h2 id="ÂÆûÁé∞">ÂÆûÁé∞&lt;/h2>
&lt;h3 id="countdownlatch">CountDownLatch&lt;/h3>
&lt;p>&lt;code>CountDownLatch&lt;/code> ÂêåÊ≠•Â∑•ÂÖ∑ÂÖÅËÆ∏‰∏ÄÊù°ÊàñÂ§öÊù°Á∫øÁ®ãÔºåÁ≠âÂæÖÂÖ∂‰ªñÁ∫øÁ®ã‰∏≠ÁöÑ‰∏ÄÁªÑÊìç‰ΩúÂÆåÊàêÂêéÔºåÂÜçÁªßÁª≠ÊâßË°å„ÄÇ&lt;/p>
&lt;p>&lt;code>CountDownLatch&lt;/code> ‰ªªÂä°ÂàÜ‰∏∫ &lt;code>n&lt;/code> ‰∏™Â≠êÁ∫øÁ®ãÊâßË°åÔºå&lt;code>state&lt;/code> Â∞ÜË¢´ÂàùÂßãÂåñ‰∏∫ &lt;code>n&lt;/code>ÔºåËøô &lt;code>n&lt;/code> ‰∏™Á∫øÁ®ãÂ∞Ü‰ºöÂπ∂ÂèëÊâßË°åÔºåÊØè‰∏™Â≠êÁ∫øÁ®ãÊâßË°åÂÆåÂêéË∞ÉÁî® &lt;code>countDown()&lt;/code> ÊñπÊ≥ïÔºå&lt;code>state&lt;/code> ‰ºöÈÄöËøá &lt;code>CAS - 1&lt;/code>„ÄÇÂΩìÊâÄÊúâÁöÑÂ≠êÁ∫øÁ®ãÈÉΩÊâßË°åÂÆå‰πãÂêéÔºå&lt;code>state=0&lt;/code>Ôºå‰ºö unpack ‰∏ªÁ∫øÁ®ãÔºåÁªßÁª≠ÂêéÁª≠Âä®‰Ωú„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Demo&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">static&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">SearchTask&lt;/span> &lt;span class="kd">implements&lt;/span> &lt;span class="n">Runnable&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="n">Integer&lt;/span> &lt;span class="n">id&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="n">CountDownLatch&lt;/span> &lt;span class="n">latch&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="nf">SearchTask&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">id&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">CountDownLatch&lt;/span> &lt;span class="n">latch&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">id&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">latch&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">latch&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// **Â≠êÁ∫øÁ®ã**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ÂêÑËá™ÂØªÊâæÁõ∏Â∫îÁõÆÊ†áÁöÑÈæôÁè†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">run&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;üèÉ‚Äç‚ôÇÔ∏è ÂºÄÂßãÂØªÊâæ&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;Âè∑ÈæôÁè†&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">seconds&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ThreadLocalRandom&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">current&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">nextInt&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">20&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Thread&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">sleep&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">seconds&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">1000&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">InterruptedException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;üëè Ëä±‰∫Ü&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">seconds&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;ÁßíÔºåÊâæÂà∞‰∫Ü&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;Âè∑ÈæôÁè†&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÊØèÂΩì‰∏Ä‰∏™‰ªªÂä°ÂÆåÊàêÔºåÂ∞±Ë∞ÉÁî®‰∏ÄÊ¨° countDown() ÊñπÊ≥ï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">latch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">countDown&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// **‰∏ªÁ∫øÁ®ã**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Á≠âÂ≠êÁ∫øÁ®ãÈÉΩÊâßË°åÂÆåÊØïÂêéÔºåÊâæÂà∞ÊâÄÊúâÈæôÁè†ÔºåÂè¨Âî§Á•ûÈæô
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Integer&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">idList&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Arrays&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">asList&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">4&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">5&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">6&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">7&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// state ÂàùÂßãÂåñ‰∏∫‰ªªÂä°ÁöÑ‰∏™Êï∞
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">CountDownLatch&lt;/span> &lt;span class="n">latch&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">CountDownLatch&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">idList&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">size&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">idList&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Thread&lt;/span> &lt;span class="n">thread&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Thread&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="n">SearchTask&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">latch&lt;/span>&lt;span class="o">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">thread&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">start&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">latch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">await&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// Á≠âÂæÖÂÖ∂‰ªñÁ∫øÁ®ãÂÆåÊàê
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">InterruptedException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;ÊâæÂà∞ÊâÄÊúâÈæôÁè†‰∫ÜÔºÅÂè¨Âî§Á•ûÈæô üê≤&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/thread/aqs/countdownlatch.png"
width="605"
height="416"
srcset="https://emerywan.github.io/blog/blog/p/thread/aqs/countdownlatch_hu76805997e75031fb962291546eee5c35_69221_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/thread/aqs/countdownlatch_hu76805997e75031fb962291546eee5c35_69221_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="countdownlatch"
class="gallery-image"
data-flex-grow="145"
data-flex-basis="349px"
>&lt;/p>
&lt;p>Âú®Ëøô‰∏™‰æãÂ≠ê‰∏≠Ôºå‰ªªÂä°ÂàÜ‰∏∫ 7 ‰∏™Â≠êÁ∫øÁ®ãÊâßË°åÔºåÂ∞Ü &lt;code>CountDownLatch&lt;/code> ÁöÑÂÄºÂàùÂßãÂåñ‰∏∫‰∏éÁ∫øÁ®ãÁõ∏ÂêåÁöÑÊ¨°Êï∞„ÄÇ‰∏ªÁ∫øÁ®ãÈÄöËøá &lt;code>await()&lt;/code> Á≠âÂæÖÂÖ∂‰ªñ‰ªªÂä°ÂÆåÊàê„ÄÇ&lt;/p>
&lt;p>ËøôÂá†‰∏™Â≠ê‰ªªÂä°Âπ∂ÂèëÊâßË°åÔºåÊØè‰∏™Â≠êÁ∫øÁ®ãÊâßË°åÂÆåÊàêÂêé &lt;code>countDown()&lt;/code> ‰∏ÄÊ¨°Ôºå&lt;code>state&lt;/code> ‰ºöÈÄöËøá CAS Êìç‰Ωú &lt;code>-1&lt;/code>„ÄÇ&lt;/p>
&lt;p>Áõ¥Âà∞ÊâÄÊúâÁöÑÂ≠êÁ∫øÁ®ãÈÉΩÊâßË°åÂÆåÊØï‰πãÂêéÔºå&lt;code>state=0&lt;/code>Ôºå‰∏ªÁ∫øÁ®ã‰ºöÁªìÊùüÁ≠âÂæÖÔºåÁªßÁª≠ÊâßË°åÂêéÁª≠‰ªªÂä°„ÄÇ&lt;/p>
&lt;h3 id="cyclicbarrier">CyclicBarrier&lt;/h3>
&lt;p>&lt;code>CyclicBarrier&lt;/code> Áî®‰∫éÂ§ö‰∏™Á∫øÁ®ãÁõ∏‰∫íÁ≠âÂæÖÂØπÊñπÊâßË°åÂà∞Êüê‰∏™Áä∂ÊÄÅÂêéÔºåËøô‰∫õÁ∫øÁ®ãÂÜçÁªßÁª≠ÊâßË°å„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/thread/aqs/cyclicbarrier.jpg"
width="890"
height="282"
srcset="https://emerywan.github.io/blog/blog/p/thread/aqs/cyclicbarrier_hu4bbc637d91d993b0f3842d2bee476984_33199_480x0_resize_q75_box.jpg 480w, https://emerywan.github.io/blog/blog/p/thread/aqs/cyclicbarrier_hu4bbc637d91d993b0f3842d2bee476984_33199_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="cyclicbarrier"
class="gallery-image"
data-flex-grow="315"
data-flex-basis="757px"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Demo&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">5&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// CyclicBarrier ÂèØ‰ª•ËÆæÁΩÆÂ≠êÁ∫øÁ®ãÂÖ®ÈÉ®Âà∞Ëææ barrierÔºåÊâßË°åÁöÑ‰ªªÂä°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">private&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="n">CyclicBarrier&lt;/span> &lt;span class="n">barrier&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">CyclicBarrier&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">count&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="o">()&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;üëå ‰∫∫ÂëòÂà∞ÈΩêÔºÅÂáÜÂ§áÁà¨Â±±ÔºÅ&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Â≠êÁ∫øÁ®ãÔºåÊ®°Êãü 5 ‰∏™ÂêåÂ≠¶Áõ∏Á∫¶Áà¨Â±±
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">1&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">5&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">final&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="n">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;ÂêåÂ≠¶&amp;#34;&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="n">Thread&lt;/span>&lt;span class="o">(()&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;üëã &amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">name&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;ÂáÜÂ§áÂá∫ÂèëÂéªÈõÜÂêàÁÇπ‰∫Ü„ÄÇ&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">time&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ThreadLocalRandom&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">current&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">nextInt&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">10&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">TimeUnit&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">SECONDS&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">sleep&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">time&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">InterruptedException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;ü¶∂ &amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">name&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;Ëä±‰∫Ü &amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">time&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34; ÁßíÂà∞ËææÈõÜÂêàÁÇπ„ÄÇ&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="c1">// Á≠âÂæÖÊâÄÊúâÁöÑÂêåÂ≠¶ÔºàÂ≠êÁ∫øÁ®ãÔºâËøêË°åÂà∞Ê≠§Â§Ñ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">barrier&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">await&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// ÂΩì await ÁöÑÁ∫øÁ®ãË∂≥Â§üÔºåÂÜçÁªßÁª≠ÊâßË°åÁ∫øÁ®ãÂêéÁª≠‰ªªÂä°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">InterruptedException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">BrokenBarrierException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;ÂíåÂ§ßÂÆ∂‰∏ÄËµ∑Áà¨Â±±‰∫Ü„ÄÇ‚õ∞&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">},&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;ÂêåÂ≠¶&amp;#34;&lt;/span>&lt;span class="o">).&lt;/span>&lt;span class="na">start&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/thread/aqs/cyclicbarrier-result.png"
width="576"
height="450"
srcset="https://emerywan.github.io/blog/blog/p/thread/aqs/cyclicbarrier-result_huabd0a32719e9e0c5e0894dc282a3eb45_80712_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/thread/aqs/cyclicbarrier-result_huabd0a32719e9e0c5e0894dc282a3eb45_80712_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="cyclicbarrier result"
class="gallery-image"
data-flex-grow="128"
data-flex-basis="307px"
>&lt;/p>
&lt;p>Âú®Ëøô‰∏™‰æãÂ≠ê‰∏≠ÔºåÊúâ 5 ‰∏™Â≠êÁ∫øÁ®ãÂàÜÂà´ÂºÄÂßãÊâßË°åÔºà5 ‰∏™ÂêåÂ≠¶‰ªéÂÆ∂ÈáåÂá∫ÂèëÔºâÔºåÊØè‰∏™Á∫øÁ®ãÂà∞ËææÊüê‰∏™Áä∂ÊÄÅÂêé &lt;code>await()&lt;/code> ËøõË°åÁ≠âÂæÖÔºàÊØè‰∏™ÂêåÂ≠¶Âà∞ËææÈõÜÂêàÁÇπ‰ºöÁ≠âÂæÖÂÖ∂‰ªñÂêåÂ≠¶Âà∞ËææÔºâÔºåÂΩìÁ∫øÁ®ãÂÖ®ÈÉ®ËææÂà∞‰πãÂêéÔºå‚ÄúÂ±èÈöú‚Äù‰ºöÈáäÊîæÔºåÁ∫øÁ®ãÂ∞ÜÁªßÁª≠ÊâßË°åÔºà‰∫∫ÂëòÂà∞ÈΩêÂêéÂºÄÂßãÁà¨Â±±Ôºâ„ÄÇ&lt;/p>
&lt;blockquote>
&lt;p>CyclicBarrier ÂèØ‰ª•Â§öÊ¨°‰ΩøÁî®ÔºåÂèØ‰ª•Ëá™Âä®ÊàñÊâãÂä®ÈáçÁΩÆËÆ°Êï∞„ÄÇ
‰ΩøÁî® barrier.reset() ‰ºöËøõË°åÈáçÁΩÆÔºåÁ≠âÂæÖÁöÑÁ∫øÁ®ã‰ºöÊäõÂá∫ BrokenBarrierException&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// CyclicBarrier ÁöÑËÆ°Êï∞
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Â≠êÁ∫øÁ®ãÁöÑÊï∞Èáè
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">10&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Â∞ÜÂ≠êÁ∫øÁ®ãÁöÑÊï∞ÈáèËÆæÁΩÆ‰∏∫ &lt;code>10&lt;/code>ÔºåÂæ™ÁéØÂ±èÈöúËÆæÁΩÆ‰∏∫ &lt;code>5&lt;/code>ÔºåÂ∞Ü‰ºöÂæóÂà∞Â¶Ç‰∏ãÁªìÊûúÔºöÊØèÊúâ &lt;code>5&lt;/code> ‰∏™ÔºåÁ∫øÁ®ãÂà∞Ëææ‚ÄúÂ±èÈöú‚ÄùÁÇπÔºåÂ∞±‰ºöÈáäÊîæ‰∏ÄÊ¨°„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/thread/aqs/cyclicbarrier-result-2.png"
width="585"
height="811"
srcset="https://emerywan.github.io/blog/blog/p/thread/aqs/cyclicbarrier-result-2_hu2373c7ae3a7710cd05edc6f1f466fc13_156183_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/thread/aqs/cyclicbarrier-result-2_hu2373c7ae3a7710cd05edc6f1f466fc13_156183_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="cyclicbarrier result"
class="gallery-image"
data-flex-grow="72"
data-flex-basis="173px"
>&lt;/p>
&lt;h3 id="semaphore">Semaphore&lt;/h3>
&lt;p>ÈÄöËøá‰ΩøÁî® &lt;code>Semaphore&lt;/code>ÔºåÊàë‰ª¨ÂèØ‰ª•ÂÜ≥ÂÆöÊüê‰∏™ËµÑÊ∫êÂêå‰∏ÄÊó∂Èó¥ËÉΩÂ§üË¢´ËÆøÈóÆÁöÑÊúÄÂ§ßÁ∫øÁ®ãÊï∞ÔºåÂÆÉÁõ∏ÂΩì‰∫éÂØπÊüê‰∏™ËµÑÊ∫êÁöÑËÆøÈóÆËøõË°å‰∫ÜÊµÅÈáèÊéßÂà∂„ÄÇ&lt;/p>
&lt;p>ÊòØ‰∏Ä‰∏™ÂèØ‰ª•Ë¢´ n ‰∏™Á∫øÁ®ãÂç†Áî®ÁöÑÊéíÂÆÉÈîÅÔºåÂèØ‰ª•Âú®ÊúÄÂºÄÂßãËÆæÂÆö &lt;code>Semaphore&lt;/code> ËÆ∏ÂèØËØÅÊï∞ÈáèÔºåÊØè‰∏™Á∫øÁ®ãÈÉΩÂèØ‰ª•Ëé∑Âæó 1 ‰∏™ÊàñÂ§ö‰∏™ËÆ∏ÂèØËØÅÔºåÂΩìËÆ∏ÂèØËØÅËÄóÂ∞ΩÊàñ‰∏çË∂≥‰ª•‰æõÂÖ∂‰ªñÁ∫øÁ®ãËé∑ÂèñÊó∂ÔºåÂÖ∂‰ªñÁ∫øÁ®ãÂ∞ÜË¢´ÈòªÂ°û„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Semaphore&lt;/span> &lt;span class="n">semaphore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Semaphore&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">2&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// Êúâ‰∏â‰∏™ËÆ∏ÂèØÔºåÂÅáËÆæÊØè‰∏™Á∫øÁ®ãÂè™Ëé∑Âèñ‰∏Ä‰∏™ËÆ∏ÂèØÊó∂ÔºåÊúÄÂ§ö‰∏§‰∏™Á∫øÁ®ãÂèØËÆøÈóÆËµÑÊ∫ê
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">3&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="n">Thread&lt;/span>&lt;span class="o">(()&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">semaphore&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">acquire&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// Êó†ÂèÇ‰∏∫Áî≥ËØ∑‰∏Ä‰∏™ËÆ∏ÂèØËØÅÔºåÊ≤°ÊúâËÆ∏ÂèØÁöÑÁ∫øÁ®ã‰ºöËøõË°åÁ≠âÂæÖ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">InterruptedException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Áî≥ËØ∑ËÆ∏ÂèØËØÅÊàêÂäü&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">TimeUnit&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">SECONDS&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">sleep&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">5&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// Ê®°Êãü‰ªªÂä°ËÄóÊó∂
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span> &lt;span class="k">finally&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">semaphore&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">release&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">InterruptedException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}).&lt;/span>&lt;span class="na">start&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="reentrantlock">ReentrantLock&lt;/h3>
&lt;p>Áõ∏ÊØî‰∫é &lt;code>synchronized&lt;/code>ÔºåÈÉΩÊîØÊåÅ ‚ú®ÂèØÈáçÂÖ•ÔºåËøòÂÖ∑Â§áÂ¶Ç‰∏ãÁâπÁÇπÔºö&lt;/p>
&lt;ul>
&lt;li>‚ú® Á≠âÂæÖÂèØ‰∏≠Êñ≠&lt;/li>
&lt;li>‚ú® ÂèØ‰ª•ËÆæÁΩÆË∂ÖÊó∂Êó∂Èó¥&lt;/li>
&lt;li>‚ú® ÂÖ¨Âπ≥ÈîÅ&lt;/li>
&lt;li>‚ú® ÊîØÊåÅÂ§ö‰∏™Êù°‰ª∂ÂèòÈáè&lt;/li>
&lt;/ul>
&lt;p>&lt;code>ReentrantLock&lt;/code> ÈúÄË¶Å‰ΩøÁî® &lt;code>try-finally&lt;/code> ÊâãÂä®Âä†ÈîÅÂíåËß£ÈîÅ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">reentrantLock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">lock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ‰∏¥ÁïåÂå∫
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">}&lt;/span> &lt;span class="k">finally&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">reentrantLock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">unlock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/thread/aqs/ReentrantLock.png"
width="636"
height="318"
srcset="https://emerywan.github.io/blog/blog/p/thread/aqs/ReentrantLock_hub675906c100b4f2e2501a8eca65fd5f6_112932_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/thread/aqs/ReentrantLock_hub675906c100b4f2e2501a8eca65fd5f6_112932_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="ReentrantLock"
class="gallery-image"
data-flex-grow="200"
data-flex-basis="480px"
>&lt;/p>
&lt;p>ReentrantLock ÈªòËÆ§ÂÆûÁé∞‰∏∫ÈùûÂÖ¨Âπ≥ÈîÅ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="nf">ReentrantLock&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sync&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">NonfairSync&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ÂèØÈáçÂÖ•">ÂèØÈáçÂÖ•&lt;/h4>
&lt;p>‰∏Ä‰∏™Á∫øÁ®ãËé∑Âèñ‰∫Üüîí ÈîÅ‰πãÂêéÔºåÂèØ‰ª•Â§öÊ¨°Ëé∑ÂèñÂêå‰∏ÄÊääÈîÅ„ÄÇ&lt;/p>
&lt;p>‰∏Ä‰∏™Á∫øÁ®ãÂú®ÊâßË°å‰∏Ä‰∏™Â∏¶ÈîÅÁöÑÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ï‰∏≠ÂèàË∞ÉÁî®‰∫ÜÂè¶‰∏Ä‰∏™ÈúÄË¶ÅÁõ∏ÂêåÈîÅÁöÑÊñπÊ≥ïÔºåÂàôÊîπÁ∫øÁ®ãÂèØ‰ª•Áõ¥Êé•Ëé∑ÂèñÈîÅÔºåÂπ∂ÊâßË°åËØ•ÊñπÊ≥ïÔºåÂèØÈáçÂÖ•ÈîÅÂèØÊúâÊïàÂú∞ÈÅøÂÖçÊ≠ªÈîÅ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">method1&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">private&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="n">ReentrantLock&lt;/span> &lt;span class="n">lock&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ReentrantLock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">method1&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">lock&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// Á¨¨‰∏ÄÊ¨°Ëé∑Âèñüîí ÈîÅ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;do something in method 1&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">method2&lt;/span>&lt;span class="o">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">finally&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">unlock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">method2&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">lock&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// Á¨¨‰∫åÊ¨°Ëé∑Âèñüîí ÈîÅÔºàÈáçÂÖ•Ôºâ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;do something in method 2&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">finally&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">unlock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="Á≠âÂæÖÂèØ‰∏≠Êñ≠">Á≠âÂæÖÂèØ‰∏≠Êñ≠&lt;/h4>
&lt;p>&lt;code>lock.lockInterruptibly()&lt;/code>&lt;/p>
&lt;ul>
&lt;li>Ê≤°ÊúâÁ´û‰∫âÂ∞±‰ºöËé∑ÂèñÈîÅ&lt;/li>
&lt;li>ÊúâÁ´û‰∫âËøõÂÖ•ÈòªÂ°ûÈòüÂàóÔºå‰ΩÜÊòØÂèØ‰ª•Ë¢´‰∏≠Êñ≠Ôºàthrow InterruptedExceptionÔºâ&lt;/li>
&lt;/ul>
&lt;p>‰ΩøÁî® &lt;code>lock.lock()&lt;/code>ÔºåÂç≥‰ΩøËøõË°å &lt;code>interrupt()&lt;/code> ‰πü‰∏ç‰ºöËÆ©Á∫øÁ®ãÁ≠âÂæÖ‰∏≠Êñ≠„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ReentrantLock&lt;/span> &lt;span class="n">lock&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ReentrantLock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Thread&lt;/span> &lt;span class="n">thread&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Thread&lt;/span>&lt;span class="o">(()&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">lockInterruptibly&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// Â∞ùËØïËé∑ÂèñÂèØ‰∏≠Êñ≠ÈîÅ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">InterruptedException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;ÈîÅÂú®Á≠âÂæÖËøáÁ®ã‰∏≠Ë¢´ÂÖ∂‰ªñÁ∫øÁ®ã‰∏≠Êñ≠&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;ÊàêÂäüËé∑Âæó‰∫ÜÈîÅ üîí&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">finally&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">unlock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">lock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;‰∏ªÁ∫øÁ®ãËé∑Âèñ‰∫ÜÈîÅ üîí&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">thread&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">start&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Thread&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">sleep&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">1000&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;‰∏ªÁ∫øÁ®ãÊâìÊñ≠ thread&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">thread&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">interrupt&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Thread&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">sleep&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">1000&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="n">finlaly&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">unlock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="Ë∂ÖÊó∂Êó∂Èó¥">Ë∂ÖÊó∂Êó∂Èó¥&lt;/h3>
&lt;ul>
&lt;li>&lt;code>boolean tryLock()&lt;/code>ÔºöËé∑ÂèñÈîÅÂ§±Ë¥•ÔºåÁ´ãÂç≥ËøîÂõû&lt;/li>
&lt;li>&lt;code>boolean tryLock(long timeout, TimeUnit unit)&lt;/code>ÔºöËé∑ÂèñÈîÅÂ§±Ë¥•ÔºåÁ≠âÂæÖË∂ÖÊó∂Êó∂Èó¥&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Thread&lt;/span> &lt;span class="n">thread&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Thread&lt;/span>&lt;span class="o">(()&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(!&lt;/span>&lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">tryLock&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">TimeUnit&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">SECONDS&lt;/span>&lt;span class="o">))&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Á≠âÂæÖ 2s ÂêéÔºåÊàêÂäüËé∑Âèñ‰∫ÜÈîÅ&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">InterruptedException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;ÊàêÂäüËé∑Âèñ‰∫ÜÈîÅ&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">finally&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">unlock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ÂÖ¨Âπ≥ÈîÅ">ÂÖ¨Âπ≥ÈîÅ&lt;/h4>
&lt;p>&lt;code>ReentrantLock&lt;/code> ÈªòËÆ§ÊòØÈùûÂÖ¨Âπ≥ÈîÅ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="nf">ReentrantLock&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sync&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">NonfairSync&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="nf">ReentrantLock&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">boolean&lt;/span> &lt;span class="n">fair&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sync&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">fair&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">FairSync&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">NonfairSync&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>ÂÖ¨Âπ≥ÈîÅÔºöËé∑ÂèñÈîÅÁöÑÁ∫øÁ®ãÊ†πÊçÆËøõÂÖ•Á≠âÂæÖÈòüÂàóÁöÑÈ°∫Â∫èËé∑ÂèñÈîÅ&lt;/li>
&lt;li>ÈùûÂÖ¨Âπ≥ÈîÅÔºöÊñ∞Á∫øÁ®ãÂÖàÂ∞ùËØïÊèíÈòüËé∑ÂèñÈîÅÔºåÊèíÈòüÂ§±Ë¥•ÂÜçËøõÂÖ•Á≠âÂæÖÈòüÂàóÊéíÂ∫èÁ≠âÂæÖ&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Ëé∑ÂèñÂÖ¨Âπ≥ÈîÅ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">ReentrantLock&lt;/span> &lt;span class="n">lock&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ReentrantLock&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="Â§ö‰∏™Êù°‰ª∂ÂèòÈáè">Â§ö‰∏™Êù°‰ª∂ÂèòÈáè&lt;/h4>
&lt;p>&lt;code>ReentrantLock&lt;/code> ÊîØÊåÅÂ§ö‰∏™Êù°‰ª∂ÂèòÈáèÔºåÂèØ‰ª•ÂØπÁ≠âÂæÖÁöÑÁ∫øÁ®ãËøõË°åÁ≤æÂáÜÂî§ÈÜí„ÄÇ&lt;/p>
&lt;p>‰ΩøÁî® &lt;code>await()&lt;/code>ÔºåÁ∫øÁ®ã‰ºöÈáäÊîæËé∑ÂèñÁöÑÈîÅÔºåËøõÂÖ•ÂØπÂ∫îÁöÑ conditionObject ËøõË°åÁ≠âÂæÖÔºõË¢´ &lt;code>singnal()&lt;/code> Âî§ÈÜíÂêéÔºåÁ∫øÁ®ãÈáçÊñ∞ÂéªÁ´û‰∫âÈîÅ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ‰∏â‰∏™Á∫øÁ®ãÂæ™ÁéØÊâìÂç∞ ABC 10 Ê¨°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">ThreadDemo&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">static&lt;/span> &lt;span class="n">ReentrantLock&lt;/span> &lt;span class="n">lock&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ReentrantLock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">static&lt;/span> &lt;span class="n">Condition&lt;/span> &lt;span class="n">conditionA&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">newCondition&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">static&lt;/span> &lt;span class="n">Condition&lt;/span> &lt;span class="n">conditionB&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">newCondition&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">static&lt;/span> &lt;span class="n">Condition&lt;/span> &lt;span class="n">conditionC&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">newCondition&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 0-&amp;gt;print A 1-&amp;gt;print B 2-&amp;gt;print C
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">commonState&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">static&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">MyTread&lt;/span> &lt;span class="kd">implements&lt;/span> &lt;span class="n">Runnable&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">state&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="nf">MyThread&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">state&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">state&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">state&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">run&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">10&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">lock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">state&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">commonState&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">conditionA&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">await&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;A&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">commonState&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">1&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">conditionB&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">singnal&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">state&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">1&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">commonState&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">1&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">conditionB&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">await&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;B&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">commonState&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">2&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">conditionC&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">singnal&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">state&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">2&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">commonState&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">2&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">conditoinC&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">await&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;C&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">commonState&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">conditionA&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">singnal&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Exception&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">finally&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">unlock&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="n">Thread&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="n">MyThread&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="o">)).&lt;/span>&lt;span class="na">start&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="n">Thread&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="n">MyThread&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="o">)).&lt;/span>&lt;span class="na">start&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="n">Thread&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="n">MyThread&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">2&lt;/span>&lt;span class="o">)).&lt;/span>&lt;span class="na">start&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="reentrantreadwritelock">ReentrantReadWriteLock&lt;/h3>
&lt;h2 id="ÂèÇËÄÉ">ÂèÇËÄÉ&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://tech.meituan.com/2018/11/15/java-lock.html" target="_blank" rel="noopener"
>https://tech.meituan.com/2018/11/15/java-lock.html&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Âçï‰æãÊ®°Âºè</title><link>https://emerywan.github.io/blog/p/desgin-pattern/singleton/</link><pubDate>Mon, 11 Apr 2022 18:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/desgin-pattern/singleton/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/8.jpeg" alt="Featured image of post Âçï‰æãÊ®°Âºè" />&lt;p>Âçï‰æãÊ®°ÂºèÊâÄË¶ÅÂÆûÁé∞ÁöÑÁõÆÊ†áÔºö‰øùÊåÅ‰∏Ä‰∏™Á±ªÊúâ‰∏îÂè™Êúâ‰∏Ä‰∏™ÂÆû‰æã„ÄÇ&lt;/p>
&lt;p>Âá∫‰∫éÊÄßËÉΩÁöÑËÄÉËôëÔºå‰∏çÂ∞ëÂçï‰æãÊ®°ÂºèÈÉΩ‰ºöÈááÁî®Âª∂ËøüÂä†ËΩΩÁöÑÊñπÂºè„ÄÇÊ†πÊçÆÊòØÂê¶Âª∂ËøüÂàõÂª∫ÂØπË±°ÔºåÂèØ‰ª•ÂàÜ‰∏∫Ôºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ü§© È•øÊ±âÂºè&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üò™ ÊáíÊ±âÂºè&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="-ÊáíÊ±âÂºè">üò™ ÊáíÊ±âÂºè&lt;/h2>
&lt;h3 id="ÂçïÁ∫øÁ®ãÁöÑÂçï‰æãÊ®°Âºè">ÂçïÁ∫øÁ®ãÁöÑÂçï‰æãÊ®°Âºè&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Singleton&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="n">Singleton&lt;/span> &lt;span class="n">instance&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÊûÑÈÄ†Âô®ÁßÅÊúâÔºåÂÖ∂‰ªñÁ±ªÊó†Ê≥ïÈÄöËøá new ÂàùÂßãÂåñ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">private&lt;/span> &lt;span class="nf">Singleton&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÂàõÂª∫Âπ∂ËøîÂõûËØ•Á±ªÁöÑÂîØ‰∏ÄÂÆû‰æã
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="n">Singleton&lt;/span> &lt;span class="nf">getInstance&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="kc">null&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">instance&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">instance&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Singleton&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">someService&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ‰∏Ä‰∫õ‰∏öÂä°‰ª£Á†Å
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="-Âä†ÈîÅÁöÑÂçï‰æãÊ®°Âºè">üîí Âä†ÈîÅÁöÑÂçï‰æãÊ®°Âºè&lt;/h3>
&lt;p>‰ΩøÁî® &lt;code>synchronized&lt;/code> Âä†ÈîÅÂÆûÁé∞Á∫øÁ®ãÂÆâÂÖ®„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Singleton&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="n">Singleton&lt;/span> &lt;span class="n">instance&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="nf">Singleton&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// public static synchronized getInstance()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="n">Singleton&lt;/span> &lt;span class="nf">getInstance&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">synchronized&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Singleton&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="c1">// ‰∏çÊé®Ëçê üôÖ‚Äç‚ôÇÔ∏è ÊØèÊ¨°Âà§Á©∫Êìç‰ΩúÔºåÈÉΩË¶ÅËé∑ÂèñÈîÅÔºåÂºÄÈîÄÊûÅÂ§ß
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="kc">null&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">instance&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">instance&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Singleton&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">instance&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>‰ΩøÁî®ÂèåÈáçÊ£ÄÈ™åÂà§Êñ≠&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Singleton&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="kd">volatile&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="n">Singleton&lt;/span> &lt;span class="n">instance&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="nf">Singleton&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="n">Singleton&lt;/span> &lt;span class="nf">getInstance&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">instance&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">synchronized&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Singleton&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">instance&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">instance&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Singleton&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">instance&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>‰ΩøÁî® &lt;code>volatile&lt;/code> ‰øÆÈ•∞ÂÆû‰æãÔºåÂà©Áî®‰∫Ü‰ª•‰∏ã‰∏§‰∏™‰ΩúÁî®Ôºö&lt;/p>
&lt;p>(1) ‰øùÈöúÂèØËßÅÊÄßÔºö&lt;/p>
&lt;p>‰∏Ä‰∏™Á∫øÁ®ãÂàùÂßãÂåñ‰∫Ü &lt;code>instance&lt;/code> ÁöÑÂÄºÔºåÂÖ∂‰ªñÁ∫øÁ®ãÂèØ‰ª•ËØªÂèñÂà∞Áõ∏Â∫îÁöÑÂÄº„ÄÇ&lt;/p>
&lt;p>(2) ‰øùÈöúÊúâÂ∫èÊÄßÔºö&lt;/p>
&lt;p>‰øùÈöú‰∏Ä‰∏™Á∫øÁ®ãËØªÂèñÂà∞ÁöÑ &lt;code>instance&lt;/code> ÂºïÁî®ÁöÑÂÆû‰æãÂ∑≤ÁªèÂàùÂßãÂåñÂÆåÊØï„ÄÇ&lt;/p>
&lt;p>ÂØπË±°ÂÆû‰æãÂåñ‰ºöÂàÜËß£Êàê‰ª•‰∏ãÂá†‰∏™Â≠êÊìç‰ΩúÔºö&lt;/p>
&lt;ul>
&lt;li>ÂàÜÈÖçÂØπË±°ÊâÄÈúÄÁöÑÁ©∫Èó¥&lt;/li>
&lt;li>ÂàùÂßãÂåñ instance ÂºïÁî®ÁöÑÂØπË±°&lt;/li>
&lt;li>Â∞ÜÂØπË±°ÁöÑÂºïÁî®ÂÜôÂÖ•ÂÖ±‰∫´ÂèòÈáè&lt;/li>
&lt;/ul>
&lt;p>Áî±‰∫é JVM ÂÖ∑ÊúâÊåá‰ª§ÈáçÊéíÁöÑÁâπÊÄßÔºåÊâßË°åÈ°∫Â∫èÊúâÂèØËÉΩÂèòÊàê &lt;code>1-&amp;gt;3-&amp;gt;2&lt;/code>„ÄÇÊåá‰ª§ÈáçÊéíÂú®ÂçïÁ∫øÁ®ãÁéØÂ¢É‰∏ã‰∏ç‰ºöÂá∫Áé∞ÈóÆÈ¢òÔºå‰ΩÜÊòØÂú®Â§öÁ∫øÁ®ãÁéØÂ¢É‰∏ã‰ºöÂØºËá¥‰∏Ä‰∏™Á∫øÁ®ãËé∑ÂæóËøòÊ≤°ÊúâÂàùÂßãÂåñÁöÑÂÆû‰æã„ÄÇ&lt;/p>
&lt;p>‰æãÂ¶ÇÔºöÁ∫øÁ®ã T1 ÊâßË°å‰∫Ü 1 Âíå 3 ÂêéÔºåÊ≠§Êó∂ T2 Ë∞ÉÁî® &lt;code>getInstance()&lt;/code> ÂêéÂèëÁé∞ &lt;code>instance&lt;/code> ‰∏ç‰∏∫Á©∫ÔºåÂõ†Ê≠§Áõ¥Êé•ËøîÂõûÔºå‰ΩÜÊ≠§Êó∂ &lt;code>instance&lt;/code> ËøòÊú™Ë¢´ÂàùÂßãÂåñ„ÄÇ&lt;/p>
&lt;h3 id="ÈùôÊÄÅÂÜÖÈÉ®Á±ªÁöÑÂçï‰æãÊ®°Âºè">ÈùôÊÄÅÂÜÖÈÉ®Á±ªÁöÑÂçï‰æãÊ®°Âºè&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Singleton&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="nf">Singleton&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">InstanceHolder&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="c1">// ÈùôÊÄÅÂÜÖÈÉ®Á±ª
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ‰øùÂ≠òÂ§ñÈÉ®Á±ªÁöÑÂîØ‰∏ÄÂÆû‰æã
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">private&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="n">Singleton&lt;/span> &lt;span class="n">INSTANCE&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Singleton&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="n">Singleton&lt;/span> &lt;span class="nf">getInstance&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">InstanceHolder&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">INSTANCE&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">someService&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Singleton&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getInstance&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">someService&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÂΩìÂ§ñÈÉ®Á±ªÂä†ËΩΩÊó∂ÔºåÂÜÖÈÉ®Á±ª‰∏ç‰ºöÂä†ËΩΩÔºåÂπ∂‰∏îÈùôÊÄÅÂèòÈáèÂè™‰ºöÊúâÈªòËÆ§ÂÄºÔºànullÔºâ„ÄÇ&lt;/p>
&lt;p>Á±ªÁöÑÈùôÊÄÅÂèòÈáèË¢´ÂàùÊ¨°ËÆøÈóÆÊâç‰ºöËß¶Âèë Java ËôöÊãüÊú∫ÂØπËØ•Á±ªËøõË°åÂàùÂßãÂåñÔºå‰ºöÂèò‰∏∫ÂÖ∂ÂàùÂßãÂÄº„ÄÇ&lt;/p>
&lt;h3 id="Êûö‰∏æÂçï‰æã">Êûö‰∏æÂçï‰æã&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">enum&lt;/span> &lt;span class="n">Singleton&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">INSTANCE&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Singleton&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="c1">// ÁßÅÊúâÊûÑÈÄ†Âô®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pubilc&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">someService&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ‰∏öÂä°‰ª£Á†Å
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Â≠óÊÆµ &lt;code>INSTANCE&lt;/code> ÊòØÊûö‰∏æÁ±ªÁöÑÂîØ‰∏ÄÂÆû‰æã„ÄÇÂú® &lt;code>Singleton.INSTANCE&lt;/code> ÂàùÊ¨°Ë¢´ÂºïÁî®Êó∂Êâç‰ºöË¢´ÂàùÂßãÂåñ„ÄÇ&lt;/p>
&lt;h2 id="-È•øÊ±âÂºè">ü§© È•øÊ±âÂºè&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">pubilc&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Singleton&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Âú®ÂàõÂª∫Êó∂Áõ¥Êé•ÂàùÂßãÂåñÔºåÂ§©ÁîüÁ∫øÁ®ãÂÆâÂÖ®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">private&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="n">Singleton&lt;/span> &lt;span class="n">instance&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Singleton&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">println&lt;/span> &lt;span class="nf">Singleton&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pubilc&lt;/span> &lt;span class="n">staitc&lt;/span> &lt;span class="n">Singleton&lt;/span> &lt;span class="nf">getInstance&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">instance&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Java Âπ∂Âèë - ÈîÅÊú∫Âà∂</title><link>https://emerywan.github.io/blog/p/thread/lock/</link><pubDate>Mon, 11 Apr 2022 14:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/thread/lock/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/7.jpeg" alt="Featured image of post Java Âπ∂Âèë - ÈîÅÊú∫Âà∂" />&lt;p>Âú®Âπ∂ÂèëÊÉÖÂÜµ‰∏ãÔºåÂ§ö‰∏™Á∫øÁ®ã‰ºöÂØπÂêå‰∏Ä‰∏™ËµÑÊ∫êËøõË°å‰∫âÊä¢ÔºåÂèØËÉΩ‰ºöÂØºËá¥Êï∞ÊçÆ‰∏ç‰∏ÄËá¥ÁöÑÈóÆÈ¢ò„ÄÇ&lt;/p>
&lt;p>‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåÈÄöËøáÂºïÂÖ•&lt;strong>ÈîÅÊú∫Âà∂&lt;/strong>üîíÔºå‰ΩøÁî®‰∏ÄÁßçÊäΩË±°ÁöÑÈîÅÔºåÂØπËµÑÊ∫êËøõË°åÈîÅÂÆöÔºåËææÂà∞ÂêåÊ≠•ËÆøÈóÆÁöÑÁõÆÁöÑ„ÄÇ&lt;/p>
&lt;h2 id="ÂÆûÁé∞">ÂÆûÁé∞&lt;/h2>
&lt;p>Java ÈááÁî®‰∫Ü‰∏§ÁßçÂÆûÁé∞ÊñπÂºèÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ÈòªÂ°ûÂêåÊ≠•Ôºàüò¢ ÊÇ≤ËßÇÈîÅÔºâ&lt;/p>
&lt;p>üìù ÈÄÇÂêà‰∫éÂÜôÂ§öËØªÂ∞ëÁöÑÂú∫ÊôØ„ÄÇÂÖàÂä†ÈîÅÔºå‰øùËØÅÂÜôÊìç‰ΩúÊó∂ÁöÑÊï∞ÊçÆÊ≠£Á°Æ„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Âü∫‰∫é &lt;code>Object&lt;/code> ÁöÑ &lt;code>synchronized&lt;/code> ÂÜÖÈÉ®ÈîÅ üîí&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Âü∫‰∫é &lt;code>API&lt;/code> Á±ªÂ∫ìÁöÑ &lt;code>java.util.concurrent.locks.Lock&lt;/code> üîí&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ÈùûÈòªÂ°ûÂêåÊ≠•ÔºàüòÅ ‰πêËßÇÈîÅÔºâ&lt;/p>
&lt;p>üìñ ÈÄÇÂêà‰∫éËØªÂ§öÂÜôÂ∞ëÁöÑÂú∫ÊôØ„ÄÇ‰∏çÂä†ÈîÅÔºåÂèØ‰ª•Â§ßÂπÖÊèêÈ´òËØªÁöÑÊÄßËÉΩ„ÄÇ&lt;/p>
&lt;ul>
&lt;li>Âü∫‰∫é &lt;code>CAS&lt;/code> ÁöÑ‰πêËßÇÈîÅ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="-ÊÇ≤ËßÇÈîÅ">üò¢ ÊÇ≤ËßÇÈîÅ&lt;/h2>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/thread/lock/pessimistic_lock.png"
width="1203"
height="435"
srcset="https://emerywan.github.io/blog/blog/p/thread/lock/pessimistic_lock_hu0c6cbd403a1714d2f5c0f487acc85888_127050_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/thread/lock/pessimistic_lock_hu0c6cbd403a1714d2f5c0f487acc85888_127050_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="pessimistic"
class="gallery-image"
data-flex-grow="276"
data-flex-basis="663px"
>&lt;/p>
&lt;p>Âú® Java ‰∏≠ÔºåÊØè‰∏™ÂØπË±°ÔºàObjectÔºâÔºåÈÉΩÊã•Êúâ‰∏ÄÊääÈîÅÔºåÂ≠òÊîæÂú®ÂØπË±°Â§¥‰∏≠ÔºåËÆ∞ÂΩï‰∫ÜÂΩìÂâçÂØπË±°Ë¢´Âì™‰∏™Á∫øÁ®ãÊâÄÂç†Áî®„ÄÇ&lt;/p>
&lt;h3 id="-ÂÜÖÈÉ®ÈîÅ-synchronized">üîê ÂÜÖÈÉ®ÈîÅ synchronized&lt;/h3>
&lt;p>&lt;code>synchronized&lt;/code> ÂÖ≥ÈîÆÂ≠óÂèØ‰ª•Áî®Êù•ÂêåÊ≠•Á∫øÁ®ãÔºåÂÖ∂Ë¢´ÁºñËØëÂêéÔºå‰ºöÁîüÊàê &lt;code>monitorenter&lt;/code> Âíå &lt;code>moniterexit&lt;/code> ‰∏§‰∏™Â≠óËäÇÁ†ÅÊåá‰ª§ÔºåÁî®Êù•ËøõË°åÁ∫øÁ®ãÁöÑÂêåÊ≠•„ÄÇ&lt;/p>
&lt;p>Ëøô‰∏§‰∏™Â≠óËäÇÁ†ÅÊåá‰ª§ÈÉΩÈúÄË¶Å‰∏Ä‰∏™ &lt;code>reference&lt;/code> Á±ªÂûãÁöÑÂèÇÊï∞Êù•ÊåáÊòéË¶ÅÈîÅÂÆöÂíåËß£ÈîÅÁöÑÂØπË±°„ÄÇ&lt;/p>
&lt;p>Â¶ÇÊûú &lt;code>Java&lt;/code> Ê∫êÁ†Å‰∏≠ÁöÑ &lt;code>synchronized&lt;/code> ÊòéÁ°ÆÊåáÂÆö‰∫ÜÂØπË±°ÂèÇÊï∞ÔºåÈÇ£Â∞±‰ª•Ëøô‰∏™ÂØπË±°ÁöÑÂºïÁî®‰Ωú‰∏∫ &lt;code>reference&lt;/code>Ôºõ&lt;/p>
&lt;p>Â¶ÇÊûúÊ≤°ÊúâÊòéÁ°ÆÊåáÂÆöÔºåÂ∞±Ê†πÊçÆ &lt;code>synchronized&lt;/code> ‰øÆÈ•∞ÁöÑÊñπÊ≥ïÁ±ªÂûãÔºàÂÆû‰æãÊñπÊ≥ïÊàñÁ±ªÊñπÊ≥ïÔºâÔºåÊù•ÂÜ≥ÂÆöÊòØÂèñ‰ª£Á†ÅÊâÄÂú®ÁöÑÂØπË±°ÂÆû‰æãËøòÊòØÂèñÁ±ªÂûãÂØπÂ∫îÁöÑ Class ÂØπË±°Êù•‰Ωú‰∏∫Á∫øÁ®ãË¶ÅÊåÅÊúâÁöÑÈîÅ„ÄÇ&lt;/p>
&lt;h4 id="Âä†ÈîÅÊñπÂºè">Âä†ÈîÅÊñπÂºè&lt;/h4>
&lt;ul>
&lt;li>
&lt;p>ÂØπË±°ÈîÅ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>‰øÆÈ•∞ÂÆû‰æãÊñπÊ≥ï&lt;/p>
&lt;p>&lt;code>pubilc sychronized void method() { ... }&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‰ª£Á†ÅÂùóÈîÅ‰ΩèÂΩìÂâçÂØπË±°&lt;/p>
&lt;p>&lt;code>synchronized(this)&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Á±ªÈîÅ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>‰øÆÈ•∞ÈùôÊÄÅÊñπÊ≥ï&lt;/p>
&lt;p>&lt;code>public static synchronized void method() { ... }&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‰ª£Á†ÅÂùóÈîÅÂÆö class ÂØπË±°&lt;/p>
&lt;p>&lt;code>synchronized(MyClass.class) { ... }&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;code>synchronized&lt;/code> ÊòØÈùûÂÖ¨Âπ≥ÈîÅ„ÄÇ‰∏ÄÊääÈîÅÂè™ËÉΩË¢´‰∏Ä‰∏™Á∫øÁ®ãËé∑ÂèñÔºåÊ≤°ÊúâËé∑ÂæóÈîÅÁöÑÁ∫øÁ®ãÂè™ËÉΩÁ≠âÂæÖ„ÄÇÁ∫øÁ®ãÂØπÂÜÖÈÉ®ÈîÅÁöÑÁî≥ËØ∑ÂíåÈáäÊîæÁî± JVM Ë¥üË¥£ÂÆûÊñΩ„ÄÇ&lt;/p>
&lt;p>&lt;code>synchronized&lt;/code> ÊòØÂèØÈáçÂÖ•ÈîÅ„ÄÇÊåÅÊúâÈîÅÁöÑÂØπË±°ÔºåÂèØ‰ª•Â§öÊ¨°Ëé∑ÂæóÈîÅ„ÄÇ&lt;/p>
&lt;p>&lt;code>synchronized&lt;/code> ‰øÆÈ•∞ÁöÑÊñπÊ≥ïÔºåÊó†ËÆ∫ÊñπÊ≥ïÊ≠£Â∏∏ÊâßË°åÂÆåËøòÊòØÊäõÂá∫ÂºÇÂ∏∏ÔºåÈÉΩ‰ºöÈáäÊîæÈîÅ„ÄÇ&lt;/p>
&lt;h3 id="-jdk-16-ÂØπ-synchronized-ÁöÑ‰ºòÂåñ">üå∏ JDK 1.6 ÂØπ synchronized ÁöÑ‰ºòÂåñ&lt;/h3>
&lt;p>&lt;code>synchronized&lt;/code> ‰æùËµñ‰∫é &lt;code>JVM&lt;/code>Ôºå‰ΩøÁî®ÁöÑÊòØÊìç‰ΩúÁ≥ªÁªüÂ∫ïÂ±ÇÁöÑ &lt;code>Mutex Lock&lt;/code> ÂÆûÁé∞„ÄÇ&lt;/p>
&lt;p>Java ‰∏≠ÁöÑÁ∫øÁ®ãÈÉΩÊòØ‰∏éÊìç‰ΩúÁ≥ªÁªüÁöÑÂéüÁîüÁ∫øÁ®ã‰∏Ä‰∏ÄÂØπÂ∫îÁöÑÔºåÂ¶ÇÊûúË¶ÅÈòªÂ°ûÊàñÂî§ÈÜí‰∏Ä‰∏™Á∫øÁ®ãÔºåÈÉΩÈúÄË¶Å‰æùÈù†Êìç‰ΩúÁ≥ªÁªüÊù•ÂÆûÁé∞„ÄÇ
Êìç‰ΩúÁ≥ªÁªüÁ∫øÁ®ã‰πãÂâçÁöÑÂàáÊç¢ÔºåÈÉΩÈúÄË¶Å‰ªéÁî®Êà∑ÊÄÅÂà∞ÂÜÖÊ†∏Â§™ÁöÑËΩ¨Êç¢ÔºåÈÉΩÊòØÂæàËÄóÊó∂ÁöÑÊìç‰ΩúÔºåÊâÄ‰ª•‰ΩøÁî® &lt;code>synchronized&lt;/code> ÁöÑÊàêÊú¨ËæÉÈ´ò„ÄÇ&lt;/p>
&lt;p>JDK 1.6 ÂØπÈîÅÁöÑÂÆûÁé∞ÂºïÂÖ•‰∫ÜÂ§ßÈáèÁöÑ‰ºòÂåñÔºåÂ¶Ç &lt;code>ÈîÅÁ≤óÂåñ&lt;/code>Ôºå&lt;code>ÈîÅÊ∂àÈô§&lt;/code>Ôºå&lt;code>ËΩªÈáèÁ∫ßÈîÅ&lt;/code>Ôºå&lt;code>ÂÅèÂêëÈîÅ&lt;/code>Ôºå&lt;code>Ëá™ÊóãÈîÅ&lt;/code>Ôºå&lt;code>ÈÄÇÂ∫îÊÄßËá™Êóã&lt;/code>Á≠â„ÄÇ
Âπ∂‰∏îÔºåÂØπË±°ÈîÅ‰πüÂºïÂÖ•‰∫ÜÂõõÁßçÁä∂ÊÄÅÔºå‰ºöÈöèÁùÄÁ´û‰∫âÊÉÖÂÜµÈÄêÊ∏êÂçáÁ∫ßÔºà‰∏çÂèØ‰ª•ÈôçÁ∫ßÔºâÔºåÊèêÈ´òËé∑ÂèñÈîÅÂíåÈáäÊîæÈîÅÁöÑÊïàÁéá„ÄÇ&lt;/p>
&lt;blockquote>
&lt;p>Êó†ÈîÅ -&amp;gt; ÂÅèÂêëÈîÅ -&amp;gt; ËΩªÈáèÁ∫ßÈîÅ -&amp;gt; ÈáçÈáèÁ∫ßÈîÅ&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>
&lt;p>üîí Êó†ÈîÅÁä∂ÊÄÅ&lt;/p>
&lt;p>‰∏çÂØπËµÑÊ∫êËøõË°åÈîÅÂÆö&lt;/p>
&lt;ul>
&lt;li>Êüê‰∫õËµÑÊ∫ê‰∏ç‰ºöÂá∫Áé∞Â§öÁ∫øÁ®ãÁ´û‰∫âÁöÑÊÉÖÂÜµÔºåÈöèÊÑèÂ§ö‰∏™Á∫øÁ®ãË∞ÉÁî®&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>üîí ÂÅèÂêëÈîÅ&lt;/p>
&lt;ul>
&lt;li>Âè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãËÆøÈóÆÂêåÊ≠•‰ª£Á†ÅÂùóÁöÑÂú∫ÊôØ&lt;/li>
&lt;/ul>
&lt;p>Âú®‰∏Ä‰∫õÊÉÖÂÜµ‰∏ãÔºåÊ≤°ÊúâÂ§öÁ∫øÁ®ãÁöÑÁ´û‰∫âÔºåÊØèÊ¨°ÈÉΩÊòØÂêå‰∏Ä‰∏™Á∫øÁ®ãÂ§öÊ¨°Ëé∑ÂèñÈîÅÔºåÈÇ£‰πàÂØπË±°ÈîÅ‰ºö‚ÄúËÆ∞‰Ωè‚ÄùËøô‰∏™Á∫øÁ®ãÔºåÂè™Ë¶ÅÊòØËøô‰∏™Á∫øÁ®ãËøáÊù•ÔºåÂ∞±Áõ¥Êé•ÊääÈîÅ‰∫§Âá∫Âéª&lt;/p>
&lt;p>Â¶ÇÊûúÂØπË±°ÂèëÁé∞ÁõÆÂâç‰∏çÊòØÂè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãÔºåËÄåÊòØÊúâÂ§ö‰∏™Á∫øÁ®ãÂú®Á´û‰∫âÈîÅÔºåÂÅèÂêëÈîÅÂ∞±‰ºöÂçáÁ∫ß‰∏∫ËΩªÈáèÁ∫ßÈîÅ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üîí ËΩªÈáèÁ∫ßÈîÅ&lt;/p>
&lt;ul>
&lt;li>ÈÄÇÂêàÂêåÊ≠•‰ª£Á†ÅÂùóÁöÑÊâßË°åÈÄüÂ∫¶ÈùûÂ∏∏Âø´ÁöÑÂú∫ÊôØ&lt;/li>
&lt;/ul>
&lt;p>ÂΩìÈîÅÂçáÁ∫ß‰∏∫ËΩªÈáèÁ∫ßÈîÅÁöÑÊó∂ÂÄôÔºåÂÖ∂‰ªñÁ∫øÁ®ã‰ºöÈÄöËøá CAS ËøõË°åËá™ÊóãÁ≠âÂæÖÊù•Ëé∑ÂèñÈîÅÔºå‰∏ç‰ºöÈòªÂ°ûÔºå‰ªéËÄåÊèêÈ´òÊÄßËÉΩÔºàÂπ∂‰∏î‰ºöÊ†πÊçÆÁ≠âÂæÖÊó∂Èó¥Ë∞ÉÊï¥ CAS ÁöÑÊó∂Èó¥Ôºâ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üîí ÈáçÈáèÁ∫ßÈîÅ&lt;/p>
&lt;ul>
&lt;li>ÈÄÇÂêàÂêåÊ≠•‰ª£Á†ÅÂùóÊâßË°åÈÄüÂ∫¶ËæÉÈïøÁöÑÂú∫ÊôØ&lt;/li>
&lt;/ul>
&lt;p>ÂØπË±°ÈîÅÁä∂ÊÄÅË¢´Ê†áËÆ∞‰∏∫ÈáçÈáèÁ∫ßÈîÅÔºåÈÄöËøá Monitor Êù•ÂØπÁ∫øÁ®ãËøõË°åÊéßÂà∂&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="-‰πêËßÇÈîÅ-cas">üòÅ ‰πêËßÇÈîÅ CAS&lt;/h2>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/thread/lock/optimistic_lock.png"
width="1037"
height="468"
srcset="https://emerywan.github.io/blog/blog/p/thread/lock/optimistic_lock_hu036037785ffcb4d154b9171a46e6bd40_99684_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/thread/lock/optimistic_lock_hu036037785ffcb4d154b9171a46e6bd40_99684_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="optimistic"
class="gallery-image"
data-flex-grow="221"
data-flex-basis="531px"
>&lt;/p>
&lt;p>Âú®‰∏Ä‰∫õÊÉÖÂÜµ‰∏ãÔºåÂêåÊ≠•‰ª£Á†ÅÂùóÊâßË°åÁöÑÊó∂Èó¥ËøúËøúÂ∞è‰∫éÁ∫øÁ®ãÂàáÊç¢ÁöÑËÄóÊó∂„ÄÇÊâÄ‰ª•Â∏åÊúõËÉΩÂ§üÂú®Áî®Êà∑ÊÄÅ‰∏≠ÂØπÁ∫øÁ®ãÁöÑÂàáÊç¢ËøõË°åÁÆ°ÁêÜÔºåËøôÊ†∑ÊïàÁéáÊõ¥È´ò„ÄÇ&lt;/p>
&lt;p>Êàë‰ª¨ËÆ©Á∫øÁ®ã‚Äú‰πêËßÇÂú∞‚ÄùÂèçÂ§çÂ∞ùËØïËé∑ÂèñÂÖ±‰∫´ËµÑÊ∫êÔºåÂΩìÂèëÁé∞Á©∫Èó≤Êó∂‰æøËøõË°å‰ΩøÁî®ÔºåÂê¶ÂàôÁªßÁª≠‚Äú‰πêËßÇÂú∞‚ÄùËøõË°åÈáçËØï„ÄÇ&lt;/p>
&lt;p>Âü∫‰∫é‰ª•‰∏äÊÉ≥Ê≥ïÔºåËØûÁîü‰∫Ü &lt;code>CAS (Compare And Swap)&lt;/code> ÁÆóÊ≥ïÔºöÊØîËæÉÂπ∂‰∫§Êç¢„ÄÇ&lt;/p>
&lt;p>CASÁÆóÊ≥ïÊ∂âÂèäÂà∞‰∏â‰∏™Êìç‰ΩúÊï∞Ôºö&lt;/p>
&lt;ul>
&lt;li>ÈúÄË¶ÅËØªÂÜôÁöÑÂÜÖÂ≠òÂÄº &lt;code>addr&lt;/code>&lt;/li>
&lt;li>ËøõË°åÊØîËæÉÁöÑÂÄº &lt;code>oldValue&lt;/code>&lt;/li>
&lt;li>Ë¶ÅÂÜôÂÖ•ÁöÑÊñ∞ÂÄº &lt;code>newValue&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">cas&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">long&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="n">oldValue&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="n">newValue&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/* Executes atomically. */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">addr&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">old&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">*&lt;/span>&lt;span class="n">addr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ëøô‰∏™ &lt;code>cas()&lt;/code> ÂáΩÊï∞ÁúãËµ∑Êù•Ê≤°Êúâ‰ªª‰ΩïÂêåÊ≠•Êé™ÊñΩÔºå‰ºº‰πéËøòÊòØÂ≠òÂú®Á∫øÁ®ã‰∏çÂÆâÂÖ®ÁöÑÈóÆÈ¢ò„ÄÇ&lt;/p>
&lt;p>ÂΩì A Á∫øÁ®ãÊØîËæÉ‰∫Ü oldValue ÁöÑÂÄºÊòØÊÉ≥Ë¶ÅÁöÑÔºå‰ΩÜÊòØËøô‰∏™Áû¨Èó¥ÔºåB Á∫øÁ®ãÁ™ÅÁÑ∂Êä¢Âà∞‰∫ÜÊó∂Èó¥ÁâáÔºåÊõ¥Êîπ‰∫ÜÂÄºÔºõ‰ΩÜÊòØ A Á∫øÁ®ãÂπ∂‰∏çÁü•ÈÅìÔºåÂ∞ÜÂÄºÊîπÊàê‰∫Ü newValueÔºåËøôÂ∞±Âá∫Áé∞‰∫ÜÁ∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢òÔºåA B ‰∏§‰∏™Á∫øÁ®ãÂêåÊó∂Ëé∑Âæó‰∫ÜËµÑÊ∫ê„ÄÇ&lt;/p>
&lt;p>ÊâÄ‰ª•Ôºå&lt;code>CAS&lt;/code> ÁöÑÊìç‰ΩúÂøÖÈ°ªÊòØ &lt;code>ÂéüÂ≠êÊÄß&lt;/code> ÁöÑ„ÄÇËøô‰∏™ÂéüÂ≠êÊìç‰ΩúÔºå&lt;strong>Áî±ËÆ°ÁÆóÊú∫Â§ÑÁêÜÂô®Êåá‰ª§ÈõÜÊèê‰æõÔºåÁõ¥Êé•Áî±Á°¨‰ª∂‰øùÈöú„ÄÇ&lt;/strong>&lt;/p>
&lt;h3 id="java-‰∏≠ÁöÑÂéüÂ≠êÂèòÈáèÁ±ª">Java ‰∏≠ÁöÑÂéüÂ≠êÂèòÈáèÁ±ª&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>Âü∫Á°ÄÊï∞ÊçÆÁ±ªÂûã&lt;/p>
&lt;ul>
&lt;li>AtomicInteger&lt;/li>
&lt;li>AtomicLong&lt;/li>
&lt;li>AtomicBoolean&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Êï∞ÁªÑÁ±ªÂûã&lt;/p>
&lt;ul>
&lt;li>AtomicIntegerArray&lt;/li>
&lt;li>AtomicLongArray&lt;/li>
&lt;li>AtomicReferenceArray&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Â≠óÊÆµÊõ¥Êñ∞Á±ªÂûã&lt;/p>
&lt;ul>
&lt;li>AtomicIntegerFieldUpdater&lt;/li>
&lt;li>AtomicLongFieldUpdater&lt;/li>
&lt;li>AtomicReferenceFieldUpdater&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ÂºïÁî®Á±ªÂûã&lt;/p>
&lt;ul>
&lt;li>AtomicReference&lt;/li>
&lt;li>AtomicStampedReference&lt;/li>
&lt;li>AtomicMarkableReference&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Demo&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="n">AtomicInteger&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">AtomicInteger&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">3&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="n">Thread&lt;/span>&lt;span class="o">(()&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">1000&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Thread&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">currentThread&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34; : &amp;#34;&lt;/span> &lt;span class="o">+&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">n&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">incrementAndGet&lt;/span>&lt;span class="o">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">},&lt;/span> &lt;span class="s">&amp;#34;Thread&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">).&lt;/span>&lt;span class="na">start&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>AtomicInteger&lt;/code> ‰∏ªË¶ÅÁî±‰∏Ä‰∏™ &lt;code>Unsafe&lt;/code> Á±ªÂûãÁöÑÂÆû‰æã &lt;code>unsafe&lt;/code> Âíå &lt;code>Long&lt;/code> Á±ªÂûãÁöÑ &lt;code>offset&lt;/code> ÂÆûÁé∞„ÄÇ&lt;/p>
&lt;p>Java ÈÄöËøá &lt;code>Unsafe&lt;/code> ÁöÑ CAS Êìç‰ΩúÊù•ÂØπ &lt;code>volatile int&lt;/code> ÂÄºËøõË°åÊõ¥Êñ∞„ÄÇÊ†πÊçÆ &lt;code>value&lt;/code> Âú®ÂØπË±°‰∏≠ÁöÑÂÅèÁßªÈáèÔºåCAS Êìç‰ΩúÂÜÖÂ≠òÊï∞ÊçÆÔºåÊâßË°å‰∏Ä‰∫õÂ∫ïÂ±ÇÔºåÂíåÂπ≥Âè∞Áõ∏ÂÖ≥ÁöÑÊñπÊ≥ï„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// setup to use Unsafe.compareAndSwapInt for updates
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">private&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="n">Unsafe&lt;/span> &lt;span class="n">unsafe&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Unsafe&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getUnsafe&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">private&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="n">valueOffset&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">static&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">valueOffset&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">unsafe&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">objectFieldOffset&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">AtomicInteger&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getDeclareFiele&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;value&amp;#34;&lt;/span>&lt;span class="o">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Exception&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Error&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ex&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">private&lt;/span> &lt;span class="kd">volatile&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>‰æãÂ¶Ç &lt;code>incrementAndGet()&lt;/code>„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// AtomicInteger.java
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">public&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">incrementAndGet&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">unsafe&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getAndAddInt&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">valueOffset&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">1&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">1&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Unsafe.java
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">public&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">getAndAddInt&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Object&lt;/span> &lt;span class="n">o&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="n">offset&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">delta&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">v&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">do&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">v&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">getIntVolatile&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">offset&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">while&lt;/span> &lt;span class="o">(!&lt;/span>&lt;span class="n">compareAndSwapInt&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">offset&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">v&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">v&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">delta&lt;/span>&lt;span class="o">));&lt;/span> &lt;span class="c1">// Ëá™ÊóãÔºåÂèØ‰ª•ÈÄöËøáÂêØÂä®ÂèÇÊï∞ÈÖçÁΩÆÔºåÈªòËÆ§ÊòØ 10
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">v&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="kd">native&lt;/span> &lt;span class="kt">boolean&lt;/span> &lt;span class="nf">compareAndSwapInt&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Object&lt;/span> &lt;span class="n">o&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="n">offset&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">expected&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Áº∫ÁÇπÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Âæ™ÁéØÂºÄÈîÄÂ§ß&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Âè™ËÉΩÂ§ÑÁêÜ‰∏Ä‰∏™ÂÖ±‰∫´ÂèòÈáè&lt;/p>
&lt;ul>
&lt;li>Â∞ÅË£ÖÊàêÂØπË±° AtomicReference&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ABA&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="aba-ÈóÆÈ¢ò">ABA ÈóÆÈ¢ò&lt;/h3>
&lt;p>CAS ÈúÄË¶ÅÂú®Êìç‰ΩúÂÄºÁöÑÊó∂ÂÄôÊ£ÄÊü•ÂÜÖÂ≠òÂÄºÊòØÂê¶ÂèëÁîüÂèòÂåñÔºåÊ≤°ÊúâÂèëÁîüÂèòÂåñÊâç‰ºöÊõ¥Êñ∞ÂÜÖÂ≠òÂÄº„ÄÇ&lt;/p>
&lt;p>Â¶ÇÊûúÂÜÖÂ≠òÂÄºÂéüÊù•ÊòØ AÔºåÂêéÊù•ÂèòÊàê‰∫Ü BÔºåÁÑ∂ÂêéÂèàÂèòÊàê‰∫Ü AÔºåÈÇ£‰πà CAS ËøõË°åÊ£ÄÊü•Êó∂‰ºöÂèëÁé∞ÂÄºÊ≤°ÊúâÂèëÁîüÂèòÂåñÔºå‰ΩÜÊòØÂÆûÈôÖ‰∏äÊòØÊúâÂèòÂåñÁöÑ„ÄÇ&lt;/p>
&lt;p>&lt;code>A -&amp;gt; B -&amp;gt; A&lt;/code>&lt;/p>
&lt;p>ÂèØ‰ª•‰∏∫ÂÖ±‰∫´ÂèòÈáèÂºïÂÖ•‰∏Ä‰∏™‰øÆËÆ¢Âè∑ÔºàÊó∂Èó¥Êà≥ÔºâÔºåÊØèÊ¨°Êõ¥Êñ∞ÈÉΩ‰ºöÊõ¥Êñ∞Áõ∏Â∫îÁöÑ‰øÆËÆ¢Âè∑ÔºåÂà§Êñ≠ÂèòÈáèÁöÑÂÄºÊòØÂê¶Ë¢´ÂÖ∂‰ªñÁ∫øÁ®ãÁªô‰øÆÊîπËøá„ÄÇ&lt;code>AtomicStampedReference&lt;/code>&lt;/p>
&lt;p>&lt;code>[A, 0] -&amp;gt; [B, 1] -&amp;gt; [A, 2]&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">String&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;Hello&amp;#34;&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">String&lt;/span> &lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;World&amp;#34;&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// initialRef initialStamp
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">AtomicStampedReference&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">reference&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">AtomicStampedReference&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">1&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// expectedReference newStamp
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">reference&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">attemptStamp&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">2&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// ÂØπÁâàÊú¨Âè∑ËøõË°å‰øÆÊîπ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// expectedReference newReference expectedStamp newStamp
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">reference&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">compareAndSet&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">3&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// CAS Êìç‰ΩúÈúÄË¶ÅÂêåÊó∂Êèê‰æõ È¢ÑÊúüÂÄº Êñ∞ÂÄº È¢ÑÊúüÁâàÊú¨Âè∑ Êñ∞ÁâàÊú¨Âè∑
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ÂèÇËÄÉ">ÂèÇËÄÉ&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://tech.meituan.com/2018/11/15/java-lock.html" target="_blank" rel="noopener"
>https://tech.meituan.com/2018/11/15/java-lock.html&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.bilibili.com/video/BV1xT4y1A7kA" target="_blank" rel="noopener"
>https://www.bilibili.com/video/BV1xT4y1A7kA&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>JavaÂπ∂Âèë - Á∫øÁ®ãÊ±†</title><link>https://emerywan.github.io/blog/p/thread/threadpool/</link><pubDate>Wed, 30 Mar 2022 16:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/thread/threadpool/</guid><description>&lt;img src="https://emerywan.github.io/blog/p/thread/threadpool/1.png" alt="Featured image of post JavaÂπ∂Âèë - Á∫øÁ®ãÊ±†" />&lt;h2 id="-ÂàõÂª∫">üë®‚Äçüè≠ ÂàõÂª∫&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="nf">ThreadPoolExecutor&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">corePoolSize&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">maximumPoolSize&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">long&lt;/span> &lt;span class="n">keepAliveTime&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">TimeUnit&lt;/span> &lt;span class="n">unit&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">BlockingQueue&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Runnable&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">workQueue&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ThreadFactory&lt;/span> &lt;span class="n">threadFactory&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">RejectedExecutionHandler&lt;/span> &lt;span class="n">handler&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>
&lt;p>üß© &lt;code>corePoolSize&lt;/code> Ê†∏ÂøÉÁ∫øÁ®ãÊï∞&lt;/p>
&lt;ul>
&lt;li>ÊØèÊ¨°ÂêëÁ∫øÁ®ãÊ±†Êèê‰∫§‰∏Ä‰∏™Â§öÁ∫øÁ®ã‰ªªÂä°ÔºåÈÉΩ‰ºöÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÊ†∏ÂøÉÁ∫øÁ®ãÔºåÊó†ËÆ∫ÊòØÂê¶ÊúâÁ©∫Èó≤Á∫øÁ®ãÔºåÁõ¥Âà∞ÂàõÂª∫ÁöÑÁ∫øÁ®ãÊï∞ÈáèÂà∞ËææÊ†∏ÂøÉÁ∫øÁ®ãÊï∞ÔºåÊâç‰ºöÂºÄÂßãÂ§çÁî®Á∫øÁ®ãËµÑÊ∫ê&lt;/li>
&lt;li>‰ΩøÁî® &lt;code>prestartAllCoreThreads()&lt;/code> Áõ¥Êé•ÂàùÂßãÂåñÂÖ®ÈÉ®Á∫øÁ®ã&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>üß© &lt;code>maximumPoolSize&lt;/code> ÊúÄÂ§ßÁ∫øÁ®ãÊï∞&lt;/p>
&lt;ul>
&lt;li>ÂΩìÊâÄÊúâÁ∫øÁ®ãÈÉΩÂ§Ñ‰∫éËøêË°åÁä∂ÊÄÅÔºå‰∏îÁ≠âÂæÖÈòüÂàóÂ∑≤Êª°Ôºå‰ºöÂºÄÂßãÂàõÂª∫ÈùûÊ†∏ÂøÉÁ∫øÁ®ãÔºå‰ΩÜ‰∏çË∂ÖËøáÊúÄÂ§ßÁ∫øÁ®ãÊï∞&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>üß© &lt;code>keepAliveTime&lt;/code> Á∫øÁ®ãÊúÄÂ§ßÁ©∫Èó≤Êó∂Èó¥&lt;/p>
&lt;ul>
&lt;li>ÈùûÊ†∏ÂøÉÁ∫øÁ®ãË∂ÖËøáÊúÄÂ§ßÁ©∫Èó≤Êó∂Èó¥Ôºå‰ºöËá™Âä®ÈîÄÊØÅ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>üß© &lt;code>unit&lt;/code> ÊúÄÂ§ßÁ©∫Èó≤Êó∂Èó¥Âçï‰Ωç&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üß© &lt;code>workQueue&lt;/code> Á∫øÁ®ãÁ≠âÂæÖÈòüÂàó&lt;/p>
&lt;ul>
&lt;li>Ê†∏ÂøÉÁ∫øÁ®ãÊï∞Â∑≤Êª°Êó∂Ôºå‰ºöÂ∞Ü‰ªªÂä°ÊöÇÂ≠òÂà∞Á≠âÂæÖÈòüÂàóÔºåÁõ¥Âà∞Á∫øÁ®ãËµÑÊ∫êÂèØÁî®ÔºõÂΩìÁ≠âÂæÖÈòüÂàóÂ∑≤Êª°Êó∂Ôºå‰ºöÂºÄÂßãÂàõÂª∫ÈùûÊ†∏ÂøÉÁ∫øÁ®ã&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>üß© &lt;code>threadFactory&lt;/code> Á∫øÁ®ãÂàõÂª∫ÁöÑÂ∑•ÂéÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üß© &lt;code>handler&lt;/code> ÊãíÁªùÁ≠ñÁï•&lt;/p>
&lt;ul>
&lt;li>ÂΩìÁ≠âÂæÖÈòüÂàóÂ∑≤Êª°ÔºåÂπ∂‰∏îËææÂà∞ÊúÄÂ§ßÁ∫øÁ®ãÊï∞ÔºåÊñ∞ÁöÑ‰ªªÂä°‰ºöËøõË°åÊãíÁªùÂ§ÑÁêÜ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="Á∫øÁ®ãÊ±†ÁöÑÂ§ßÂ∞èËÆæËÆ°">Á∫øÁ®ãÊ±†ÁöÑÂ§ßÂ∞èËÆæËÆ°&lt;/h3>
&lt;p>Á∫øÁ®ãÊ±†‰∏≠Á∫øÁ®ãÊï∞ÈáèÂ§™Â∞ë -&amp;gt; ÂΩìÊúâÂ§ßÈáè‰ªªÂä°Â§ÑÁêÜÊó∂ÔºåÈòüÂàó‰ºöÂ†ÜÁßØÂ§ßÈáè‰ªªÂä°ÔºåÂØºËá¥Áõ∏Â∫îÂèòÊÖ¢„ÄÇ&lt;/p>
&lt;p>Á∫øÁ®ãÊ±†‰∏≠Á∫øÁ®ãÊï∞ÈáèÂ§™Â§ö -&amp;gt; ‰ºöÊúâÂ§ßÈáèÁöÑÁ∫øÁ®ãÊä¢Âç† CPU ËµÑÊ∫êÔºåÂØºËá¥È¢ëÁπÅÁöÑ‰∏ä‰∏ãÊñáÂàáÊç¢ÔºåÂèçËÄå‰ºöÂ¢ûÂä†‰ªªÂä°ÁöÑÊâßË°åÊó∂Èó¥ÔºåÂΩ±ÂìçÊâßË°åÊïàÁéá„ÄÇ&lt;/p>
&lt;ul>
&lt;li>üíª CPU ÂØÜÈõÜÂûã&lt;/li>
&lt;/ul>
&lt;p>‰∏ªË¶ÅÊòØÊâßË°åËÆ°ÁÆó‰ªªÂä°ÔºåÁõ∏Â∫îÂæàÂø´ÔºåCPU Âà©Áî®ÁéáÈ´ò„ÄÇÊé®ËçêÔºöÊ†∏ÂøÉÁ∫øÁ®ãÊï∞ = CPU Ê†∏ÂøÉÊï∞ + 1&lt;/p>
&lt;ul>
&lt;li>üíΩ IO ÂØÜÈõÜÂûã&lt;/li>
&lt;/ul>
&lt;p>‰∏ªË¶ÅÊòØËøõË°å IO Êìç‰ΩúÔºåÂ¶ÇÁ°¨ÁõòËØªÂèñÊï∞ÊçÆÁ≠âÔºåIO Êìç‰ΩúÊó∂Èó¥ÈïøÔºåCPU Âà©Áî®‰∏çÈ´òÔºåÊé®ËçêÔºöÊ†∏ÂøÉÁ∫øÁ®ãÊï∞ = 2 * CPU Ê†∏ÂøÉÊï∞„ÄÇ&lt;/p>
&lt;h3 id="ÊãíÁªùÁ≠ñÁï•">ÊãíÁªùÁ≠ñÁï•&lt;/h3>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/thread/threadpool/1.png"
width="645"
height="281"
srcset="https://emerywan.github.io/blog/blog/p/thread/threadpool/1_hu09e646313a866764776d5602df0c4035_178519_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/thread/threadpool/1_hu09e646313a866764776d5602df0c4035_178519_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="229"
data-flex-basis="550px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>‚ùå AbortPolicy&lt;/p>
&lt;ul>
&lt;li>ÊãíÁªù‰ªªÂä°ÔºåÂπ∂ÊäõÂá∫ÂºÇÂ∏∏ RejectedExecutionException&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>‚ùå DiscardPolicy&lt;/p>
&lt;ul>
&lt;li>‰∏çÊäõÂá∫ÂºÇÂ∏∏ÔºåÁõ¥Êé•‰∏¢ÂºÉÊñ∞‰ªªÂä°&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>‚ùå DiscardOldestPolicy&lt;/p>
&lt;ul>
&lt;li>‰∏¢ÂºÉÊúÄËÄÅÁöÑ‰ªªÂä°&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>‚ùå CallerRunsPolicy&lt;/p>
&lt;ul>
&lt;li>Â∞Ü‰ªªÂä°‰∫§ÁªôË∞ÉÁî®Á∫øÁ®ãÊâßË°å&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="‰ΩøÁî®">‰ΩøÁî®&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// execute Êó†ËøîÂõûÂÄº
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">executor&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">execute&lt;/span>&lt;span class="o">(()&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// do ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// submit ÊúâËøîÂõûÂÄº
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Future&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">future&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">executor&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">submit&lt;/span>&lt;span class="o">(()&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// do...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="s">&amp;#34;ËøîÂõûÂÄº&amp;#34;&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">String&lt;/span> &lt;span class="n">res&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">future&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="-Â∏∏ËßÅÁöÑÁ∫øÁ®ãÊ±†">üëì Â∏∏ËßÅÁöÑÁ∫øÁ®ãÊ±†&lt;/h2>
&lt;h3 id="-newsinglethreadexecutor">üåä newSingleThreadExecutor&lt;/h3>
&lt;ul>
&lt;li>Âè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãÁöÑÁ∫øÁ®ãÊ±†&lt;/li>
&lt;li>ÂîØ‰∏ÄÁ∫øÁ®ãÂèØ‰ª•‰øùËØÅÊâÄÊèê‰∫§ÁöÑ‰ªªÂä°È°∫Â∫èÊâßË°å&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Ê†∏ÂøÉÁ∫øÁ®ãÊï∞ = ÊúÄÂ§ßÁ∫øÁ®ãÊï∞ = 1&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="n">ExecutorService&lt;/span> &lt;span class="nf">newSingleThreadExecutor&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">FinalizableDelegatedExecutorService&lt;/span>&lt;span class="o">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="n">ThreadPoolExecutor&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">1&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">0L&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">TimeUnit&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">MILLISECONDS&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="n">LinkedBlockingQueue&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Runnable&lt;/span>&lt;span class="o">&amp;gt;()));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="-newfixedthreadpool">üåä newFixedThreadPool&lt;/h3>
&lt;ul>
&lt;li>Âõ∫ÂÆöÁ∫øÁ®ãÊï∞ÁöÑÁ∫øÁ®ãÊ±†&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Ê†∏ÂøÉÁ∫øÁ®ãÊï∞ = ÊúÄÂ§ßÁ∫øÁ®ãÊï∞ = n&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="n">ExecutorService&lt;/span> &lt;span class="nf">newFixedThreadPool&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">nThreads&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ThreadPoolExecutor&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">nThread&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">nThread&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">0L&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">TimeUnit&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">MILLISECONDS&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="n">LinkedBlockingQueue&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Runnable&lt;/span>&lt;span class="o">&amp;gt;());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="-newcachedthreadpool">üåä newCachedThreadPool&lt;/h3>
&lt;ul>
&lt;li>Ê†πÊçÆ‰ªªÂä°‰ºö‰∏çÊñ≠ÂàõÂª∫Êñ∞Á∫øÁ®ãÁöÑÁ∫øÁ®ãÊ±†&lt;/li>
&lt;/ul>
&lt;p>ÂΩìÊèê‰∫§Êñ∞‰ªªÂä°Êó∂ÔºåÂ¶ÇÊûúÁ∫øÁ®ãÊ±†‰∏∫Á©∫ÊàñÊ≤°ÊúâÁ©∫Èó≤Á∫øÁ®ãÔºåÂàôÂàõÂª∫Êñ∞Á∫øÁ®ãÊâßË°å‰ªªÂä°„ÄÇÁ∫øÁ®ãÁ©∫Èó≤Êó∂Èó¥Ë∂ÖËøá keepAliveTime=60sÔºå‰ºöËá™Âä®ÈáäÊîæÁ∫øÁ®ãËµÑÊ∫ê„ÄÇÈïøÊó∂Èó¥Á©∫Èó≤ÁöÑ CachedThreadPool ‰∏ç‰ºöÊåÅÊúâ‰ªªÂä°‰ªª‰ΩïÁ∫øÁ®ãËµÑÊ∫ê„ÄÇ&lt;/p>
&lt;blockquote>
&lt;p>Ê†∏ÂøÉÁ∫øÁ®ãÊï∞ = 0&lt;/p>
&lt;p>ÊúÄÂ§ßÁ∫øÁ®ãÊï∞ = Integer.MAX_VALUE&lt;/p>
&lt;p>SynchronousQueue ‰∏çÂ≠òÂÇ®ÂÖÉÁ¥†ÁöÑÈòªÂ°ûÈòüÂàóÔºåÊØè‰∏Ä‰∏™ put() ÈÉΩ‰ºöÁ≠âÂæÖ‰∏Ä‰∏™ take() Êìç‰Ωú&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="n">ExecutorService&lt;/span> &lt;span class="nf">newCachedThreadPool&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ThreadPoolExecutor&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Integer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">MAX_VALUE&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">60L&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">TimeUnit&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">SECONDS&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="n">SynchronousQueue&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Runnable&lt;/span>&lt;span class="o">&amp;gt;());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="scheduledthreadpoolexecutor">ScheduledThreadPoolExecutor&lt;/h2>
&lt;p>&lt;code>ScheduledThreadPoolExecutor&lt;/code> ÂèØ‰ª•Áî®Êù•Êèê‰∫§ÂÆöÊó∂‰ªªÂä°Ôºå&lt;code>extends ThreadPoolExecutor&lt;/code>„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="n">ScheduledExecutorService&lt;/span> &lt;span class="nf">newScheduledThreadPool&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">corePoolSize&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ScheduledThreadPoolExecutor&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">corePoolSize&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>ScheduledThreadPoolExecutor&lt;/code> ÊúÄÂ§ßÁ∫øÁ®ãÊ±†ÂÆπÈáè‰∏∫ &lt;code>Integer.MAX_VALUE&lt;/code>ÔºõÈÉΩÊòØÈááÁî®ÁöÑ&lt;code>DelayedWorkQueue&lt;/code> ‰Ωú‰∏∫Á≠âÂæÖÈòüÂàó„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">ScheduledExecutorService&lt;/span> &lt;span class="n">executor&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Executors&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">newScheduledThreadPool&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Âª∂Ëøü 3 s ÂêéÊâßË°å‰ªªÂä°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">executor&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">schedule&lt;/span>&lt;span class="o">(()&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;ÂÆöÊó∂‰ªªÂä°&amp;#34;&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="n">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">TimeUnit&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">SECONDS&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">executor&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">shutdown&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">ScheduledExecutorService&lt;/span> &lt;span class="n">executor&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Executors&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">newScheduledThreadPool&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">2&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Âª∂Ëøü 3 s ÂêéÔºåÊØè 1 s ÊâßË°å‰∏ÄÊ¨°‰ªªÂä°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">executor&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">scheduleAtFixedRate&lt;/span>&lt;span class="o">(()&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;ÂÆöÊó∂‰ªªÂä°&amp;#34;&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="n">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">TimeUnit&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">SECONDS&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="forkjoinpool">ForkJoinPool&lt;/h2>
&lt;blockquote>
&lt;p>Fork -&amp;gt; ÊãÜÂàÜ Pool -&amp;gt; ÂêàÂπ∂&lt;/p>
&lt;/blockquote>
&lt;p>ÊääÂ§ß‰ªªÂä°ÊãÜÂàÜ‰∏∫Â§ö‰∏™Â∞è‰ªªÂä°ÔºåÊúÄÂêéÊ±áÊÄªÂ§ö‰∏™Â∞è‰ªªÂä°ÁöÑÁªìÊûúÔºåÂæóÂà∞Êï¥Â§ß‰ªªÂä°ÁöÑÁªìÊûú„ÄÇËøô‰∫õÂ∞è‰ªªÂä°ÈÉΩÊòØÂêåÊó∂ËøõË°åÔºåÂèØÊèêÈ´òËøêÁÆóÊïàÁéá„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Demo&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ForkJoinTask&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Integer&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">task&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">SubTask&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">1000&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">res&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ForkJoinPool&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">commonPool&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">invoke&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">task&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">SubTask&lt;/span> &lt;span class="kd">extends&lt;/span> &lt;span class="n">RecursiveTask&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Integer&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">start&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">end&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="nf">SubTask&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">start&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">end&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">start&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">start&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">end&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">end&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">protected&lt;/span> &lt;span class="n">Integer&lt;/span> &lt;span class="nf">compute&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">end&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">start&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">125&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="c1">// ‰ªªÂä°Ë∂≥Â§üÂ∞èÔºåÁõ¥Êé•ËÆ°ÁÆó
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Thread&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">currentThread&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34; ÂºÄÂßãËÆ°ÁÆó &amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">start&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;-&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">end&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;ÁöÑÂÄº&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">start&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">end&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ‰ªªÂä°Â§™Â§ßÔºåÊãÜÂàÜÊàêÂ≠ê‰ªªÂä°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SubTask&lt;/span> &lt;span class="n">subTask1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">SubTask&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">start&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">end&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">start&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">2&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">subTask1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">fork&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SubTask&lt;/span> &lt;span class="n">subTask2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">SubTask&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="n">end&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">start&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">2&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">end&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">subTask2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">fork&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">subTask1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">join&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">subTask2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">join&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Â∑•‰ΩúÁ™ÉÂèñÔºö&lt;/p>
&lt;p>Â≠ê‰ªªÂä°‰ºöË¢´ÊîæÂà∞‰∏çÂêåÁöÑÈòüÂàó‰∏≠ÔºåÊØè‰∏™ÈòüÂàó‰ºöÊúâÂØπÂ∫îÁöÑÁ∫øÁ®ãËøêË°å‰ªªÂä°„ÄÇ&lt;/p>
&lt;p>Ëã•Êüê‰∏™ÈòüÂàó‰∏≠ÁöÑ‰ªªÂä°ËÆ°ÁÆóÂÆåÊØïÔºå‰ΩÜÂÖ∂‰ªñÁöÑ‰ªªÂä°ÈòüÂàó‰∏≠ËøòÊúâ‰ªªÂä°Ôºå‰ºö‰ªéÂÖ∂‰ªñÈòüÂàó‰∏≠‚ÄúÁ™ÉÂèñ‚Äù‰ªªÂä°ÁªßÁª≠ÊâßË°å„ÄÇ&lt;/p>
&lt;h2 id="ÂèÇËÄÉ">ÂèÇËÄÉ&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://segmentfault.com/a/1190000039267451" target="_blank" rel="noopener"
>https://segmentfault.com/a/1190000039267451&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Java Â§öÁ∫øÁ®ã</title><link>https://emerywan.github.io/blog/p/thread/thread/</link><pubDate>Wed, 30 Mar 2022 14:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/thread/thread/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/9.jpeg" alt="Featured image of post Java Â§öÁ∫øÁ®ã" />&lt;h2 id="-ËøõÁ®ã‰∏éÁ∫øÁ®ã">üê≠ ËøõÁ®ã‰∏éÁ∫øÁ®ã&lt;/h2>
&lt;p>&lt;strong>ËøõÁ®ã&lt;/strong>ÊòØÊåáÂÜÖÂ≠ò‰∏≠ËøêË°åÁöÑÁ®ãÂ∫èÔºåÊòØÂêëÊìç‰ΩúÁ≥ªÁªüÁî≥ËØ∑ËµÑÊ∫êÁöÑÂü∫Êú¨Âçï‰ΩçÔºåÊØè‰∏™ËøõÁ®ãÈÉΩÊúâËá™Â∑±Áã¨Á´ãÁöÑÂÜÖÂ≠òÁ©∫Èó¥„ÄÇ&lt;/p>
&lt;p>&lt;strong>Á∫øÁ®ã&lt;/strong>ÊòØËøõÁ®ã‰∏≠ÂèØÁã¨Á´ãÊâßË°åÁöÑÊúÄÂ∞èÂçï‰ΩçÔºåÁ∫øÁ®ãÊú¨Ë∫´‰∏çÂèØ‰ª•Áã¨Á´ãÂ≠òÂú®„ÄÇ&lt;/p>
&lt;p>‰∏Ä‰∏™ËøõÁ®ãÂèØ‰ª•ÂåÖÊã¨Â§ö‰∏™Á∫øÁ®ãÔºåÂêå‰∏ÄËøõÁ®ã‰∏≠ÊâÄÊúâÁ∫øÁ®ãÂÖ±‰∫´ËØ•ËøõÁ®ã‰∏≠ÁöÑËµÑÊ∫ê„ÄÇ&lt;/p>
&lt;h3 id="Êó†Â§Ñ‰∏çÂú®ÁöÑÁ∫øÁ®ã">Êó†Â§Ñ‰∏çÂú®ÁöÑÁ∫øÁ®ã&lt;/h3>
&lt;ul>
&lt;li>main Á∫øÁ®ã&lt;/li>
&lt;li>ÂûÉÂúæÂõûÊî∂Á∫øÁ®ã&lt;/li>
&lt;li>Web ÊúçÂä°Âô®ËØ∑Ê±ÇÂ§ÑÁêÜÁ∫øÁ®ã&lt;/li>
&lt;/ul>
&lt;h2 id="-Âπ∂Âèë‰∏éÂπ∂Ë°å">üêπ Âπ∂Âèë‰∏éÂπ∂Ë°å&lt;/h2>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/thread/thread/concurrent-and-parallel.jpg"
width="600"
height="451"
srcset="https://emerywan.github.io/blog/blog/p/thread/thread/concurrent-and-parallel_hufc79b6e20e4f7d694c9a67d5fcfb6f12_40736_480x0_resize_q75_box.jpg 480w, https://emerywan.github.io/blog/blog/p/thread/thread/concurrent-and-parallel_hufc79b6e20e4f7d694c9a67d5fcfb6f12_40736_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="ConcurrentAndParallel"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="319px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Âπ∂Âèë &lt;code>Concurrent&lt;/code>&lt;/p>
&lt;ul>
&lt;li>ÊåáÂú®‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÔºå‰∫§ÊõøÁöÑÂÆåÊàêÂ§ö‰∏™‰ªªÂä°Ôºà‰∏Ä‰∏™ CPU Ê†∏ÂøÉ‰∫§ÊõøÊâßË°åÂ§ö‰∏™‰ªªÂä°Ôºâ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Âπ∂Ë°å &lt;code>Parallel&lt;/code>&lt;/p>
&lt;ul>
&lt;li>ÈΩêÂ§¥Âπ∂ËøõÂú∞ÊâßË°åÂ§ö‰∏™‰ªªÂä°ÔºàÂ§ö‰∏™ CPU Ê†∏ÂøÉÂêåÊó∂ÊâßË°åÂ§ö‰∏™‰ªªÂä°Ôºâ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="-ÂêåÊ≠•‰∏éÂºÇÊ≠•">ü¶ä ÂêåÊ≠•‰∏éÂºÇÊ≠•&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>ÂêåÊ≠•&lt;/p>
&lt;ul>
&lt;li>ÈúÄË¶ÅÁ≠âÂæÖÁªìÊûúËøîÂõûÔºåÊâçËÉΩÁªßÁª≠ËøêË°å&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ÂºÇÊ≠•&lt;/p>
&lt;ul>
&lt;li>‰∏çÈúÄË¶ÅÁ≠âÂæÖÁªìÊûúËøîÂõûÔºåÂ∞±ËÉΩÁªßÁª≠ËøêË°å&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="-Á∫øÁ®ãÁöÑÂàõÂª∫">üêª Á∫øÁ®ãÁöÑÂàõÂª∫&lt;/h2>
&lt;h3 id="extends-thread">extends Thread&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">class&lt;/span> &lt;span class="nc">MyThread&lt;/span> &lt;span class="kd">extends&lt;/span> &lt;span class="n">Thread&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">run&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Thread&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">currentThread&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="n">Thread&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">start&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="implement-runnable">implement Runnable&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">class&lt;/span> &lt;span class="nc">RunnableThread&lt;/span> &lt;span class="n">implement&lt;/span> &lt;span class="n">Runnable&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">run&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Thread&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">currentThread&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="n">Thread&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="n">RunnableThread&lt;/span>&lt;span class="o">()).&lt;/span>&lt;span class="na">start&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="implement-callable">implement Callable&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>Callable ÂèØ‰ª•ÊúâËøîÂõûÂÄºÔºåËøîÂõûÂÄºÈÄöËøá &lt;code>FutureTask&lt;/code> ËøõË°åÂ∞ÅË£Ö„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>call() ÊñπÊ≥ïÂÖÅËÆ∏ÊäõÂá∫ÂºÇÂ∏∏„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">class&lt;/span> &lt;span class="nc">CallbaleThead&lt;/span> &lt;span class="n">implement&lt;/span> &lt;span class="n">Callbale&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Integer&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="n">Integer&lt;/span> &lt;span class="nf">call&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="kd">throws&lt;/span> &lt;span class="n">Exception&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">666&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">FutureTask&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Integer&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">futureTask&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">FutureTask&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;(&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="n">CallbaleThead&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="n">Thread&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">futureTask&lt;/span>&lt;span class="o">).&lt;/span>&lt;span class="na">start&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">futureTask&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/thread/thread/FutureTask.png"
width="964"
height="706"
srcset="https://emerywan.github.io/blog/blog/p/thread/thread/FutureTask_hu6b05634f3a5f84702cb4db413d8bbef5_51410_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/thread/thread/FutureTask_hu6b05634f3a5f84702cb4db413d8bbef5_51410_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="FutureTask"
class="gallery-image"
data-flex-grow="136"
data-flex-basis="327px"
>&lt;/p>
&lt;h3 id="Á∫øÁ®ãÊ±†">Á∫øÁ®ãÊ±†&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Demo&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ExecutorService&lt;/span> &lt;span class="n">executorService&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Executors&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">newFixThreadPool&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">10&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">10&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">executorService&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">execute&lt;/span>&lt;span class="o">(()&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Thread&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">currentThread&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="o">()));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Demo&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ExecutorService&lt;/span> &lt;span class="n">executorService&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Executors&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">newFixThreadPool&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">10&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Future&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Integer&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">future&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">executorService&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">submit&lt;/span>&lt;span class="o">(()&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Thread&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">sleep&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">1000&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">666&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">future&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="-Á∫øÁ®ãÁöÑÁîüÂëΩÂë®Êúü">üêº Á∫øÁ®ãÁöÑÁîüÂëΩÂë®Êúü&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Thread&lt;/span> &lt;span class="kd">implements&lt;/span> &lt;span class="n">Runnable&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kd">enum&lt;/span> &lt;span class="n">State&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">NEW&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">RUNNABLE&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">BLOCKED&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">WAITING&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">TIMED_WAITING&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">TERMINATED&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>Êñ∞Âª∫ &lt;code>New&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>ÂàõÂª∫ÂêéÂ∞öÊú™ÂêØÂä®„ÄÇ&lt;/p>
&lt;ul>
&lt;li>ÂèØËøêË°å &lt;code>Runnable&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>ÂèØËÉΩÊ≠£Âú®ËøêË°åÔºå‰πüÂèØËÉΩÊ≠£Âú®Á≠âÂæÖ CPU Êó∂Èó¥Áâá„ÄÇ&lt;/p>
&lt;ul>
&lt;li>ÈòªÂ°û &lt;code>Blocked&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Á≠âÂæÖËé∑Âèñ‰∏Ä‰∏™ÊéíÂÆÉÈîÅÔºåÂ¶ÇÊûúÂÖ∂Á∫øÁ®ãÈáäÊîæ‰∫ÜÈîÅÂ∞±‰ºöÁªìÊùüÊ≠§Áä∂ÊÄÅ„ÄÇÔºàÊú™Ëé∑ÂèñËøáÈîÅÔºâ&lt;/p>
&lt;ul>
&lt;li>Êó†ÈôêÊúüÁ≠âÂæÖ &lt;code>Waiting&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Á≠âÂæÖÂÖ∂ÂÆÉÁ∫øÁ®ãÊòæÂºèÂú∞Âî§ÈÜíÔºåÂê¶Âàô‰∏ç‰ºöË¢´ÂàÜÈÖç CPU Êó∂Èó¥Áâá„ÄÇÔºàËé∑ÂèñËøáÈîÅÔºå‰ΩÜÊòØÊîæÂºÉ‰∫ÜÈîÅÔºâ&lt;/p>
&lt;ul>
&lt;li>ÈôêÊúüÁ≠âÂæÖ &lt;code>Timed Waiting&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Êó†ÈúÄÁ≠âÂæÖÂÖ∂ÂÆÉÁ∫øÁ®ãÊòæÂºèÂú∞Âî§ÈÜíÔºåÂú®‰∏ÄÂÆöÊó∂Èó¥‰πãÂêé‰ºöË¢´Á≥ªÁªüËá™Âä®Âî§ÈÜí„ÄÇ&lt;/p>
&lt;ul>
&lt;li>Ê≠ª‰∫° &lt;code>Terminated&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Á∫øÁ®ãÁªìÊùü‰ªªÂä°‰πãÂêéËá™Â∑±ÁªìÊùüÔºåÊàñËÄÖ‰∫ßÁîü‰∫ÜÂºÇÂ∏∏ËÄåÁªìÊùü„ÄÇ&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;h2 id="-ÂÆàÊä§Á∫øÁ®ã">ü¶ä ÂÆàÊä§Á∫øÁ®ã&lt;/h2>
&lt;p>Java ‰∏≠ÁöÑÁ∫øÁ®ãÂèØ‰ª•ÂàÜ‰∏∫‰∏§Á±ªÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Áî®Êà∑Á∫øÁ®ã &lt;code>user Thread&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂÆàÊä§Á∫øÁ®ã &lt;code>daemon Thread&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Java Á®ãÂ∫èÁöÑÂÖ•Âè£ÊòØÁî± JVM ÂêØÂä®ÁöÑ main Á∫øÁ®ãÔºà‰∏ªÁ∫øÁ®ãÔºâÔºåmain Á∫øÁ®ãÂèØ‰ª•ÂêØÂä®ÂÖ∂‰ªñÁ∫øÁ®ã„ÄÇÂΩìÊâÄÊúâÁî®Êà∑Á∫øÁ®ãËøêË°åÈÉΩÁªìÊùüÊó∂ÔºåÁ®ãÂ∫èÁªàÊ≠¢ÔºåÂè™Ë¶ÅÊúâ‰∏Ä‰∏™Áî®Êà∑Á∫øÁ®ãÊ≤°ÊúâÈÄÄÂá∫ÔºåÁ®ãÂ∫èÂ∞±‰∏ç‰ºöÁªàÊ≠¢„ÄÇ&lt;/p>
&lt;p>ÂÆàÊä§Á∫øÁ®ãÔºàDaemon ThreadÔºâÊòØ‰∏ÄÁßçÂú®ÂêéÂè∞‰∏∫ÂÖ∂‰ªñÁ∫øÁ®ãÊúçÂä°ÁöÑÁ∫øÁ®ã„ÄÇÂú® JVM ‰∏≠ÔºåÂè™Ë¶ÅÁî®Êà∑Á∫øÁ®ãÊâßË°åÂÆåÊØïÔºåÊó†ËÆ∫ÂÆàÊä§Á∫øÁ®ãÊòØÂê¶ÊâßË°åÂÆåÊàêÔºåÈÉΩ‰ºöÈÄÄÂá∫Á®ãÂ∫è„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">thread&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setDaemon&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>JVM ÁöÑÂûÉÂúæÂõûÊî∂Á∫øÁ®ãÂ∞±ÊòØ‰∏ÄÁßçÂÆàÊä§Á∫øÁ®ã„ÄÇ&lt;/p>
&lt;h2 id="-Êü•ÁúãËøõÁ®ã">üêª‚Äç‚ùÑÔ∏è Êü•ÁúãËøõÁ®ã&lt;/h2>
&lt;h3 id="linux">Linux&lt;/h3>
&lt;ul>
&lt;li>&lt;code>ps&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>ps -ef&lt;/code> ÔºöÊü•ÁúãÊâÄÊúâËøõÁ®ã&lt;/p>
&lt;ul>
&lt;li>&lt;code>top&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>ÂëΩ‰ª§‰∏ãÂèØÈÄöËøáÊåâ &lt;code>H&lt;/code> ÂàáÊç¢ÊòØÂê¶ÊòæÁ§∫Á∫øÁ®ã&lt;/p>
&lt;p>&lt;code>top -H -p 4262&lt;/code> Ôºö Êü•Áúã PID=4262 ËøõÁ®ãÁöÑÊâÄÊúâÁ∫øÁ®ã‰ø°ÊÅØ&lt;/p>
&lt;h3 id="java">Java&lt;/h3>
&lt;ul>
&lt;li>&lt;code>jps&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Êü•ÁúãÊâÄÊúâ Java ËøõÁ®ã&lt;/p>
&lt;ul>
&lt;li>&lt;code>jstack&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>jstack 4262&lt;/code> Ôºö Êü•Áúã PID=4262 ÁöÑ Java ËøõÁ®ãÁöÑÊâÄÊúâÁ∫øÁ®ã‰ø°ÊÅØ&lt;/p>
&lt;h2 id="ÂèÇËÄÉ">ÂèÇËÄÉ&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://pdai.tech/md/java/thread/java-thread-x-thread-basic.html#%e5%ae%9e%e7%8e%b0-callable-%e6%8e%a5%e5%8f%a3" target="_blank" rel="noopener"
>https://pdai.tech/md/java/thread/java-thread-x-thread-basic.html#%e5%ae%9e%e7%8e%b0-callable-%e6%8e%a5%e5%8f%a3&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>ÈÄöÁî®Á®ãÂ∫èËÆæËÆ°</title><link>https://emerywan.github.io/blog/p/effective-java/general-programming/</link><pubDate>Wed, 30 Mar 2022 14:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/effective-java/general-programming/</guid><description>&lt;img src="https://emerywan.github.io/blog/p/effective-java/general-programming/effective-java.png" alt="Featured image of post ÈÄöÁî®Á®ãÂ∫èËÆæËÆ°" />&lt;h1 id="-ÈÄöÁî®Á®ãÂ∫èËÆæËÆ°">‚òòÔ∏è ÈÄöÁî®Á®ãÂ∫èËÆæËÆ°&lt;/h1>
&lt;p>Effective Java ÈòÖËØªÁ¨îËÆ∞„ÄÇÊú¨Á´†‰∏ªË¶ÅËÆ®ËÆ∫‰∫Ü &lt;code>Java&lt;/code> ËØ≠Ë®ÄÁöÑÂÖ∑‰ΩìÁªÜËäÇ„ÄÇÂåÖÊã¨Ôºö&lt;/p>
&lt;ul>
&lt;li>Â±ÄÈÉ®ÂèòÈáè&lt;/li>
&lt;li>ÊéßÂà∂ÁªìÊûÑ&lt;/li>
&lt;li>Á±ªÂ∫ì&lt;/li>
&lt;li>Êï∞ÊçÆÁªìÊûÑ&lt;/li>
&lt;li>‰∏çÊòØÁî±ËØ≠Ë®ÄÊú¨Ë∫´Êèê‰æõÁöÑÊú∫Âà∂&lt;/li>
&lt;li>‰ºòÂåñÂíåÂëΩÂêçÊÉØ‰æã„ÄÇ&lt;/li>
&lt;/ul>
&lt;h2 id="57-Â∞ÜÂ±ÄÈÉ®ÂèòÈáèÁöÑ‰ΩúÁî®ÂüüÊúÄÂ∞èÂåñ">57. Â∞ÜÂ±ÄÈÉ®ÂèòÈáèÁöÑ‰ΩúÁî®ÂüüÊúÄÂ∞èÂåñ&lt;/h2>
&lt;h3 id="-Âª∫ËÆÆ">üå∏ Âª∫ËÆÆ&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>üå± ÊúÄÂ∞èÂåñÂ±ÄÈÉ®ÂèòÈáèÁöÑËåÉÂõ¥ÔºåÂèØÊèêÈ´ò‰ª£Á†ÅÁöÑÂèØËØªÊÄßÂíåÂèØÁª¥Êä§ÊÄßÔºåÈôç‰ΩéÂá∫ÈîôÁöÑÂèØËÉΩÊÄß„ÄÇ&lt;strong>Âú®Á¨¨‰∏ÄÊ¨°‰ΩøÁî®ÂÆÉÁöÑÂú∞ÊñπÂ£∞ÊòéÂèòÈáè„ÄÇ&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üçÄ ÊØè‰∏™Â±ÄÈÉ®ÂèòÈáèÂ£∞ÊòéÈÉΩÂ∫îËØ•ÂåÖÂê´‰∏Ä‰∏™ÂàùÂßãÂåñË°®ËææÂºè„ÄÇ&lt;code>try-catch&lt;/code> ËØ≠Âè•Èô§Â§ñ„ÄÇ&lt;/p>
&lt;p>Â¶ÇÊûú‰∏Ä‰∏™ÂèòÈáèÂàùÂßãÂåñÔºå‰ºöÊäõÂá∫‰∏Ä‰∏™ checked ÂºÇÂ∏∏ÔºåÂøÖÈ°ªÂú® &lt;code>try&lt;/code> ‰∏≠ÂàùÂßãÂåñÔºàÈô§ÈùûÊâÄÂåÖÂê´ÁöÑÊñπÊ≥ïÂèØ‰ª•ÊäõÂºÇÂ∏∏Ôºâ„ÄÇ&lt;/p>
&lt;p>Â¶ÇÊûúËØ•ÂÄºÂøÖÈ°ªÂú® &lt;code>try&lt;/code> Âùó‰πãÂ§ñ‰ΩøÁî®ÔºåÈÇ£‰πàÂÆÉÂøÖÈ°ªÂú® &lt;code>try&lt;/code> Âùó‰πãÂâçÂ£∞ÊòéÔºåÊ≠§Êó∂ÂÆÉËøò‰∏çËÉΩ‚ÄúÂêàÁêÜÂú∞ÂàùÂßãÂåñ‚Äú„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Set&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">set&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">set&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">cons&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">newInstance&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>üçÄ Âæ™ÁéØÁªìÊùüÂêé‰∏çÂÜçÈúÄË¶ÅÂæ™ÁéØÂèòÈáèÔºå&lt;code>for&lt;/code> Âæ™ÁéØÂ∞±‰ºò‰∫é &lt;code>while&lt;/code> Âæ™ÁéØÔºà&lt;code>for&lt;/code> Âæ™ÁéØÂÖÅËÆ∏Â£∞ÊòéÂæ™ÁéØÂèòÈáèÔºâ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üå± ‰øùÊåÅÊñπÊ≥ïÂ∞èËÄåÈõÜ‰∏≠ÔºåÊØè‰∏™Êìç‰ΩúÈÉΩÁî®‰∏Ä‰∏™ÊñπÊ≥ïÊù•ÂÆåÊàê„ÄÇÈÅøÂÖç‰∏Ä‰∏™Êìç‰ΩúÁõ∏ÂÖ≥ÁöÑÂ±ÄÈÉ®ÂèòÈáèÂèØËÉΩÂú®Âè¶‰∏Ä‰∏™Êìç‰Ωú‰∏≠„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-Ê°à‰æã">üåª Ê°à‰æã&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>üåæ ÈÅçÂéÜÈõÜÂêàÁöÑÈ¶ñÈÄâ‰π†ÊÉØÁî®Ê≥ï&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Element&lt;/span> &lt;span class="n">e&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// do something with e
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>üíê ÈúÄË¶ÅËÆøÈóÆ &lt;code>Iterator&lt;/code> / Ë∞ÉÁî® &lt;code>Iterator&lt;/code> ÁöÑ &lt;code>remove()&lt;/code>ÔºåÈ¶ñÈÄâ &lt;code>for&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Iterator&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Element&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">iterator&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">hasNext&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="c1">// i is loop variable
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">Element&lt;/span> &lt;span class="n">e&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">next&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// do something with i and e
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>üíê Âæ™ÁéØ‰π†ÊÉØÁî®Ê≥ïÔºöÊúÄÂ∞èÂåñÂ±ÄÈÉ®ÂèòÈáèÁöÑËåÉÂõ¥&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ÊØèÊ¨°Âæ™ÁéØÈÉΩ‰ºöË∞ÉÁî® expensiveComputation()Ôºå‰∏îËøîÂõûÁªìÊûúÁõ∏Âêå
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">for&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">expensiveComputation&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// do something with i
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÂÆÉÊúâ‰∏§‰∏™Âæ™ÁéØÂèòÈáèÔºöi Âíå nÔºåÈÉΩÂÖ∑ÊúâÂÆåÂÖ®Ê≠£Á°ÆÁöÑ‰ΩúÁî®Âüü„ÄÇÁ¨¨‰∫å‰∏™ÂèòÈáè n Áî®‰∫éÂ≠òÂÇ®Á¨¨‰∏Ä‰∏™ÂèòÈáèÁöÑÊûÅÈôêÔºåÈÅøÂÖç‰∫ÜÊØèÊ¨°Ëø≠‰ª£‰∏≠ÂÜó‰ΩôËÆ°ÁÆóÁöÑÊàêÊú¨„ÄÇ
Â¶ÇÊûúÂæ™ÁéØÊ∂âÂèä‰∏Ä‰∏™ÊñπÊ≥ïË∞ÉÁî®ÔºåÂπ∂‰∏î‰øùËØÅÂú®ÊØèÊ¨°Ëø≠‰ª£‰∏≠ËøîÂõûÁõ∏ÂêåÁöÑÁªìÊûúÔºåÂ∫îËØ•‰ΩøÁî®Ëøô‰∏™‰π†ÊÉØÁî®Ê≥ï„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="58-for-each-Âæ™ÁéØ‰ºò‰∫é‰º†ÁªüÁöÑ-for-Âæ™ÁéØ">58. for-each Âæ™ÁéØ‰ºò‰∫é‰º†ÁªüÁöÑ for Âæ™ÁéØ&lt;/h2>
&lt;h3 id="-Âª∫ËÆÆ-1">üå∏ Âª∫ËÆÆ&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>üå± &lt;code>for-each&lt;/code> ÈöêËóèËø≠‰ª£Âô®ÊàñÁ¥¢ÂºïÂèòÈáèÔºåÂèØÊ∂àÈô§Ê∑∑‰π±ÂíåÂá∫Èîô„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üå± &lt;code>:&lt;/code> Ë°®Á§∫ ‚ÄúÂú®&amp;hellip;ÈáåÈù¢‚Äù„ÄÇ‰ΩøÁî® &lt;code>for-each&lt;/code> Âæ™ÁéØ‰∏ç‰ºöÈôç‰ΩéÊÄßËÉΩ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ü•Ä ‰ª•‰∏ãÊÉÖÂÜµ‰∏çÂ∫îËØ•‰ΩøÁî® &lt;code>for-each&lt;/code>Ôºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üå∞ Á†¥ÂùèÊÄßËøáÊª§„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÈÅçÂéÜ‰∏Ä‰∏™ÈõÜÂêàÂπ∂Âà†Èô§ÈÄâÂÆöÂÖÉÁ¥†ÔºåÈúÄË¶Å‰ΩøÁî®ÊòæÂºèÁöÑËø≠‰ª£Âô®Ôºå‰ª•‰æøË∞ÉÁî®ÂÖ∂ &lt;code>remove()&lt;/code>„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üå∞ ËΩ¨Êç¢„ÄÇÈÅçÂéÜÊó∂ÈúÄË¶ÅÊõøÊç¢ÂÖ∂‰∏≠ÂÖÉÁ¥†ÁöÑÂÄºÔºåÈúÄË¶Å &lt;code>List&lt;/code> Ëø≠‰ª£Âô®ÊàñÊï∞ÁªÑÁ¥¢ÂºïÊù•ÊõøÊç¢ÂÖÉÁ¥†ÁöÑÂÄº„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üå∞ Âπ∂Ë°åËø≠‰ª£„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÂπ∂Ë°åÈÅçÂéÜÂ§ö‰∏™ÈõÜÂêàÔºåÈÇ£‰πàÈúÄË¶ÅÊòæÂºèÂú∞ÊéßÂà∂Ëø≠‰ª£Âô®ÊàñÁ¥¢ÂºïÂèòÈáèÔºå‰ª•‰æøÊâÄÊúâËø≠‰ª£Âô®ÊàñÁ¥¢ÂºïÂèòÈáèÈÉΩÂèØ‰ª•ÂêåÊ≠•ÊâßË°å„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="-Ê°à‰æã-1">üåª Ê°à‰æã&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>üíê ‰ΩøÁî® &lt;code>Collection.removeIf()&lt;/code> ÂèØÈÅøÂÖçÊòæÂºèÁöÑÈÅçÂéÜÔºàJava8Ôºâ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">interface&lt;/span> &lt;span class="nc">Collection&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">E&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="kd">extends&lt;/span> &lt;span class="n">Iterable&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">E&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span> &lt;span class="kt">boolean&lt;/span> &lt;span class="nf">removeIf&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Predicate&lt;/span>&lt;span class="o">&amp;lt;?&lt;/span> &lt;span class="kd">super&lt;/span> &lt;span class="n">E&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">filter&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Objects&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">requireNonNull&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">filter&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">boolean&lt;/span> &lt;span class="n">removed&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">final&lt;/span> &lt;span class="n">Iterator&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">E&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">each&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">interator&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">each&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">hasNext&lt;/span>&lt;span class="o">())&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">filter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">test&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">each&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">next&lt;/span>&lt;span class="o">))&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">each&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">remove&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">removed&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">removed&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="59-‰∫ÜËß£Âπ∂‰ΩøÁî®Â∫ì">59. ‰∫ÜËß£Âπ∂‰ΩøÁî®Â∫ì&lt;/h2>
&lt;h3 id="-Âª∫ËÆÆ-2">üå∏ Âª∫ËÆÆ&lt;/h3>
&lt;p>&lt;strong>ËÉΩÁî®Â∫ìÊñπÊ≥ïÂ∞±Áî®Â∫ìÊñπÊ≥ï„ÄÇ&lt;/strong>&lt;/p>
&lt;p>ÂÖ∑ÊúâÁÆóÊ≥ïËÉåÊôØÁöÑÈ´òÁ∫ßÂ∑•Á®ãÂ∏àËä±‰∫ÜÂ§ßÈáèÊó∂Èó¥ËÆæËÆ°„ÄÅÂÆûÁé∞ÂíåÊµãËØïÂ∫ìÊñπÊ≥ïÔºåÁÑ∂ÂêéÂ∞ÜÂ∫ìÊñπÊ≥ïÂ±ïÁ§∫ÁªôËØ•È¢ÜÂüüÁöÑÂá†‰Ωç‰∏ìÂÆ∂Ôºå‰ª•Á°Æ‰øùÂ∫ìÊñπÊ≥ïÊòØÊ≠£Á°ÆÁöÑ„ÄÇ
Ëøô‰∫õÂ∫ìÊñπÊ≥ïÁªèËøá beta ÊµãËØï„ÄÅÂèëÂ∏ÉÔºåÂπ∂Ë¢´Êï∞Áôæ‰∏áÁ®ãÂ∫èÂëòÂπøÊ≥õ‰ΩøÁî®‰∫ÜËøë 20 Âπ¥„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üå± ‰ΩøÁî®Ê†áÂáÜÁ±ªÂ∫ìÁöÑÂ•ΩÂ§ÑÔºö&lt;/p>
&lt;ul>
&lt;li>üå∞ Âà©Áî®ÁºñÂÜôÂÆÉÁöÑ‰∏ìÂÆ∂ÁöÑÁü•ËØÜÂíå‰ª•Ââç‰ΩøÁî®ÂÆÉÁöÑ‰∫∫ÁöÑÁªèÈ™å„ÄÇ&lt;/li>
&lt;li>üå∞ ‰∏çÂøÖÊµ™Ë¥πÊó∂Èó¥‰∏∫ÈÇ£‰∫õ‰∏é‰Ω†ÁöÑÂ∑•‰ΩúÊó†ÂÖ≥ÁöÑÈóÆÈ¢òÁºñÂÜô‰∏ìÈó®ÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇ&lt;/li>
&lt;li>üå∞ ÈöèÁùÄÊó∂Èó¥ÁöÑÊé®ÁßªÔºåÂÆÉ‰ª¨ÁöÑÊÄßËÉΩ‰ºö‰∏çÊñ≠ÊèêÈ´òÔºåÊó†ÈúÄ‰ªòÂá∫‰ªª‰ΩïÂä™Âäõ„ÄÇÔºàÁâàÊú¨Êõ¥Êñ∞Ôºâ&lt;/li>
&lt;li>üå∞ ÂèØ‰ª•Â∞Ü‰ª£Á†ÅÊîæÂú®‰∏ªÂπ≤‰∏≠„ÄÇËøôÊ†∑ÁöÑ‰ª£Á†ÅÊõ¥ÂÆπÊòìË¢´ÂºÄÂèë‰∫∫ÂëòÈòÖËØª„ÄÅÁª¥Êä§ÂíåÂ§çÁî®„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>üå± Âú®ÊØè‰∏™‰∏ªË¶ÅÁâàÊú¨‰∏≠ÔºåÈÉΩ‰ºöÂêëÂ∫ì‰∏≠Ê∑ªÂä†ËÆ∏Â§öÁâπÊÄßÔºå‰∫ÜËß£Ëøô‰∫õÊñ∞Â¢ûÁâπÊÄßÊòØÂÄºÂæóÁöÑ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üçÄ ÊØè‰∏™Á®ãÂ∫èÂëòÈÉΩÂ∫îËØ•ÁÜüÊÇâ &lt;code>java.lang&lt;/code>„ÄÅ&lt;code>java.util&lt;/code> Âíå &lt;code>java.io&lt;/code> ÁöÑÂü∫Á°ÄÁü•ËØÜÂèäÂÖ∂Â≠êÂåÖ„ÄÇ ÂÖ∂‰ªñÂ∫ìÁöÑÁü•ËØÜÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅËé∑Âæó„ÄÇÂ∞§ÂÖ∂ÊòØÔºö&lt;/p>
&lt;ul>
&lt;li>üå∞ &lt;code>java.util.Collections&lt;/code>&lt;/li>
&lt;li>üå∞ &lt;code>java.util.Streams&lt;/code>&lt;/li>
&lt;li>üå∞ &lt;code>java.util.concurrent&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>üçÄ Â¶ÇÊûú‰Ω†Âú® Java Âπ≥Âè∞Â∫ì‰∏≠Êâæ‰∏çÂà∞‰Ω†ÈúÄË¶ÅÁöÑ‰∏úË•øÔºå‰Ω†ÁöÑ‰∏ã‰∏Ä‰∏™ÈÄâÊã©Â∫îËØ•ÊòØÂØªÊâæÈ´òË¥®ÈáèÁöÑÁ¨¨‰∏âÊñπÂ∫ìÔºåÊØîÂ¶ÇË∞∑Ê≠åÁöÑ‰ºòÁßÄÁöÑÂºÄÊ∫ê &lt;code>Guava&lt;/code> Â∫ì„ÄÇÂ¶ÇÊûú‰Ω†Êó†Ê≥ïÂú®‰ªª‰ΩïÈÄÇÂΩìÁöÑÂ∫ì‰∏≠ÊâæÂà∞ÊâÄÈúÄÁöÑÂäüËÉΩÔºåÂè™ËÉΩËá™Â∑±ÂÆûÁé∞ÂÆÉ„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="-Ê°à‰æã-2">üåª Ê°à‰æã&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>üíê ‰ªé Java 7 ÂºÄÂßãÔºåÂ∞±‰∏çÂ∫îËØ•ÂÜç‰ΩøÁî® Random„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üå∞ Âú®Â§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÔºåÈÄâÊã©ÁöÑÈöèÊú∫Êï∞ÁîüÊàêÂô®Áé∞Âú®ÊòØ &lt;code>ThreadLocalRandom&lt;/code>„ÄÇ ÂÆÉËÉΩ‰∫ßÁîüÊõ¥È´òË¥®ÈáèÁöÑÈöèÊú∫Êï∞ÔºåËÄå‰∏îÈÄüÂ∫¶ÈùûÂ∏∏Âø´„ÄÇ&lt;code>ThreadLocalRandom.current().nextInt(100)&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üå∞ ÂØπ‰∫é &lt;code>Fork Join Pool&lt;/code> ÂíåÂπ∂Ë°å &lt;code>Stream&lt;/code>Ôºå‰ΩøÁî® &lt;code>SplittableRandom&lt;/code>„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>ÂÅáËÆæ‰Ω†ÊÉ≥Ë¶ÅÁîüÊàê 0 Âà∞Êüê‰∏™‰∏äÁïå‰πãÈó¥ÁöÑÈöèÊú∫Êï¥Êï∞ÔºåËÆ∏Â§öÁ®ãÂ∫èÂëò‰ºöÁºñÂÜô‰∏Ä‰∏™Á±ª‰ººËøôÊ†∑ÁöÑÂ∞èÊñπÊ≥ïÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Êúâ‰∏•ÈáçÁº∫Èô∑
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">static&lt;/span> &lt;span class="n">Random&lt;/span> &lt;span class="n">rnd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Random&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">static&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">random&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">Math&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">abs&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">rad&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">nextInt&lt;/span>&lt;span class="o">())&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÂÆÉÊúâ‰∏â‰∏™Áº∫ÁÇπ:&lt;/p>
&lt;ul>
&lt;li>üå© n ÊòØÂ∞èÁöÑÂπ≥ÊñπÊï∞ÔºåÈöèÊú∫Êï∞Â∫èÂàó‰ºöÂú®Áõ∏ÂΩìÁü≠ÁöÑÊó∂Èó¥ÂÜÖÈáçÂ§ç&lt;/li>
&lt;li>üå© Â¶ÇÊûú n ‰∏çÊòØ 2 ÁöÑÂπÇÔºåÈÇ£‰πàÂπ≥ÂùáËÄåË®ÄÔºå‰∏Ä‰∫õÊï∞Â≠óÂ∞ÜÊØîÂÖ∂‰ªñÊï∞Â≠óÊõ¥È¢ëÁπÅÂú∞ËøîÂõû&lt;/li>
&lt;li>üå© Âú®ÊûÅÂ∞ëÊï∞ÊÉÖÂÜµ‰∏ã‰ºöËøîÂõûË∂ÖÂá∫ÊåáÂÆöËåÉÂõ¥ÁöÑÊï∞Â≠ó &lt;code>Integer.MAX_VALUE&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Â∫îËØ•Áõ¥Êé•‰ΩøÁî®Á±ªÂ∫ì &lt;code>Ramdom.nextInt(n)&lt;/code> ÔºåËÄå‰∏çÊòØËá™Â∑±Â∞ÅË£Ö&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">nextInt&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>üåæ Linux &lt;code>curl&lt;/code> in Java 9&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>ÂÅáËÆæ‰Ω†ÊÉ≥ÁºñÂÜô‰∏Ä‰∏™Á®ãÂ∫èÊù•ÊâìÂç∞ÂëΩ‰ª§Ë°å‰∏≠ÊåáÂÆöÁöÑ URL ÁöÑÂÜÖÂÆπÔºàËøôÂ§ßËá¥ÊòØ Linux &lt;code>curl&lt;/code> ÂëΩ‰ª§ÊâÄÂÅöÁöÑÔºâ„ÄÇÂú® Java 9 ‰πãÂâçÔºåËøôÊÆµ‰ª£Á†ÅÊúâÁÇπ‰πèÂë≥Ôºå‰ΩÜÊòØÂú® Java 9 ‰∏≠Ôºå&lt;code>transferTo()&lt;/code> Ë¢´Ê∑ªÂä†Âà∞ &lt;code>InputStream&lt;/code> ‰∏≠„ÄÇËøôÊòØ‰∏Ä‰∏™‰ΩøÁî®Ëøô‰∏™Êñ∞ÊñπÊ≥ïÊâßË°åËøôÈ°π‰ªªÂä°ÁöÑÂÆåÊï¥Á®ãÂ∫èÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="kd">throws&lt;/span> &lt;span class="n">IOException&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">InputStream&lt;/span> &lt;span class="n">in&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">URL&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="o">]).&lt;/span>&lt;span class="na">openStream&lt;/span>&lt;span class="o">())&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">in&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">transferTo&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="60-Ëã•ÈúÄË¶ÅÁ≤æÁ°ÆÁ≠îÊ°àÂ∞±Â∫îÈÅøÂÖç‰ΩøÁî®-float-double">60. Ëã•ÈúÄË¶ÅÁ≤æÁ°ÆÁ≠îÊ°àÂ∞±Â∫îÈÅøÂÖç‰ΩøÁî® float double&lt;/h2>
&lt;h3 id="-Âª∫ËÆÆ-3">üå∏ Âª∫ËÆÆ&lt;/h3>
&lt;ul>
&lt;li>üå± &lt;code>float&lt;/code> Âíå &lt;code>double&lt;/code> Á±ªÂûãÁâπÂà´‰∏çÈÄÇÂêàËøõË°åË¥ßÂ∏ÅËÆ°ÁÆóÔºåÂõ†‰∏∫‰∏çËÉΩÂ∞Ü 0.1ÔºàÊàñ 10 ÁöÑ‰ªªÊÑèË¥üÊ¨°ÂπÇÔºâÁ≤æÁ°ÆÂú∞Ë°®Á§∫„ÄÇ&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 0.6100000000000001
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">03&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">42&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>üçÄ Êï∞ÂÄº‰∏çÊòØÂ§™Â§ßÔºåÂèØ‰ª•‰ΩøÁî® &lt;code>int&lt;/code> Êàñ &lt;code>long&lt;/code>
&lt;ul>
&lt;li>üå∞ Â¶ÇÊûúÊï∞ÂÄº‰∏çË∂ÖËøá 9 ‰ΩçÂ∞èÊï∞ÔºåÂèØ‰ª•‰ΩøÁî® &lt;code>int&lt;/code>&lt;/li>
&lt;li>üå∞ Â¶ÇÊûú‰∏çË∂ÖËøá 18 ‰ΩçÔºåÂèØ‰ª•‰ΩøÁî® &lt;code>long&lt;/code>&lt;/li>
&lt;li>üå∞ Â¶ÇÊûúÊï∞ÈáèÂèØËÉΩË∂ÖËøá 18 ‰ΩçÔºåÂàô‰ΩøÁî® &lt;code>BigDecimal&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>‰æãÂ¶ÇÔºöÂú®ÂæÆ‰ø°ÊîØ‰ªòÁöÑ &lt;code>Java SDK&lt;/code> ‰∏≠ÔºåË¥ßÂ∏ÅÁöÑÁ±ªÂûã‰∏∫ &lt;code>int&lt;/code>ÔºåÁªìÁÆóÂçï‰Ωç‰∏∫ ÂàÜÔºõ
Âú®ÊîØ‰ªòÂÆùÊîØ‰ªòÁöÑ &lt;code>Java SDK&lt;/code> ‰∏≠ÔºåË¥ßÂ∏ÅÁöÑÁ±ªÂûã‰∏∫ &lt;code>String&lt;/code>ÔºåÁªìÁÆóÂçï‰Ωç‰∏∫ ÂÖÉ&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>üå± ‰ΩøÁî® &lt;code>BigDecimal&lt;/code> Á±ªÂûã‰ª£Êõø &lt;code>double / float&lt;/code>„ÄÇÊ≥®ÊÑèÔºå&lt;strong>‰ΩøÁî® &lt;code>BigDecimal&lt;/code> ÁöÑ &lt;code>String&lt;/code> ÊûÑÈÄ†ÂáΩÊï∞ËÄå‰∏çÊòØÂÆÉÁöÑ &lt;code>double / float&lt;/code> ÊûÑÈÄ†ÂáΩÊï∞„ÄÇ&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h2 id="61-Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûã‰ºò‰∫éÂåÖË£ÖÁ±ª">61. Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûã‰ºò‰∫éÂåÖË£ÖÁ±ª&lt;/h2>
&lt;h3 id="-Âª∫ËÆÆ-4">üå∏ Âª∫ËÆÆ&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>üå± Java Á±ªÂûãÁ≥ªÁªüÁî±‰∏§ÈÉ®ÂàÜÁªÑÊàêÔºö&lt;/p>
&lt;ul>
&lt;li>üå∞ Âü∫Êú¨Á±ªÂûãÔºàprimitive typeÔºâÔºö&lt;code>int double boolean&lt;/code>&lt;/li>
&lt;li>üå∞ ÂºïÁî®Á±ªÂûãÔºàreference typeÔºâÔºö&lt;code>String List&lt;/code>
ÊØè‰∏™Âü∫Êú¨Á±ªÂûãÈÉΩÊúâ‰∏Ä‰∏™ÂØπÂ∫îÁöÑÂºïÁî®Á±ªÂûãÔºåÁß∞‰∏∫ÂåÖË£ÖÁ±ªÂûã„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>üå± Âü∫Êú¨Á±ªÂûãÂíåÂåÖË£ÖÁ±ªÂûã‰πãÈó¥Êúâ‰∏â‰∏™‰∏ªË¶ÅÂå∫Âà´Ôºö&lt;/p>
&lt;ul>
&lt;li>üå∞ Âü∫Êú¨Á±ªÂûãÂè™ÊúâÂÆÉ‰ª¨ÁöÑÂÄºÔºåËÄåÂåÖË£ÖÁ±ªÂûãÂÖ∑Êúâ‰∏éÂÖ∂ÂÄº‰∏çÂêåÁöÑÊ†áËØÜ&lt;/li>
&lt;li>üå∞ Âü∫Êú¨Á±ªÂûãÂè™ÊúâÂÖ®ÂäüËÉΩÂÄºÔºåËÄåÊØè‰∏™ÂåÖË£ÖÁ±ªÂûãÈô§‰∫ÜÂØπÂ∫îÁöÑÂü∫Êú¨Á±ªÂûãÁöÑÊâÄÊúâÂäüËÉΩÂÄºÂ§ñÔºåËøòÊúâ‰∏Ä‰∏™ÈùûÂäüËÉΩÂÄºÔºåÂç≥ &lt;code>null&lt;/code>&lt;/li>
&lt;li>üå∞ Âü∫Êú¨Á±ªÂûãÊØîÂåÖË£ÖÁ±ªÂûãÊõ¥ËäÇÁúÅÊó∂Èó¥ÂíåÁ©∫Èó¥&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>üçÄ Ë¶ÅÊúâÈÄâÊã©ÔºåÂ∞±Â∫îËØ•‰ºòÂÖà‰ΩøÁî®Âü∫Êú¨Á±ªÂûãÔºåËÄå‰∏çÊòØÂåÖË£ÖÁ±ªÂûã„ÄÇÂü∫Êú¨Á±ªÂûãÊõ¥ÁÆÄÂçï„ÄÅÊõ¥Âø´„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ü•Ä ‰ª•‰∏ãÊÉÖÂÜµÂøÖÈ°ª‰ΩøÁî®ÂåÖË£ÖÁ±ªÂûãÔºö&lt;/p>
&lt;ul>
&lt;li>üå∞ ‰Ωú‰∏∫ÈõÜÂêà‰∏≠ÁöÑÂÖÉÁ¥†„ÄÅÈîÆÂíåÂÄº&lt;/li>
&lt;li>üå∞ ÂøÖÈ°ª‰ΩøÁî®ÂåÖË£ÖÁ±ªÂûã‰Ωú‰∏∫Á±ªÂûãÂèÇÊï∞Ôºå&lt;code>Java&lt;/code> ‰∏çÂÖÅËÆ∏‰ΩøÁî®Âü∫Êú¨Á±ªÂûã„ÄÇÂ¶Ç &lt;code>ThreadLocal&amp;lt;Integer&amp;gt;&lt;/code>&lt;/li>
&lt;li>üå∞ ËøõË°åÂèçÂ∞ÑÊñπÊ≥ïË∞ÉÁî®Êó∂ÔºåÂøÖÈ°ª‰ΩøÁî®ÂåÖË£ÖÁ±ªÂûã&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="-Ê°à‰æã-3">üåª Ê°à‰æã&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>üåæ ‰ª•‰∏ã‰∏â‰∏™‰æãÂ≠ê‰∏∫Â∏∏ËßÅÁöÑÂåÖË£ÖÁ±ªÂûãÈóÆÈ¢òÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üå© Â∞Ü &lt;code>==&lt;/code> Êìç‰ΩúÁ¨¶Â∫îÁî®‰∫éÂåÖË£ÖÁ±ªÂûãÂá†‰πéÈÉΩÊòØÈîôËØØÁöÑ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-Java" data-lang="Java">&lt;span class="line">&lt;span class="cl">&lt;span class="err">üôÖ&lt;/span>&lt;span class="n">‚Äç&lt;/span>&lt;span class="err">‚ôÇ&lt;/span>&lt;span class="n">Ô∏è&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Comparator&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Integer&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">naturalOrder&lt;/span> &lt;span class="o">=(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">1&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="n">0&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">1&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ë°®ËææÂºè &lt;code>i &amp;lt; j&lt;/code> ‰ºö‰Ωø i Âíå j ÂºïÁî®ÁöÑ &lt;code>Integer&lt;/code> ÂÆû‰æãËá™Âä®ÊãÜÁÆ±„ÄÇ
Ë°®ËææÂºè &lt;code>i == j&lt;/code> ÂØπ‰∏§‰∏™ÂØπË±°ÂºïÁî®ÊâßË°åÊØîËæÉÔºåËøîÂõû &lt;code>false&lt;/code>„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="err">üôÜ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Comparator&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Integer&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">naturalOrder&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">iBoxed&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">jBoxed&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">iBoxed&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">jBoxed&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="c1">// Ëá™Âä®ÊãÜÁÆ±
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">1&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="n">0&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">1&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>üå© &lt;code>NullPointerException&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Unbelievable&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">static&lt;/span> &lt;span class="n">Integer&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">42&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Unbelievable&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ËÆ°ÁÆóË°®ËææÂºè &lt;code>i == 42&lt;/code> Êó∂ÊäõÂá∫ &lt;code>NullPointerException&lt;/code>„ÄÇÁ©∫ÂØπË±°ÂºïÁî®Ëá™Âä®ÊãÜÁÆ±ÔºåÂ∞ÜÂæóÂà∞‰∏Ä‰∏™ &lt;code>NullPointerException&lt;/code>„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üå© ‰∏•ÈáçÁöÑÊÄßËÉΩÈóÆÈ¢ò&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-Java" data-lang="Java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Long&lt;/span> &lt;span class="n">sum&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">0L&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="kt">long&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">Integer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">MAX_VALUE&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sum&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">sum&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Â±ÄÈÉ®ÂèòÈáè &lt;code>sum&lt;/code>ÔºåÂÆÉÊòØÂåÖË£ÖÁ±ªÂûã &lt;code>Long&lt;/code>ÔºåËÄå‰∏çÊòØÂü∫Êú¨Á±ªÂûã &lt;code>long&lt;/code>„ÄÇÂèòÈáèË¢´ÂèçÂ§çË£ÖÁÆ±ÂíåÊãÜÁÆ±ÔºàË∂ÖÂá∫ÁºìÂ≠òÈÉ®ÂàÜÊó∂ÔºâÔºåÂØºËá¥‰∫ßÁîüÊòéÊòæÁöÑÊÄßËÉΩ‰∏ãÈôç„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="62-ÂÖ∂‰ªñÁ±ªÂûãÊõ¥ÂêàÈÄÇÊó∂Â∫îÈÅøÂÖç‰ΩøÁî®Â≠óÁ¨¶‰∏≤">62. ÂÖ∂‰ªñÁ±ªÂûãÊõ¥ÂêàÈÄÇÊó∂ÔºåÂ∫îÈÅøÂÖç‰ΩøÁî®Â≠óÁ¨¶‰∏≤&lt;/h2>
&lt;h3 id="-Âª∫ËÆÆ-5">üå∏ Âª∫ËÆÆ&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>üå± ÂΩìÂ≠òÂú®ÊàñÂèØ‰ª•ÁºñÂÜôÊõ¥Â•ΩÁöÑÊï∞ÊçÆÁ±ªÂûãÊó∂ÔºåÂ∫îÈÅøÂÖçÂ∞ÜÂ≠óÁ¨¶‰∏≤Áî®Êù•Ë°®Á§∫ÂØπË±°„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üå± Â¶ÇÊûú‰ΩøÁî®‰∏çÂΩìÔºåÂ≠óÁ¨¶‰∏≤ÊØîÂÖ∂‰ªñÁ±ªÂûãÊõ¥È∫ªÁÉ¶„ÄÅÁÅµÊ¥ªÊÄßÊõ¥Â∑Æ„ÄÅÈÄüÂ∫¶Êõ¥ÊÖ¢„ÄÅÊõ¥ÂÆπÊòìÂá∫Èîô„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üçÄ Â≠óÁ¨¶‰∏≤‰∏çÈÄÇÂêà‰ª£ÊõøÂÖ∂‰ªñÁöÑÂÄºÁ±ªÂûã„ÄÇ&lt;/p>
&lt;ul>
&lt;li>üå∞ Â¶ÇÊûúÊòØÊï∞ÂÄºÁ±ªÂûãÔºåÂàôÂ∫îÂ∞ÜÂÖ∂ËΩ¨Êç¢‰∏∫ÈÄÇÂΩìÁöÑÊï∞ÂÄºÁ±ªÂûãÔºåÂ¶Ç &lt;code>int&lt;/code>„ÄÅ&lt;code>float&lt;/code> Êàñ &lt;code>BigInteger&lt;/code>„ÄÇ&lt;/li>
&lt;li>üå∞ Â¶ÇÊûúÊòØÈóÆÈ¢òÁöÑÁ≠îÊ°àÔºåÂ¶Ç‚ÄúÊòØ‚ÄùÊàñ‚ÄúÂê¶‚ÄùËøôÁ±ªÂΩ¢ÂºèÔºåÂàôÂ∫îÂ∞ÜÂÖ∂ËΩ¨Êç¢‰∏∫ÈÄÇÂΩìÁöÑ &lt;code>Enum&lt;/code> Êàñ &lt;code>boolean&lt;/code>„ÄÇ&lt;/li>
&lt;li>üå∞ Êõ¥‰∏ÄËà¨Âú∞ÔºåÂ¶ÇÊûúÊúâÂêàÈÄÇÁöÑÂÄºÁ±ªÂûãÔºåÊó†ËÆ∫ÊòØÂü∫Êú¨Á±ªÂûãËøòÊòØÂØπË±°ÂºïÁî®ÔºåÈÉΩÂ∫îËØ•‰ΩøÁî®ÂÆÉÔºõÂ¶ÇÊûúÊ≤°ÊúâÔºåÂ∫îËØ•ÂÜô‰∏Ä‰∏™„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>üå± Â≠óÁ¨¶‰∏≤‰∏çÈÄÇÂêà‰ª£ÊõøÊûö‰∏æÁ±ªÂûã„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üå± Â≠óÁ¨¶‰∏≤‰∏çÈÄÇÂêà‰ª£ÊõøËÅöÂêàÁ±ªÂûã„ÄÇ&lt;/p>
&lt;p>Â¶ÇÊûú‰∏Ä‰∏™ÂÆû‰ΩìÊúâÂ§ö‰∏™ÁªÑ‰ª∂ÔºåÂ∞ÜÂÖ∂Ë°®Á§∫‰∏∫Âçï‰∏™Â≠óÁ¨¶‰∏≤ÈÄöÂ∏∏ÊòØÂæà‰∏çÂêàÈÄÇÁöÑ„ÄÇ
‰æãÂ¶ÇÔºå‰∏ãÈù¢ËøôË°å‰ª£Á†ÅÊù•Ëá™‰∏Ä‰∏™ÁúüÂÆûÁöÑÁ≥ªÁªüÊ†áËØÜÁ¨¶Ôºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">String&lt;/span> &lt;span class="n">compoundKey&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">className&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;#&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">next&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ËøôÁßçÊñπÊ≥ïÊúâÂæàÂ§öÁº∫ÁÇπÔºöÂ¶ÇÊûúÁî®‰∫éÂàÜÈöîÂ≠óÊÆµ &lt;code>#&lt;/code> ÁöÑÂ≠óÁ¨¶Âá∫Áé∞Âú®ÂÖ∂‰∏≠‰∏Ä‰∏™Â≠óÊÆµ‰∏≠ÔºåÂèØËÉΩ‰ºöÂØºËá¥Ê∑∑‰π±„ÄÇË¶ÅËÆøÈóÆÂêÑ‰∏™Â≠óÊÆµÔºå‰Ω†ÂøÖÈ°ªËß£ÊûêÂ≠óÁ¨¶‰∏≤„ÄÇ‰∏çËÉΩÊèê‰æõ &lt;code>equals&lt;/code>„ÄÅ&lt;code>toString&lt;/code> Êàñ &lt;code>compareTo&lt;/code> ÊñπÊ≥ïÔºå‰ΩÜÂøÖÈ°ªÊé•Âèó &lt;code>String&lt;/code> Êèê‰æõÁöÑË°å‰∏∫„ÄÇ
Êõ¥Â•ΩÁöÑÊñπÊ≥ïÊòØÁºñÂÜô‰∏Ä‰∏™Á±ªÊù•Ë°®Á§∫ËÅöÂêàÔºåÈÄöÂ∏∏ÊòØ‰∏Ä‰∏™ÁßÅÊúâÈùôÊÄÅÊàêÂëòÁ±ª„ÄÇÔºàItem-24Ôºâ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üçÄ Â≠óÁ¨¶‰∏≤‰∏çÈÄÇÂêà‰ª£Êõø capabilities&lt;/p>
&lt;p>ÊúâÊó∂ÔºåÂ≠óÁ¨¶‰∏≤Áî®‰∫éÊéà‰∫àÂØπÊüê‰∫õÂäüËÉΩÁöÑËÆøÈóÆÊùÉ„ÄÇ&lt;/p>
&lt;p>‰æãÂ¶ÇÔºåËÄÉËôëÁ∫øÁ®ãÊú¨Âú∞ÂèòÈáèÊú∫Âà∂ÁöÑËÆæËÆ°„ÄÇËøôÊ†∑ÁöÑÊú∫Âà∂Êèê‰æõ‰∫ÜÊØè‰∏™Á∫øÁ®ãÈÉΩÊúâËá™Â∑±ÁöÑÂèòÈáèÂÄº„ÄÇ
ËøôÁßçÊñπÊ≥ïÁöÑÈóÆÈ¢òÂú®‰∫éÔºöÂ≠óÁ¨¶‰∏≤ÈîÆË°®Á§∫Á∫øÁ®ãÊú¨Âú∞ÂèòÈáèÁöÑÂÖ±‰∫´ÂÖ®Â±ÄÂêçÁß∞Á©∫Èó¥„ÄÇ
‰∏∫‰∫Ü‰ΩøËøôÁßçÊñπÊ≥ïÊúâÊïàÔºåÂÆ¢Êà∑Á´ØÊèê‰æõÁöÑÂ≠óÁ¨¶‰∏≤ÈîÆÂøÖÈ°ªÊòØÂîØ‰∏ÄÁöÑÔºöÂ¶ÇÊûú‰∏§‰∏™ÂÆ¢Êà∑Á´ØÂêÑËá™ÂÜ≥ÂÆö‰∏∫ÂÆÉ‰ª¨ÁöÑÁ∫øÁ®ãÊú¨Âú∞ÂèòÈáè‰ΩøÁî®Áõ∏ÂêåÁöÑÂêçÁß∞ÔºåÂÆÉ‰ª¨Êó†ÊÑè‰∏≠Â∞±‰ºöÂÖ±‰∫´‰∏Ä‰∏™ÂèòÈáèÔºåËøôÈÄöÂ∏∏‰ºöÂØºËá¥‰∏§‰∏™ÂÆ¢Êà∑Á´ØÈÉΩÂ§±Ë¥•„ÄÇ
ËÄå‰∏îÂÆâÂÖ®ÊÄßÂæàÂ∑Æ„ÄÇÊÅ∂ÊÑèÂÆ¢Êà∑Á´ØÂèØ‰ª•ÊïÖÊÑè‰ΩøÁî®‰∏éÂè¶‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÁõ∏ÂêåÁöÑÂ≠óÁ¨¶‰∏≤ÂØÜÈí•Êù•ÈùûÊ≥ïËÆøÈóÆÂè¶‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÁöÑÊï∞ÊçÆ„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="63-ÂΩìÂøÉÂ≠óÁ¨¶‰∏≤ËøûÊé•ÂºïËµ∑ÁöÑÊÄßËÉΩÈóÆÈ¢ò">63. ÂΩìÂøÉÂ≠óÁ¨¶‰∏≤ËøûÊé•ÂºïËµ∑ÁöÑÊÄßËÉΩÈóÆÈ¢ò&lt;/h2>
&lt;h3 id="-Âª∫ËÆÆ-6">üå∏ Âª∫ËÆÆ&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>üå± ‰∏çË¶Å‰ΩøÁî®Â≠óÁ¨¶‰∏≤ËøûÊé•Êìç‰ΩúÁ¨¶ÂêàÂπ∂Â§ö‰∏™Â≠óÁ¨¶‰∏≤ÔºåÈô§ÈùûÊÄßËÉΩÊó†ÂÖ≥Á¥ßË¶Å„ÄÇ‰ΩøÁî®Â≠óÁ¨¶‰∏≤‰∏≤ËÅîËøêÁÆóÁ¨¶ &lt;code>+&lt;/code>ÔºåÈáçÂ§ç‰∏≤ËÅî n ‰∏™Â≠óÁ¨¶‰∏≤ÔºåÈúÄË¶Å n ÁöÑÂπ≥ÊñπÁ∫ßÊó∂Èó¥„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üçÄ ‰ΩøÁî® &lt;code>StringBuilder&lt;/code> ‰ª£Êõø &lt;code>String&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="64-ÈÄöËøáÊé•Âè£ÂºïÁî®ÂØπË±°">64. ÈÄöËøáÊé•Âè£ÂºïÁî®ÂØπË±°&lt;/h2>
&lt;h3 id="-Âª∫ËÆÆ-7">üå∏ Âª∫ËÆÆ&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>üçÄ ‰ºòÂÖà‰ΩøÁî®Êé•Âè£ËÄå‰∏çÊòØÁ±ªÊù•ÂºïÁî®ÂØπË±°„ÄÇÂ¶ÇÊûúÂ≠òÂú®ÂêàÈÄÇÁöÑÊé•Âè£Á±ªÂûãÔºåÈÇ£‰πàÂ∫îËØ•‰ΩøÁî®Êé•Âè£Á±ªÂûãÂ£∞ÊòéÂèÇÊï∞„ÄÅËøîÂõûÂÄº„ÄÅÂèòÈáèÂíåÂ≠óÊÆµ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üå± ‰ΩøÁî®Êé•Âè£‰Ωú‰∏∫Á±ªÂûãÁöÑ‰π†ÊÉØÔºåÁ®ãÂ∫èÂ∞ÜÊõ¥Âä†ÁÅµÊ¥ª„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ü•Ä ‰ª•‰∏ãÊÉÖÂÜµ‰ΩøÁî® Á±ª Êù•ÂºïÁî®ÂØπË±°Ôºö&lt;/p>
&lt;ul>
&lt;li>üå∞ Ê≤°ÊúâÂêàÈÄÇÁöÑÊé•Âè£Â≠òÂú®
&lt;ul>
&lt;li>&lt;code>String&lt;/code> Âíå &lt;code>BigInteger&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>üå∞ Ê°ÜÊû∂ÁöÑÂü∫Êú¨Á±ªÂûãÊòØÁ±ªÔºå‰∏çÊòØÊé•Âè£
&lt;ul>
&lt;li>&lt;code>java.io&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>üå∞ ÂÆûÁé∞Êé•Âè£ÁöÑÁ±ªÊèê‰æõ‰∫ÜÊé•Âè£‰∏≠‰∏çÂ≠òÂú®ÁöÑÈ¢ùÂ§ñÊñπÊ≥ï
&lt;ul>
&lt;li>&lt;code>PriorityQueue&lt;/code> ‰∏≠ÂÆûÁé∞‰∫Ü &lt;code>Queue&lt;/code> ‰∏çÂ≠òÂú®ÁöÑ &lt;code>comparator&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="-Ê°à‰æã-4">üåª Ê°à‰æã&lt;/h3>
&lt;ul>
&lt;li>üåæ ‰ºòÂÖà‰ΩøÁî®Êé•Âè£‰Ωú‰∏∫Á±ªÂûã&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="err">üôÜ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Set&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Son&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">sonSet&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">LinkedHashSet&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">üôÖ&lt;/span>&lt;span class="n">‚Äç&lt;/span>&lt;span class="err">‚ôÇ&lt;/span>&lt;span class="n">Ô∏è&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">LinkedHashSet&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Son&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">sonSet&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">LinkedHashSet&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="65-Êé•Âè£‰ºòÂÖàÂèçÂ∞ÑÊú∫Âà∂">65. Êé•Âè£‰ºòÂÖàÂèçÂ∞ÑÊú∫Âà∂&lt;/h2>
&lt;h3 id="-Âª∫ËÆÆ-8">üå∏ Âª∫ËÆÆ&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>üå± Ê†∏ÂøÉÂèçÂ∞ÑÊú∫Âà∂ &lt;code>java.lang.reflect&lt;/code> Êèê‰æõÂØπ‰ªªÊÑèÁ±ªÁöÑÁºñÁ®ãËÆøÈóÆ„ÄÇÁªôÂÆö‰∏Ä‰∏™ Class ÂØπË±°ÔºåÂèØ‰ª•Ëé∑Âæó &lt;code>Constructor&lt;/code>„ÄÅ&lt;code>Method&lt;/code>„ÄÅ&lt;code>Filed&lt;/code> ÂÆû‰æã„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üå± ÈÄöËøáËøáË∞ÉÁî® &lt;code>Constructor&lt;/code>„ÄÅ&lt;code>Method&lt;/code>„ÄÅ&lt;code>Filed&lt;/code> ÂÆû‰æã‰∏äÁöÑÊñπÊ≥ïÔºåÂèØ‰ª•ÊûÑÈÄ†Â∫ïÂ±ÇÁöÑÂÆû‰æã„ÄÅË∞ÉÁî®Â∫ïÂ±ÇÁ±ªÁöÑÊñπÊ≥ï„ÄÅËÆøÈóÆÂ∫ïÂ±ÇÁ±ª‰∏≠ÁöÑÂ≠óÊÆµ„ÄÇ&lt;/p>
&lt;ul>
&lt;li>üå∞ &lt;code>Method.invoke()&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ü•Ä ÂèçÂ∞ÑÂÖÅËÆ∏‰∏Ä‰∏™Á±ª‰ΩøÁî®Âè¶‰∏Ä‰∏™Á±ªÔºåÂç≥‰ΩøÂú®ÁºñËØëÂâçËÄÖÊó∂ÂêéËÄÖÂπ∂‰∏çÂ≠òÂú®„ÄÇÁÑ∂ËÄåÔºåËøôÁßçËÉΩÂäõÊòØÊúâ‰ª£‰ª∑ÁöÑÔºö&lt;/p>
&lt;ul>
&lt;li>üå∞ Â§±Âéª‰∫ÜÁºñËØëÊó∂Á±ªÂûãÊ£ÄÊü•ÁöÑÊâÄÊúâÂ•ΩÂ§ÑÔºåÂåÖÊã¨ÂºÇÂ∏∏Ê£ÄÊü•„ÄÇ&lt;/li>
&lt;li>üå∞ ÊâßË°åÂèçÂ∞ÑËÆøÈóÆÊâÄÈúÄÁöÑ‰ª£Á†ÅÊó¢Á¨®ÊãôÂèàÂÜóÈïø„ÄÇÂÜôËµ∑Êù•Âæà‰πèÂë≥ÔºåËØªËµ∑Êù•‰πüÂæàÂõ∞Èöæ„ÄÇ&lt;/li>
&lt;li>üå∞ ÊÄßËÉΩÈôç‰Ωé„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>üçÄ Â¶ÇÊûú‰Ω†ÂØπÂ∫îÁî®Á®ãÂ∫èÊòØÂê¶ÈúÄË¶ÅÂèçÂ∞ÑÊúâ‰ªª‰ΩïÁñëÈóÆÔºåÈÇ£‰πàÂÆÉÂèØËÉΩ‰∏çÈúÄË¶Å„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üå± Â¶ÇÊûúÂøÖÈ°ªÁî®Âà∞Âú®ÁºñËØëÊó∂Êó†Ê≥ïËé∑ÂèñÁöÑÁ±ªÔºåÂú®ÁºñËØëÊó∂Â≠òÂú®‰∏Ä‰∏™ÈÄÇÂΩìÁöÑÊé•Âè£ÊàñË∂ÖÁ±ªÊù•ÔºåÂèØ‰ª•Áî®ÂèçÂ∞ÑÊñπÂºèÂàõÂª∫ÂÆû‰æãÔºåÂπ∂ÈÄöËøáÂÆÉ‰ª¨ÁöÑÊé•Âè£ÊàñË∂ÖÁ±ªÊ≠£Â∏∏Âú∞ËÆøÈóÆÂÆÉ‰ª¨„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Translate the class name into a Class object
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">Class&lt;/span>&lt;span class="o">&amp;lt;?&lt;/span> &lt;span class="kd">extends&lt;/span> &lt;span class="n">Set&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">cl&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cl&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Class&lt;/span>&lt;span class="o">&amp;lt;?&lt;/span> &lt;span class="kd">extends&lt;/span> &lt;span class="n">Set&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">cl&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="n">Class&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">forNmae&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="o">])&lt;/span> &lt;span class="c1">// Unchecked cast
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">ClassNotFoundException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fatalError&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Class not found.&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Get the constructor
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">Constructor&lt;/span>&lt;span class="o">&amp;lt;?&lt;/span> &lt;span class="kd">extends&lt;/span> &lt;span class="n">Set&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">cons&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cons&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">cl&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getDeclaredConstructor&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">NoSuchMethodException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fatalError&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;No parameterless constructor&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Instantiate the set
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">Set&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">s&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="c1">// üôã‚Äç‚ôÇÔ∏è use interface
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">s&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">cons&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">newInstance&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">IllegalAccessException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fatalError&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Constructor not accessible&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">InstantiationException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fatalError&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Class not instantiable.&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">InvocationTargetException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fatalError&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Constructor threw &amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getCause&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">ClassCastException&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fatalError&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Class doesn&amp;#39;t implement Set&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Exercise the set
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">addAll&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Arrays&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">asList&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="o">).&lt;/span>&lt;span class="na">subList&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">length&lt;/span>&lt;span class="o">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ü•Ä ‰∏ä‰æã‰∏≠ÂèçÂ∞ÑÊú∫Âà∂ÁöÑÁº∫ÁÇπ&lt;/p>
&lt;ul>
&lt;li>üå∞ ‰∫ßÁîü 6 ‰∏™ËøêË°åÊó∂ÂºÇÂ∏∏&lt;/li>
&lt;li>üå∞ Ê†πÊçÆÁ±ªÂêçÁîü‰∫ßÂÆû‰æãÈúÄË¶Å 25 Ë°åÂÜóÈïø‰ª£Á†ÅÔºåËÄåË∞ÉÁî®ÊûÑÈÄ†Âô®Âè™ÈúÄË¶Å‰∏ÄË°å„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>üå± ÂèçÂ∞ÑÁöÑÂêàÊ≥ïÁî®ÈÄîÔºàÂæàÂ∞ëÔºâÊòØÁÆ°ÁêÜÁ±ªÂØπËøêË°åÊó∂ÂèØËÉΩ‰∏çÂ≠òÂú®ÁöÑÂÖ∂‰ªñÁ±ª„ÄÅÊñπÊ≥ïÊàñÂ≠óÊÆµÁöÑ‰æùËµñÂÖ≥Á≥ª„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üå± Â¶ÇÊûúÁºñÂÜôÁöÑÁ®ãÂ∫èÂøÖÈ°ªÂú®ÁºñËØëÊó∂Â§ÑÁêÜÊú™Áü•ÁöÑÁ±ªÔºåÂàôÂ∫îËØ•Â∞ΩÂèØËÉΩÂè™‰ΩøÁî®ÂèçÂ∞ÑÂÆû‰æãÂåñÂØπË±°ÔºåÂπ∂‰ΩøÁî®Âú®ÁºñËØëÊó∂Â∑≤Áü•ÁöÑÊé•Âè£ÊàñË∂ÖÁ±ªËÆøÈóÆÂØπË±°„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="66-Ë∞®ÊÖéÂú∞‰ΩøÁî®Êú¨Âú∞ÊñπÊ≥ï">66. Ë∞®ÊÖéÂú∞‰ΩøÁî®Êú¨Âú∞ÊñπÊ≥ï&lt;/h2>
&lt;h3 id="-Âª∫ËÆÆ-9">üå∏ Âª∫ËÆÆ&lt;/h3>
&lt;ul>
&lt;li>üå± ÈùûÂ∏∏‰∏çÂª∫ËÆÆ‰ΩøÁî®Êú¨Âú∞ÊñπÊ≥ï„ÄÇJVM ÂèòÂæóÊõ¥Âø´‰∫ÜÔºåÂπ∂‰∏î Java Âπ≥Âè∞ÁöÑÊàêÁÜüÔºåÂÆÉÊèê‰æõ‰∫ÜÂØπËÆ∏Â§ö‰ª•ÂâçÂè™ËÉΩÂú®ÂÆø‰∏ªÂπ≥Âè∞‰∏≠‰∏äÊâæÂà∞ÁöÑÁâπÊÄß„ÄÇ&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>‰æãÂ¶ÇÔºåJava 9 ‰∏≠Ê∑ªÂä†ÁöÑÊµÅ API Êèê‰æõ‰∫ÜÂØπ OS ÊµÅÁ®ãÁöÑËÆøÈóÆ„ÄÇ&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>ü•Ä ‰ΩøÁî®Êú¨Âú∞ÊñπÊ≥ïÊúâ‰∏•ÈáçÁöÑÁº∫ÁÇπÔºö
&lt;ul>
&lt;li>üå∞ Êú¨Âú∞ËØ≠Ë®Ä‰∏çÂÆâÂÖ®ÔºàItem-50ÔºâÔºå‰ΩøÁî®Êú¨Âú∞ÊñπÊ≥ïÁöÑÂ∫îÁî®Á®ãÂ∫è‰∏çÂÜçËÉΩÂÖçÂèóÂÜÖÂ≠òÊØÅÂùèÈîôËØØÁöÑÂΩ±Âìç„ÄÇ&lt;/li>
&lt;li>üå∞ Java Êõ¥‰æùËµñ‰∫éÂπ≥Âè∞ÔºåÂõ†Ê≠§‰ΩøÁî®Êú¨Âú∞ÊñπÊ≥ïÁöÑÁ®ãÂ∫èÁöÑÂèØÁßªÊ§çÊÄßËæÉÂ∑Æ„ÄÇ&lt;/li>
&lt;li>üå∞ ÂÆÉ‰ª¨Êõ¥ÈöæË∞ÉËØï„ÄÇ&lt;/li>
&lt;li>üå∞ Â¶ÇÊûú‰∏çÂ∞èÂøÉÔºåÊú¨Âú∞ÊñπÊ≥ïÂèØËÉΩ‰ºöÈôç‰ΩéÊÄßËÉΩÔºåÂõ†‰∏∫ÂûÉÂúæÊî∂ÈõÜÂô®Êó†Ê≥ïËá™Âä®Ë∑üË∏™Êú¨Âú∞ÂÜÖÂ≠ò‰ΩøÁî®ÊÉÖÂÜµÔºåËÄå‰∏îËøõÂá∫Êú¨Âú∞‰ª£Á†Å‰ºö‰∫ßÁîüÁõ∏ÂÖ≥ÁöÑÊàêÊú¨„ÄÇ&lt;/li>
&lt;li>üå∞ Êú¨Âú∞ÊñπÊ≥ïÈúÄË¶Å‚ÄúÁ≤òÂêà‰ª£Á†Å‚ÄùÔºåËøôÂæàÈöæÈòÖËØªÔºåËÄå‰∏îÁºñÂÜôËµ∑Êù•Âæà‰πèÂë≥„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="67-Ë∞®ÊÖéÂú∞ËøõË°å‰ºòÂåñ">67. Ë∞®ÊÖéÂú∞ËøõË°å‰ºòÂåñ&lt;/h2>
&lt;h3 id="-Âª∫ËÆÆ-10">üå∏ Âª∫ËÆÆ&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>üçÄ ‰ºòÂåñÂºäÂ§ß‰∫éÂà©ÔºåÂ∞§ÂÖ∂ÊòØÂ¶ÇÊûúËøáÊó©Âú∞ËøõË°å‰ºòÂåñ„ÄÇÂú®Ê≠§ËøáÁ®ã‰∏≠Ôºå‰Ω†ÂèØËÉΩ‰ºöÁîüÊàêÊó¢‰∏çÂø´ÈÄü‰πü‰∏çÊ≠£Á°Æ‰∏îÊó†Ê≥ïËΩªÊùæ‰øÆÂ§çÁöÑËΩØ‰ª∂„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üçÄ ‰∏çË¶Å‰∏∫‰∫ÜÊÄßËÉΩËÄåÁâ∫Áâ≤ÂêàÁêÜÁöÑÊû∂ÊûÑ„ÄÇÂä™ÂäõÁºñÂÜôÂ•ΩÁöÑÁ®ãÂ∫èÔºåËÄå‰∏çÊòØÂø´ÈÄüÁöÑÁ®ãÂ∫è„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üçÄ Â•ΩÁöÑÁ®ãÂ∫è‰ΩìÁé∞‰∫Ü‰ø°ÊÅØÈöêËóèÁöÑÂéüÂàôÔºöÂú®ÂèØËÉΩÁöÑÊÉÖÂÜµ‰∏ãÔºåÂÆÉ‰ª¨Âú®Âçï‰∏™ÁªÑ‰ª∂‰∏≠Êú¨Âú∞ÂåñËÆæËÆ°ÂÜ≥Á≠ñÔºåÂõ†Ê≠§ÂèØ‰ª•Âú®‰∏çÂΩ±ÂìçÁ≥ªÁªüÂÖ∂‰ΩôÈÉ®ÂàÜÁöÑÊÉÖÂÜµ‰∏ãÊõ¥ÊîπÂçï‰∏™ÂÜ≥Á≠ñ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üçÄ ‰∏ç‰ºòÂåñ‰∏çÊÑèÂë≥ÁùÄÂú®Á®ãÂ∫èÂÆåÊàê‰πãÂâçÂèØ‰ª•ÂøΩÁï•ÊÄßËÉΩÈóÆÈ¢ò„ÄÇÂÆûÁé∞‰∏äÁöÑÈóÆÈ¢òÂèØ‰ª•ÈÄöËøá‰ª•ÂêéÁöÑ‰ºòÂåñÊù•Ëß£ÂÜ≥Ôºå‰ΩÜÊòØÂØπ‰∫éÊû∂ÊûÑÁº∫Èô∑ÔºåÂ¶ÇÊûú‰∏çÈáçÂÜôÁ≥ªÁªüÔºåÂ∞±‰∏çÂèØËÉΩËß£ÂÜ≥ÈôêÂà∂ÊÄßËÉΩÁöÑÈóÆÈ¢òÔºåÁâπÂà´ÊòØÂú®ËÆæËÆ°API„ÄÅÁ∫øË∑ØÂ±ÇÂçèËÆÆÂíåÊåÅ‰πÖÊï∞ÊçÆÊ†ºÂºèÊó∂„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üçÄ ÂÜçÂ§öÁöÑÂ∫ïÂ±Ç‰ºòÂåñ‰πü‰∏çËÉΩÂº•Ë°•ÁÆóÊ≥ïÈÄâÊã©ÁöÑ‰∏çË∂≥„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="68-ÈÅµÂÆàË¢´ÂπøÊ≥õËÆ§ÂèØÁöÑÂëΩÂêçÁ∫¶ÂÆö">68. ÈÅµÂÆàË¢´ÂπøÊ≥õËÆ§ÂèØÁöÑÂëΩÂêçÁ∫¶ÂÆö&lt;/h2>
&lt;h3 id="-Âª∫ËÆÆ-11">üå∏ Âª∫ËÆÆ&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>üå± Java Âπ≥Âè∞Êúâ‰∏ÄÁªÑÂÆåÂñÑÁöÑÂëΩÂêçÁ∫¶ÂÆöÔºåÂÖ∂‰∏≠ËÆ∏Â§öÁ∫¶ÂÆöÂåÖÂê´Âú®„ÄäThe Java Language Specification„Äã&lt;/p>
&lt;ul>
&lt;li>üå∞ typographical Â≠óÈù¢Á∫¶ÂÆö&lt;/li>
&lt;li>üå∞ grammatical ËØ≠Ê≥ïÁ∫¶ÂÆö&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>üå± Â≠óÈù¢ÊÉØ‰æãÁ§∫‰æãÔºö&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">&lt;strong>Identifier Type&lt;/strong>&lt;/th>
&lt;th style="text-align:center">&lt;strong>Example&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">Package or module&lt;/td>
&lt;td style="text-align:center">&lt;code>org.junit.jupiter.api&lt;/code>, &lt;code>com.google.common.collect&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">Class or Interface&lt;/td>
&lt;td style="text-align:center">&lt;code>Stream&lt;/code>, &lt;code>FutureTask&lt;/code>, &lt;code>LinkedHashMap&lt;/code>, &lt;code>HttpClient&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">Method or Field&lt;/td>
&lt;td style="text-align:center">&lt;code>remove()&lt;/code>, &lt;code>groupingBy()&lt;/code>, &lt;code>getCrc()&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">Constant Field&lt;/td>
&lt;td style="text-align:center">MIN_VALUE, NEGATIVE_INFINITY&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">Local Variable&lt;/td>
&lt;td style="text-align:center">i, denom, houseNum&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">Type Parameter&lt;/td>
&lt;td style="text-align:center">T, E, K, V, X, R, U, V, T1, T2&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/li>
&lt;li>
&lt;p>üå± ËØ≠Ê≥ïÂëΩÂêçÁ∫¶ÂÆöÊØîÊéíÁâàÁ∫¶ÂÆöÊõ¥ÁÅµÊ¥ªÔºå‰πüÊõ¥Êúâ‰∫âËÆÆ„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>Long Shorter Term Memory</title><link>https://emerywan.github.io/blog/p/nlp-in-action/long-short-term-memory/</link><pubDate>Sat, 19 Mar 2022 20:36:14 +0800</pubDate><guid>https://emerywan.github.io/blog/p/nlp-in-action/long-short-term-memory/</guid><description>&lt;img src="https://nlp.letout.cn/img/banner.png" alt="Featured image of post Long Shorter Term Memory" />&lt;hr>
&lt;p>&lt;a class="link" href="https://nlp.letout.cn/nlp/long-short-term-memory" target="_blank" rel="noopener"
>üö≤ ËΩ¨Âà∞ https://nlp.letout.cn üîî Long Shorter Term Memory ‚û°Ô∏è&lt;/a>&lt;/p>
&lt;hr>
&lt;p>Ëøô‰∏ÄËäÇÔºåÂ∞Ü‰ªãÁªç &lt;code>LSTM (Long Shorter Term Memory)&lt;/code>Ôºå‰ª•ÂèäÁî® &lt;code>pytorch&lt;/code> ÂÆûÁé∞ &lt;code>LSTM &lt;/code>„ÄÇ&lt;/p>
&lt;p>&lt;code>LSTM&lt;/code> ÊòØ‰∏ÄÁßç &lt;code>RNN&lt;/code> Ê®°ÂûãÔºåÊòØÂØπ &lt;code>simple RNN&lt;/code> ÁöÑÊîπËøõÔºå&lt;code>LSTM&lt;/code> ÂèØ‰ª•ÈÅøÂÖçÊ¢ØÂ∫¶Ê∂àÂ§±ÁöÑÈóÆÈ¢òÔºåÂèØ‰ª•ÊúâÊõ¥ÈïøÁöÑËÆ∞ÂøÜ„ÄÇ&lt;code>LSTM&lt;/code> ÁöÑËÆ∫ÊñáÂú® 1997 Âπ¥ÂèëË°®„ÄÇ&lt;/p>
&lt;blockquote>
&lt;p>Hochreiter and Schmidhuber. Long short-term memory. Neural computation, 1997.&lt;/p>
&lt;/blockquote>
&lt;h2 id="-lstm">üîñ LSTM&lt;/h2>
&lt;p>&lt;code>LSTM&lt;/code> ‰πüÊòØ‰∏ÄÁßçÂæ™ÁéØÁ•ûÁªèÁΩëÁªúÔºåÂéüÁêÜË∑ü &lt;code>simple RNN&lt;/code> Â∑Æ‰∏çÂ§öÔºåÊØèÂΩìËØªÂèñ‰∏Ä‰∏™Êñ∞ÁöÑËæìÂÖ• $x$ÔºåÂ∞±‰ºöÊõ¥Êñ∞Áä∂ÊÄÅ $h$„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/04/1.png"
loading="lazy"
alt="1"
>&lt;/p>
&lt;p>&lt;code>LSTM&lt;/code> ÁöÑÁªìÊûÑÊØî &lt;code>simple RNN&lt;/code> Ë¶ÅÂ§çÊùÇÂæàÂ§öÔºå&lt;code>simple RNN&lt;/code> Âè™Êúâ‰∏Ä‰∏™ÂèÇÊï∞Áü©ÈòµÔºå &lt;code>LSTM&lt;/code> ÊúâÂõõ‰∏™ÂèÇÊï∞Áü©Èòµ„ÄÇÊé•‰∏ãÊù•Êàë‰ª¨ÂÖ∑‰ΩìÊù•ÁúãÁúã &lt;code>LSTM&lt;/code> ÁöÑÂÜÖÈÉ®ÁªìÊûÑ„ÄÇ&lt;/p>
&lt;h3 id="-‰º†ÈÄÅÂ∏¶">üö† ‰º†ÈÄÅÂ∏¶&lt;/h3>
&lt;p>&lt;code>LSTM&lt;/code> ÊúÄÈáçË¶ÅÁöÑËÆæËÆ°ÊòØËøô‰∏™‰º†ÈÄÅÂ∏¶ &lt;code>Conveyor belt&lt;/code>ÔºåÂç≥‰∏∫ÂêëÈáè $C$„ÄÇËøáÂéªÁöÑ‰ø°ÊÅØÈÄöËøá‰º†ÈÄÅÂ∏¶ÔºåÁõ¥Êé•ÈÄÅÂà∞‰∏ã‰∏Ä‰∏™Êó∂ÂàªÔºå‰∏ç‰ºöÂèëÁîüÂ§™Â§ßÁöÑÂèòÂåñ„ÄÇ&lt;code>LSTM&lt;/code> Â∞±ÊòØÈù†‰º†ÈÄÅÂ∏¶Êù•ÈÅøÂÖçÊ¢ØÂ∫¶Ê∂àÂ§±ÁöÑÈóÆÈ¢ò„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/04/2.png"
loading="lazy"
alt="2"
>&lt;/p>
&lt;p>&lt;code>LSTM&lt;/code> ‰∏≠ÊúâÂæàÂ§ö‰∏™Èó® &lt;code>gate&lt;/code>ÔºåÂèØ‰ª•ÊúâÈÄâÊã©ÁöÑËÆ©‰ø°ÊÅØÈÄöËøá„ÄÇ&lt;/p>
&lt;h3 id="-forgate-gate">üö™ Forgate Gate&lt;/h3>
&lt;p>È¶ñÂÖà‰ªãÁªç &lt;code>forget gate&lt;/code> ÈÅóÂøòÈó®„ÄÇÈÅóÂøòÈó®Áî± ‚òòÔ∏è &lt;code>sigmoid&lt;/code> ÂáΩÊï∞ÔºåÂíå üçÄ ÂÖÉÁ¥†ÁßØ &lt;code>element wise multiplication&lt;/code> ‰∏§ÈÉ®ÂàÜÁªÑÊàê„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/04/3.png"
loading="lazy"
alt="3"
>&lt;/p>
&lt;p>üåº ËæìÂÖ• &lt;code>sigmoid&lt;/code> ÁöÑÊòØ‰∏Ä‰∏™ÂêëÈáè $a$Ôºå&lt;code>sigmoid&lt;/code> ‰ΩúÁî®Âà∞ÂêëÈáè $a$ ÁöÑÊØè‰∏Ä‰∏™ÂÖÉÁ¥†‰∏äÔºåÊääÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÈÉΩÂéãÂà∞ &lt;code>0&lt;/code> Âíå &lt;code>1&lt;/code> ‰πãÈó¥„ÄÇ&lt;/p>
&lt;p>‰∏æ‰∏™‰æãÂ≠êÔºåÂÅáÂ¶ÇÂêëÈáè $a$ ÊòØÔºö&lt;code>[1, 3, 0, -2]&lt;/code>ÔºåÈÇ£‰πàÔºå&lt;code>sigmoid&lt;/code> ÂáΩÊï∞Â∞ÜÂàÜÂà´‰ΩúÁî®Âú®ËøôÂõõ‰∏™ÂÖÉÁ¥†‰∏ä„ÄÇÁÑ∂ÂêéÂàÜÂà´ËæìÂá∫Ôºö&lt;code>[0.73, 0.95, 0.5, 0.12]&lt;/code> „ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/04/4.png"
loading="lazy"
alt="4"
>&lt;/p>
&lt;p>ËæìÂÖ•ÁöÑÂêëÈáè $a$Ôºå‰∏éËæìÂá∫ÁöÑÂêëÈáè $f$ Â∫îËØ•ÊúâÁõ∏ÂêåÁöÑÁª¥Â∫¶ÔºåËøô‰∏™‰æãÂ≠êÈáåÔºåÂêëÈáè $a$ ÊòØÂõõÁª¥ÁöÑÔºåÂêëÈáè $f$ ‰πü‰ºöÊòØÂõõÁª¥ÁöÑ„ÄÇ&lt;/p>
&lt;p>üå∏ ÁÆóÂá∫ $f$ ÂêëÈáè‰πãÂêéÔºåËÆ°ÁÆó‰º†ÈÄÅÂ∏¶ÂêëÈáè $c$ ‰∏éÈÅóÂøòÈó®ÂêëÈáè $f$ ÁöÑÂÖÉÁ¥†ÁßØ„ÄÇÂÖÉÁ¥†ÁßØ &lt;code>element wise multiplication&lt;/code> ÊòØËøôÊ†∑ÁÆóÁöÑÔºö&lt;/p>
&lt;p>$c$ Âíå $f$ ÈÉΩÊòØÂõõÁª¥ÁöÑÂêëÈáèÔºåÂ∞ÜÂÆÉ‰ª¨ÁöÑÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÂàÜÂà´Áõ∏‰πò„ÄÇÊâÄ‰ª•ÂÖÉÁ¥†ÁßØÁöÑÁªìÊûú‰πüÊòØ‰∏™ÂõõÁª¥ÁöÑÂêëÈáè„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/04/5.png"
loading="lazy"
alt="5"
>&lt;/p>
&lt;p>Ëøô‰∏™ÈÅóÂøòÈó® $f$ÔºåÊúâÈÄâÊã©ÁöÑËÆ©‰º†ÈÄÅÂ∏¶ $c$ ÁöÑÂÄºÈÄöËøáÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>üå∞ ÂÅáÂ¶Ç $f$ ÁöÑ‰∏Ä‰∏™ÂÖÉÁ¥†ÊòØ $0$ÔºåÈÇ£‰πà $c$ ÂØπÂ∫îÁöÑÂÖÉÁ¥†‰∏çËÉΩÈÄöËøáÔºåÂØπÂ∫îÁöÑËæìÂá∫ÊòØ $0$Ôºõ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>üå∞ ÂÅáÂ¶Ç $f$ ÁöÑ‰∏Ä‰∏™ÂÖÉÁ¥†ÊòØ $1$ÔºåÈÇ£‰πà $c$ ÂØπÂ∫îÁöÑÂÖÉÁ¥†Â∞±ÂÖ®ÈÉ®ÈÄöËøáÔºåÂØπÂ∫îÁöÑËæìÂá∫ÊòØ $c$ Êú¨Ë∫´„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>ÈÅóÂøòÈó® $f$ ÂÖ∑‰ΩìÊòØËøô‰πàÁÆóÂá∫Êù•ÁöÑÔºöÈ¶ñÂÖàÁúãËøôÂº†ÁªìÊûÑÂõæÔºå$f_t$ ÊòØ‰∏ä‰∏Ä‰∏™Áä∂ÊÄÅ $h_{t-1}$Ôºå‰∏éÂΩìÂâçËæìÂÖ• $x$ ÁöÑÂáΩÊï∞„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/04/6.png"
loading="lazy"
alt="6"
>&lt;/p>
&lt;p>ÊääÁä∂ÊÄÅ $h_{t-1}$ ‰∏éËæìÂÖ• $x_t$ ÂÅöÊãºÊé• &lt;code>concatnation&lt;/code>ÔºåÂæóÂà∞Êõ¥È´òÁª¥Â∫¶ÁöÑÂêëÈáè„ÄÇÁÑ∂ÂêéËÆ°ÁÆóÁü©Èòµ $w_f$ ‰∏éËøô‰∏™ÂêëÈáèÁöÑ‰πòÁßØÔºåÂæóÂà∞‰∏Ä‰∏™ÂêëÈáèÔºåÂÜçÁî® &lt;code>sigmoid&lt;/code> ÂáΩÊï∞ÔºåÂæóÂà∞ÂêëÈáè $f_t$Ôºå$f_t$ ÁöÑÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÈÉΩ‰ªã‰∫é &lt;code>0&lt;/code> Âíå &lt;code>1&lt;/code> ‰πãÈó¥ÔºåÈÅóÂøòÈó®Êúâ‰∏Ä‰∏™ÂèÇÊï∞Áü©Èòµ $w_f$ÔºåÈúÄË¶ÅÈÄöËøá &lt;strong>ÂèçÂêë‰º†Êí≠&lt;/strong> ‰ªéËÆ≠ÁªÉÊï∞ÊçÆÈáåÂ≠¶‰π†„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/04/7.png"
loading="lazy"
alt="7"
>&lt;/p>
&lt;h3 id="-input-gate">üö™ Input Gate&lt;/h3>
&lt;p>ÂàöÊâçËÆ≤‰∫ÜÈÅóÂøòÈó®ÔºåÁé∞Âú®Êù•Áúã‰∏ÄÁúã &lt;code>input gate&lt;/code> ËæìÂÖ•Èó®„ÄÇÂú®ËøôÂº†ÁªìÊûÑÂõæÈáåÔºåËæìÂÖ•Èó® $i_t$Ôºå‰æùËµñ‰∫éÊóßÁöÑÁä∂ÊÄÅÂêëÈáè $h_{t-1}$ÔºåÂíåÊñ∞ÁöÑËæìÂÖ• $x_t$„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/04/8.png"
loading="lazy"
alt="8"
>&lt;/p>
&lt;p>ËæìÂÖ•Èó® $i_t$ ÁöÑËÆ°ÁÆóÁ±ª‰ºº‰∫éÈÅóÂøòÈó®ÔºåÊääÊóßÁöÑÁä∂ÊÄÅ $h_{t-1}$Ôºå‰∏éÊñ∞ÁöÑËæìÂÖ• $x_t$ ÂÅöÊãºÊé• &lt;code>concatnation&lt;/code>ÔºåÂæóÂà∞Êõ¥È´òÁª¥ÁöÑÂêëÈáè„ÄÇ&lt;/p>
&lt;p>ÁÑ∂ÂêéËÆ°ÁÆóÁü©Èòµ $w_i$ ‰∏éËøô‰∏™ÂêëÈáèÁöÑ‰πòÁßØÂæóÂà∞‰∏Ä‰∏™ÂêëÈáèÔºåÊúÄÂêé‰ΩøÁî®ÊøÄÊ¥ªÂáΩÊï∞ &lt;code>sigmod&lt;/code>ÔºåÂæóÂà∞ÂêëÈáè $i_t$Ôºà$i_t$ ÁöÑÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÈÉΩ‰ªã‰∫é $0$ Âíå $1$ ‰πãÈó¥Ôºâ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/04/9.png"
loading="lazy"
alt="8"
>&lt;/p>
&lt;p>ËæìÂÖ•Èó®‰πüÊúâËá™Â∑±ÁöÑÂèÇÊï∞Áü©ÈòµÔºåËÆ°‰Ωú $W_i$Ôºå$W_i$ ‰πüÈúÄË¶Å‰ªéËÆ≠ÁªÉÊï∞ÊçÆ‰∏≠Â≠¶‰π†„ÄÇ&lt;/p>
&lt;h3 id="-new-value">üÜï New Value&lt;/h3>
&lt;p>ËøòÈúÄË¶ÅËÆ°ÁÆóÊñ∞ÁöÑËæìÂÖ•ÂÄº &lt;code>new value&lt;/code> $\widetilde{c}_t$Ôºå$\widetilde{c}_t$ ÊòØ‰∏™ÂêëÈáèÔºåËÆ°ÁÆóÊñπÊ≥ïË∑üÈÅóÂøòÈó®ÂíåËæìÂÖ•Èó®ÈÉΩÂæàÂÉè„ÄÇ‰πüÊòØÊääÊóßÁä∂ÊÄÅ $h_{t-1}$Ôºå‰∏éÊñ∞ËæìÂÖ• $x_t$ ÂÅöÊãºÊé•ÔºåÂÜç‰πòÂà∞ÂèÇÊï∞Áü©Èòµ‰∏ä„ÄÇ&lt;/p>
&lt;p>Âå∫Âà´Âú®‰∫éÊøÄÊ¥ªÂáΩÊï∞‰∏çÊòØ &lt;code>sigmoid&lt;/code>ÔºåËÄåÊòØÂèåÊõ≤Ê≠£ÂàáÂáΩÊï∞ &lt;code>tanh&lt;/code>ÔºåÊâÄ‰ª•ÁÆóÂá∫ÁöÑÂêëÈáè $\widetilde{c}_t$ ÁöÑÂÖÉÁ¥†ÈÉΩ‰ªã‰∫é &lt;code>(-1, +1)&lt;/code>„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/04/10.png"
loading="lazy"
alt="8"
>&lt;/p>
&lt;p>ËÆ°ÁÆó &lt;code>new value&lt;/code> $\widetilde{c}_t$Ôºå‰πüÈúÄË¶Å‰∏Ä‰∏™ÂçïÁã¨ÁöÑÂèÇÊï∞Áü©ÈòµÁü©Èòµ $w_c$„ÄÇ&lt;/p>
&lt;h3 id="-Êõ¥Êñ∞-‰º†ËæìÂ∏¶">üöÇ Êõ¥Êñ∞ ‰º†ËæìÂ∏¶&lt;/h3>
&lt;p>Êàë‰ª¨Â∑≤ÁªèÁÆóÂá∫‰∫ÜÈÅóÂøòÈó® $f_t$ÔºåËæìÂÖ•Èó® $i_t$Ôºå‰ª•ÂèäÊñ∞ÁöÑËæìÂÖ•ÂÄº $\widetilde{c}_t$ÔºåÊàë‰ª¨ËøòÁü•ÈÅì‰º†ÈÄÅÂ∏¶ÊóßÁöÑÂÄº $c_{t-1}$ÔºåÁé∞Âú®ÂèØ‰ª•Êõ¥Êñ∞‰º†ÈÄÅÂ∏¶ $c$ ‰∫Ü„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/04/11.png"
loading="lazy"
alt="8"
>&lt;/p>
&lt;p>1Ô∏è‚É£ ËÆ°ÁÆóÈÅóÂøòÈó® $f_t$ Âíå‰º†ÈÄÅÂ∏¶ÊóßÁöÑÂÄº $c_{t-1}$ ÁöÑÂÖÉÁ¥†ÁßØ„ÄÇ&lt;/p>
&lt;p>ÈÅóÂøòÈó® $f_t$ÔºåÂíå‰º†ÈÄÅÂ∏¶ $c_{t-1}$ ÊòØÁª¥Â∫¶Áõ∏ÂêåÁöÑÂêëÈáèÔºåÁÆóÂá∫ÁöÑ‰πòÁßØ‰πüÊòØ‰∏™ÂêëÈáè„ÄÇÈÅóÂøòÈó® $f_t$ÔºåÂèØ‰ª•ÈÄâÊã©ÊÄßÁöÑÈÅóÂøò $c_{t-1}$ ‰∏≠ÁöÑ‰∏Ä‰∫õÂÖÉÁ¥†ÔºåÂ¶ÇÊûú $f_t$ ‰∏≠ÁöÑ‰∏Ä‰∏™ÂÖÉÁ¥†ÊòØ $0$ÔºåÈÇ£‰πà $c_{t-1}$ Áõ∏Â∫îÁöÑÂÖÉÁ¥†Â∞±‰ºöË¢´ÈÅóÂøò„ÄÇ&lt;/p>
&lt;p>‰∏ä‰∏ÄÊ≠•ÈÄöËøá üö™ ÈÅóÂøòÈó® ÈÄâÊã©ÊÄßÂà†Èô§Êéâ‰∫Ü‰º†ÈÄÅÂ∏¶ $c_{t-1}$ ÁöÑ‰∏Ä‰∫õÂÖÉÁ¥†ÔºåÁé∞Âú®Ë¶ÅÂæÄ‰º†ÈÄÅÂ∏¶‰∏äÊ∑ªÂä†Êñ∞ÁöÑ‰ø°ÊÅØ„ÄÇ&lt;/p>
&lt;p>2Ô∏è‚É£ ËÆ°ÁÆóËæìÂÖ•Èó® $i_t$ÔºåÂíåÊñ∞ÁöÑËæìÂÖ•ÂÄº $\widetilde{c}_t$ ÁöÑÂÖÉÁ¥†ÁßØ„ÄÇ&lt;/p>
&lt;p>ËæìÂÖ•Èó® $i_t$ ÂíåÊñ∞ÁöÑÂÄº $\widetilde{c}_t$ ÈÉΩÊòØÁª¥Â∫¶Áõ∏ÂêåÁöÑÂêëÈáèÔºå‰ªñ‰ª¨ÁöÑ‰πòÁßØ‰πüÊòØÁª¥Â∫¶Áõ∏ÂêåÁöÑÂêëÈáèÔºåÊää‰πòÁßØÂä†Âà∞‰º†ÈÄÅÂ∏¶‰∏äÔºåËøôÊ†∑Â∞±ÂÆåÊàê‰∫ÜÂØπ‰º†ÈÄÅÂ∏¶ÁöÑ‰∏ÄËΩÆÊõ¥Êñ∞„ÄÇ&lt;/p>
&lt;p>Áî®ÈÅóÂøòÈó®Âà†Èô§‰∫Ü‰º†ÈÄÅÂ∏¶‰∏äÁöÑ‰∏Ä‰∫õ‰ø°ÊÅØÔºåÁÑ∂ÂêéÁî®ÈÅóÂøòÈó®ËæìÂÖ•Âä†ÂÖ•Êñ∞ÁöÑ‰ø°ÊÅØÔºåÂæóÂà∞‰∫Ü‰º†ÈÄÅÂ∏¶Êñ∞ÁöÑÂÄº $c_t$ÔºåÂà∞Áé∞Âú®ÔºåÂ∑≤ÁªèÊõ¥Êñ∞ÂÆå‰º†ÈÄÅÂ∏¶ $c$ „ÄÇ&lt;/p>
&lt;h3 id="-output-gate">üö™ Output Gate&lt;/h3>
&lt;p>ÊúÄÂêé‰∏ÄÊ≠•ÊòØËÆ°ÁÆó &lt;code>LSTM&lt;/code> ÁöÑËæìÂá∫Ôºå‰πüÂ∞±ÊòØÁä∂ÊÄÅÂêëÈáè $h_t$„ÄÇ&lt;/p>
&lt;p>$h_t$ ÊòØËøô‰πàËÆ°ÁÆóÁöÑÔºöÈ¶ñÂÖàËÆ°ÁÆóËæìÂá∫Èó® $o_t$ÔºåËæìÂá∫Èó® $o_t$ Ë∑üÂâçÈù¢ÁöÑÈÅóÂøòÈó®ÔºåËæìÂÖ•Èó®ÁöÑËÆ°ÁÆóÂü∫Êú¨‰∏ÄÊ†∑„ÄÇ&lt;/p>
&lt;p>ÊääÊóßÁöÑÁä∂ÊÄÅ $h_{t-1}$Ôºå‰∏éÊñ∞ÁöÑËæìÂÖ• $x_t$ ÂÅöÊãºÊé•ÔºåÂæóÂà∞Êõ¥È´òÁª¥ÁöÑÂêëÈáèÔºåÁÑ∂ÂêéÁÆóÁü©Èòµ $W_o$ ‰∏éËøô‰∏™ÂêëÈáèÁöÑ‰πòÁßØÔºåÂæóÂà∞‰∏Ä‰∏™ÂêëÈáèÔºåÊúÄÂêé‰ΩøÁî®ÊøÄÊ¥ªÂáΩÊï∞ &lt;code>sigmod&lt;/code> ÂæóÂà∞ÂêëÈáè $o_t$„ÄÇ$o_t$ ÁöÑÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÈÉΩ‰ªã‰∫é &lt;code>(0, 1)&lt;/code>ÔºåËæìÂá∫Èó®‰πüÊúâËá™Â∑±ÁöÑÂèÇÊï∞ÂêëÈáè $W_o$Ôºå$W_o$ ‰πüÈúÄË¶Å‰ªéËÆ≠ÁªÉÊï∞ÊçÆ‰∏≠Â≠¶‰π†„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/04/12.png"
loading="lazy"
alt="12"
>&lt;/p>
&lt;p>Áé∞Âú®ËÆ°ÁÆóÁä∂ÊÄÅÂêëÈáè $h_t$ÔºåÂØπ‰º†ÈÄÅÂ∏¶ $c_t$ ÁöÑÊØè‰∏Ä‰∏™ÂÖÉÁ¥†Ê±ÇÂèåÊõ≤Ê≠£Âàá&lt;code>tanh&lt;/code>ÔºåÊääÂÖÉÁ¥†ÂÖ®ÈÉΩÂéãÂà∞ &lt;code>(-1, +1)&lt;/code> Âå∫Èó¥„ÄÇ&lt;/p>
&lt;p>ÁÑ∂ÂêéÔºåÊ±ÇËøô‰∏§‰∏™ÂêëÈáèÁöÑÂÖÉÁ¥†ÁßØÔºåËøô‰∏™Á∫¢Ëâ≤ÂêëÈáèÊòØÂàöÂàöÊ±ÇÂá∫ÁöÑËæìÂá∫Èó® $o_t$ÔºåËøôÊ†∑Â∞±ÂæóÂà∞‰∫ÜÁä∂ÊÄÅÂêëÈáè $h_t$„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/04/13.png"
loading="lazy"
alt="13"
>&lt;/p>
&lt;p>Áúã‰∏Ä‰∏ãÁªìÊûÑÂõæÔºå$h_t$ ‰ªñÊúâ‰∏§‰ªΩ &lt;code>copys&lt;/code>Ôºå$h_t$ ÁöÑ‰∏Ä‰ªΩ &lt;code>copy&lt;/code> ‰º†ËæìÂà∞‰∫Ü‰∏ã‰∏ÄÊ≠•ÔºåÂè¶‰∏Ä‰ªΩ &lt;code>copy&lt;/code> Êàê‰∫Ü &lt;code>LSTM&lt;/code> ÁöÑËæìÂá∫„ÄÇ&lt;/p>
&lt;p>Âà∞Á¨¨ &lt;code>t&lt;/code> Ê≠•‰∏∫Ê≠¢Ôºå‰∏ÄÂÖ±Êúâ &lt;code>t&lt;/code> ‰∏™ÂêëÈáè $x$ Ë¢´ËæìÂÖ•‰∫Ü &lt;code>LSTM&lt;/code>ÔºåÊàë‰ª¨ÂèØ‰ª•ËÆ§‰∏∫ÊâÄÊúâËøô‰∫õ $x$ ÂêëÈáèÁöÑ‰ø°ÊÅØÔºåÈÉΩÁßØÁ¥ØÂú®‰∫ÜÁä∂ÊÄÅ $h_t$ ÈáåÈù¢„ÄÇ&lt;/p>
&lt;h2 id="-lstm-ÁöÑÂèÇÊï∞Êï∞Èáè">üßÆ LSTM ÁöÑÂèÇÊï∞Êï∞Èáè&lt;/h2>
&lt;p>Êàë‰ª¨Êù•ÁÆó‰∏Ä‰∏ã &lt;code>LSTM&lt;/code> ÁöÑÂèÇÊï∞Êï∞ÈáèÔºå&lt;code>LSTM&lt;/code> Êúâ ‚ù∂ ÈÅóÂøòÈó®Ôºõ‚ù∑ ËæìÂÖ•Èó®Ôºõ‚ù∏ Êñ∞ÁöÑËæìÂÖ•Ôºõ‚ùπ ËæìÂá∫Èó®„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/04/14.png"
loading="lazy"
alt="14"
>&lt;/p>
&lt;p>ËøôÂõõ‰∏™Ê®°ÂùóÈÉΩÊúâÂêÑËá™ÁöÑÂèÇÊï∞Áü©Èòµ $w$ÔºåÊâÄ‰ª•‰∏ÄÂÖ±Êúâ &lt;code>4&lt;/code> ‰∏™ÂèÇÊï∞Áü©ÈòµÔºåÁü©ÈòµÁöÑË°åÊï∞ÊòØÔºö$shape(h)$ÔºåÂàóÊï∞ÊòØÔºö $shape(h)+shape(x)$&lt;/p>
&lt;p>ÊâÄ‰ª•Ôºå&lt;code>LSTM&lt;/code> ÂèÇÊï∞ÁöÑÊï∞ÈáèÊòØÔºö&lt;/p>
&lt;p>$4 * shape(h) * [ shape(h) + shape(x)]$&lt;/p>
&lt;h2 id="-ÂÆûÁé∞-lstm">üõ† ÂÆûÁé∞ LSTM&lt;/h2>
&lt;p>&lt;strong>Doing&lt;/strong>&lt;/p>
&lt;h2 id="-ÊÄªÁªì">üéê ÊÄªÁªì&lt;/h2>
&lt;p>ÊÄªÁªì‰∏Ä‰∏ãËøô‰∏ÄËäÇÁöÑÂÜÖÂÆπÔºåËøôËäÇ‰ªãÁªç‰∫Ü &lt;code>LSTM&lt;/code> Ê®°ÂûãÂíåÁî® &lt;code>PyTorch&lt;/code> ÁöÑÂÆûÁé∞„ÄÇ&lt;/p>
&lt;p>&lt;code>LSTM&lt;/code> Âíå &lt;code>simple RNN&lt;/code> ‰∏ªË¶ÅÁöÑÂå∫Âà´ÔºåÊòØÁî®‰∫Ü‰∏ÄÊù°‰º†ÈÄÅÂ∏¶ÔºåËÆ©ËøáÂéªÁöÑ‰ø°ÊÅØÂèØ‰ª•ÂæàÂÆπÊòì‰º†ËæìÂà∞‰∏ã‰∏ÄÊó∂ÂàªÔºåËøôÊ†∑Â∞±Êúâ‰∫ÜÊõ¥ÈïøÁöÑËÆ∞ÂøÜ„ÄÇ&lt;/p>
&lt;p>&lt;code>LSTM&lt;/code> ÁöÑË°®Áé∞ÊÄªÊòØÊØî &lt;code>simple RNN&lt;/code> Ë¶ÅÂ•ΩÔºåÊâÄ‰ª•ÂΩìÊàë‰ª¨ÊÉ≥‰ΩøÁî® &lt;code>RNN&lt;/code> ÁöÑÊó∂ÂÄôÂ∞±Áî® üôã‚Äç‚ôÇÔ∏è &lt;code>LSTM&lt;/code> Ê®°ÂûãÔºåËÄå‰∏çË¶ÅÁî® üôÖ‚Äç‚ôÇÔ∏è &lt;code>simple RNN&lt;/code> Ê®°Âûã„ÄÇ&lt;/p>
&lt;p>&lt;code>LSTM&lt;/code> ÊúâÂõõ‰∏™ÁªÑ‰ª∂ÔºåÂàÜÂà´ÊòØÔºö&lt;/p>
&lt;ul>
&lt;li>üö™ &lt;code>Forget Gate&lt;/code> ÈÅóÂøòÈó®&lt;/li>
&lt;li>üö™ &lt;code>Input Gate&lt;/code> ËæìÂÖ•Èó®&lt;/li>
&lt;li>üÜï &lt;code>New Value&lt;/code> Êñ∞ÁöÑËæìÂÖ•&lt;/li>
&lt;li>üö™ &lt;code>Output Gate&lt;/code> ËæìÂá∫Èó®&lt;/li>
&lt;/ul>
&lt;p>ËøôÂõõ‰∏™ÁªÑ‰ª∂ÂêÑËá™Êúâ‰∏Ä‰∏™ÂèÇÊï∞Áü©ÈòµÔºåÊâÄ‰ª•‰∏ÄÂÖ±ÊúâÂõõ‰∏™ÂèÇÊï∞Áü©ÈòµÔºå&lt;code>LSTM&lt;/code> ÂèÇÊï∞ÁöÑÊï∞ÈáèÊòØÔºö&lt;/p>
&lt;p>$4 * shape(h) * [ shape(h) + shape(x)]$&lt;/p>
&lt;p>‰∏ã‰∏ÄËäÇÂ∞Ü‰ªãÁªçÔºö&lt;/p>
&lt;ul>
&lt;li>&lt;code>stacked RNN&lt;/code>&lt;/li>
&lt;li>&lt;code>bi-directional RNN&lt;/code>&lt;/li>
&lt;li>È¢ÑËÆ≠ÁªÉ&lt;/li>
&lt;/ul>
&lt;h2 id="-ÂèÇËÄÉ">‚õì ÂèÇËÄÉ&lt;/h2>
&lt;ul>
&lt;li>üîó &lt;a class="link" href="https://github.com/wangshusen/DeepLearning/blob/master/Slides/9_RNN_3.pdf" target="_blank" rel="noopener"
>https://github.com/wangshusen/DeepLearning/blob/master/Slides/9_RNN_3.pdf&lt;/a>&lt;/li>
&lt;li>üîó &lt;a class="link" href="https://colah.github.io/posts/2015-08-Understanding-LSTMs/" target="_blank" rel="noopener"
>https://colah.github.io/posts/2015-08-Understanding-LSTMs/&lt;/a>&lt;/li>
&lt;li>üîó &lt;a class="link" href="https://www.youtube.com/watch?v=vTouAvxlphc" target="_blank" rel="noopener"
>https://www.youtube.com/watch?v=vTouAvxlphc&lt;/a>&lt;/li>
&lt;li>üîó &lt;a class="link" href="https://www.bilibili.com/video/BV1UK4y1d7xa" target="_blank" rel="noopener"
>https://www.bilibili.com/video/BV1UK4y1d7xa&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>ÊñáÊú¨Â§ÑÁêÜ‰∏éËØçÂµåÂÖ•</title><link>https://emerywan.github.io/blog/p/nlp-in-action/text-processing-and-word-embedding/</link><pubDate>Fri, 11 Mar 2022 21:14:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/nlp-in-action/text-processing-and-word-embedding/</guid><description>&lt;img src="https://nlp.letout.cn/img/banner.png" alt="Featured image of post ÊñáÊú¨Â§ÑÁêÜ‰∏éËØçÂµåÂÖ•" />&lt;hr>
&lt;p>&lt;a class="link" href="https://nlp.letout.cn/nlp/text-processing-and-word-embedding" target="_blank" rel="noopener"
>üö≤ ËΩ¨Âà∞ https://nlp.letout.cn üîî ÊñáÊú¨Â§ÑÁêÜ‰∏éËØçÂµåÂÖ• ‚û°Ô∏è&lt;/a>&lt;/p>
&lt;hr>
&lt;p>Êú¨ËäÇ‰∏ªË¶ÅÂÜÖÂÆπ‰∏∫ &lt;strong>ÊñáÊú¨Â§ÑÁêÜ&lt;/strong> &lt;code>Text Processing&lt;/code> Âíå &lt;strong>ËØçÂµåÂÖ•&lt;/strong> &lt;code>Word Embedding&lt;/code>„ÄÇÊú¨ËäÇÂíå‰∏ãÈù¢‰∏§ËäÇÂÜÖÂÆπÈÉΩ‰ºö‰ΩøÁî® IMDb ÁîµÂΩ±ËØÑËÆ∫ÁöÑÊï∞ÊçÆÔºåÁî®Êù•Êê≠Âª∫Êú∫Âô®Â≠¶‰π†Ê®°ÂûãÂàÜÊûêÁîµÂΩ±ËØÑËÆ∫„ÄÇ&lt;/p>
&lt;h2 id="-imdb">üå± IMDb&lt;/h2>
&lt;p>&lt;a class="link" href="https://zh.wikipedia.org/wiki/%E4%BA%92%E8%81%94%E7%BD%91%E7%94%B5%E5%BD%B1%E8%B5%84%E6%96%99%E5%BA%93" target="_blank" rel="noopener"
>IMDb&lt;/a> ÊòØÊúÄÊúâÂêçÁöÑÁîµÂΩ±ËØÑËÆ∫ÁΩëÁ´ôÔºåÁî®Êà∑ÂèØ‰ª•Âú® IMDb ‰∏äÁªôÁîµÂΩ±ÊâìÂàÜÔºå1 ÂàÜÊòØÈùûÂ∏∏ËÆ®ÂéåÔºå10 ÂàÜÊòØÈùûÂ∏∏ÂñúÊ¨¢ÔºåÂ¶ÇÊûú‰πêÊÑèÔºåËøòÂèØ‰ª•ÂÜô‰∏ÄÊÆµÁîµÂΩ±ËØÑËÆ∫„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/02/imdb.png"
loading="lazy"
alt="IMDb"
>&lt;/p>
&lt;p>Â¶ÇÊûú‰∏çÁªô‰Ω†ÁúãÂàÜÊï∞ÔºåÂè™Áªô‰Ω†ÁúãËØÑËÆ∫Ôºå‰Ω†Â§ßÊ¶ÇËÉΩÁåúÂà∞Áî®Êà∑ÊâìÁöÑÂàÜÊï∞Ôºå‰ΩÜ‰Ω†ÁöÑÁåúÊµãÂèØËÉΩ‰∏çÂ§™ÂáÜÁ°Æ„ÄÇÂ¶ÇÊûúÊç¢ÁßçÊñπÂºèÔºåËÆ©‰Ω†Âà§Êñ≠ÁîµÂΩ±ËØÑËÆ∫ÊòØ &lt;strong>Ê≠£Èù¢&lt;/strong> &lt;code>positive&lt;/code> ÁöÑËøòÊòØ &lt;strong>Ë¥üÈù¢&lt;/strong> &lt;code>negative&lt;/code> ÁöÑÔºå‰Ω†Â∫îËØ•‰ºöÊúâÂæàÈ´òÁöÑÂáÜÁ°ÆÁéá„ÄÇÊúâ‰∫∫‰ªé IMDb ‰∏äÁà¨‰∫Ü 5 ‰∏áÊù°ÁîµÂΩ±ËØÑËÆ∫ÔºåËøô‰∫õËØÑËÆ∫ÈÉΩÊòØÂæàÊûÅÁ´ØÁöÑÔºåÈÉΩÊòØÂº∫ÁÉàÁöÑÂñúÊ¨¢ÔºåÊàñËÄÖÂº∫ÁÉàÂèçÊÑü„ÄÇËøô‰∏™‰∫åÂàÜÁ±ªÈóÆÈ¢òÂØπ‰∫é‰∫∫Êù•ËØ¥ÂæàÁÆÄÂçïÔºå‰∫∫ËØª‰∏Ä‰∏ãÁîµÂΩ±ËØÑËÆ∫Â∞±ËÉΩËΩªÊòìÁü•ÈÅìËøôÊòØÊ≠£Èù¢ËØÑ‰ª∑ËøòÊòØË¥üÈù¢ËØÑ‰ª∑Ôºå‰∫∫Â∫îËØ•ËÉΩÊúâ 100% ÁöÑÂáÜÁ°ÆÁéáÔºåËøô‰∏™Êï∞ÊçÆÈõÜË¢´ÂàÜÊàê‰∏§ÂçäÔºå2 ‰∏á 5 ÂçÉÊù°‰Ωú‰∏∫ËÆ≠ÁªÉÊï∞ÊçÆ &lt;code>Train&lt;/code>ÔºåÂè¶Â§ñ 2 ‰∏á 5 ÂçÉÊù°‰Ωú‰∏∫ÊµãËØïÊï∞ÊçÆ &lt;code>Test&lt;/code>„ÄÇ&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>‰Ω†ÂèØ‰ª•Âú®‰∏ãÈù¢ÁöÑÈìæÊé•‰∏≠Ëé∑ÂèñÂà∞Êï∞ÊçÆÈõÜÔºö&lt;a class="link" href="https://ai.stanford.edu/~amaas/data/sentiment/" target="_blank" rel="noopener"
>https://ai.stanford.edu/~amaas/data/sentiment/&lt;/a>&lt;/p>
&lt;h2 id="-ÊñáÊú¨Â§ÑÁêÜÊñáÊú¨Â§ÑÁêÜ">üîñ ÊñáÊú¨Â§ÑÁêÜÊñáÊú¨Â§ÑÁêÜ&lt;/h2>
&lt;p>Âú®ËØçÂµåÂÖ• &lt;code>Word Embedding&lt;/code> ÂíåÊê≠Âª∫Êú∫Âô®Â≠¶‰π†Ê®°Âûã‰πãÂâçÔºåÈ¶ñÂÖàË¶ÅËøõË°åÊñáÊú¨Â§ÑÁêÜÔºåÂ∞ÜÊñáÊú¨ÂèòÊàêÂ∫èÂàó &lt;code>Sequence&lt;/code>ÔºåÊñáÊú¨Â§ÑÁêÜÂæàÊó†ËÅäÔºå‰ΩÜÊàë‰ª¨Â∫îËØ•ÈáçËßÜÂÆÉÔºåÊñáÊú¨Â§ÑÁêÜÁöÑÂ•ΩÂùèÔºå‰ºöÁõ¥Êé•ÂΩ±ÂìçÊú∫Âô®Â≠¶‰π†Ê®°ÂûãÁöÑÂáÜÁ°ÆÁéá„ÄÇ&lt;/p>
&lt;h3 id="-tokenization">üöÄ Tokenization&lt;/h3>
&lt;p>ÊñáÊú¨Â§ÑÁêÜÁöÑÁ¨¨‰∏ÄÊ≠•ÊòØ &lt;code>Tokenization&lt;/code>ÔºåÊääÊñáÊú¨ÂàÜÂâ≤ÊàêÂæàÂ§ö &lt;code>tokens&lt;/code>ÔºåËøôÈáåÊàë‰ª¨ÊääÊñáÊú¨ÂàÜÂâ≤ÊàêÂæàÂ§öÂçïËØçÔºå‰∏Ä‰∏™ &lt;code>token&lt;/code> Â∞±ÊòØ‰∏Ä‰∏™ÂçïËØçÔºàÂÅáÂ¶Ç‰Ω†ÊääÊñáÊú¨ÂàÜÂâ≤ÊàêÂ≠óÁ¨¶ÔºåÈÇ£‰πà‰∏Ä‰∏™ &lt;code>token&lt;/code> Â∞±ÊòØ‰∏Ä‰∏™Â≠óÁ¨¶ÔºâÔºåÂÅöÂÆå &lt;code>Tokenization&lt;/code>Ôºå‰∏Ä‰∏™ÂæàÈïøÁöÑÂ≠óÁ¨¶‰∏≤Â∞±Ë¢´ÂàÜÂâ≤Êàê‰∏Ä‰∏™ÂæàÂ§öÂçïËØçÁöÑÂàóË°®„ÄÇ&lt;!-- raw HTML omitted -->&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/02/1.png"
loading="lazy"
alt="1"
>&lt;/p>
&lt;p>&lt;code>Tokenization&lt;/code> ÁúãËµ∑Êù•ÂæàÁÆÄÂçïÔºå‰ΩÜÊòØËÆ≤Á©∂ÂæàÂ§ö„ÄÇÊØîÂ¶ÇÔºö&lt;/p>
&lt;ul>
&lt;li>üå∞ ÊòØÂê¶Â∫îËØ•ÊääÂ§ßÂÜôÂèòÊàêÂ∞èÂÜôÔºü&lt;/li>
&lt;/ul>
&lt;p>ÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÂ∫îËØ•ÊääÂ§ßÂÜôÂèòÊàêÂ∞èÂÜôÔºåÂ§ßÂ∞èÂÜôÂçïËØçÈÄöÂ∏∏ÊòØ‰∏Ä‰∏™ÊÑèÊÄùÔºõ‰ΩÜÊúâÊó∂ÂÄô‰ºöÊ∑∑Ê∑ÜÂçïËØçÔºàApple -&amp;gt; appleÔºâÔºåÊØîÂ¶Ç Apple ÊòØËãπÊûúÂÖ¨Âè∏Ôºåapple ÊòØÊ∞¥ÊûúÔºåÂ§ßÂ∞èÂÜôÁöÑ apple Âπ∂‰∏çÊòØÁõ∏ÂêåÁöÑÂçïËØç„ÄÇ&lt;/p>
&lt;ul>
&lt;li>üå∞ ÂéªÈô§ÂÅúÁî®ËØç„ÄÇ&lt;code>stop word&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Êúâ‰∫õÂ∫îÁî®‰ºöÂéªÈô§ stop wordÔºåÂÆÉÊòØ the„ÄÅa„ÄÅof Á≠âÊúÄÈ´òÈ¢ëÁöÑÂçïËØçÔºåËøô‰∫õËØçÂá†‰πéÂá∫Áé∞Âú®ÊâÄÊúâÁöÑÂè•Â≠êÈáåÔºåÂØπËøô‰∏™‰∫åÂàÜÁ±ªÈóÆÈ¢òÂá†‰πéÊòØÊ≤°ÊúâÂ∏ÆÂä©„ÄÇ&lt;/p>
&lt;ul>
&lt;li>üå∞ ÊãºÂÜôÁ∫†Èîô„ÄÇ&lt;/li>
&lt;/ul>
&lt;p>Áî®Êà∑ÂèëÁîµÂΩ±ËØÑËÆ∫ÁöÑÊó∂ÂÄôÔºåÂ§ßÈÉ®ÂàÜÊÉÖÂÜµ‰∏ãÂπ∂‰∏ç‰ºö‰ªîÁªÜÊ£ÄÊü•ÔºåÊâÄ‰ª•ÂÜôÁöÑ‰∏úË•øÈöæÂÖç‰ºöÊúâÊãºÂÜôÈîôËØØÔºåÊâÄ‰ª•ÂÅöÊãºÂÜôÁ∫†ÈîôÈÄöÂ∏∏ÊòØÊúâÁî®ÁöÑ„ÄÇ&lt;/p>
&lt;p>ËøôÈáåÂè™ÊòØ‰∏æ‰∫ÜÂá†‰∏™‰æãÂ≠êÔºåÂÆûÈôÖ‰∏äÂÅö &lt;code>Tokenization&lt;/code> ÁöÑÊó∂ÂÄôÈúÄË¶ÅÂÅöÂ§ßÈáèÁöÑÂ∑•‰ΩúÔºå&lt;code>Tokenization&lt;/code> Áúã‰ººÁÆÄÂçïÔºå‰ΩÜÂÆûÈôÖ‰∏äÂπ∂‰∏çÂÆπÊòì„ÄÇ&lt;/p>
&lt;h3 id="-build-dictionary">üß∞ Build Dictionary&lt;/h3>
&lt;p>Á¨¨‰∫åÊ≠•ÊòØÂª∫Á´ã‰∏Ä‰∏™Â≠óÂÖ∏„ÄÇÂèØ‰ª•ÂÖàÁªüËÆ°ËØçÈ¢ëÔºåÂéªÊéâ‰∏Ä‰∫õ‰ΩéÈ¢ëËØçÔºåËÆ©ÂêéËÆ©ÊØè‰∏™ÂçïËØçÂØπÂ∫î‰∏Ä‰∏™Ê≠£Êï¥Êï∞ÔºåÊØîÂ¶ÇËÆ© &lt;code>the -&amp;gt; 1; cat -&amp;gt; 2; sat -&amp;gt; 3&lt;/code>„ÄÇÊúâ‰∫ÜËøô‰∏™Â≠óÂÖ∏ÔºåÂ∞±ÂèØ‰ª•ÊääÊØè‰∏™ÂçïËØçÂØπÂ∫îÂà∞‰∏Ä‰∏™Êï¥Êï∞ÔºåËøôÊ†∑‰∏ÄÊù•Ôºå‰∏ÄÂè•ËØùÂ∞±ÂèØ‰ª•Áî®Ê≠£Êï¥Êï∞ÁöÑÂàóË°®Ë°®Á§∫ÔºåËøô‰∏™ÂàóË°®Ë¢´Áß∞‰∏∫Â∫èÂàó &lt;code>Sequences&lt;/code>„ÄÇ&lt;!-- raw HTML omitted -->&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/02/2.png"
loading="lazy"
alt="2"
>&lt;/p>
&lt;p>Â¶ÇÊûúÊúâÂøÖË¶ÅÁöÑËØùÔºåËøòÂæóËøõ‰∏ÄÊ≠•ÂÅö &lt;code>one-hot encoding&lt;/code>ÔºåÊääÂçïËØçË°®Á§∫Êàê &lt;code>one-hot&lt;/code> ÂêëÈáè„ÄÇ&lt;/p>
&lt;p>Âú®ÁîµÂΩ±ËØÑËÆ∫ÁöÑ‰æãÂ≠êÈáåÔºåÊï∞ÊçÆÊòØ 5 ‰∏áÊù°ÁîµÂΩ±ËØÑËÆ∫ÔºåÊØèÊù°ÁîµÂΩ±ËØÑËÆ∫ÂèØ‰ª•Ë°®Á§∫Êàê‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤„ÄÇÂÅöÂÆå &lt;code>Tokenization&lt;/code> Âíå &lt;code>Encoding&lt;/code> ÂêéÔºåÊØèÊù°ÁîµÂΩ±ËØÑËÆ∫ÈÉΩ‰ºöËΩ¨Êç¢Êàê‰∏Ä‰∏™ &lt;code>Sequences&lt;/code>Ôºå‰πüÂ∞±ÊòØ‰∏Ä‰∏™Ê≠£Êï¥Êï∞ÁöÑÂàóË°®„ÄÇ&lt;!-- raw HTML omitted -->&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/02/3.png"
loading="lazy"
alt="3"
>&lt;/p>
&lt;p>ÁîµÂΩ±ËØÑËÆ∫ÊúâÈïøÊúâÁü≠ÔºåÊúâ‰∫∫Âè™ËÉΩÂÜôÂá†‰∏™Â≠óÁöÑËØÑËÆ∫ÔºåÊúâ‰∫∫ËÉΩÊ¥ãÊ¥ãÊ¥íÊ¥íÂÜôÂá†ÂçÉÂ≠óÔºåÊâÄ‰ª•ÂæóÂà∞ÁöÑËøô‰∫õ &lt;code>Sequences&lt;/code> ÁöÑÈïøÂ∫¶‰πüÂêÑ‰∏çÁõ∏Âêå„ÄÇÊØîÂ¶ÇËøô‰∏§Êù° &lt;code>Sequences&lt;/code> ÁöÑÈïøÂ∫¶ÂàÜÂà´ÊòØ 52 Âíå 90„ÄÇ&lt;!-- raw HTML omitted -->&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/02/4.png"
loading="lazy"
alt="4"
>&lt;/p>
&lt;p>ËøôÂ∞±ÈÄ†Êàê‰∫Ü‰∏Ä‰∏™ÈóÆÈ¢òÔºåËÆ≠ÁªÉÊï∞ÊçÆÊ≤°ÊúâÂØπÈΩêÔºåÊØèÊù° &lt;code>Sequences&lt;/code> ÈÉΩÊúâ‰∏çÂêåÁöÑÈïøÂ∫¶„ÄÇÂÅöÊú∫Âô®Â≠¶‰π†ÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÈúÄË¶ÅÊääÊï∞ÊçÆÂ≠òÂÇ®Âà∞Áü©ÈòµÊàñËÄÖÂº†ÈáèÈáåÔºåÊØèÊù°Â∫èÂàóÈÉΩÂæóÊúâÁõ∏ÂêåÁöÑÈïøÂ∫¶ÔºåÈúÄË¶ÅÊääÂ∫èÂàóÂØπÈΩê„ÄÇ&lt;!-- raw HTML omitted -->&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/02/5.png"
loading="lazy"
alt="5"
>&lt;/p>
&lt;p>Ëß£ÂÜ≥ÊñπÊ°àÊòØËøôÊ†∑ÁöÑÔºöÊàë‰ª¨ÂèØ‰ª•Âõ∫ÂÆöÈïøÂ∫¶‰∏∫ $w$„ÄÇÂÅáÂ¶Ç‰∏Ä‰∏™Â∫èÂàóÈïøÂ∫¶Â§™ÈïøÔºåË∂ÖËøá‰∫Ü $w$ ‰∏™ËØçÔºåÂ∞±Á†çÊéâÂâçÈù¢ÁöÑËØçÔºåÂè™‰øùÁïôÊúÄÂêéÈù¢ $w$‰∏™ËØçÔºàÂΩìÁÑ∂‰øùÁïôÊúÄÂâçÈù¢ $w$ ‰∏™ËØç‰πüÂêåÊ†∑ÂèØ‰ª•ÔºâÔºõÂÅáÂ¶Ç‰∏Ä‰∏™Â∫èÂàóÂ§™Áü≠Ôºå‰∏çÂà∞ $w$ ‰∏™ËØçÔºåÈÇ£‰πàÂ∞±ÂÅö &lt;code>zero padding&lt;/code> Áî® 0 Êù•Ë°•ÈΩêÔºåÊääÈïøÂ∫¶Â¢ûÂä†Âà∞ $w$„ÄÇ&lt;!-- raw HTML omitted -->&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/02/6.png"
loading="lazy"
alt="6"
>&lt;/p>
&lt;p>ËøôÊ†∑‰∏ÄÊù•ÔºåÊâÄÊúâÂ∫èÂàóÁöÑÈïøÂ∫¶ÈÉΩÊòØ $w$ÔºåÂèØ‰ª•Â≠òÂÇ®Âà∞‰∏Ä‰∏™Áü©ÈòµÈáå„ÄÇ&lt;/p>
&lt;h2 id="-ËØçÂµåÂÖ•">üçÄÔ∏è ËØçÂµåÂÖ•&lt;/h2>
&lt;p>ÊñáÊú¨Â§ÑÁêÜÂ∑≤ÁªèÂÆåÊàê‰∫ÜÔºåÁé∞Âú®ÊØè‰∏™ËØçÈÉΩÁî®‰∏Ä‰∏™Ê≠£Êï¥Êï∞Êù•Ë°®Á§∫Ôºå‰∏ã‰∏ÄÊ≠•ÊòØ &lt;code>Word Embedding&lt;/code>ÔºåÊääÊØè‰∏™ËØçÈÉΩË°®Á§∫‰∏∫‰∏Ä‰∏™‰∏ÄÁª¥ÂêëÈáè„ÄÇ&lt;/p>
&lt;p>Áé∞Âú®ÊØè‰∏™ÂçïËØçÈÉΩÁî®‰∏Ä‰∏™Êï∞Â≠óÊù•Ë°®Á§∫ÔºåËØ•ÊÄé‰πàÊääËøô‰∫õ &lt;code>Categorical&lt;/code> ÁâπÂæÅË°®Á§∫‰∏∫Êï∞ÂÄºÂêëÈáèÂë¢Ôºü&lt;!-- raw HTML omitted -->&lt;/p>
&lt;p>ÊòæÁÑ∂ÂèØ‰ª•ÂÅö &lt;code>one-hot encoding&lt;/code>ÔºåÁî®‰∏Ä‰∏™ &lt;code>one-hot&lt;/code> ÂêëÈáèÊù•Ë°®Á§∫‰∏Ä‰∏™ÂçïËØç„ÄÇ&lt;!-- raw HTML omitted -->
ÊØîÂ¶Ç &lt;code>good: index = 2&lt;/code>Ôºå‰∫éÊòØ‰ΩøÁî®Ê†áÂáÜÊ≠£‰∫§ÁßØ $e_2$ Êù•Ë°®Á§∫ÔºåÂÆÉÁöÑÁ¨¨‰∫å‰∏™ÂÖÉÁ¥†ÊòØ 1ÔºåÂÖ∂‰ΩôÂÖÉÁ¥†ÈÉΩÊòØ 0Ôºå$e_2=[0, 1, 0, 0, &amp;hellip;, 0]$&lt;/p>
&lt;p>ÂÅáÂ¶Ç &lt;code>vocabulary = v&lt;/code>Ôºå‰πüÂ∞±ÊòØËØ¥Â≠óÂÖ∏Èáå‰∏ÄÂÖ±Êúâ $v$ ‰∏™ÂçïËØçÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÁª¥Â∫¶ &lt;code>dimension = v&lt;/code> ÁöÑ &lt;code>one-hot&lt;/code> ÂêëÈáèÔºåË¶ÅÊòØÂ≠óÂÖ∏ÈáåÊúâ 1 ‰∏á‰∏™ÂçïËØçÔºåÈÇ£‰πàËøô‰∫õ &lt;code>one-hot&lt;/code> ÂêëÈáèÈÉΩÊòØ 1 ‰∏áÁª¥ÁöÑÔºåËøôÊ†∑ÁöÑÂêëÈáèÁª¥Â∫¶ÊòØÂú®Â§™È´ò‰∫Ü„ÄÇ‰∏ã‰∏ÄËäÇ‰ªãÁªç RNN ÁöÑÊó∂ÂÄô‰Ω†‰ºöÁúãÂà∞ÔºåRNN ÁöÑÂèÇÊï∞Êï∞ÈáèÊ≠£ÊØî‰∫éËæìÂÖ•ÂêëÈáèÁöÑÁª¥Â∫¶ÔºåÊàë‰ª¨ËÇØÂÆö‰∏çÊÉ≥ËÆ©ËæìÂÖ•ÁöÑÂêëÈáèÊòØ 1 ‰∏áÁª¥ÁöÑÔºåÂê¶Âàô‰∏ÄÂ±Ç RNN Â∞Ü‰ºöÊúâÂ•ΩÂá†ÂçÅ‰∏á‰∏™ÂèÇÊï∞„ÄÇÊâÄ‰ª•Êàë‰ª¨Ë¶ÅÂÅö &lt;code>Word Embedding&lt;/code>ÔºåÊääËøô‰∫õÈ´òÁª¥ &lt;code>one-hot&lt;/code> ÂêëÈáèÊò†Â∞ÑÂà∞‰ΩéÁª¥ÂêëÈáè„ÄÇ&lt;/p>
&lt;p>ÂÖ∑‰ΩìÂÅöÊ≥ïÊòØÂêß &lt;code>one-hot&lt;/code> ÂêëÈáè $e_i$ ‰πòÂà∞ÂèÇÊï∞Áü©Èòµ $P^T$ ‰∏äÔºåÁü©Èòµ $P^T$ ÁöÑÂ§ßÂ∞èÊòØ $d*v$„ÄÇÂÖ∂‰∏≠ $d$ ÊòØËØçÂêëÈáèÁöÑÁª¥Â∫¶ÔºåÁî±Áî®Êà∑Ëá™Â∑±ÂÜ≥ÂÆöÔºõ$v$ ÊòØ &lt;code>vocabulary&lt;/code>ÔºåË°®Á§∫Â≠óÂÖ∏ÈáåÂçïËØçÁöÑÊï∞Èáè„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/02/7.png"
loading="lazy"
alt="7"
>&lt;/p>
&lt;p>Áü©ÈòµÁöÑ‰πòÊ≥ïÁöÑÁªìÊûúËÆ∞ÂÅöÂêëÈáè $x_i$Ôºå$x_i$ Â∞±ÊòØ‰∏Ä‰∏™ËØçÂêëÈáèÔºåÁª¥Â∫¶ÊòØ $d*1$ÔºåÂ¶ÇÊûú &lt;code>one-hot&lt;/code> ÂêëÈáè $e$ ÁöÑÁ¨¨‰∏â‰∏™ÂÖÉÁ¥†ÊòØ 1ÔºåÈÇ£‰πà $x_i$ Â∞±ÊòØ $P^T$ Áü©ÈòµÁöÑÁ¨¨‰∏âÂàóÔºåÂèØ‰ª•ÁúãÂá∫Ôºå$P^T$ Áü©ÈòµÊØè‰∏ÄÂàóÈÉΩÊòØ‰∏Ä‰∏™ËØçÂêëÈáè„ÄÇ&lt;/p>
&lt;p>ÂêåÁêÜÔºå‰∏ãÈù¢Ëøô‰∏™ÂèÇÊï∞Áü©Èòµ $P$ ÁöÑÊØè‰∏ÄË°åÈÉΩÊòØ‰∏Ä‰∏™ËØçÂêëÈáè„ÄÇËøô‰∏™Áü©ÈòµÁöÑË°åÊï∞ÊòØ $v$Ôºå‰πüÂ∞±ÊòØ &lt;code>vocabulary&lt;/code>ÔºõÊØè‰∏ÄË°åÂØπÂ∫î‰∏Ä‰∏™ÂçïËØçÔºåÁü©ÈòµÁöÑÂàóÊï∞ÊòØ $d$Ôºå$d$ ÊòØÁî®Êà∑ÂÜ≥ÂÆöÁöÑÔºå$d$ ÁöÑÂ§ßÂ∞è‰ºöÂΩ±ÂìçÊú∫Âô®Â≠¶‰π†Ê®°ÂûãÁöÑË°®Áé∞ÔºåÂ∫îËØ•Áî® ‰∫§ÂèâÈ™åËØÅ &lt;code>Cross Validation&lt;/code> Áî®Êù•ÈÄâÊã©‰∏Ä‰∏™ÊØîËæÉÂ•ΩÁöÑ $d$„ÄÇ&lt;/p>
&lt;p>Â≠óÂÖ∏ÈáåÁöÑÁ¨¨‰∏Ä‰∏™ËØçÁöÑÊòØ &lt;code>movie&lt;/code>ÔºåÈÇ£‰πàÁ¨¨‰∏ÄË°åÂ∞±ÊòØ &lt;code>movie&lt;/code> ÁöÑËØçÂêëÈáèÔºõÂ≠óÂÖ∏ÈáåÁöÑÁ¨¨‰∫å‰∏™ËØçÊòØ &lt;code>good&lt;/code>ÔºåÈÇ£‰πàÁ¨¨‰∫åË°åÂ∞±ÊòØ &lt;code>good&lt;/code> ÁöÑËØçÂêëÈáè„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/02/8.png"
loading="lazy"
alt="8"
>&lt;/p>
&lt;p>Êàë‰ª¨ÁöÑ‰ªªÂä°ÊòØÂà§Êñ≠ÁîµÂΩ±ËØÑËÆ∫ÊòØÊ≠£Èù¢ÁöÑËøòÊòØË¥üÈù¢ÁöÑÔºåËøô‰∏™ÂèÇÊï∞Áü©ÈòµÊòØ‰ªéËÆ≠ÁªÉÊï∞ÊçÆ‰∏≠Â≠¶‰π†Âá∫Êù•ÁöÑÔºåÊâÄ‰ª•Ëøô‰∫õËØçÂêëÈáèÈÉΩÂ∏¶ÊúâÊÑüÊÉÖËâ≤ÂΩ©ÔºåÂÅáÂ¶ÇËøô‰∫õËØçÂêëÈáèÈÉΩÊòØ‰∫åÁª¥ÁöÑÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•Âú®Âπ≥Èù¢ÂùêÊ†áÁ≥ª‰∏≠Ê†áÂá∫Ëøô‰∫õËØçÂêëÈáè„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/02/9.png"
loading="lazy"
alt="9"
>&lt;/p>
&lt;p>&lt;code>fantastic; good; fun&lt;/code> Ëøô‰∫õËØçÂêëÈáèÈÉΩÂ∏¶ÊúâÊ≠£Èù¢ÊÉÖÊÑüÔºåÊâÄ‰ª•Ëøô‰∏â‰∏™ËØçÁöÑËØçÂêëÈáèÂ≠¶Âá∫Êù•ÈÉΩÊØîËæÉÊé•ËøëÔºõÂêåÁêÜÔºå&lt;code>poor; boring; mediocre&lt;/code> Ëøô‰∫õËØçÂ∏¶ÊúâË¥üÈù¢ÊÉÖÊÑüÔºåÊâÄ‰ª•Â≠¶Âá∫Êù•ÁöÑËØçÂêåÊ†∑‰πüÂ∫îËØ•ÊØîËæÉÊé•ËøëÔºå‰ΩÜÊòØËøô‰∫õËØçÁöÑËØçÂêëÈáèÂ∫îËØ•ËøúÁ¶ªÊ≠£Èù¢Ëâ≤ÂΩ©ÁöÑËØçÂêëÈáè„ÄÇÂÉè &lt;code>movie; is&lt;/code> ËøôÊ†∑ÁöÑ‰∏≠ÊÄßËØçÔºåÊ≤°ÊúâÊÑüÊÉÖËâ≤ÂΩ©ÔºåÂÆÉ‰ª¨Â∫îËØ•Âú®‰∏≠Èó¥„ÄÇ&lt;/p>
&lt;h2 id="-ÊÄªÁªì">üéê ÊÄªÁªì&lt;/h2>
&lt;p>ÊúÄÂêéÊÄªÁªì‰∏Ä‰∏ãËøô‰∏ÄÁ´†ÁöÑÂÜÖÂÆπ„ÄÇ&lt;/p>
&lt;p>Ëøô‰∏ÄËäÇ‰∏äÂçäÈÉ®ÂàÜÔºåËØ¥Êòé‰∫ÜÊñáÊú¨Â§ÑÁêÜÊòØ‰ªÄ‰πàÊ†∑ÁöÑ„ÄÇÁªôÊàë‰ª¨‰∏ÄÊù°ÁîµÂΩ±ËØÑËÆ∫ÔºåÈ¶ñÂÖàÂÅö &lt;code>Tokenization&lt;/code>ÔºåÊääÁîµÂΩ±ËØÑËÆ∫ÂàÜÂâ≤ÊàêÂæàÂ§öÂçïËØçÔºåÁÑ∂ÂêéÊääÂæàÂ§öÂçïËØçÁºñÁ†ÅÊàêÊï∞Â≠óÔºåËøôÊ†∑‰∏ÄÊï¥Êù°ÁîµÂΩ±ËØÑËÆ∫Â∞±ÂèØ‰ª•ÂæàÂ§öÊ≠£Êï¥Êï∞Êù•Ë°®Á§∫ÔºåÊàë‰ª¨ÊääËøô‰∏™Ê≠£Êï¥Êï∞Â∫èÂàóÂè´ÂÅö &lt;code>Sequences&lt;/code>ÔºåÂ∞±ÊòØÁ•ûÁªèÁΩëÁªú‰∏≠ &lt;code>Embedding&lt;/code> Â±ÇÁöÑËæìÂÖ•„ÄÇÁî±‰∫éÁîµÂΩ±ËØÑËÆ∫ÁöÑÈïøÁü≠‰∏ç‰∏ÄÔºåÂæóÂà∞ÁöÑ &lt;code>Sequence&lt;/code> ÁöÑÈïøÁü≠‰πü‰∏ç‰∏ÄÊ†∑ÔºåÊ≤°ÂäûÊ≥ïÂ≠òÂÇ®Âú®‰∏Ä‰∏™Áü©ÈòµÈáåÔºåËß£ÂÜ≥ÊñπÊ°àÊòØ &lt;code>Alignment&lt;/code> ÂØπÈΩê„ÄÇÂÅáËÆæÊúÄÂ§ßÈïøÂ∫¶‰∏∫ &lt;code>20&lt;/code>ÔºåÂ¶ÇÊûúÈïøÂ∫¶Â§ß‰∫é&lt;code>20&lt;/code>ÔºåÂ∞±Âè™‰øùÁïôÊúÄÂêé &lt;code>20&lt;/code> ‰∏™ÂçïËØçÔºõÂ¶ÇÊûúÈïøÂ∫¶‰∏çÂà∞ &lt;code>20&lt;/code>ÔºåÂ∞±Áî® &lt;code>0&lt;/code> Ë°•ÈΩêÔºåÊääÈïøÂ∫¶Â¢ûÂä†Âà∞ &lt;code>20&lt;/code>„ÄÇËøôÊ†∑‰∏ÄÊù•ÔºåÊØè‰∏™ &lt;code>Sequences&lt;/code> ÈïøÂ∫¶ÈÉΩÁõ∏Âêå„ÄÇ&lt;/p></description></item><item><title>RNN</title><link>https://emerywan.github.io/blog/p/nlp-in-action/simple-rnn/</link><pubDate>Tue, 08 Mar 2022 20:36:14 +0800</pubDate><guid>https://emerywan.github.io/blog/p/nlp-in-action/simple-rnn/</guid><description>&lt;img src="https://nlp.letout.cn/img/banner.png" alt="Featured image of post RNN" />&lt;hr>
&lt;p>&lt;a class="link" href="https://nlp.letout.cn/nlp/simple-rnn" target="_blank" rel="noopener"
>üö≤ ËΩ¨Âà∞ https://nlp.letout.cn üîî RNN ‚û°Ô∏è&lt;/a>&lt;/p>
&lt;hr>
&lt;p>Ëøô‰∏ÄËäÇÊàë‰ª¨Êù•Â≠¶‰π†&lt;strong>Âæ™ÁéØÁ•ûÁªèÁΩëÁªú&lt;/strong>&lt;code>Recurrent Neural Networks&lt;/code>„ÄÇÊú¨ËäÇÁöÑÂÜÖÂÆπÊòØ &lt;code>Simple RNN&lt;/code>Ôºå‰ª•ÂèäÁî® &lt;code>Pytorch&lt;/code> ÁºñÁ®ãÂÆûÁé∞ &lt;code>Simple RNN&lt;/code>„ÄÇ&lt;/p>
&lt;h2 id="-ÁÆÄ‰ªã">üå± ÁÆÄ‰ªã&lt;/h2>
&lt;p>Áé∞Âú® &lt;code>RNN&lt;/code> Ê≤°Êúâ‰ª•ÂâçÊµÅË°åÔºåÂ∞§ÂÖ∂ÊòØÂú®Ëá™ÁÑ∂ËØ≠Ë®ÄÂ§ÑÁêÜ‰∏äÔºå&lt;code>RNN&lt;/code> Â∑≤ÁªèÊúâ‰∏Ä‰∫õËøáÊó∂‰∫ÜÔºåÂ¶ÇÊûúËÆ≠ÁªÉÁöÑÊï∞ÊçÆË∂≥Â§üÂ§öÔºå&lt;code>RNN&lt;/code> ÁöÑÊïàÊûú‰∏çÂ¶Ç &lt;code>Transformer&lt;/code> Ê®°ÂûãÔºå‰ΩÜÊòØÂú®Â∞èËßÑÊ®°ÁöÑÈóÆÈ¢ò‰∏äÔºå&lt;code>RNN&lt;/code> ËøòÊòØÂæàÊúâÁî®ÁöÑ„ÄÇ&lt;/p>
&lt;h2 id="-Â¶Ç‰ΩïÂª∫Ê®°Êó∂Â∫èÊï∞ÊçÆ">üîñ Â¶Ç‰ΩïÂª∫Ê®°Êó∂Â∫èÊï∞ÊçÆÔºü&lt;/h2>
&lt;p>Êú∫Âô®Â≠¶‰π†‰∏≠ÁªèÂ∏∏Áî®Âà∞ÊñáÊú¨„ÄÅËØ≠Èü≥Á≠â &lt;strong>Êó∂Â∫èÊï∞ÊçÆ&lt;/strong>&lt;code>sequential data&lt;/code>ÔºàÊåâÊó∂Èó¥È°∫Â∫èËÆ∞ÂΩïÁöÑÊï∞ÊçÆÂàóÔºåÊúâÈïøÂ∫¶‰∏çÂõ∫ÂÆöÁöÑÁâπÁÇπÔºâ„ÄÇ&lt;/p>
&lt;p>È¶ñÂÖàÊÄùËÄÉ‰∏Ä‰∏™ÈóÆÈ¢òÔºåÊÄé‰πàÂØπËøôÊ†∑ÁöÑÊó∂Â∫èÊï∞ÊçÆËøõË°åÂª∫Ê®°Ôºü
Âú®‰∏ä‰∏ÄÂ∞èËäÇ‰∏≠ÔºåÊàë‰ª¨Â∞Ü‰∏ÄÊÆµÊñáÂ≠óÊï¥‰ΩìËæìÂÖ•Âà∞‰∏Ä‰∏™ÈÄªËæëÂõûÂΩí &lt;code>Logistic Regression&lt;/code> Ê®°Âûã‰∏≠ÔºåËÆ©Ê®°ÂûãÊù•ÂÅö‰∫åÂàÜÁ±ªÔºåËøôÂ±û‰∫é‰∏Ä‰∏™ &lt;code>one-to-one&lt;/code> Ê®°ÂûãÔºå‰∏Ä‰∏™ËæìÂÖ•ÂØπÂ∫î‰∏Ä‰∏™ËæìÂá∫„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/03/1.png"
loading="lazy"
alt="1"
>&lt;/p>
&lt;p>ÂÖ®ËøûÊé•Á•ûÁªèÁΩëÁªúÂíåÂç∑ÁßØÁ•ûÁªèÁΩëÁªúÈÉΩÂ±û‰∫é &lt;code>one-to-one&lt;/code> Ê®°Âûã„ÄÇ&lt;/p>
&lt;p>‰∫∫ËÑëÂπ∂‰∏ç‰ºö‰ΩøÁî® &lt;code>one-to-one&lt;/code> Ê®°ÂûãÂ§ÑÁêÜÊó∂Â∫èÊï∞ÊçÆÔºå‰∏ç‰ºöÊää‰∏ÄÊï¥ÊÆµÊñáÂ≠óÂÖ®ÈÉ®ËæìÂÖ•Âà∞Â§ßËÑëÔºåÊàë‰ª¨Âú®ÈòÖËØªÁöÑÊó∂ÂÄôÔºå‰ºö‰ªéÂ∑¶Âà∞Âè≥ÈòÖËØª‰∏ÄÊÆµÊñáÂ≠óÔºå‰∏çÊñ≠Âú∞Âú®Â§ßËÑëÈáåÁßØÁ¥Ø‰ø°ÊÅØÔºåÈòÖËØª‰∏ÄÊÆµËØù‰πãÂêéÔºå‰Ω†ËÑëÂ≠êÈáåÂ∞±ÁßØÁ¥Ø‰∫Ü‰∏ÄÊÆµÊñáÂ≠óÁöÑÂ§ßÊÑè„ÄÇ&lt;/p>
&lt;p>&lt;code>one-to-one&lt;/code> Ê®°ÂûãË¶ÅÊ±Ç‰∏Ä‰∏™ËæìÂÖ•ÂØπÂ∫î‰∏Ä‰∏™ËæìÂá∫ÔºåÊØîÂ¶ÇÔºöËæìÂÖ•‰∏ÄÂº†ÂõæÁâáÔºåËæìÂá∫ÊØè‰∏ÄÁ±ªÁöÑÊ¶ÇÁéáÂÄºÔºå&lt;code>one-to-one&lt;/code> ÁöÑÊ®°ÂûãÊØîËæÉÈÄÇÂêàËøôÁ±ªÂõæÁâáÈóÆÈ¢òÔºå‰ΩÜÊòØ‰∏çÂ§™ÈÄÇÂêàÊñáÊú¨ÈóÆÈ¢ò„ÄÇ&lt;/p>
&lt;p>ÂØπ‰∫éÊñáÊú¨ÈóÆÈ¢òÔºåËæìÂÖ•ÂíåËæìÂá∫ÁöÑÈïøÂ∫¶Âπ∂‰∏çÂõ∫ÂÆöÔºå‰∏ÄÊÆµËØùÂèØÈïøÂèØÁü≠ÔºåÊâÄ‰ª•ËæìÂÖ•ÁöÑÈïøÂ∫¶Âπ∂‰∏çÂõ∫ÂÆöÔºõËæìÂá∫ÁöÑÈïøÂ∫¶‰πü‰∏çÂõ∫ÂÆöÔºåÊØîÂ¶ÇÂ∞ÜËã±ËØ≠ÁøªËØëÊàêÊ±âËØ≠Ôºå‰∏ÄÂè•Ëã±ËØ≠ÊúâÂçÅ‰∏™ÂçïËØçÔºåÁøªËØëÊàêÊ±âËØ≠ÂèØËÉΩÊúâÂçÅ‰∏™Â≠óÔºåÂèØËÉΩÊúâÂÖ´‰∏™Â≠óÔºå‰πüÂèØËÉΩÊòØÂõõ‰∏™Â≠óÁöÑÊàêËØ≠ÔºåËæìÂá∫Ê±âËØ≠ÁöÑÂ≠óÊï∞Âπ∂‰∏çÂõ∫ÂÆöÔºåÁî±‰∫éËæìÂÖ•ÂíåËæìÂá∫ÁöÑÈïøÂ∫¶‰∏çÂõ∫ÂÆöÔºå&lt;code>one-to-one&lt;/code> Ê®°ÂûãÂ∞±‰∏çÂ§™ÈÄÇÂêà‰∫Ü„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/03/translation.png"
loading="lazy"
alt="translation"
>&lt;/p>
&lt;p>ÂØπ‰∫éÊó∂Â∫èÊï∞ÊçÆÔºåÊõ¥Â•ΩÁöÑÊòØ &lt;code>many-to-one&lt;/code> ÊàñËÄÖÊòØ &lt;code>many-to-many&lt;/code> Ê®°ÂûãÔºå&lt;code>RNN&lt;/code> Â∞±ÊòØËøôÊ†∑ÁöÑÊ®°ÂûãÔºåËæìÂÖ•ÂíåËæìÂá∫ÁöÑÈïøÂ∫¶ÈÉΩ‰∏çÂõ∫ÂÆö„ÄÇÊâÄ‰ª• &lt;code>RNN&lt;/code> ÂæàÈÄÇÂêàËØ≠Èü≥ÔºåÊñáÊú¨Á≠âÊó∂Â∫èÂ∫èÂàóÊï∞ÊçÆ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/03/2.png"
loading="lazy"
alt="2"
>&lt;/p>
&lt;h2 id="-rnn">üçÄÔ∏è RNN&lt;/h2>
&lt;p>&lt;code>RNN&lt;/code> ÂíåË∑ü‰∫∫ÁöÑÈòÖËØª‰π†ÊÉØÂæàÁ±ª‰ººÔºö‰∫∫ÊØèÊ¨°Áúã‰∏Ä‰∏™ËØçÔºå‰ºöÈÄêÊ∏êÂú®Â§ßËÑëÈáåÁßØÁ¥Ø‰ø°ÊÅØÔºõ&lt;code>RNN&lt;/code> ÊØèÁúã‰∏Ä‰∏™ËØçÔºå‰ºöÁî®Áä∂ÊÄÅÂêëÈáè $h$ Êù•ÁßØÁ¥ØÈòÖËØªËøáÁöÑ‰ø°ÊÅØ„ÄÇ&lt;/p>
&lt;p>È¶ñÂÖàÔºåÊàë‰ª¨Â∞ÜËæìÂÖ•ÁöÑÊØè‰∏™ËØçÁî® ËØçÂµåÂÖ•&lt;code>word embedding&lt;/code> ÂèòÊàê‰∏Ä‰∏™ËØçÂêëÈáè $x$„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/03/3.png"
loading="lazy"
alt="3"
>&lt;/p>
&lt;p>ÊØèÊ¨°Êää‰∏Ä‰∏™ËØçÂêëÈáèËæìÂÖ• &lt;code>RNN&lt;/code>ÔºåÂ∞±‰ºöÊõ¥Êñ∞Áä∂ÊÄÅ $h$ ÔºåÊääÊñ∞ÁöÑËæìÂÖ•ÁßØÁ¥ØÂà∞Áä∂ÊÄÅ $h$ ÈáåÈù¢„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/03/4.png"
loading="lazy"
alt="4"
>&lt;/p>
&lt;p>Âú® $h_0$‰∏≠ÔºåÂåÖÂê´‰∫ÜÁ¨¨‰∏Ä‰∏™ËØç &lt;code>the&lt;/code> ÁöÑ‰ø°ÊÅØÔºåÂú® $h_1$ ÈáåÈù¢ÔºåÂåÖÂê´‰∫ÜÂâç‰∏§‰∏™ &lt;code>the cat&lt;/code> ÁöÑ‰ø°ÊÅØÔºõ‰ª•Ê≠§Á±ªÊé®ÔºåÁä∂ÊÄÅ $h_2$ ÂåÖÂê´ ‰∫ÜÂâç‰∏â‰∏™ËØç &lt;code>the cat sat&lt;/code> ÁöÑ‰ø°ÊÅØÔºåÊúÄÂêé‰∏Ä‰∏™Áä∂ÊÄÅ $h_t$ ÂåÖÂê´‰∫ÜÊï¥Âè•ËØùÁöÑ‰ø°ÊÅØÔºåÂèØ‰ª•Êää $h_t$ ÁúãÂÅö &lt;code>RNN&lt;/code> ‰ªéÊï¥Âè•ËØù &lt;code>the cat sat on the mat&lt;/code> ÊäΩÂèñÁöÑÁâπÂæÅÂêëÈáèÔºåÂú®Êõ¥Êñ∞Áä∂ÊÄÅ $h$ ÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅÁî®Âà∞ÂèÇÊï∞Áü©Èòµ $A$„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/03/5.png"
loading="lazy"
alt="5"
>&lt;/p>
&lt;p>&lt;strong>Ê≥®ÊÑèÔºöÊï¥‰∏™ RNN Âè™Êúâ‰∏Ä‰∏™ÂèÇÊï∞Áü©Èòµ&lt;/strong> $A$„ÄÇÊó†ËÆ∫ËøôÊù°ÈìæÊúâÂ§öÈïøÔºåÂèÇÊï∞ $A$ Âè™Êúâ‰∏Ä‰∏™Ôºå$A$ ÈöèÊú∫ÂàùÂßãÂåñÔºåÁÑ∂ÂêéÂà©Áî®ËÆ≠ÁªÉÊï∞ÊçÆÊù•Â≠¶‰π† $A$„ÄÇ‰∏ãÈù¢È¶ñÂÖàËÆ≤Ëß£ &lt;code>Simple RNN Model&lt;/code>„ÄÇ&lt;/p>
&lt;h2 id="-simple-rnn">üöÄ Simple RNN&lt;/h2>
&lt;p>Êàë‰ª¨ÂÖ∑‰ΩìÁúãÁúãÔºå&lt;code>Simple RNN&lt;/code> ÁÆÄÂçïÂæ™ÁéØÁ•ûÁªèÁΩëÁªúÊòØÊÄé‰πàÊääËæìÂÖ•ÁöÑËØçÂêëÈáè $x$ÔºåÁªìÂêàÂà∞Áä∂ÊÄÅ $h$ ‰∏≠ÁöÑ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/03/6.png"
loading="lazy"
alt="6"
>&lt;/p>
&lt;p>Êàë‰ª¨Â∞Ü‰∏ä‰∏Ä‰∏™Áä∂ÊÄÅËÆ∞ÂÅö $h_t-1$ÔºåÊñ∞ËæìÂÖ•ËØçÂêëÈáèËÆ∞ÂÅö $x_t$ÔºåÂ∞ÜËøô‰∏§‰∏™ÂêëÈáèÂÅöÊãºÊé• &lt;code>concatenation&lt;/code>ÔºåÂæóÂà∞‰∏Ä‰∏™Êõ¥È´òÁª¥ÁöÑÂêëÈáè„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/03/8.png"
loading="lazy"
alt="8"
>&lt;/p>
&lt;p>Âõæ‰∏≠Ëøô‰∏™Áü©Èòµ $A$ ÊòØ &lt;code>RNN&lt;/code> ÁöÑÊ®°ÂûãÂèÇÊï∞ÔºåËøôÈáåËÆ°ÁÆóÁü©Èòµ $A$ ÂíåËøô‰∏™ÂêëÈáèÁöÑ‰πòÁßØÔºàÊãºÊé•ÂêéÁöÑÂêëÈáèÔºâÔºåÁü©ÈòµÂíåÂêëÈáèÁöÑ‰πòÁßØÊòØ‰∏Ä‰∏™ÂêëÈáèÔºåÁÑ∂Âêé‰ΩøÁî®ÊøÄÊ¥ªÂáΩÊï∞ &lt;code>tanh&lt;/code> ‰ΩúÁî®Âú®ÂêëÈáèÁöÑÊØè‰∏Ä‰∏™ÂÖÉÁ¥†‰∏äÔºåÊúÄÂêéÊääÊøÄÊ¥ªÂáΩÊï∞ÁöÑËæìÂá∫ËÆ∞ÂÅöÊñ∞ÁöÑÁä∂ÊÄÅ $h_t$„ÄÇ&lt;/p>
&lt;p>Ëøô‰∏™ÊøÄÊ¥ªÂáΩÊï∞Âºè ÂèåÊõ≤Ê≠£ÂàáÂáΩÊï∞ &lt;code>hyperbolic tangent function&lt;/code>ÔºåËæìÂÖ•ÊòØ‰ªªÊÑèÂÆûÊï∞ÔºåËæìÂá∫Âú® $(-1, +1)$ ‰πãÈó¥„ÄÇÁî±‰∫éÁî®‰∫ÜÂèåÊõ≤Ê≠£ÂàáÊøÄÊ¥ªÂáΩÊï∞ÔºåÂêëÈáè $h_t$ ÁöÑÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÈÉΩÂú® $(-1, +1)$ ‰πãÈó¥„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/03/7.png"
loading="lazy"
alt="hyperbolic tangent function"
>&lt;/p>
&lt;p>Ëøô‰∏™Á•ûÁªèÁΩëÁªúÁöÑÁªìÊûÑÂõæÂèØ‰ª•ËøôÊ†∑ÁêÜËß£ÔºöÊñ∞ÁöÑÁä∂ÊÄÅ $h_t$ÔºåÊòØÊóßÁä∂ÊÄÅ $h_{t-1}$ ÂíåÊñ∞ÁöÑËæìÂÖ• $x_t$ ÁöÑÂáΩÊï∞ÔºåÁ•ûÁªèÁΩëÁªúÊ®°ÂûãÁöÑÂèÇÊï∞ÊòØ $A$ÔºöÊñ∞ÁöÑÁä∂ÊÄÅ $h_t$Ôºå‰æùËµñ‰∫éÂêëÈáè $h_{t-1}$, ÂêëÈáè $x_t$ ‰ª•ÂèäÁü©Èòµ $A$„ÄÇ&lt;/p>
&lt;h3 id="-‰∏∫‰ªÄ‰πàÈúÄË¶Å‰ΩøÁî®-tanh-‰Ωú‰∏∫ÊøÄÊ¥ªÂáΩÊï∞">üé® ‰∏∫‰ªÄ‰πàÈúÄË¶Å‰ΩøÁî® &lt;code>tanh&lt;/code> ‰Ωú‰∏∫ÊøÄÊ¥ªÂáΩÊï∞Ôºü&lt;/h3>
&lt;p>Êàë‰ª¨ÊÄùËÄÉËøôÊ†∑‰∏Ä‰∏™ÈóÆÈ¢òÔºö‰∏∫‰ªÄ‰πàÈúÄË¶Å‰ΩøÁî® &lt;code>tanh&lt;/code> ‰Ωú‰∏∫ÊøÄÊ¥ªÂáΩÊï∞ÔºüËÉΩÂê¶Â∞ÜËøô‰∏™ÊøÄÊ¥ªÂáΩÊï∞ÂéªÊéâÔºåÂéªÊéâ‰πãÂêé‰ºöÂèëÁîü‰ªÄ‰πàÂë¢Ôºü&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/03/9.png"
loading="lazy"
alt="9"
>&lt;/p>
&lt;p>È¶ñÂÖàÊàë‰ª¨ÂÅö‰∏™ÁÆÄÂåñÔºåÂÅáËÆæËæìÂÖ•ÁöÑËØçÂêëÈáèÁöÑÂÖÉÁ¥†ÈÉΩÊòØ $0$„ÄÇÂ¶ÇÂõæÔºåËøôÁ≠âÂêå‰∫éËæìÂÖ•ÁöÑËØçÂêëÈáè $x_t$ ÈÉΩÂéªÊéâÔºåÊääÁü©Èòµ $A$ Âè≥Ëæπ‰∏ÄÂçä‰πüÂéªÊéâ„ÄÇ&lt;/p>
&lt;p>$x_0 = x_1 = &amp;hellip; = x_{100} = 0$&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/03/10.png"
loading="lazy"
alt="10"
>&lt;/p>
&lt;p>Ëøô‰πà‰∏ÄÊù•ÔºåÁ¨¨ &lt;code>100&lt;/code> Áª¥ÁöÑÁâπÂæÅÂêëÈáè $h_{100} = Ah_{99} = A^2h_{98} = &amp;hellip; = A^{100}h_0$„ÄÇ&lt;/p>
&lt;ul>
&lt;li>üå∞ ÂÅáËÆæÁü©Èòµ $A$ ÊúÄÂ§ßÁöÑÁâπÂæÅÂÄºÁï•Â∞è‰∫é &lt;code>1&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>ÊØîÂ¶ÇÔºåÊúÄÂ§ßÁöÑÁâπÂæÅÂÄºÁ≠â‰∫é &lt;code>0.9&lt;/code>„ÄÇÈÇ£‰πà‰ºöÂèëÁîü‰ªÄ‰πàÂë¢Ôºü&lt;/p>
&lt;p>$0.9^{100}$ ÈùûÂ∏∏Êé•Ëøë‰∫é &lt;code>0&lt;/code> ‰∫ÜÔºåÊâÄ‰ª•Áü©Èòµ $A^{100}$ ÈùûÂ∏∏Êé•Ëøë‰∫é &lt;code>0&lt;/code>ÔºåÈÇ£‰πàÊñ∞ÁöÑÁâπÂæÅÂêëÈáè $h_{100}$ ‰πüÂá†‰πé‰πüÊòØ‰∏Ä‰∏™ÂÖ®Èõ∂ÁöÑÂêëÈáè„ÄÇ&lt;/p>
&lt;ul>
&lt;li>üå∞ ÂÅáËÆæÁü©Èòµ $A$ ÊúÄÂ§ßÁöÑÁâπÂæÅÂÄºÁï•Â§ß‰∫é &lt;code>1&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>ÊØîÂ¶ÇÔºåÊúÄÂ§ßÁöÑÁâπÂæÅÂÄºÁ≠â‰∫é &lt;code>1.2&lt;/code>„ÄÇ&lt;/p>
&lt;p>$1.2^{100}=82817974.522$ÔºåÊâÄ‰ª•Áü©Èòµ $A^{100}$ ÁöÑÂÖÉÁ¥†ÈÉΩË∂ÖÁ∫ßÂ§ßÔºå$A^{100}$ÁöÑÊØè‰∏™ÂÖÉÁ¥†ÈÉΩÂæàÂ§ßÔºåÂÅáÂ¶ÇÂæ™ÁéØÁöÑÊ¨°Êï∞Êõ¥Â§ö‰∏Ä‰∫õÔºåÊàñËÄÖ $A$ ÁöÑÁâπÂæÅÂÄºÂÜçÂ§ß‰∏Ä‰∫õÔºåÁä∂ÊÄÅÂêëÈáèÁöÑÂÄºÂ∞±‰ºöÁàÜÁÇ∏„ÄÇ&lt;/p>
&lt;p>ÂÅáÂ¶ÇÊ≤°ÊúâËøô‰∏™ÊøÄÊ¥ªÂáΩÊï∞ &lt;code>tanh&lt;/code>ÔºåÊï∞ÂÄºËÆ°ÁÆóÁöÑÊó∂ÂÄôÂæàÊúâÂèØËÉΩ‰ºöÂá∫ÈóÆÈ¢òÔºåË¶Å‰πàËÆ°ÁÆóÂá∫ÁöÑÁªìÊûúÂÖ®ÈÉ®Á≠â‰∫é &lt;code>0&lt;/code>ÔºåË¶Å‰πàÁàÜÁÇ∏‰∫ÜÂÖ®ÈÉ®ÊòØ &lt;code>NaN: Not a Number&lt;/code>„ÄÇÈÄöËøá‰ΩøÁî®Ëøô‰∏™ÊøÄÊ¥ªÂáΩÊï∞ÔºåÊØèÊ¨°Êõ¥Êñ∞Áä∂ÊÄÅ $h$ ÂêéÔºåÈÉΩ‰ºöÂÅö‰∏Ä‰∏™Ê†áÂáÜÂåñÊìç‰Ωú &lt;code>normalization&lt;/code>ÔºåËÆ© $h$ ÊÅ¢Â§çÂà∞ $(-1, +1)$ Ëøô‰∏™ÂêàÈÄÇÁöÑÂå∫Èó¥Èáå„ÄÇ&lt;/p>
&lt;h3 id="-simple-rnn-Ê®°ÂûãÂèÇÊï∞Êï∞Èáè">üèùÔ∏è Simple RNN Ê®°ÂûãÂèÇÊï∞Êï∞Èáè&lt;/h3>
&lt;p>Êàë‰ª¨Êù•Êï∞‰∏Ä‰∏ã &lt;code>Simple RNN&lt;/code> ÊúâÂ§öÂ∞ë‰∏™Ê®°ÂûãÂèÇÊï∞„ÄÇ&lt;/p>
&lt;p>Â¶ÇÂõæÔºåÂÖàÁúã‰∏Ä‰∏ãËøô‰∏™ÊãºÊé•ÂêéÂêëÈáèÔºåËøô‰∏™ÂêëÈáèÁöÑÁª¥Â∫¶ÊòØ $h_{t-1}$ ÁöÑÁª¥Â∫¶Âä†‰∏ä $x_t$ ÁöÑÁª¥Â∫¶Ôºö&lt;/p>
&lt;p>ÊâÄ‰ª• $A$ ‰∏ÄÂÆöË¶ÅÊúâ $shape(h)+shape(x)$ Áª¥Â∫¶Ëøô‰πàÂ§öÂàóÔºö&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/03/11.png"
loading="lazy"
alt="11"
>&lt;/p>
&lt;p>$A$ ÁöÑË°åÊï∞Á≠â‰∫é $h$ ÁöÑÁª¥Â∫¶Ôºö&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/03/12.png"
loading="lazy"
alt="12"
>&lt;/p>
&lt;p>ÊâÄ‰ª•ÔºåÊúÄÁªàÁü©Èòµ $A$ ÁöÑÂ§ßÂ∞èÁ≠â‰∫éÔºö&lt;/p>
&lt;p>$parameter(A) = shape(h) * [shape(h) + shape(x)]$&lt;/p>
&lt;p>Ëøô‰∏™‰πòÁßØ $parameter(A)$ Â∞±ÊòØ &lt;code>simple RNN&lt;/code> ÁöÑÊúÄÁªàÁöÑÂèÇÊï∞Êï∞Èáè„ÄÇ&lt;/p>
&lt;p>Êàë‰ª¨Êù•Êê≠‰∏Ä‰∏™ÁÆÄÂçïÁöÑÁΩëÁªú„ÄÇÊúÄÂ∫ïÂ±ÇÊòØ‰∏Ä‰∏™ËØçÂµåÂÖ•Â±Ç &lt;code>Word Embedding Layer&lt;/code>ÔºåÂÆÉÂèØ‰ª•ÊääËØçÊò†Â∞Ñ‰∏∫ËØçÂêëÈáè„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/03/13.png"
loading="lazy"
alt="13"
>&lt;/p>
&lt;p>ËØçÂêëÈáèÁöÑÁª¥Â∫¶Áî±Ëá™Â∑±ËÆæÁΩÆÔºàËøôÊòØ‰∏Ä‰∏™Ë∂ÖÂèÇÊï∞ÔºåÊàë‰ª¨Â∫îËØ•‰ΩøÁî®‰∫§ÂèâÈ™åËØÅ &lt;code>cross validation&lt;/code> ÈÄâÊã©ÊúÄ‰Ω≥ÁöÑÁª¥Â∫¶ÔºâÔºåËøôÈáåËÆæÁΩÆ $x$ ÁöÑÁª¥Â∫¶ÊòØ $32$„ÄÇ&lt;/p>
&lt;p>ÁÑ∂Âêé‰∏ã‰∏ÄÂ±ÇÊòØ &lt;code>Simple RNN Layer&lt;/code>ÔºåËæìÂÖ•ÁöÑÊòØËØçÂêëÈáè $x_i$ÔºåËæìÂá∫ÁöÑÊòØÁä∂ÊÄÅ $h_i$„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/03/14.png"
loading="lazy"
alt="14"
>&lt;/p>
&lt;p>$h$ ÁöÑÁª¥Â∫¶‰πüÊòØÁî±Ëá™Â∑±ËÆæÁΩÆÔºåÊàë‰ª¨ËÆæÁΩÆ $h$ Áª¥Â∫¶‰∏∫ $32$„ÄÇËøôÈáå $x$ Âíå $h$ ÁöÑÁª¥Â∫¶ÈÉΩÊòØ $32$ÔºåËøôÂè™ÊòØ‰∏Ä‰∏™Â∑ßÂêàËÄåÂ∑≤Ôºå$h$ Âíå $x$ ÁöÑÁª¥Â∫¶ÈÄöÂ∏∏‰∏ç‰∏ÄÊ†∑„ÄÇ&lt;/p>
&lt;p>ÂâçÈù¢ËØ¥ËøáÔºåÁä∂ÊÄÅÂêëÈáè $h$ ‰ºöÁßØÁ¥ØËæìÂÖ•ÁöÑ‰ø°ÊÅØÔºåÊØîÂ¶ÇÔºö$h_0$ ÂåÖÂê´Á¨¨‰∏Ä‰∏™ÂçïËØç &lt;code>I&lt;/code> ÁöÑ‰ø°ÊÅØÔºå$h_1$ ÂåÖÂê´Ââç‰∏§‰∏™ËØç &lt;code>I love&lt;/code> ÁöÑ‰ø°ÊÅØÔºåÊúÄÂêé‰∏Ä‰∏™Áä∂ÊÄÅ $h_t$ ÂåÖÂê´Êï¥Âè•ËØù &lt;code>I love the movice so much&lt;/code> ÁöÑ‰ø°ÊÅØ„ÄÇ&lt;/p>
&lt;p>Êàë‰ª¨ÂèØ‰ª•‰ªé &lt;code>PyTorch&lt;/code> ‰∏≠Ëé∑ÂèñÊâÄÊúâÁöÑÁä∂ÊÄÅ $h={h_1, h_2, &amp;hellip;, h_t}$Ôºå‰πüÂèØ‰ª•Âè™Ëé∑ÂæóÊúÄÂêé‰∏Ä‰∏™Áä∂ÊÄÅÂêëÈáè $h_t$ ÁöÑ‰ø°ÊÅØ„ÄÇ&lt;/p>
&lt;p>$h_t$ ÁßØÁ¥Ø‰∫ÜÊï¥Âè•ËØùÁöÑ‰ø°ÊÅØÔºåÊâÄÊúâÈÄöÂ∏∏‰ΩøÁî® $h_t$ Ëøô‰∏Ä‰∏™ÂêëÈáèÂ∞±Â§ü‰∫ÜÔºåËøôÈáåÊàë‰ª¨Âè™‰ΩøÁî® $h_t$ÔºåÊääÂâçÈù¢ÁöÑÊâÄÊúâÁä∂ÊÄÅ ${h_1, h_2, &amp;hellip;, h_{t-1}}$ ÂÖ®ÈÉ®ÈÉΩ‰∏¢Êéâ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/03/15.png"
loading="lazy"
alt="15"
>&lt;/p>
&lt;p>$h_t$ Áõ∏ÂΩì‰∫é‰ªéÊñáÊú¨‰∏≠ÊèêÂèñÁöÑÁâπÂæÅÂêëÈáèÔºåÊää $h_t$ ËæìÂÖ•Ëøô‰∏™ÂàÜÁ±ªÂô® $sigmoid(v^T h_t)$ÔºåÂàÜÁ±ªÂô®Â∞±‰ºöËæìÂá∫‰∏Ä‰∏™ &lt;code>0&lt;/code> Êàñ &lt;code>1&lt;/code> ‰πãÈó¥ÁöÑÊï∞ÂÄºÔºå&lt;code>0&lt;/code> ‰ª£Ë°®‰∫ÜË¥üÈù¢ÁîµÂΩ±ËØÑ‰ª∑Ôºå&lt;code>1&lt;/code> ‰ª£Ë°®Ê≠£Èù¢ÁîµÂΩ±ËØÑ‰ª∑„ÄÇ&lt;/p>
&lt;p>ÁÑ∂ÂêéÊàë‰ª¨ËÆæÁΩÆË∂ÖÂèÇÊï∞Ôºö&lt;/p>
&lt;ul>
&lt;li>ËÆæÁΩÆ &lt;code>vocabulary = 1000&lt;/code>ÔºåÊÑèÊÄùÊòØËØçÂÖ∏ÈáåÊúâ &lt;code>10000&lt;/code> ‰∏™ËØçÊ±áÔºõ&lt;/li>
&lt;li>&lt;code>embedding_dim = 32&lt;/code>ÔºåÊÑèÊÄùÊòØËØçÂêëÈáè $x$ ÁöÑÁª¥Â∫¶ÊòØ $32$Ôºõ&lt;/li>
&lt;li>&lt;code>word_num = 500&lt;/code>ÔºåÊÑèÊÄùÊòØÊØèÊù°ÁîµÂΩ±ËØÑ‰ª∑Êúâ &lt;code>500&lt;/code> ‰∏™ÂçïËØçÔºåÂ¶ÇÊûúË∂ÖËøá &lt;code>500&lt;/code> ‰∏™ÂçïËØçÔºåÂ∞±‰ºöË¢´Êà™ÊéâÔºåÂè™‰øùÁïô &lt;code>500&lt;/code> ‰∏™ÔºåÂ¶ÇÊûú‰∏çÂ§ü &lt;code>500&lt;/code>ÔºåÂ∞±Áî® &lt;code>zero_padding&lt;/code> Â∞ÜÂè•Â≠êË°•ÊàêÈïøÂ∫¶‰∏∫ &lt;code>500&lt;/code>Ôºõ&lt;/li>
&lt;li>&lt;code>state_dim = 32&lt;/code>ÔºåÊÑèÊÄùÊòØÁä∂ÊÄÅ $h$ ÁöÑÁª¥Â∫¶Á≠â‰∫é $32$„ÄÇ&lt;/li>
&lt;/ul>
&lt;h3 id="-pytorch-ÂÆûÁé∞">üë©‚Äçüöí PyTorch ÂÆûÁé∞&lt;/h3>
&lt;p>Êé•‰∏ãÊù•ÂºÄÂßãÊê≠ÁΩëÁªúÔºåÈ¶ñÂÖàÊàë‰ª¨ÂÆö‰πâ‰∏Ä‰∏™Á±ª &lt;code>Model&lt;/code>ÔºåÊàë‰ª¨ËÆ©ÂÆÉÁªßÊâø &lt;code>nn.Model&lt;/code> Áà∂Á±ª„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch.nn&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">nn&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Model&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Module&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="fm">__init__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">vocabulary_size&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">embedding_dim&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">state_dim&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">super&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Model&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="fm">__init__&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">vocabulary_size&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">vocabulary_size&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">embedding_dim&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">embedding_dim&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">state_dim&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">state_dim&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Embedding&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Embedding&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">vocabulary_size&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">embedding_dim&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">RNN&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">RNN&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">embedding_dim&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">state_dim&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Linear&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">state_dim&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sigmoid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Sigmoid&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">forward&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">transpose&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">embedded&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Embedding&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">output&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">h_n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">RNN&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">embedded&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">h_n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">squeeze&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">h_n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dim&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">h_n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sigmoid&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Êé•‰∏ãÊù•ÔºåÊàë‰ª¨Âú®ÊûÑÈÄ†ÂáΩÊï∞ &lt;code>__init__&lt;/code> ‰∏≠ÂÆö‰πâÊàë‰ª¨ÁöÑÊ®°ÂûãÁªìÊûÑÔºåÂπ∂ÈáçËΩΩ &lt;code>forword&lt;/code> ÊñπÊ≥ï„ÄÇ&lt;/p>
&lt;p>È¶ñÂÖàÊòØËØçÂµåÂÖ•Â±Ç &lt;code>nn.Embedding()&lt;/code>ÔºåÂÆÉÊòØÊääËØçÊò†Â∞ÑÊàêÂêëÈáè„ÄÇ&lt;/p>
&lt;p>ÁÑ∂ÂêéÊòØ simple RNN Â±Ç &lt;code>nn.RNN()&lt;/code>ÔºåÈúÄË¶ÅÊåáÂÆöËØçÂêëÈáèÁöÑÁª¥Â∫¶ &lt;code>embedding_dim&lt;/code> ÂíåÁä∂ÊÄÅÂêëÈáè $h$ ÁöÑÁª¥Â∫¶ &lt;code>state_dim&lt;/code>Ôºõ&lt;/p>
&lt;p>ÊúÄÂêéÊòØ‰∏Ä‰∏™ÂÖ®ËøûÊé•Â±Ç &lt;code>nn.Linear()&lt;/code>ÔºåÂπ∂‰∏î‰ºö‰ΩøÁî® &lt;code>nn.Sigmoid()&lt;/code> ‰ΩúÁî®‰∫éÂÆÉÁöÑÁªìÊûúÔºåËæìÂÖ•ÊúÄÂêé‰∏Ä‰∏™Áä∂ÊÄÅÂêëÈáè $h$ÔºåËæìÂá∫‰∏Ä‰∏™ &lt;code>0„ÄÅ1&lt;/code> ‰πãÈó¥ÁöÑÊï∞„ÄÇ&lt;/p>
&lt;p>&lt;code>PyTorch&lt;/code> ‰∏≠ÁöÑ &lt;code>RNN&lt;/code> ‰ºöÊúâ‰∏§‰∏™ËøîÂõûÂÄºÔºö&lt;code>output&lt;/code>Ôºå&lt;code>h_n&lt;/code>„ÄÇ&lt;/p>
&lt;ul>
&lt;li>&lt;code>output&lt;/code> ÊòØ &lt;code>RNN&lt;/code> ÊâÄÊúâÊó∂ÂàªÁöÑÁä∂ÊÄÅÂêëÈáèÈõÜÂêàÔºàÁü©ÈòµÔºâÔºõ&lt;/li>
&lt;li>&lt;code>h_n&lt;/code> ÊòØ &lt;code>RNN&lt;/code> ‰∏≠ÊúÄÂêé‰∏Ä‰∏™Áä∂ÊÄÅÂêëÈáè„ÄÇ&lt;/li>
&lt;/ul>
&lt;p>ËøôÊòØÊ®°ÂûãÁöÑ‰∏Ä‰∏™Ê¶ÇË¶ÅÔºå ËØçÂµåÂÖ•Â±Ç &lt;code>Embedding&lt;/code> ÁöÑËæìÂá∫ÊòØ‰∏Ä‰∏™ $500*32$ ÁöÑÁü©ÈòµÔºå&lt;code>500&lt;/code> ÁöÑÊÑèÊÄùÊòØÊØè‰∏™Âè•Â≠êÊúâ $500$ ‰∏™ËØçÔºå&lt;code>32&lt;/code> ÁöÑÊÑèÊÄùÊòØÊØè‰∏™ËØçÁî® $32$ Áª¥ÁöÑËØçÂêëÈáèË°®Á§∫„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">==========================================================================================
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Layer (type:depth-idx) Output Shape Param #
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">==========================================================================================
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Model -- --
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">‚îú‚îÄEmbedding: 1-1 [500, 1, 32] 320,000
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">‚îú‚îÄRNN: 1-2 [500, 1, 32] 2,112
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">‚îú‚îÄLinear: 1-3 [1, 1] 33
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">‚îú‚îÄSigmoid: 1-4 [1, 1] --
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">==========================================================================================
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Total params: 322,145
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Trainable params: 322,145
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>Simple RNN&lt;/code> ÊØè‰∏™Áä∂ÊÄÅÁöÑËæìÂá∫ $h_t$ ÈÉΩÊòØ‰∏Ä‰∏™ &lt;code>32&lt;/code> Áª¥ÁöÑÂêëÈáè„ÄÇÊàë‰ª¨Áúã‰∏Ä‰∏ã RNN ÁöÑÂèÇÊï∞Ôºå‰ªñÊúâ &lt;code>2080&lt;/code> ‰∏™ÂèÇÊï∞ÔºåÂÆÉÊòØËøôÊ†∑ÁÆóÂá∫Êù•ÁöÑÔºö&lt;/p>
&lt;p>$shape(h) * (shape(h)+shape(x)) = 32*(32+32)+32 = 2080$&lt;/p>
&lt;p>ËøôÊòØÁü©Èòµ $A$ ÁöÑÂ§ßÂ∞èÔºåÂêéÈù¢ÁöÑ $32$ ÁöÑÁª¥Â∫¶Êù•Ëá™ &lt;code>intercept&lt;/code>Ôºå‰πüÂè´ &lt;code>bias&lt;/code>ÔºåÂÅèÁßªÈáè„ÄÇRNN ‰ºöÈªòËÆ§‰ΩøÁî® &lt;code>intercept&lt;/code>Ôºå‰ΩÜËøô‰∏™‰∏çÈáçË¶ÅÔºåËøôÈáåÊöÇÊó∂‰∏çÁÆ°ÂÆÉ„ÄÇ&lt;/p>
&lt;p>Ââ©‰∏ãÁöÑ &lt;code>32&lt;/code> ‰∏™ÂèÇÊï∞Êù•Ëá™‰∫éÊúÄÂêé‰∏Ä‰∏™Áä∂ÊÄÅÔºåÂõ†‰∏∫ &lt;code>PyTorch&lt;/code> ‰∏≠ÁöÑ &lt;code>RNN&lt;/code> ‰ºöÂêåÊó∂ËæìÂá∫ÊâÄÊúâÊó∂ÂàªÁöÑÁä∂ÊÄÅÂêëÈáèÈõÜÂêàÂíåÊúÄÂêé‰∏Ä‰∏™Áä∂ÊÄÅÂêëÈáè„ÄÇ&lt;/p>
&lt;h3 id="-ËøêË°åÊ®°Âûã">üßë‚Äçüîß ËøêË°åÊ®°Âûã&lt;/h3>
&lt;p>Êê≠Â•ΩÊ®°Âûã‰πãÂêéÔºåÂàùÂßãÂåñÊ®°ÂûãÔºåÁÑ∂ÂêéÁî®ËÆ≠ÁªÉÊï∞ÊçÆÊãüÂêàÊ®°Âûã„ÄÇ&lt;/p>
&lt;p>Êàë‰ª¨ÊåáÂÆöÁÆóÊ≥ïÊòØ &lt;code>optim.Adam&lt;/code>ÔºåÊçüÂ§±ÂáΩÊï∞ÊòØ &lt;code>nn.BCELoss()&lt;/code>ÔºåËØÑ‰ª∑Ê†áÂáÜÊòØÂáÜÁ°ÆÁéá &lt;code>accuracy&lt;/code>„ÄÇ&lt;/p>
&lt;p>ÁÑ∂ÂêéÁî®ËÆ≠ÁªÉÊï∞ÊçÆÊãüÂêàÊ®°ÂûãÔºåÊàëËÆ©ÁÆóÊ≥ïËÆ≠ÁªÉ &lt;code>3&lt;/code> ‰∏™ &lt;code>epochs&lt;/code>ÔºåÂè™ËÆ©ÁÆóÊ≥ïËøêË°å &lt;code>3&lt;/code> ‰∏™ epochsÔºåÊòØÂá∫Áé∞‰∫ÜËøáÊãüÂêàÔºå&lt;code>3&lt;/code> ‰∏™ &lt;code>epochs&lt;/code> ‰πãÂêéÔºå&lt;code>validate accuracy&lt;/code> ‰ºöÂèòÂ∑Æ„ÄÇÊèêÂâçËÆ©ÁÆóÊ≥ïÂÅúÊ≠¢ËøêË°åÁß∞‰∏∫ &lt;code>early stoping&lt;/code> ÊèêÂâçÁªàÊ≠¢ËÆ≠ÁªÉÔºå‰Ωø &lt;code>validate accuracy&lt;/code> ÂèòÂ∑Æ‰πãÂâçÂ∞±ÂÅúÊ≠¢„ÄÇ&lt;/p>
&lt;p>ÊúÄÂêéÔºåÁî®ÊµãËØïÊï∞ÊçÆËØÑ‰ª∑Ê®°ÂûãÁöÑË°®Áé∞ÔºåÊääÊµãËØïÊï∞ÊçÆ‰Ωú‰∏∫ËæìÂÖ•ÔºåË∞ÉÁî® &lt;code>model.evaluate()&lt;/code>ÔºåËøîÂõû loss Âíå accuracyÔºåÊµãËØïÁöÑ accuracyÔºåÊµãËØïÁöÑ accuracy ÊòØ 84.36%ÔºåÊØî‰∏ä‰∏ÄËäÇ‰∏≠ÁöÑ ÈÄªËæëÂõûÂΩíÂ•ΩÂæàÂ§öÔºà75%Ôºâ„ÄÇ&lt;/p>
&lt;p>ÂàöÊâçÊê≠Ê®°ÂûãÁöÑÊó∂ÂÄôÔºåÂè™‰ΩøÁî®‰∫ÜRNNÊúÄÂêé‰∏Ä‰∏™Áä∂ÊÄÅ $h_t$ÔºåÊää‰πãÂâçÁöÑÁä∂ÊÄÅÈÉΩ‰∏¢Êéâ‰∫ÜÔºåÊÉ≥Áî® $h_0$ Âà∞ $h_t$ ÊâÄÊúâÁä∂ÊÄÅ‰πüÂèØ‰ª•Ôºå‰ΩÜÂπ∂Ê≤°ÊúâÂ§™Â§ßÂå∫Âà´„ÄÇ&lt;/p>
&lt;p>Êàë‰ª¨ËÆ© &lt;code>RNN&lt;/code> ÁöÑÁ¨¨‰∏Ä‰∏™ËæìÂá∫ &lt;code>output&lt;/code>ÔºåÂÆÉÊòØ‰∏Ä‰∏™Áü©ÈòµÔºåÁü©ÈòµÊØè‰∏ÄË°åÂ∞±ÊòØ‰∏Ä‰∏™Áä∂ÊÄÅÂêëÈáè $h$„ÄÇ&lt;/p>
&lt;p>Â¶ÇÊûúÁî®ÊâÄÊúâÁä∂ÊÄÅÔºåÂ∞±Ë¶ÅÂä†‰∏Ä‰∏™ &lt;code>flatten&lt;/code> Â±ÇÔºåÂ∞ÜÁä∂ÊÄÅÁü©ÈòµÂèòÊàê‰∏Ä‰∏™ÂêëÈáèÔºåÁÑ∂ÂêéÊääËøô‰∏™ÂêëÈáè‰Ωú‰∏∫ÂàÜÁ±ªÂô®ÁöÑËæìÂÖ•ÔºåÊù•Âà§Êñ≠ÁîµÂΩ±ÊòØÊ≠£Èù¢ÁöÑÔºåËøòÊòØË¥üÈù¢ÁöÑ„ÄÇÂè™Ë¶ÅÊääÁΩëÁªúÁ®ç‰ΩúÊîπÂä®Â∞±ÂèØ‰ª•‰∫Ü„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">flatten&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">output&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">start_dim&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">end_dim&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="-simple-rnn-ÁöÑÁº∫Èô∑">üß∞ simple RNN ÁöÑÁº∫Èô∑&lt;/h2>
&lt;p>‰∏ãÈù¢Áúã‰∏Ä‰∏ã &lt;code>simple RNN&lt;/code> ËøôÁßçÁÆÄÂçïÁöÑÊ®°ÂûãÊúâ‰ªÄ‰πàÁº∫Èô∑„ÄÇ&lt;/p>
&lt;p>‰∏æ‰∏™Ê†óÂ≠ê üå∞ ÔºåÁé∞Âú®ÊúâËøôÊ†∑‰∏Ä‰∏™ÈóÆÈ¢òÔºåÁªôÂÆöÂçäÂè•ËØùÔºåË¶ÅÊ±ÇÈ¢ÑÊµã‰∏ã‰∏Ä‰∏™ÂçïËØç„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/03/16.png"
loading="lazy"
alt="16"
>&lt;/p>
&lt;p>ËæìÂÖ•ÊòØ &lt;code>clouds are in the&lt;/code>ÔºåÊ≠£Á°ÆÁöÑËæìÂá∫Â∫îËØ•ÊòØ &lt;code>sky&lt;/code>ÔºåÂ¶ÇÊûúÂú®Â§ßÈáèÊñáÊú¨‰∏≠È¢ÑÊµã RNNÔºåÂ∫îËØ•ÊòØÊúâËÉΩÂäõÂÅöÂá∫ËøôÊ†∑ÁöÑÈ¢ÑÊµãÁöÑ„ÄÇÂú®Ëøô‰∏™‰æãÂ≠êÈáåÔºå&lt;code>RNN&lt;/code> Âè™ÈúÄË¶ÅÁúãÊúÄËøëÁöÑÂá†‰∏™ËØçÔºåÂ∞§ÂÖ∂ÊòØ &lt;code>clouds are&lt;/code>ÔºåÂπ∂‰∏çÈúÄË¶ÅÊõ¥Â§öÁöÑ‰∏ä‰∏ãÊñáÁúãÁöÑÊõ¥Ëøú„ÄÇ&lt;/p>
&lt;p>Ëøô‰∏™‰æãÂ≠êÊòØÂØπ &lt;code>simple RNN&lt;/code> ÂçÅÂàÜÊúâÂà©Ôºå&lt;code>simple RNN&lt;/code> ÁâπÂà´ÊìÖÈïøËøôÁßç &lt;code>short-term dependence&lt;/code>Ôºå&lt;code>simple RNN&lt;/code> ‰∏çÊìÖÈïøÁöÑÊòØ &lt;code>long-term dependence&lt;/code>„ÄÇ&lt;/p>
&lt;p>&lt;code>RNN&lt;/code> ÁöÑÁä∂ÊÄÅ $h$ÔºåÂíå‰πãÂâçÊâÄÊúâÁöÑËæìÂÖ• $x$ ÈÉΩÊúâÂáΩÊï∞‰æùËµñÂÖ≥Á≥ªÔºåÁÖßÁêÜÊù•ËØ¥ÔºåÂ¶ÇÊûúÊîπÂèòËæìÂÖ•ÁöÑÂçïËØç $x_1$ÔºåÊâÄÊúâÁöÑÁä∂ÊÄÅ $h$ ÈÉΩ‰ºöÂèëÁîüÂèòÂåñÔºå‰ΩÜÂÆûÈôÖ‰∏äÔºå&lt;code>simple RNN&lt;/code> Âπ∂Ê≤°ÊúâËøôÁßçÊÄßË¥®ÔºåÊâÄ‰ª•Âæà‰∏çÂêàÁêÜ„ÄÇÂ¶ÇÊûúÊääÁ¨¨ &lt;code>100&lt;/code> ‰∏™Áä∂ÊÄÅÂêëÈáè $h_{100}$ÔºåÂÖ≥‰∫éËæìÂÖ• $x_1$ Ê±ÇÂØºÔºå‰Ω†‰ºöÂèëÁé∞ÂØºÊï∞Âá†‰πéÁ≠â‰∫é &lt;code>0&lt;/code>„ÄÇ&lt;/p>
&lt;p>$\frac{\partial h_{100}}{\partial x_1} \approx 0$&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/03/17.png"
loading="lazy"
alt="17"
>&lt;/p>
&lt;p>ÂØºÊï∞Âá†‰πéÁ≠â‰∫é &lt;code>0&lt;/code> ËØ¥Êòé‰ªÄ‰πàÂë¢ÔºüËØ¥ÊòéÂΩìÊàë‰ª¨ÊîπÂèò $x_1$Êó∂Ôºå$h_{100}$ Âá†‰πé‰∏ç‰ºöÂèëÁîü‰ªª‰ΩïÂèòÂåñÔºå‰πüÂ∞±ÊòØËØ¥Áä∂ÊÄÅ $h_{100}$ Âíå &lt;code>100&lt;/code> Ê≠•‰πãÂâçÁöÑËæìÂÖ• $x_1$ Âá†‰πéÊ≤°ÊúâÂÖ≥Á≥ªÔºåËøôÊòæÁÑ∂‰∏çÂêàÁêÜÔºåËØ¥ÊòéÁä∂ÊÄÅ $h_{100}$ Âá†‰πéÊääÂæàÂ§öÊ≠•‰πãÂâçÁöÑËæìÂÖ•ÈÉΩÁªôÂøòËÆ∞‰∫ÜÔºå&lt;code>simple RNN&lt;/code> ÁöÑËøôÁßçÈÅóÂøò‰ºöÁªôÂêéÁª≠Êìç‰ΩúÈÄ†ÊàêÂæàÂ§öÈóÆÈ¢ò„ÄÇ&lt;/p>
&lt;p>ÂÜç‰∏æ‰∏™Ê†óÂ≠ê üå∞ ÔºåËøôÊòØÂæàÈïøÁöÑ‰∏ÄÊÆµËØùÔºå‰∏ÄÂºÄÂßãÊòØ &lt;code>I grow up in China when I was a child, ... ...&lt;/code> Âà∞‰∫ÜÂæàÂ§öÂè•ËØù‰πãÂêéÔºåÊúâËøôÊ†∑‰∏ÄÂè•Ôºå&lt;code>I speak fluent ...&lt;/code>„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/03/18.png"
loading="lazy"
alt="18"
>&lt;/p>
&lt;p>‰∏ã‰∏Ä‰∏™ËØçÂ∫îËØ•ÊòØ &lt;code>Chinese&lt;/code>ÔºåÊàëÂ∞èÊó∂ÂÄôÂú®‰∏≠ÂõΩÔºåÊâÄÊúâ‰ºöËØ¥ÊµÅÂà©ÁöÑ‰∏≠ÊñáÔºåÁÑ∂ËÄå &lt;code>simple RNN&lt;/code> ‰∏çÂ§™ÂèØËÉΩ‰ºöÂÅöÂá∫ &lt;code>Chinese&lt;/code> Ëøô‰∏™Ê≠£Á°ÆÁöÑÈ¢ÑÊµãÔºåÂõ†‰∏∫ RNN Â∑≤ÁªèÊääÂâçÊñáÁªôÂøòËÆ∞‰∫Ü„ÄÇ&lt;code>simple RNN&lt;/code> ÊìÖÈïøÁöÑÊòØ &lt;code>short-term dependence&lt;/code>ÔºåRNN ÁúãÂà∞ÊúÄËøëÁöÑÂçïËØçÊòØ &lt;code>speak fluent&lt;/code>ÔºåÊâÄ‰ª• RNN Áü•ÈÅì‰∏ã‰∏Ä‰∏™ÂçïËØçÂèØËÉΩÊòØÊüêÁßçËØ≠Ë®ÄÔºåÂèØËÉΩÊòØ &lt;code>Chinese„ÄÅEnglish„ÄÅFrench„ÄÅJapanese&lt;/code> Á≠âÁ≠âÔºå‰ΩÜÊ≠£Á°ÆÁ≠îÊ°àÊòØ &lt;code>Chinese&lt;/code>ÔºåÂõ†‰∏∫‰∏äÊñáÊúâ &lt;code>I grow up in china when i was child&lt;/code>Ôºåsimple RNN Â∞±ÂÉèÈáëÈ±º‰∏ÄÊ†∑ËÆ∞ÂøÜÂäõÂè™Êúâ &lt;code>7&lt;/code> ÁßíÔºå&lt;code>RNN&lt;/code> Ê†πÊú¨Â∞±‰∏çËÆ∞Âæó‰∏äÊñáÊúâËøôÂè•ËØùÔºåÊâÄ‰ª• &lt;code>I speak fluent ...&lt;/code> È¢ÑÊµãÂçïËØçÂèØËÉΩÊòØ &lt;code>English , French&lt;/code> Á≠â‰ªª‰Ωï‰∏ÄÁßçËØ≠Ë®ÄÔºåÊú™ÂøÖÊòØ &lt;code>Chinese&lt;/code>„ÄÇ&lt;/p>
&lt;h2 id="-ÊÄªÁªì">üéê ÊÄªÁªì&lt;/h2>
&lt;p>ÊúÄÂêéÊÄªÁªì‰∏Ä‰∏ãËøô‰∏ÄËäÇÁöÑÂÜÖÂÆπÔºö&lt;/p>
&lt;p>&lt;code>RNN&lt;/code> ÊòØ‰∏ÄÁßçÁ•ûÁªèÁΩëÁªúÔºå‰ΩÜÊòØ‰ªñÁöÑÁªìÊûÑ‰∏çÂêå‰∫éÂÖ®ËøûÊé•ÁΩëÁªúÂíåÂç∑ÁßØÁΩëÁªúÔºå&lt;code>RNN&lt;/code> ÈÄÇÁî®‰∫éÊñáÊú¨ÔºåËØ≠Èü≥Á≠âÊó∂Â∫èÂ∫èÂàóÊï∞ÊçÆÔºå&lt;code>RNN&lt;/code> ÊåâÁÖßÈ°∫Â∫èËØªÂèñÊØè‰∏Ä‰∏™ËØçÂêëÈáèÔºåÂπ∂‰∏îÂú®Áä∂ÊÄÅÂêëÈáè $h$ ‰∏≠ÁßØÁ¥ØÁúãÂà∞ËøáÂæó‰ø°ÊÅØÔºå$h_0$ ‰∏≠ÂåÖÂê´‰∫Ü $x_0$ ÁöÑ‰ø°ÊÅØÔºå$h_1$ ‰∏≠ÂåÖÂê´‰∫Ü $x_0$ Âíå $x_1$ ÁöÑ‰ø°ÊÅØÔºå$h_t$ ‰∏≠ÁßØÁ¥Ø‰∫Ü‰πãÂâçÊâÄÊúâ $x={x_0, x_1, &amp;hellip;, x_t}$ ÁöÑ‰ø°ÊÅØ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/03/19.png"
loading="lazy"
alt="19"
>&lt;/p>
&lt;p>Êúâ‰∏ÄÁßçÈîôËØØÁöÑÁúãÊ≥ïÊòØ $h_t$ ‰∏≠Âè™ÂåÖÂê´‰∫Ü $x_t$ ÁöÑ‰ø°ÊÅØÔºåËøôÊòØ‰∏çÂØπÁöÑÔºå$h_t$ ‰∏≠ÂåÖÂê´‰∫Ü‰πãÂâçÊâÄÊúâËæìÂÖ•ÁöÑ‰ø°ÊÅØÔºåÂèØ‰ª•ËÆ§‰∏∫ $h_t$ ‰ª£Ë°®‰∫Ü &lt;code>RNN&lt;/code> ‰ªéÊï¥‰∏™Â∫èÂàó‰∏≠ÊäΩÂèñÁöÑÁâπÂæÅÂêëÈáèÔºåÊâÄÊúâÊàë‰ª¨Âè™ÈúÄË¶Å $h_t$ Â∞±ÂèØ‰ª•Âà§Êñ≠ÁîµÂΩ±ËØÑ‰ª∑ÊòØÊ≠£Èù¢ÁöÑËøòÊòØË¥üÈù¢ÁöÑ„ÄÇ&lt;/p>
&lt;p>&lt;code>simple RNN&lt;/code> Êúâ‰∏Ä‰∏™ÂèÇÊï∞Áü©Èòµ $A$ÔºåÂÆÉÂèØËÉΩËøò‰ºö‰∏Ä‰∏™ &lt;code>intercept&lt;/code> ÂèÇÊï∞ÂêëÈáè $b$Ôºå‰∏äÈù¢ÁöÑ‰ªãÁªç‰∏≠ÂøΩÁï•‰∫ÜËøô‰∏™ÂèÇÊï∞ÂêëÈáè $b$ÔºåËøô‰∏™ÂèÇÊï∞Áü©Èòµ $A$ ÁöÑÁª¥Â∫¶ÊòØÔºö&lt;/p>
&lt;p>$shape(h) * [shape(h) + shape(x)]$&lt;/p>
&lt;p>ÂèÇÊï∞Áü©Èòµ $A$ ‰∏ÄÂºÄÂßãÈöèÊú∫ÂàùÂßãÂåñÔºåÁÑ∂Âêé‰ªéËÆ≠ÁªÉÊï∞ÊçÆ‰∏äÂ≠¶‰π†„ÄÇÊ≥®ÊÑèÔºö&lt;code>simple RNN&lt;/code> Âè™Êúâ‰∏Ä‰∏™ÂèÇÊï∞Áü©ÈòµÔºå‰∏çÁÆ°Ëøô‰∏™Â∫èÂàóÊúâÂ§öÈïøÔºåÂèÇÊï∞Áü©ÈòµÂè™Êúâ‰∏Ä‰∏™ÔºåÊâÄÊúâÊ®°ÂùóÈáåÁöÑÂèÇÊï∞ÈÉΩÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇ&lt;/p>
&lt;p>&lt;code>RNN&lt;/code> Êúâ‰∏Ä‰∏™Áº∫ÁÇπÔºå&lt;code>RNN&lt;/code> ÁöÑËÆ∞ÂøÜÊØîËæÉÁü≠Ôºå‰ºöÈÅóÂøòÂæà‰πÖ‰πãÂâçÁöÑËæìÂÖ• $x$ÔºåÂ¶ÇÊûúËøô‰∏™Êó∂Èó¥Â∫èÂàóÂæàÈïøÔºåÊúâÂ•ΩÂá†ÂçÅÊ≠•ÔºåÊúÄÁªà &lt;code>RNN&lt;/code> Â∞±‰ºöÂøòËÆ∞‰∫Ü‰πãÂâçÁöÑËæìÂÖ•„ÄÇ‰∏ã‰∏ÄËäÇÂ∞Ü‰ªãÁªç &lt;code>LSTM&lt;/code>Ôºå&lt;code>LSTM&lt;/code> ÁöÑËÆ∞ÂøÜ‰ºöÊØî &lt;code>simple RNN&lt;/code> ÈïøÂæàÂ§öÔºå‰ΩÜÊòØ &lt;code>RNN&lt;/code> ‰πüËøòÊòØ‰ºöÊúâÈÅóÂøòÁöÑÈóÆÈ¢ò„ÄÇ&lt;/p></description></item><item><title>Êï∞ÊçÆÂ§ÑÁêÜÂü∫Á°Ä</title><link>https://emerywan.github.io/blog/p/nlp-in-action/data-processing/</link><pubDate>Tue, 01 Mar 2022 02:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/nlp-in-action/data-processing/</guid><description>&lt;img src="https://nlp.letout.cn/img/banner.png" alt="Featured image of post Êï∞ÊçÆÂ§ÑÁêÜÂü∫Á°Ä" />&lt;hr>
&lt;p>&lt;a class="link" href="https://nlp.letout.cn/nlp/data-processing" target="_blank" rel="noopener"
>üö≤ ËΩ¨Âà∞ https://nlp.letout.cn üîî Êï∞ÊçÆÂ§ÑÁêÜÂü∫Á°Ä ‚û°Ô∏è&lt;/a>&lt;/p>
&lt;hr>
&lt;h2 id="-Á±ªÂà´ÁâπÂæÅ">üå± Á±ªÂà´ÁâπÂæÅ&lt;/h2>
&lt;p>Êú∫Âô®Â≠¶‰π†ÁöÑÊï∞ÊçÆÈÄöÂ∏∏Êúâ &lt;strong>Á±ªÂà´ÁâπÂæÅ&lt;/strong> &lt;code>Categorical Features&lt;/code> ÔºåÊàë‰ª¨ÈúÄË¶ÅÊääÁ±ªÂà´ÁâπÂæÅ &lt;code>Categorical Features&lt;/code> ËΩ¨ÂåñÊàêÊú∫Âô®Â≠¶‰π†Ê®°ÂûãËÉΩÁêÜËß£ÁöÑÊï∞ÂÄºÁâπÂæÅÔºå‰∏ãÈù¢‰ΩøÁî®‰∏Ä‰∏™‰æãÂ≠êÊù•ÂÖ∑‰ΩìËÆ≤Ëß£Á±ªÂà´ÁâπÂæÅÊï∞ÊçÆÁöÑÂ§ÑÁêÜ„ÄÇ&lt;/p>
&lt;p>ËøôÂº†Ë°®ÁöÑÊØè‰∏ÄË°åÊòØ‰∏Ä‰∏™‰∫∫ÁöÑÊï∞ÊçÆÔºåÂåÖÊã¨ÔºöÂπ¥ÈæÑ„ÄÅÊÄßÂà´„ÄÅÂõΩÁ±çÔºåÊàë‰ª¨ÈúÄË¶ÅÊääËøô‰∫õÊï∞ÊçÆÂèòÊàêÊú∫Âô®Â≠¶‰π†Ê®°ÂûãÂèØ‰ª•ÁêÜËß£ÁöÑÊï∞ÂÄºÁâπÂæÅ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/01/table.png"
loading="lazy"
alt="table"
>&lt;/p>
&lt;p>Ë°®Ê†ºÁöÑÁ¨¨‰∏ÄÂàóÊòØÂπ¥ÈæÑÔºåÂπ¥ÈæÑÊú¨Ë∫´Â∞±ÊòØÊï∞ÂÄºÁâπÂæÅÔºåÊâÄ‰ª•ÂèØ‰ª•‰∏çÁî®ÂÅöÂ§ÑÁêÜÔºåÊï∞ÂÄºÁâπÂæÅÁöÑÁâπÁÇπÊòØÂèØ‰ª•ÊØîËæÉÂ§ßÂ∞èÔºåÊØîÂ¶Ç &lt;code>35&lt;/code> Â≤ÅÁöÑ‰∫∫ÊØî &lt;code>31&lt;/code> Â≤ÅÁöÑÂπ¥ÈæÑÂ§ß„ÄÇ&lt;/p>
&lt;p>Á¨¨‰∫åÂàóÊòØÊÄßÂà´ÔºåÊÄßÂà´ÊòØ‰∫åÂÖÉÁâπÂæÅÔºåÊàë‰ª¨ÂèØ‰ª•Áî®‰∏Ä‰∏™Êï∞Êù•Ë°®Á§∫ÊÄßÂà´„ÄÇÁî® &lt;code>0&lt;/code> Ë°®Á§∫Â•≥ÊÄßÔºåÁî® &lt;code>1&lt;/code> Ë°®Á§∫Áî∑ÊÄß„ÄÇËøôÊ†∑‰∏ÄÊù•ÔºåÊÄßÂà´Â∞±Ë°®Á§∫‰∏∫‰∏Ä‰∏™Ê†áÈáèÔºö&lt;code>0&lt;/code> / &lt;code>1&lt;/code>„ÄÇ&lt;/p>
&lt;p>Á¨¨‰∏âÂàóÊòØÂõΩÁ±çÔºåÊØîÂ¶Ç‰∏≠ÂõΩÔºåÁæéÂõΩÔºåÂç∞Â∫¶„ÄÇÂõΩÁ±çÊòØÁ±ªÂà´ÁâπÂæÅÔºåÊú∫Âô®Â≠¶‰π†Âπ∂‰∏çÁêÜËß£ÂõΩÁ±çÔºåÊâÄ‰ª•Êàë‰ª¨Ë¶ÅÊääÂõΩÁ±çÁºñÁ†ÅÊàêÊï∞ÂÄºÂêëÈáè„ÄÇ‰∏ñÁïå‰∏äÁ∫¶Êúâ &lt;code>197&lt;/code> ‰∏™ÂõΩÂÆ∂ÔºåÊàë‰ª¨ÂÖàÁî®‰∏Ä‰∏™ &lt;code>[1 - 197]&lt;/code> ÁöÑÊï¥Êï∞Ë°®Á§∫‰∏Ä‰∏™ÂõΩÂÆ∂„ÄÇÂèØ‰ª•Âª∫Á´ã‰∏Ä‰∏™Â≠óÂÖ∏ÔºåÊääÂõΩÁ±çÊò†Â∞ÑÊàê‰∏Ä‰∏™ &lt;code>[1 - 197]&lt;/code> ÁöÑÊï¥Êï∞„ÄÇÊØîÂ¶ÇÔºö&lt;code>China:1; US:2; India:3; Japan:4; Germany:5&lt;/code>„ÄÇ&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>&lt;strong>Êàë‰ª¨Ë¶Å‰ªé 1 ÂºÄÂßãËÆ°ÁÆóÔºåËÄå‰∏çËÉΩ‰ªé 0 ÂºÄÂßãËÆ°ÁÆó„ÄÇ&lt;/strong>&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>ÂÅöËøôÁßçÊò†Â∞ÑÔºåÂõΩÁ±çÂ∞±Ë°®Á§∫Êàê &lt;code>[1 - 197]&lt;/code> ‰πãÈó¥ÁöÑÊï¥Êï∞„ÄÇ‰ªÖ‰ªÖÊääÂõΩÁ±çË°®Á§∫Êàê &lt;code>[1 - 197]&lt;/code> ÁöÑÊï¥Êï∞ËøòÊòØ‰∏çË°åÔºå‰∏Ä‰∏™Êï¥Êï∞Âè™ÊòØ‰∏ÄÁßçÁ±ªÂà´ÔºåÂÆÉ‰ª¨‰πãÈó¥‰∏çËÉΩÊØîËæÉÂ§ßÂ∞è„ÄÇ&lt;code>US:2; India:3&lt;/code> Ëøô‰∏™Êï∞Â≠óÂπ∂‰∏çË°®Á§∫Âç∞Â∫¶Â§ß‰∫éÁæéÂõΩÔºåËøô‰∫õÊï¥Êï∞Âè™ÊòØÁ±ªÂà´ËÄåÂ∑≤ÔºåÂπ∂‰∏çÊòØÁúüÊ≠£ÁöÑÊï∞ÂÄºÁâπÂæÅ„ÄÇ&lt;/p>
&lt;p>ÊâÄ‰ª•Ë¶ÅËøõ‰∏ÄÊ≠•ÂØπÂõΩÁ±çÂÅö &lt;code>one-hot encoding&lt;/code> ÔºåÁî® &lt;code>one-hot&lt;/code> ÂêëÈáèÊù•Ë°®Á§∫ÂõΩÁ±çÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">China -&amp;gt; 1 -&amp;gt; [1,0,0,0,...,0]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">US -&amp;gt; 2 -&amp;gt; [0,1,0,0,...,0]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÊØîÂ¶ÇÔºå‰∏≠ÂõΩÂØπÂ∫î 1ÔºåÊâÄ‰ª•Áî® 197 Áª¥ÁöÑ &lt;code>one-hot&lt;/code> ÂêëÈáè &lt;code>[1,0,0,0...,0]&lt;/code> Êù•Ë°®Á§∫ÔºåÂÖ∂‰∏≠Á¨¨‰∏Ä‰∏™ÂÖÉÁ¥†‰∏∫ 1ÔºåÂÖ∂‰ΩôÂÖÉÁ¥†ÈÉΩÊòØ 0ÔºõÁæéÂõΩÂØπÂ∫î 2ÔºåËøô‰∏™ 197 Áª¥ÁöÑÂêëÈáè &lt;code>[0,1,0,0...,0]&lt;/code> Á¨¨‰∫å‰∏™ÂÖÉÁ¥†ÊòØ 1ÔºåÂÖ∂‰ΩôÂÖÉÁ¥†ÈÉΩÊòØ 0„ÄÇËøôÊ†∑‰∏ÄÊù•ÔºåÊØè‰∏™ÂõΩÁ±çÂ∞±Áî±‰∏Ä‰∏™ &lt;code>one-hot&lt;/code> ÂêëÈáèË°®Á§∫Ôºå‰∏ÄÂÖ±Êúâ 197 ‰∏™ÂõΩÂÆ∂ÔºåÊâÄ‰ª•ÊØè‰∏™ÂêëÈáèÈÉΩÊòØ 197 Áª¥ÁöÑ„ÄÇ&lt;/p>
&lt;p>&lt;!-- raw HTML omitted -->Êàë‰ª¨Ë¶Å‰ªé 1 ÂºÄÂßãËÆ°ÁÆóÔºåËÄå‰∏çËÉΩ‰ªé 0 ÂºÄÂßãËÆ°ÁÆó„ÄÇ&lt;!-- raw HTML omitted -->
Âõ†‰∏∫Êàë‰ª¨Ë¶ÅÊää 0 ‰øùÁïôÔºåÁî®Êù•Ë°®Á§∫Êú™Áü•ÊàñËÄÖÁº∫Â§±ÁöÑÂõΩÁ±ç„ÄÇÊï∞ÊçÆÂ∫ìÈáåÈù¢ÁªèÂ∏∏‰ºöÊúâÁº∫Â§±ÁöÑÊï∞ÊçÆÔºàÊØîÂ¶ÇÁî®Êà∑Ê≤°ÊúâÂ°´ÂÜôÂõΩÁ±çÔºâÔºåËøôÊ†∑Áº∫Â§±ÁöÑÂõΩÁ±çÂ∞±Áî® 0 Êù•Ë°®Á§∫ÔºåÂÆÉÁöÑ &lt;code>one-hot&lt;/code> ÂêëÈáèÂ∞±ÊòØ‰∏Ä‰∏™ÂÖ® 0 ÁöÑÂêëÈáè&lt;code>[0,0,0,0...,0]&lt;/code>„ÄÇ&lt;/p>
&lt;p>‰∏ãÈù¢Ëøô‰∏™‰æãÂ≠ê‰∏≠ÔºåÊàë‰ª¨Áî®‰∏Ä‰∏™ 199 Áª¥Ë°®Á§∫‰∏Ä‰∏™‰∫∫ÁöÑÁâπÂæÅ„ÄÇÊØîÂ¶ÇËøô‰∏™‰∫∫ 28 Â≤ÅÔºåÂ•≥ÊÄßÔºåÂõΩÁ±çÊòØ‰∏≠ÂõΩ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/01/1.png"
loading="lazy"
alt="1"
>&lt;/p>
&lt;p>ÂÖ∂‰∏≠Ôºå‰∏Ä‰∏™Áª¥Â∫¶Ë°®Á§∫Âπ¥ÈæÑÔºå‰∏Ä‰∏™Áª¥Â∫¶Ë°®Á§∫ÊÄßÂà´Ôºå‰∏Ä‰∏™ 197 Áª¥ÁöÑ &lt;code>one-hot&lt;/code> ÂêëÈáèË°®Á§∫ÂõΩÁ±ç„ÄÇ&lt;/p>
&lt;p>Ëøô‰∏™‰æãÂ≠êÈáåÔºåËøô‰∏™ 36 Â≤ÅÔºåÁî∑ÊÄßÔºåÂõΩÁ±çÊú™Áü•ÁöÑ‰∫∫ÁöÑÁâπÂæÅÊòØËøô‰∏™ 199 Áª¥ÁöÑÂêëÈáèÔºåÊàë‰ª¨Áî®‰∏Ä‰∏™ 197 Áª¥ÁöÑÂÖ® 0 ÂêëÈáèË°®Á§∫Êú™Áü•ÂõΩÁ±ç„ÄÇ&lt;/p>
&lt;h2 id="-‰∏∫‰ªÄ‰πàË¶ÅÁî®-one-hot-ÂêëÈáèË°®Á§∫ÁâπÂæÅ">üîñ ‰∏∫‰ªÄ‰πàË¶ÅÁî® one-hot ÂêëÈáèË°®Á§∫ÁâπÂæÅ&lt;/h2>
&lt;p>Âú®Â§ÑÁêÜÁ±ªÂà´ÁâπÂæÅÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨‰ΩøÁî® &lt;code>one-hot&lt;/code> ÂêëÈáèË°®Á§∫ÂõΩÁ±çÔºåÊØè‰∏™ÂõΩÁ±çÈÉΩÁî® 197 Áª¥ÁöÑÂêëÈáèË°®Á§∫„ÄÇ‰∏∫‰ªÄ‰πàË¶ÅÁî® &lt;code>one-hot&lt;/code> ÂêëÈáèËÄå‰∏çÁî®‰∏Ä‰∏™Êï∞Â≠óË°®Á§∫Âë¢ÔºüÊØîÂ¶ÇÁî® 1 Ë°®Á§∫‰∏≠ÂõΩÔºå2 Ë°®Á§∫ÁæéÂõΩÔºå3 Ë°®Á§∫Âç∞Â∫¶„ÄÇËøôÊ†∑‰∏ÄÊù•ÔºåÂêçÂ≠óÂ∞±ÂèòÊàê‰∫ÜÊï∞Â≠óÔºåÂèØ‰ª•ÂÅöÊï∞ÂÄºËÆ°ÁÆóÔºåËÄå‰∏îÁî®‰∏Ä‰∏™Êï∞Â≠óË°®Á§∫ÁöÑËØùÔºåÂèØ‰ª•ËäÇÁúÅ 197 ÂÄçÁöÑÂ≠òÂÇ®Á©∫Èó¥„ÄÇÂΩìÁÑ∂ËøôÊòØ‰∏çË°åÁöÑ„ÄÇÂê¶ÂàôÊàë‰ª¨Â∞±‰∏çÈúÄË¶Å &lt;code>one-hot encoding&lt;/code> ‰∫Ü„ÄÇ&lt;/p>
&lt;p>ÂÅáËÆæÊàë‰ª¨‰ΩøÁî® &lt;code>1 -&amp;gt; China; 2 -&amp;gt; US; 3 -&amp;gt; India&lt;/code>„ÄÇÈÇ£‰πàÂ∞Ü‰∏≠ÂõΩ &lt;code>1&lt;/code> ÂíåÁæéÂõΩ &lt;code>2&lt;/code> ÁöÑÁâπÂæÅÂä†Ëµ∑Êù•Ôºö&lt;code>1+2=3&lt;/code> ÔºåÁõ∏ÂΩì‰∫é ‚Äú‰∏≠ÂõΩ + ÁæéÂõΩ = Âç∞Â∫¶‚Äù„ÄÇËøôÊ†∑ÁöÑÁâπÂæÅÂÆåÂÖ®‰∏çÂêàÁêÜ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/01/2.png"
loading="lazy"
alt="2"
>&lt;/p>
&lt;p>‰ΩøÁî® &lt;code>one-hot&lt;/code> ÁâπÂæÅÂêëÈáèÊõ¥ÂêàÁêÜ„ÄÇÂ∞Ü China Âíå US ÁöÑ &lt;code>one-hot&lt;/code> ÂêëÈáèÂä†Ëµ∑Êù•ÔºåÂæóÂà∞ &lt;code>[1,1,0,0,...,0]&lt;/code>ÔºåÁ¨¨‰∏Ä‰∏™ÂíåÁ¨¨‰∫å‰∏™ÂÖÉÁ¥†ÈÉΩÊòØ 1ÔºåÂÖ∂‰ΩôÂÖÉÁ¥†ÈÉΩÊòØ 0ÔºåËøô‰∏™ÁâπÂæÅÂêëÈáèÁöÑËß£ÈáäÊòØÔºöÊó¢Êúâ‰∏≠ÂõΩÂõΩÁ±çÔºåÂèàÊúâÁæéÂõΩÂõΩÁ±ç„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/01/3.png"
loading="lazy"
alt="3"
>&lt;/p>
&lt;p>ÊâÄ‰ª•ÂÅöÊú∫Âô®Â≠¶‰π†ÁöÑÊó∂ÂÄôÔºå‰∏çËÉΩÁî®‰∏Ä‰∏™Ê†áÈáèÊù•Ë°®Á§∫‰∏Ä‰∏™Á±ªÂà´ÁâπÂæÅÔºåËøôÁßçÁâπÂæÅÂÅöÊ≥ïÊ±ÇÂíåÁ≠âÊï∞ÂÄºËÆ°ÁÆóÊòØÊ≤°ÊúâÊÑè‰πâÁöÑ„ÄÇÊ≠£Á°ÆÁöÑÂÅöÊ≥ïÊòØ‰ΩøÁî® &lt;code>one-hot&lt;/code> ÂêëÈáèÊù•Ë°®Á§∫Á±ªÂà´ÁâπÂæÅ„ÄÇ&lt;/p>
&lt;h2 id="-Â§ÑÁêÜÊñáÊú¨Êï∞ÊçÆÁöÑÊµÅÁ®ã">üöÄ Â§ÑÁêÜÊñáÊú¨Êï∞ÊçÆÁöÑÊµÅÁ®ã&lt;/h2>
&lt;p>Âú®Ëá™ÁÑ∂ËØ≠Ë®ÄÂ§ÑÁêÜÁöÑÂ∫îÁî®‰∏≠ÔºåÊï∞ÊçÆÂ∞±ÊòØÊñáÊú¨ &lt;code>document&lt;/code>ÔºåÊñáÊú¨ÂèØ‰ª•ÂàÜÂâ≤ÊàêÂæàÂ§öÂçïËØçÔºåÊàë‰ª¨ÈúÄË¶ÅÊääÂçïËØçË°®Á§∫ÊàêÊï∞ÂÄºÂêëÈáè„ÄÇÂÖ∂‰∏≠ÊØè‰∏™ÂçïËØçÈÉΩÊòØ‰∏Ä‰∏™Á±ªÂà´ÔºåÂ¶ÇÊûúÂ≠óÂÖ∏ÈáåÊúâ‰∏Ä‰∏á‰∏™ÂçïËØçÔºåÈÇ£‰πàÂ∞±Êúâ‰∏Ä‰∏áÁöÑÁ±ªÂà´ÔºåÊòæÁÑ∂ÂçïËØçÂ∞±ÊòØÁ±ªÂà´ÁâπÂæÅ„ÄÇÊàë‰ª¨ÈúÄË¶Å‰ΩøÁî®Â§ÑÁêÜÁ±ªÂà´ÁâπÂæÅÁöÑÊñπÊ≥ïÔºåÊääÂçïËØçÂèòÊàêÊï∞ÂÄºÂêëÈáè„ÄÇ&lt;/p>
&lt;p>ÊñáÊú¨Â§ÑÁêÜ‰∏ªË¶ÅÂàÜ‰∏∫‰∏â‰∏™Ê≠•È™§Ôºö&lt;/p>
&lt;ul>
&lt;li>üîî ÊääÊñáÊú¨ÂàÜÂâ≤ÊàêÂçïËØç&lt;/li>
&lt;li>üîî ËÆ°ÁÆóÊØè‰∏™ÂçïËØçÂá∫Áé∞ÁöÑÊ¨°Êï∞&lt;/li>
&lt;li>üîî ËøõË°å one-hot ÁºñÁ†Å&lt;/li>
&lt;/ul>
&lt;p>ÊñáÊú¨Â§ÑÁêÜÁöÑÁ¨¨‰∏ÄÊ≠•ÊòØÊääÊñáÊú¨ÂàÜÂâ≤ÊàêÂçïËØç„ÄÇ‰∏ÄÊÆµËØùÔºå‰∏ÄÁØáÊñáÁ´†ÊàñËÄÖ‰∏ÄÊú¨‰π¶ÂèØ‰ª•Ë°®Á§∫‰∏∫‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂèØ‰ª•ÊääÊñáÊú¨ÂàÜÂâ≤ÊàêÂæàÂ§öÂçïËØçÔºåËøô‰∏™Ê≠•È™§Áß∞‰∏∫ &lt;code>Tokenization&lt;/code>„ÄÇ&lt;/p>
&lt;p>ÊØîÂ¶ÇËØ¥ËøôÂè•ËØù &lt;code>... to be or not to be ...&lt;/code>Ôºå ÂèØ‰ª•ÂàÜÂâ≤ÊàêËøô‰∫õÂçïËØç &lt;code>[to, be, or, not, to, be]&lt;/code>„ÄÇTokenization Â∞±ÊòØÊääÊñáÊú¨ÂèòÊàêÂçïËØçÁöÑÂàóË°®„ÄÇ&lt;/p>
&lt;p>ÊñáÊú¨Â§ÑÁêÜÁöÑÁ¨¨‰∫åÊ≠•ÊòØËÆ°ÁÆóËØçÈ¢ëÔºå‰πüÂ∞±ÊòØÊØè‰∏™ÂçïËØçÂá∫Áé∞ÁöÑÊ¨°Êï∞„ÄÇÊàë‰ª¨ÂèØ‰ª•Áî®‰∏Ä‰∏™ÂìàÂ∏åË°® &lt;code>hash Map&lt;/code> Êù•ËÆ°ÁÆóÔºåËÆ°ÁÆóÂºÄÂßã‰πãÂâçÔºåÂìàÂ∏åË°®ÊòØÁ©∫ÁöÑÔºåÊàë‰ª¨Ê†πÊçÆ‰ª•‰∏ãÊñπÂºèÊõ¥Êñ∞ÂìàÂ∏åË°®ÔºöÂ¶ÇÊûúÂçïËØç &lt;code>w&lt;/code> ‰∏çÂú®Ë°®ÈáåÈù¢ÔºåËØ¥ÊòéÂà∞ÁõÆÂâç‰∏∫Ê≠¢Ôºå&lt;code>w&lt;/code> ËøòÊ≤°ÊúâÂá∫Áé∞Âú®ÊñáÊú¨ÈáåÔºåÊâÄ‰ª•Êàë‰ª¨Ë¶ÅÊää &lt;code>w&lt;/code> Âä†ÂÖ•ÂìàÂ∏åË°®ÔºåÂπ∂ËÆ©ÂÆÉÁöÑËØçÈ¢ëÁ≠â‰∫é 1ÔºõÂ¶ÇÊûú &lt;code>w&lt;/code> Âú®ÂìàÂ∏åË°®ÈáåÈù¢ÔºåËØ¥Êòé &lt;code>w&lt;/code> ‰πãÂâçÂú®ÊñáÊú¨ÈáåÂá∫Áé∞ËøáÔºåÂè™ÈúÄË¶ÅÊää &lt;code>w&lt;/code> ÁöÑËØçÈ¢ëÂä† 1 Âç≥ÂèØ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/01/4.png"
loading="lazy"
alt="4"
>&lt;/p>
&lt;p>Êé•‰∏ãÊù•‰∏æ‰∏™‰æãÂ≠êÔºåÊàë‰ª¨Â∞ÜÊå®‰∏™Â§ÑÁêÜËøô‰∏™ÂàóË°®ÈáåÁöÑÂçïËØç„ÄÇÂΩìÂ§ÑÁêÜÂà∞ÂçïËØç &lt;code>to&lt;/code> ÁöÑÊó∂ÂÄôÔºåÈ¶ñÂÖàÊü•‰∏Ä‰∏ãÂìàÂ∏åË°®ÔºåÂèëÁé∞ÂìàÂ∏åË°®ÈáåÈù¢Êúâ &lt;code>to&lt;/code>ÔºåÂÆÉÁöÑËØçÈ¢ëÊòØ 398ÔºåËØ¥Êòé to Âú®ÊñáÁ´†ÈáåÂ∑≤ÁªèÂá∫Áé∞Ëøá 398 Ê¨°‰∫ÜÔºåÁé∞Âú®Ëøô‰∏™ÂçïËØçÂèàÂá∫Áé∞‰∫Ü‰∏ÄÊ¨°Ôºå‰∫éÊòØÊääË°®ÈáåÁöÑËØçÈ¢ëÂä† 1ÔºåÂèòÊàê‰∫Ü 399ÔºõÂΩìÂ§ÑÁêÜÂà∞ÂçïËØç &lt;code>or&lt;/code>ÁöÑÊó∂ÂÄôÔºåÂú®Ë°®ÈáåÊâæ‰∏çÂà∞ÔºåËøôËØ¥ÊòéÊñáÁ´†ÈáåËøòÊ≤°ÊúâÂá∫Áé∞Ëøá &lt;code>or&lt;/code> Ëøô‰∏™ÂçïËØçÔºåÁ¨¨‰∏ÄÊ¨°Âá∫Áé∞Âú®ÊñáÁ´†ÈáåÔºå‰∫éÊòØÊàë‰ª¨Êää &lt;code>or&lt;/code> ÊèíÂÖ•Ë°®ÈáåÔºåÂ∞ÜËØçÈ¢ëËÆæÁΩÆ‰∏∫ 1„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/01/5.png"
loading="lazy"
alt="5"
>&lt;/p>
&lt;p>ÂÆåÊàêÁªüËÆ°ËØçÈ¢ë‰πãÂêéÔºåÈúÄË¶ÅÊääÂìàÂ∏åË°®ÂÅö‰∏Ä‰∏™ÊéíÂ∫èÔºåÊåâÁÖßËØçÈ¢ëÈÄíÂáèÁöÑÈ°∫Â∫èËøõË°åÊéíÂàóÔºåË°®ÁöÑÊúÄÂâçÈù¢ÊòØËØçÈ¢ëÊúÄÈ´òÁöÑÔºåË°®ÊúÄÂêéÊòØËØçÈ¢ëÊúÄ‰ΩéÁöÑ„ÄÇÁÑ∂ÂêéÂ∞±ÊääËØçÈ¢ëÊç¢Êàê‰∏ãÊ†á &lt;code>index&lt;/code>Ôºå‰ªé 1 ÂºÄÂßãÊï∞ËÆ°Êï∞ÔºåËØçÈ¢ëÊúÄÈ´òÁöÑËØçÁöÑ &lt;code>index&lt;/code> ÊòØ 1„ÄÇËøô‰∏™‰æãÂ≠êÈáåÔºå‰∏ÄÂÖ±Êúâ 8 ‰∏™ÂçïËØçÔºåÊØè‰∏™ËØçÂØπÂ∫î‰∏Ä‰∏™ [1, 8] ‰πãÈó¥ÁöÑÊ≠£Êï¥Êï∞„ÄÇËøô‰∏™Ë°®Áß∞‰∏∫Â≠óÂÖ∏ ÔºåÂèØ‰ª•ÊääÂçïËØçÊò†Â∞Ñ‰∏∫‰∏Ä‰∏™Êï∞Â≠ó„ÄÇ&lt;/p>
&lt;p>Â≠óÂÖ∏ÈáåÂçïËØçÁöÑ‰∏™Êï∞Áß∞‰∏∫ËØçÊ±áÈáè &lt;code>vocabulary&lt;/code>„ÄÇËøô‰æãÂ≠êÈáåËØçÊ±áÈáèÁ≠â‰∫é 8„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/01/6.png"
loading="lazy"
alt="6"
>&lt;/p>
&lt;p>Ëã±ËØ≠ÈáåÂ§ßÊ¶ÇÊúâ 1 ‰∏á‰∏™Â∏∏Áî®ËØçÔºå‰ΩÜÊòØÁªüËÆ°ËØçÈ¢ë‰πãÂêéÔºå‰Ω†‰ºöÂèëÁé∞Â≠óÂÖ∏‰ºöÊúâÂá†ÂçÅ‰∏áÁîöËá≥‰∏äÁôæ‰∏á‰∏™ÂçïËØç„ÄÇÁªüËÆ°ËØçÈ¢ëÁöÑÁõÆÁöÑÂ∞±ÊòØ‰øùÁïôÂ∏∏Áî®ËØçÔºåÂéªÊéâ‰ΩéÈ¢ëËØç„ÄÇÊØîÂ¶ÇÔºåÊàë‰ª¨ÂèØ‰ª•‰øùÁïôËØçÈ¢ëÊúÄÈ´òÁöÑ 1 ‰∏á‰∏™ÂçïËØçÔºåÂà†ÊéâÂÖ∂‰ΩôÂçïËØç„ÄÇ&lt;/p>
&lt;p>&lt;strong>‰∏∫‰ªÄ‰πàË¶ÅÂà†Êéâ‰ΩéÈ¢ëËØçÂë¢Ôºü&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>üå∞ ‰ΩéÈ¢ëËØçÈÄöÂ∏∏Ê≤°ÊúâÊÑè‰πâ&lt;/li>
&lt;/ul>
&lt;p>ÂæàÂ§ö‰ΩéÈ¢ëËØçÈÉΩÊòØÂêçÂ≠óÂÆû‰Ωì &lt;code>name entities&lt;/code>ÔºåÊØîÂ¶ÇÊàë‰ª¨ÁöÑÂêçÂ≠óÂ∞±ÊòØ‰∏™ÂêçÂ≠óÂÆû‰ΩìÔºåÂÅáÂ¶ÇÊàë‰ª¨ÁöÑÂêçÂ≠óÂá∫Áé∞Âú®‰∏Ä‰∏™Êï∞ÊçÆÈõÜÈáåÈù¢Ôºå‰ªñÁöÑÈ¢ëÁéáËÇØÂÆö‰ºöÂæà‰ΩéÔºåÂú®Â§ßÂ§öÊï∞ÁöÑÂ∫îÁî®ÈáåÂêçÂ≠óÂÆû‰ΩìÊ≤°ÊúâÊÑè‰πâ„ÄÇ&lt;/p>
&lt;p>‰ΩéÈ¢ëËØçÂæàÂ§öÈÉΩÊòØÊãºÂÜôÈîôËØØÈÄ†ÊàêÁöÑÔºåÂ¶ÇÊûúÊää prince ÁöÑ c ËØØÂÜôÊàê sÔºåprinseÔºåÈÇ£‰πàÂ∞±ÂàõÈÄ†‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÂçïËØçÔºåËøôÁßçËØçÁöÑÈ¢ëÁéá‰πüÂæà‰ΩéÔºåÂú®ÂæàÂ§öÂ∫îÁî®ÈáåÔºåÂéªÊéâËøôÁßçËØçÊ≤°ÊúâÂç±ÂÆ≥„ÄÇ&lt;/p>
&lt;ul>
&lt;li>üå∞ ÂéªÊéâ‰ΩéÈ¢ëËØçÁöÑÂè¶‰∏Ä‰∏™ÂéüÂõ†ÊòØÊàë‰ª¨‰∏çÂ∏åÊúõ &lt;code>vocabulary&lt;/code> Â§™Â§ß„ÄÇ&lt;/li>
&lt;/ul>
&lt;p>‰∏ã‰∏Ä‰∏™Ê≠•È™§ÂÅö &lt;code>one-hot encoding&lt;/code> ÁöÑÊó∂ÂÄôÔºåÂêëÈáèÁöÑÁª¥Â∫¶Â∞±ÊòØÂ≠óÂÖ∏ÁöÑÂ§ßÂ∞è„ÄÇÂ≠óÂÖ∏Ë∂äÂ§ßÔºåÂêëÈáèÁöÑÁª¥Â∫¶Â∞±Ë∂äÈ´òÔºåËøô‰ºöËÆ©ËÆ°ÁÆóÂèòÊÖ¢„ÄÇ‰∏ã‰∏ÄËäÇËØ¶ÁªÜËØ¥ÊòéËØçÂµåÂÖ• &lt;code>Word Embedding&lt;/code> ÁöÑÊó∂ÂÄôÂ∞±‰ºöÁúãÂà∞ÔºåÂ≠óÂÖ∏Ë∂äÂ§ßÔºåÊ®°ÂûãÁöÑÂèÇÊï∞Â∞±Ë∂ä‰ºöË∂äÂ§öÔºåÂ∞±‰ºöÂÆπÊòìÈÄ†ÊàêËøáÊãüÂêà &lt;code>overfitting&lt;/code>ÔºåÂà†Êéâ‰ΩéÈ¢ëËØçÂ∞±‰ºöÂ§ßÂπÖÂáèÂ∞è &lt;code>vocabulary&lt;/code>„ÄÇ&lt;/p>
&lt;p>ÊñáÊú¨Â§ÑÁêÜÁöÑÁ¨¨‰∏âÊ≠•Â∞±ÊòØÂØπÂçïËØçÂÅö &lt;code>one-hot encoding&lt;/code>ÔºåÈÄöËøáÊü•Â≠óÂÖ∏ÔºåÊääÂçïËØçÊò†Â∞ÑÊàê‰∏Ä‰∏™Ê≠£Êï¥Êï∞Ôºå‰∏Ä‰∏™ÂçïËØçÁöÑÂàóË°®Â∞±Êò†Â∞ÑÊàê‰∫Ü‰∏Ä‰∏™Ê≠£Êï¥Êï∞ÁöÑÂàóË°®ÔºõÂ¶ÇÊûúÊúâÂøÖË¶ÅÂ∞±ÁªßÁª≠ÊääËøô‰∫õÊ≠£Êï¥Êï∞ÂèòÊàê &lt;code>one-hot&lt;/code> ÂêëÈáè„ÄÇËøô‰∫õ &lt;code>one-hot&lt;/code> ÂêëÈáèÁöÑÁª¥Â∫¶Ê≠£Â•ΩÁ≠â‰∫é &lt;code>vocabulary&lt;/code>ÔºåÂú®Ëøô‰∏™‰æãÂ≠êÈáåÈù¢ÔºåÂ≠óÂÖ∏ÁöÑÈïøÂ∫¶ÊòØ 8ÔºåÊâÄ‰ª• &lt;code>one-hot&lt;/code> Áª¥Â∫¶Â∞±Á≠â‰∫é 8„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://nlp.letout.cn/img/nlp/01/7.png"
loading="lazy"
alt="7"
>&lt;/p>
&lt;p>‰∏äÈù¢ËØ¥ËøáÔºåÂ≠óÂÖ∏ÈáåÁöÑ‰ΩéÈ¢ëËØçÂèØËÉΩ‰ºöË¢´Âà†ÊéâÔºåÊâÄ‰ª•Êúâ‰∫õËØçÂú®Â≠óÂÖ∏ÈáåÊâæ‰∏çÂà∞Ôºå‰æãÂ¶ÇÊää be ÈîôËØØÊãºÂÜôÊàêÂçïËØç biÔºåËøô‰∏™ËØçÂú®Â≠óÂÖ∏ÈáåÊâæ‰∏çÂà∞Ôºå&lt;code>one-hot encoding&lt;/code> Êó∂ÔºåÂèØ‰ª•ÂøΩÁï•Ëøô‰∏™ËØçÔºå‰πüÂèØ‰ª•ÊääÂÆÉÁºñÁ†ÅÊàêÂÖ® 0 ÂêëÈáè„ÄÇ&lt;/p>
&lt;h2 id="-ÊÄªÁªì">üéê ÊÄªÁªì&lt;/h2>
&lt;p>ÊúÄÂêéÊÄªÁªì‰∏Ä‰∏ãËøô‰∏ÄËäÇÁöÑÂÜÖÂÆπ„ÄÇ&lt;/p>
&lt;p>ÈÉ®ÂàÜÊú∫Âô®Â≠¶‰π†ÁöÑÊï∞ÊçÆ‰ºöÂÖ∑Â§áÁ±ªÂà´ÁâπÂæÅ &lt;code>Categorical Features&lt;/code>ÔºåÊú∫Âô®Â≠¶‰π†Ê®°ÂûãÊó†Ê≥ïÁêÜËß£ÔºåÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜÂÖ∂ËΩ¨Êç¢ÊàêÊï∞ÂÄºÁâπÂæÅ„ÄÇÁ±ªÂà´ÁâπÂæÅÁöÑÁ±ªÂà´‰ºöË¢´Êò†Â∞ÑÊàê‰∏Ä‰∏™‰ªé &lt;code>1&lt;/code> ÂºÄÂßãËÆ°ÁÆóÁöÑÊï¥Êï∞Ôºå&lt;code>0&lt;/code> Ë¢´Áî®Êù•Ë°®Á§∫Áº∫Â§±ÊàñËÄÖÊú™Áü•ÁöÑÁ±ªÂà´ÔºåÂπ∂‰∏î‰ΩøÁî® &lt;code>one-hot&lt;/code> ÂêëÈáèÔºåËÉΩÂæàÂ•ΩÁöÑË°®Á§∫Á±ªÂà´ÁâπÂæÅÁöÑÊÑè‰πâ„ÄÇ&lt;/p>
&lt;p>ÊñáÊú¨Â§ÑÁêÜ‰∏ªË¶ÅÊúâ‰∏â‰∏™Ê≠•È™§ÔºåÁ¨¨‰∏ÄÊ≠• &lt;code>tokenization&lt;/code> ÊääÊñáÊú¨ÂàÜÂâ≤ÊàêÂçïËØçÁöÑÂàóË°®ÔºõÁ¨¨‰∫åÊ≠•Âª∫Á´ã‰∫Ü‰∏Ä‰∏™Â≠óÂÖ∏&lt;code>vocabulary&lt;/code>ÔºåÊääÂçïËØçÊò†Â∞ÑÊàê‰∏Ä‰∏™Ê≠£Êï¥Êï∞ÔºõÁ¨¨‰∏âÊ≠•ËøõË°å &lt;code>one-hot encoding&lt;/code>ÔºåÂ∞ÜÂàÜÂâ≤ÂêéÁöÑÂçïËØçÂàóË°®Êò†Â∞ÑÊàêÊ≠£Êï¥Êï∞ÁöÑÂàóË°®ÊàñÂèòÊàê &lt;code>one-hot&lt;/code> ÂêëÈáè„ÄÇ&lt;/p></description></item><item><title>Ê≥®Ëß£‰∏éÂèçÂ∞Ñ</title><link>https://emerywan.github.io/blog/p/java/annotation-and-reflection/</link><pubDate>Fri, 28 Jan 2022 01:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/java/annotation-and-reflection/</guid><description>&lt;h2 id="Ê≥®Ëß£">Ê≥®Ëß£&lt;/h2>
&lt;h3 id="ÂÜÖÁΩÆÊ≥®Ëß£">ÂÜÖÁΩÆÊ≥®Ëß£&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;code>@Override&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>@Deprecated&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>@SuppressWarning&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="ÂÖÉÊ≥®Ëß£">ÂÖÉÊ≥®Ëß£&lt;/h3>
&lt;p>ÂÖÉÊ≥®Ëß£ÁöÑ‰ΩúÁî®ÊòØÔºöÊ≥®Ëß£ÂÖ∂‰ªñÊ≥®Ëß£„ÄÇJava ‰∏≠ÂÆö‰πâ‰∫ÜÂõõ‰∏™ÂÖÉÊ≥®Ëß£Á±ªÂûãÔºåÁî®Êù•ÂØπÂÖ∂‰ªñÊ≥®Ëß£Á±ªÂûãÂÅöËØ¥Êòé„ÄÇ&lt;/p>
&lt;ul>
&lt;li>&lt;code>@Target&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>ÊèèËø∞Ê≥®Ëß£ÁöÑ‰ΩøÁî®ËåÉÂõ¥ÔºåÊòØÁî®‰∫éÁ±ª„ÄÅÊñπÊ≥ïËøòÊòØÂ±ûÊÄßÁ≠â„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ËØ•Ê≥®Ëß£ÁöÑ‰ΩúÁî®ËåÉÂõ¥‰∏∫
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// TYPE ÊèèËø∞Á±ª„ÄÅÊé•Âè£(ÂåÖÊã¨Ê≥®Ëß£Á±ªÂûã) ÊàñenumÂ£∞Êòé
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// FIELD ÊèèËø∞ÂüüÂç≥Á±ªÊàêÂëòÂèòÈáè
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// METHOD ÊèèËø∞ÊñπÊ≥ï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// PARAMETER ÊèèËø∞ÂèÇÊï∞
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// CONSTRUCTOR ÊèèËø∞ÊûÑÈÄ†Âô®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// LOCAL_VARIABLE ÊèèËø∞Â±ÄÈÉ®ÂèòÈáè
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nd">@Target&lt;/span>&lt;span class="o">({&lt;/span>&lt;span class="n">TYPE&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">FIELD&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">METHOD&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">PARAMETER&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">CONSTRUCTOR&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">LOCAL_VARIABLE&lt;/span>&lt;span class="o">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Retention&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">RetentionPolicy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">SOURCE&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="nd">@interface&lt;/span> &lt;span class="n">SuppressWarning&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="nf">value&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>@Retention&lt;/code>
&lt;ul>
&lt;li>SOURCE Ê∫êÊñá‰ª∂‰∏≠ÊúâÊïà&lt;/li>
&lt;li>CLASS classÊñá‰ª∂‰∏≠ÊúâÊïà&lt;/li>
&lt;li>RUNTIME ËøêË°åÊó∂ÊúâÊïà&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>Ê≥®Ëß£ÁöÑÁîüÂëΩÂë®ÊúüÔºåÂú®‰ªÄ‰πàÁ∫ßÂà´‰øùÁïôÊ≥®Ëß£„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Target&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ElementType&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">METHOD&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Retention&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">RetentionPolicy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">SOURCE&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="c1">// Ê∫êÊñá‰ª∂‰∏≠ÊúâÊïà
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">public&lt;/span> &lt;span class="nd">@interface&lt;/span> &lt;span class="n">Override&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>@Documented&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>ËØ¥ÊòéËØ•Ê≥®Ëß£Â∞ÜË¢´ÂåÖÂê´Âú® javadoc ‰∏≠&lt;/p>
&lt;ul>
&lt;li>&lt;code>@Inherited&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>ËØ¥ÊòéÂ≠êÁ±ªÂèØ‰ª•ÁªßÊâøÁà∂Á±ª‰∏≠ÁöÑËØ•Ê≥®Ëß£&lt;/p>
&lt;h3 id="Ëá™ÂÆö‰πâÊ≥®Ëß£">Ëá™ÂÆö‰πâÊ≥®Ëß£&lt;/h3>
&lt;p>‰ΩøÁî® &lt;code>@interface&lt;/code> Ëá™ÂÆö‰πâÊ≥®Ëß£Ôºå‰ºöÈªòËÆ§ÁªßÊâø &lt;code>java.lang.annotation.Annotation&lt;/code> Êé•Âè£„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Âè™Êúâ‰∏Ä‰∏™ÂèÇÊï∞Ôºå‰∏ÄËà¨Áî® &lt;code>value&lt;/code> ‰Ωú‰∏∫ÂèÇÊï∞Âêç„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂèØ‰ª•Áî® &lt;code>default&lt;/code> Â£∞ÊòéÈªòËÆ§ÂÄº„ÄÇ&lt;/p>
&lt;ul>
&lt;li>&lt;code>String value() default &amp;quot;&amp;quot;;&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="ÂèçÂ∞Ñ">ÂèçÂ∞Ñ&lt;/h2>
&lt;p>ÂèçÂ∞ÑÊú∫Âà∂ÂÖÅËÆ∏Á®ãÂ∫èÂú®ÊâßË°åÊúüÈó¥Ôºå‰ΩøÁî®ÂèçÂ∞Ñ API Ëé∑ÂèñÁ±ªÁöÑ‰ø°ÊÅØÔºåÂπ∂Êìç‰Ωú‰ªªÊÑèÂØπË±°ÁöÑÂÜÖÈÉ®Â±ûÊÄßÂèäÊñπÊ≥ï„ÄÇ&lt;/p>
&lt;p>Á±ªÂä†ËΩΩÂêéÔºåÂú®ÊñπÊ≥ïÂå∫‰∏≠‰ºö‰∫ßÁîü‰∏Ä‰∏™ &lt;code>java.lang.Class&lt;/code> Á±ªÂûãÁöÑÂØπË±°ÔºåÂåÖÂê´‰∫ÜÁ±ªÁöÑ‰ø°ÊÅØ„ÄÇÂèçÂ∞ÑÈÄöËøáËøô‰∏™Á±ªÔºåÂèØ‰ª•Ëé∑ÂèñÁ±ªÁöÑÁªìÊûÑ‰∏é‰ø°ÊÅØ„ÄÇ&lt;/p>
&lt;p>Âú® JVM ‰∏≠ÔºåÊØè‰∏™Á±ªÂè™Â≠òÂú®‰∏Ä‰∏™ &lt;code>Class&lt;/code> ÂØπË±°ÔºåÊó†ËÆ∫‰ΩøÁî®‰ªÄ‰πàÊñπÂºèËé∑ÂèñÔºåÈÉΩÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇÔºàÂä†ËΩΩÂô®ÊØè‰∏™Á±ªÂè™‰ºöÂä†ËΩΩ‰∏ÄÊ¨°Ôºâ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Class&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Class&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">forName&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;cn.letout.Person&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Class&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">person&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getClass&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Class&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Person&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="Ëé∑ÂèñÁ±ªÁöÑ‰ø°ÊÅØ">Ëé∑ÂèñÁ±ªÁöÑ‰ø°ÊÅØ&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Class&lt;/span>&lt;span class="o">&amp;lt;?&amp;gt;&lt;/span> &lt;span class="n">clazz&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Class&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">forName&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;cn.letout.Test&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Á±ªÁöÑ‰ø°ÊÅØ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">clazz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// ÂåÖÂêç + Á±ªÂêç
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">clazz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getSimpleName&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// Á±ªÂêç
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Á±ªÁöÑÂ±ûÊÄß
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Field&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">publicFields&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clazz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getFields&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// Ëé∑Âèñ public Â±ûÊÄß
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Field&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">fields&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clazz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getDeclaredFields&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// Ëé∑ÂèñÊâÄÊúâÂ±ûÊÄß
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Field&lt;/span> &lt;span class="n">nameField&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clazz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getField&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// Ëé∑ÂæóÊåáÂÆöÂ±ûÊÄß
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">String&lt;/span> &lt;span class="n">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nameField&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// Ëé∑ÂæóÂ±ûÊÄßÂêç
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Class&lt;/span>&lt;span class="o">&amp;lt;?&amp;gt;&lt;/span> &lt;span class="n">type&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nameField&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getType&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// Ëé∑ÂæóÂ±ûÊÄßÁ±ªÂûã
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Á±ªÁöÑÊñπÊ≥ï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Method&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">publicMethods&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clazz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getMethods&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Method&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">methods&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clazz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getDeclaredMethods&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Method&lt;/span> &lt;span class="n">getNameMethod&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clazz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getMethod&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;getName&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// Ëé∑ÂæóÊåáÂÆöÊñπÊ≥ï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Method&lt;/span> &lt;span class="n">setNameMethod&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clazz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getMethod&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;setName&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">String&lt;/span> &lt;span class="n">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">setNameMethod&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// Ëé∑ÂèñÊñπÊ≥ïÂêç
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Class&lt;/span>&lt;span class="o">&amp;lt;?&amp;gt;&lt;/span> &lt;span class="n">type&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">setNameMethod&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getReturnType&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// Ëé∑ÂèñÊñπÊ≥ïËøîÂõûÁ±ªÂûã
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Á±ªÁöÑÊûÑÈÄ†Âô®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Constructor&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">publicConstructors&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clazz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getConstructors&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Constructor&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">constructors&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clazz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getDeclaredConstructors&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Á±ªÁöÑÊ≥®Ëß£
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Annotation&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">annotations&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clazz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getAnnotations&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Annotation&lt;/span> &lt;span class="n">testAnnotation&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clazz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getAnnotation&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">TestAnnotation&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">String&lt;/span> &lt;span class="n">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">testAnnotation&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">value&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ÂàõÂª∫Á±ªÁöÑÂØπË±°">ÂàõÂª∫Á±ªÁöÑÂØπË±°&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Class&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Person&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">clazz&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Person&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Person&lt;/span> &lt;span class="n">person&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clazz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getConstructor&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">newInstance&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Person&lt;/span> &lt;span class="n">person&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clazz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getConstructor&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">).&lt;/span>&lt;span class="na">newInstance&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Ëé∑ÂèñÁßÅÊúâÊûÑÈÄ†ÊñπÊ≥ï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ‰ΩøÁî® getDeclaredConstructor() Ëé∑ÂèñÈùû public ÊûÑÈÄ†ÊñπÊ≥ï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Constructor&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Person&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">constructor&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clazz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getDeclaredConstructor&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">constructor&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setAccessible&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Person&lt;/span> &lt;span class="n">person&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">constructor&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">newInstance&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="Ë∞ÉÁî®Á±ªÁöÑÊñπÊ≥ï">Ë∞ÉÁî®Á±ªÁöÑÊñπÊ≥ï&lt;/h3>
&lt;p>‰ΩøÁî®ÂèçÂ∞ÑÊú∫Âà∂ÔºåË∞ÉÁî®Á±ªÁöÑÊñπÊ≥ï„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Class&lt;/span> &lt;span class="n">clazz&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Class&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">forName&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;cn.letout.Person&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Object&lt;/span> &lt;span class="n">instance&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clazz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">newInstance&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Ëé∑Âèñ public ÊñπÊ≥ï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Method&lt;/span> &lt;span class="n">method&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clazz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getMethod&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;test&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">method&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">invoke&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">instance&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s">&amp;#34;ÂèÇÊï∞&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Ëé∑ÂèñÈùû public ÊñπÊ≥ï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Method&lt;/span> &lt;span class="n">privateMethod&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clazz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getDeclaredMethod&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;fun&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">privateMethod&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setAccessible&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">privateMethod&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">invoke&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">instance&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s">&amp;#34;ÂèÇÊï∞&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="‰øÆÊîπÁ±ªÁöÑÂ±ûÊÄß">‰øÆÊîπÁ±ªÁöÑÂ±ûÊÄß&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Class&lt;/span> &lt;span class="n">clazz&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Class&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">forName&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;cn.letout.Person&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Object&lt;/span> &lt;span class="n">instance&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clazz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">newInstance&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Field&lt;/span> &lt;span class="n">filed&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clazz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getDeclaredField&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">field&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setAccessible&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">field&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">set&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">instance&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s">&amp;#34;Emery&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>ÂèçÂ∞ÑÂèØ‰ª•‰øÆÊîπ final ‰øÆÈ•∞ÁöÑÂ∏∏ÈáèÂ±ûÊÄß„ÄÇ&lt;/strong>
Â¶ÇÊûú JVM Ê≤°ÊúâËøõË°åÂÜÖËÅî‰ºòÂåñÔºåÂèØÁõ¥Êé•Ëé∑ÂèñÂØπÂ∫îÁöÑÂÄº„ÄÇÂ¶ÇÊûú JVM ÂØπÂÖ∂ËøõË°å‰∫ÜÂÜÖËÅî‰ºòÂåñÔºåÁºñËØëÈò∂ÊÆµÂ∑≤ÁªèÂ∞ÜÂÖ∂ÊõøÊç¢Êàê‰∫ÜÂ∏∏ÈáèÁöÑÂÄºÔºåÂéü‰ª£Á†ÅÂèØËÉΩËæìÂá∫ÂéüÂÄº„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// final name
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">person&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">name&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ÂÜÖËÅî‰ºòÂåñ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Emery&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ÂèçÂ∞ÑËé∑ÂèñÊ≥®Ëß£">ÂèçÂ∞ÑËé∑ÂèñÊ≥®Ëß£&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Ëé∑ÂèñÁ±ªÊ≥®Ëß£
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Annotation&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">annotations&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clazz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getAnnotations&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Annotation&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Test&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">testAnnotation&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clazz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getAnnotation&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Test&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Ëé∑ÂèñÂ±ûÊÄßÊ≥®Ëß£
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Field&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">declaredFields&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clazz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getDeclaredFields&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Field&lt;/span> &lt;span class="n">field&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">declaredFields&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Annotation&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Test&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">testAnnotation&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">field&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getAnnotation&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Test&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">testAnnotation&lt;/span> &lt;span class="o">!&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">String&lt;/span> &lt;span class="n">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">testAnnotation&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">value&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ... ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Java Map Êìç‰Ωú</title><link>https://emerywan.github.io/blog/p/java-map-traversal/</link><pubDate>Thu, 28 Oct 2021 21:14:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/java-map-traversal/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/11.jpeg" alt="Featured image of post Java Map Êìç‰Ωú" />&lt;p>ÂÅöËá™ÁÑ∂ËØ≠Ë®ÄÂ§ÑÁêÜÂÜô‰∫ÜÊå∫‰πÖÁöÑ &lt;code>Python&lt;/code> ÔºåÁªèÂ∏∏Ë¶ÅÂ§ÑÁêÜÊï∞ÊçÆ„ÄÇÁî® &lt;code>Python&lt;/code> ‰∏≠ÁöÑÂ§ÑÁêÜÊï∞ÊçÆÁúüÁöÑÊå∫ÁàΩÁöÑ ü´£ÔºåÊàëÂπ≥Â∏∏ÈÉΩÂñúÊ¨¢ÊääÂêÑÁßçÊï∞ÊçÆÈÉΩÂæÄ &lt;code>dict&lt;/code>Ôºà‰πüÂ∞±ÊòØ &lt;code>Java&lt;/code> ‰∏≠ÁöÑ &lt;code>map&lt;/code>Ôºâ Âíå &lt;code>json&lt;/code> ‰∏äËΩ¨ÔºåÁî® &lt;code>Python&lt;/code> Â§ÑÁêÜËøô‰∏™ÂêÑÁßçÊñπ‰æø„ÄÇ ÊúÄËøëÂÜçÂÜô &lt;code>Java&lt;/code> Â∞±ÁªèÂ∏∏‚ÄúÊâãÊÆã‚ÄùÔºåÊâÄ‰ª•ÊÄªÁªì‰∏Ä‰∏ã &lt;code>Java&lt;/code> ‰∏≠Â§ÑÁêÜ &lt;code>Map&lt;/code>„ÄÇ&lt;/p>
&lt;h2 id="-ÈÅçÂéÜÊñπÂºè">‚≠êÔ∏è ÈÅçÂéÜÊñπÂºè&lt;/h2>
&lt;p>Java ÈÅçÂéÜ MapÔºåË¶Å‰πàÂ∞±ÊòØÈÅçÂéÜÂÆÉÁöÑ &lt;code>Map.Entry&amp;lt;K,V&amp;gt; &amp;lt;- entrySet()&lt;/code>ÔºåË¶Å‰πàÂ∞±ÊòØÈÅçÂéÜÂÆÉÁöÑ key &lt;code>KeySet &amp;lt;- keySet()&lt;/code>„ÄÇ‰∏ªË¶ÅÂèØ‰ª•Áî®‰∏ãÈù¢ÂõõÁßçÊñπÂºèÈÅçÂéÜÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Iterator&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ForEach&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Lambda&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Stream&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Èô§ÈùûÁâπÊÆäÈúÄË¶ÅÔºåÂ∞ΩÈáè‰ΩøÁî®Âêé 3 ÁßçÈÅçÂéÜÊñπÂºèÔºå‰ΩøÁî® &lt;code>Iterator&lt;/code> ÂèØËÉΩÊõ¥ÂÆπÊòìÈÄ†Êàê‰∏Ä‰∫õÈîôËØØÔºàEffective Java - 58Ôºö&lt;code>for-each&lt;/code> ‰ºòÂÖà‰∫é &lt;code>for&lt;/code> Âæ™ÁéØÔºâ„ÄÇ&lt;/p>
&lt;p>Âú®‰∏Ä‰∫õ &lt;code>for-each&lt;/code> ‰∏çËÉΩËÉú‰ªªÁöÑÂú∞ÊñπÔºåÂÖ∂ÂÆû‰πüÊúâÂæàÂØπÂÜÖÁΩÆÊñπÊ≥ïËÉΩÂ§üÂÆåÊàêÊìç‰ΩúÔºå‰∏ç‰ªÖÊõ¥Âä†Áõ¥ËßÇÔºåËÄå‰∏îÈùûÂ∏∏ÊòìÁî®„ÄÇÊØîÂ¶ÇÂà†Èô§Êìç‰ΩúÔºö&lt;code>Collection#removeIf()&lt;/code> &lt;code>Java 1.8+&lt;/code>„ÄÇ&lt;/p>
&lt;h3 id="foreach">ForEach&lt;/h3>
&lt;h4 id="entryset">EntrySet&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Set&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">Entry&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">K&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">V&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="nf">entrySet&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ---
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">Entry&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">entry&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">entrySet&lt;/span>&lt;span class="o">())&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">String&lt;/span> &lt;span class="n">key&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">entry&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getKey&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">String&lt;/span> &lt;span class="n">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">entry&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getValue&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="keyset">KeySet&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Set&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">K&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nf">keySet&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ---
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="n">key&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">keySet&lt;/span>&lt;span class="o">())&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">String&lt;/span> &lt;span class="n">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">key&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="lambda">Lambda&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">HashMap&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">K&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="n">V&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="kd">extends&lt;/span> &lt;span class="n">AbstractMap&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">K&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="n">V&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="kd">implements&lt;/span> &lt;span class="n">Map&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">K&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="n">V&lt;/span>&lt;span class="o">&amp;gt;,&lt;/span> &lt;span class="n">Cloneable&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Serializable&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">forEach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Biconsumer&lt;/span>&lt;span class="o">&amp;lt;?&lt;/span> &lt;span class="kd">super&lt;/span> &lt;span class="n">K&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="kd">super&lt;/span> &lt;span class="n">V&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">action&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ---
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">forEach&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="n">key&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// key
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// value
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="stream">Stream&lt;/h3>
&lt;h4 id="steram">Steram&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">entrySet&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">stream&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">forEach&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="n">entry&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">String&lt;/span> &lt;span class="n">key&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">entry&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getKey&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">String&lt;/span> &lt;span class="n">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">entry&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getValue&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="parallelstream">parallelStream&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">entrySet&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">parallelStream&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">forEach&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="n">entry&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">String&lt;/span> &lt;span class="n">key&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">entry&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getKey&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">String&lt;/span> &lt;span class="n">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">entry&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getValue&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="interator">Interator&lt;/h3>
&lt;h4 id="entryset-1">EntrySet&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Iterator&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">Entry&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">iterator&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">entrySet&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">iterator&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">while&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">iterator&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">hasNext&lt;/span>&lt;span class="o">())&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">Entry&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">entry&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">iterator&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">next&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">String&lt;/span> &lt;span class="n">key&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">entry&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getKey&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">String&lt;/span> &lt;span class="n">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">entry&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getValue&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ê†πÊçÆ Effective Java - 57ÔºåÊõ¥Êé®Ëçê‰ª•‰∏ãËøôÁßçÂÜôÊ≥ïÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Iterator&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">Entry&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">iterator&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">entrySet&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">iterator&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="n">iterator&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">hasNext&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">Entry&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">entry&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">iterator&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">next&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">String&lt;/span> &lt;span class="n">key&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">entry&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getKey&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">String&lt;/span> &lt;span class="n">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">entry&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getValue&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="keyset-1">KeySet&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Iteator&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">iterator&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">keySet&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">iterator&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="n">iterator&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">hasNext&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">String&lt;/span> &lt;span class="n">key&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">iterator&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">next&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">String&lt;/span> &lt;span class="n">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">key&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="-‰∏Ä‰∫õÊìç‰Ωú">üåü ‰∏Ä‰∫õÊìç‰Ωú&lt;/h2>
&lt;h3 id="Âà§Á©∫">Âà§Á©∫&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="err">üôã&lt;/span>&lt;span class="n">‚Äç&lt;/span>&lt;span class="err">‚ôÇ&lt;/span>&lt;span class="n">Ô∏è&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">isEmpty&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">üôÖ&lt;/span>&lt;span class="n">‚Äç&lt;/span>&lt;span class="err">‚ôÇ&lt;/span>&lt;span class="n">Ô∏è&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">boolean&lt;/span> &lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">size&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ËÆ°Êï∞--merge">ËÆ°Êï∞ / merge()&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="n">V&lt;/span> &lt;span class="nf">merge&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">K&lt;/span> &lt;span class="n">key&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">V&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">BiFunction&lt;/span>&lt;span class="o">&amp;lt;?&lt;/span> &lt;span class="kd">super&lt;/span> &lt;span class="n">V&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="kd">super&lt;/span> &lt;span class="n">V&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="kd">extends&lt;/span> &lt;span class="n">V&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">remappingFunction&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">merge&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">key&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Integer&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">sum&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="removeif">removeIf()&lt;/h3>
&lt;blockquote>
&lt;p>üöß Ê≥®ÊÑèÔºö&lt;/p>
&lt;p>&lt;code>Map&lt;/code> Êú¨Ë∫´ÊòØÊ≤°Êúâ &lt;code>removeIf()&lt;/code>„ÄÇ&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">entrySet&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">removeIf&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">entry&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="o">{});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">keySet&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">removeIf&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">key&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="o">{});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">values&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">removeIf&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">value&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="o">{});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="absent">absent&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="n">V&lt;/span> &lt;span class="nf">putIfAbsent&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">K&lt;/span> &lt;span class="n">key&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">V&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ‰∏çÂ≠òÂú® key Êó∂ÔºåÊåâ mappingFunction Ê∑ªÂä† value
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Â≠òÂú® key ‰∏çÊîπÂèò
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">public&lt;/span> &lt;span class="n">V&lt;/span> &lt;span class="nf">computeIfAbsent&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">K&lt;/span> &lt;span class="n">key&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Function&lt;/span>&lt;span class="o">&amp;lt;?&lt;/span> &lt;span class="kd">super&lt;/span> &lt;span class="n">K&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="kd">extends&lt;/span> &lt;span class="n">V&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">mappingFunction&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="n">V&lt;/span> &lt;span class="nf">computeIfPresent&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">K&lt;/span> &lt;span class="n">key&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">BiFunction&lt;/span>&lt;span class="o">&amp;lt;?&lt;/span> &lt;span class="kd">super&lt;/span> &lt;span class="n">K&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="kd">super&lt;/span> &lt;span class="n">V&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="kd">extends&lt;/span> &lt;span class="n">V&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">remappingFunction&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="default">default&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">map&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getOrDefault&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">key&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="-ÂèÇËÄÉ">üîó ÂèÇËÄÉ&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://mp.weixin.qq.com/s/zQBN3UvJDhRTKP6SzcZFKw" target="_blank" rel="noopener"
>https://mp.weixin.qq.com/s/zQBN3UvJDhRTKP6SzcZFKw&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Modularized Interaction Network for Named Entity Recognition</title><link>https://emerywan.github.io/blog/p/modularizedinteractionnetworkfornamed-entityrecognition/</link><pubDate>Wed, 01 Sep 2021 21:14:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/modularizedinteractionnetworkfornamed-entityrecognition/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/9.jpeg" alt="Featured image of post Modularized Interaction Network for Named Entity Recognition" />&lt;p>Áé∞ÊúâNERÊ®°ÂûãÁº∫ÁÇπÔºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Âü∫‰∫éÂ∫èÂàóÊ†áÊ≥®ÁöÑNERÊ®°ÂûãÔºàThe sequence labeling-based NERmodelsÔºâ&lt;/p>
&lt;ul>
&lt;li>ÈïøÂÆû‰ΩìËØÜÂà´‰∏ç‰Ω≥ÔºåÂè™ÂÖ≥Ê≥®ËØçÁ∫ß‰ø°ÊÅØ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Âü∫‰∫éÂàÜÊÆµÁöÑNERÊ®°ÂûãÔºàThe segment-based NERmodelsÔºâ&lt;/p>
&lt;ul>
&lt;li>Â§ÑÁêÜÂàÜÊÆµÔºåËÄåÈùûÂçï‰∏™ËØçÔºå‰∏çËÉΩÊçïËé∑ÂàÜÊÆµ‰∏≠ÁöÑËØçÁ∫ß‰æùËµñÂÖ≥Á≥ª&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>ËæπÁïåÊ£ÄÊµãÔºàboundary detectionÔºâÂíåÁ±ªÂûãÈ¢ÑÊµãÔºàtype pre-dictionÔºâÂèØ‰ª•Áõ∏‰∫íÈÖçÂêàÔºå‰∏§‰∏™Â≠ê‰ªªÂä°ÂèØÂÖ±‰∫´‰ø°ÊÅØÔºåÁõ∏‰∫íÂä†Âº∫„ÄÇ&lt;/p>
&lt;p>ÊèêÂá∫Ê®°ÂùóÂåñ‰∫§‰∫íÁΩëÁªúÊ®°ÂûãMINÔºàModularized Interaction NetworkÔºâ&lt;/p>
&lt;p>Âà©Áî®ÊÆµÁ∫ß‰ø°ÊÅØÂíåËØçÁ∫ß‰æùËµñÂÖ≥Á≥ªÔºåÁªìÂêà‰∏ÄÁßç‰∫§‰∫íÊú∫Âà∂ÔºåÊîØÊåÅËæπÁïåÊ£ÄÊµãÂíåÁ±ªÂûãÈ¢ÑÊµã‰πãÈó¥ÁöÑ‰ø°ÊÅØÂÖ±‰∫´„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/modularizedinteractionnetworkfornamed-entityrecognition/1.png"
width="493"
height="408"
srcset="https://emerywan.github.io/blog/blog/p/modularizedinteractionnetworkfornamed-entityrecognition/1_huf69a1b5e1975a497801b13aa3110264f_41598_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/modularizedinteractionnetworkfornamed-entityrecognition/1_huf69a1b5e1975a497801b13aa3110264f_41598_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="1"
class="gallery-image"
data-flex-grow="120"
data-flex-basis="290px"
>&lt;/p>
&lt;p>a recurrentneural network encoder-decoder framework with apointer network is used to detect entity segmentsfor segment information.&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/modularizedinteractionnetworkfornamed-entityrecognition/2.png"
width="790"
height="399"
srcset="https://emerywan.github.io/blog/blog/p/modularizedinteractionnetworkfornamed-entityrecognition/2_hu67c580ff6778a63552a8e24eeebbd582_54929_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/modularizedinteractionnetworkfornamed-entityrecognition/2_hu67c580ff6778a63552a8e24eeebbd582_54929_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="2"
class="gallery-image"
data-flex-grow="197"
data-flex-basis="475px"
>&lt;/p></description></item><item><title>A Sequence-to-Set Network for Nested Named Entity Recognition</title><link>https://emerywan.github.io/blog/p/sequence-to-set/</link><pubDate>Mon, 07 Jun 2021 21:14:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/sequence-to-set/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/14.jpeg" alt="Featured image of post A Sequence-to-Set Network for Nested Named Entity Recognition" />&lt;p>ÂÄüÈâ¥ÂõæÂÉèÈ¢ÜÂüüÁöÑÁõÆÊ†áÊ£ÄÊµã‰ªªÂä°ÔºåÂ∞ÜÂµåÂ•ó‰ªªÂä°ËΩ¨ÂåñÊàêspanÁöÑÈ¢ÑÊµãÔºåËß£ÂÜ≥ÂµåÂ•óÂëΩÂêçÂÆû‰ΩìËØÜÂà´‰ªªÂä°„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/sequence-to-set/model.png"
width="693"
height="366"
srcset="https://emerywan.github.io/blog/blog/p/sequence-to-set/model_hu04a3cb5aafa3b0d4955b742068e6104d_64624_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/sequence-to-set/model_hu04a3cb5aafa3b0d4955b742068e6104d_64624_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="model"
class="gallery-image"
data-flex-grow="189"
data-flex-basis="454px"
>&lt;/p>
&lt;p>ÂÖ∑‰ΩìÊòØÈááÁî®‰∏§Èò∂ÊÆµÔºö&lt;/p>
&lt;ul>
&lt;li>Á¨¨‰∏ÄÊ≠• LocateÔºåÂç≥ÂÆö‰ΩçÂÆû‰ΩìÁöÑËæπÁïå&lt;/li>
&lt;li>Á¨¨‰∫åÊ≠• LabelÔºåÂç≥ÂØπËØÜÂà´spanËøõË°åÂÆû‰ΩìÁ±ªÂûãÂà§Êñ≠„ÄÇ&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/sequence-to-set/1.png"
width="357"
height="52"
srcset="https://emerywan.github.io/blog/blog/p/sequence-to-set/1_huec6c826749de8343d0aee5d973132caa_9180_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/sequence-to-set/1_huec6c826749de8343d0aee5d973132caa_9180_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="1"
class="gallery-image"
data-flex-grow="686"
data-flex-basis="1647px"
>&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/sequence-to-set/2.png"
width="347"
height="320"
srcset="https://emerywan.github.io/blog/blog/p/sequence-to-set/2_hu4391112aaed5160844ed6f4005b28fce_42441_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/sequence-to-set/2_hu4391112aaed5160844ed6f4005b28fce_42441_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="2"
class="gallery-image"
data-flex-grow="108"
data-flex-basis="260px"
>&lt;/p></description></item><item><title>Named Entity Recognition As Dependency Parsing</title><link>https://emerywan.github.io/blog/p/namedentityrecognitionasdependencyparsing/</link><pubDate>Tue, 01 Jun 2021 21:14:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/namedentityrecognitionasdependencyparsing/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/7.jpeg" alt="Featured image of post Named Entity Recognition As Dependency Parsing" />&lt;p>Êñá‰∏≠Â∞ÜÊØè‰∏™ token Áî® BERT Âíå fastText ËøõË°å embeddingÔºåÊãºÊé•‰∏äÁî® CNN ÁºñÁ†ÅÁöÑÂ≠óÁ¨¶Á∫ßÂà´ÂêëÈáèÔºåÈÄÅÂÖ•‰∏Ä‰∏™ÂèåÂêë LSTM ÁºñÁ†Å‰∏ä‰∏ãÊñá‰ø°ÊÅØÔºåËé∑ÂæóÊØè‰∏™ËØçÁöÑË°®Ëææ„ÄÇ‰πãÂêéÈááÁî®‰∏§‰∏™Áã¨Á´ãÁöÑ FFNN Êù•ÂæóÂà∞‰Ωú‰∏∫ÂÆû‰ΩìÂºÄÂßãÂíåÁªìÊùüÁöÑ‰ΩçÁΩÆÁöÑË°®Ëææ„ÄÇ&lt;/p>
&lt;p>ÊúÄÂêéÁî®‰∏Ä‰∏™‰ªøÂ∞ÑÊ®°ÂûãÂæóÂà∞‰∏Ä‰∏™ $l√ól√óc$ ÁöÑ tensorÔºåÂÖ∂‰∏≠ l ÊòØÂè•Â≠êÈïøÂ∫¶Ôºåc ÊòØÂÆû‰ΩìÁ±ªÂà´Êï∞ÈáèÂä†‰∏ÄÔºàË°®Á§∫Êó†ÂÆû‰ΩìÔºâ„ÄÇËøêÁî®ËØ•Áü©ÈòµÔºåÊñá‰∏≠ÂØπ‰∫éÂµåÂ•óÂíåÈùûÂµåÂ•óÈááÁî®‰∫Ü‰∏§Áßç‰∏çÂêåÁöÑÁ≠ñÁï•Ôºå‰ªéËÄåÂæóÂà∞‰∫ÜÂÆû‰ΩìÁöÑËµ∑Ê≠¢‰ΩçÁΩÆ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/namedentityrecognitionasdependencyparsing/model.png"
width="500"
height="501"
srcset="https://emerywan.github.io/blog/blog/p/namedentityrecognitionasdependencyparsing/model_hue39a704d975d112c4ae2b387bb0aa5be_45180_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/namedentityrecognitionasdependencyparsing/model_hue39a704d975d112c4ae2b387bb0aa5be_45180_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="model"
class="gallery-image"
data-flex-grow="99"
data-flex-basis="239px"
>&lt;/p>
&lt;p>code: &lt;a class="link" href="https://github.com/juntaoy/biaffine-ner" target="_blank" rel="noopener"
>https://github.com/juntaoy/biaffine-ner&lt;/a>&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/namedentityrecognitionasdependencyparsing/ner.png"
width="325"
height="669"
srcset="https://emerywan.github.io/blog/blog/p/namedentityrecognitionasdependencyparsing/ner_huff0969dccbb13cbf7d246862faeafc4d_75035_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/namedentityrecognitionasdependencyparsing/ner_huff0969dccbb13cbf7d246862faeafc4d_75035_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="ner"
class="gallery-image"
data-flex-grow="48"
data-flex-basis="116px"
>&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/namedentityrecognitionasdependencyparsing/nested.png"
width="323"
height="618"
srcset="https://emerywan.github.io/blog/blog/p/namedentityrecognitionasdependencyparsing/nested_hu30723d7bae4f05520cc9500a93ac4824_73991_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/namedentityrecognitionasdependencyparsing/nested_hu30723d7bae4f05520cc9500a93ac4824_73991_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="nested"
class="gallery-image"
data-flex-grow="52"
data-flex-basis="125px"
>&lt;/p></description></item><item><title>PyTorch ÁÅ´ÈÄü‰∏äÊâã</title><link>https://emerywan.github.io/blog/p/pytorch-handbook/</link><pubDate>Thu, 01 Apr 2021 21:14:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/pytorch-handbook/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/10.jpeg" alt="Featured image of post PyTorch ÁÅ´ÈÄü‰∏äÊâã" />&lt;h2 id="pytorch-ÊòØ‰ªÄ‰πà">PyTorch ÊòØ‰ªÄ‰πàÔºü&lt;/h2>
&lt;p>Âü∫‰∫é Python ÁöÑÁßëÂ≠¶ËÆ°ÁÆóÂåÖÔºåÊúçÂä°‰∫é‰ª•‰∏ã‰∏§ÁßçÂú∫ÊôØÔºö&lt;/p>
&lt;ul>
&lt;li>Numpy ÁöÑÊõø‰ª£ÂìÅÔºåÂèØ‰ª•‰ΩøÁî® GPU ÁöÑÂº∫Â§ßËÆ°ÁÆóÂäõ&lt;/li>
&lt;li>Êèê‰æõÊúÄÂ§ßÁöÑÁÅµÊ¥ªÊÄßÂíåÈ´òÈÄüÁöÑÊ∑±Â∫¶Â≠¶‰π†Á†îÁ©∂Âπ≥Âè∞&lt;/li>
&lt;/ul>
&lt;h2 id="tensors">Tensors&lt;/h2>
&lt;p>Tensors ‰∏é Numpy ‰∏≠ÁöÑ ndarrays Á±ª‰ººÔºå‰ΩÜÊòØÂú® PyTorch ‰∏≠ Tensors ÂèØ‰ª•‰ΩøÁî® GPU ËøõË°åËÆ°ÁÆó„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">__future__&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">print_function&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>[ 1 ] ÂàõÂª∫‰∏Ä‰∏™ 5x3 ÁöÑÁü©ÈòµÔºå‰ΩÜ‰∏çÂàùÂßãÂåñÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">empty&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># tensor([[0.0000, 0.0000, 0.0000],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0.0000, 0.0000, 0.0000],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0.0000, 0.0000, 0.0000],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0.0000, 0.0000, 0.0000],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0.0000, 0.0000, 0.0000]])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>[ 2 ] ÂàõÂª∫‰∏Ä‰∏™ÈöèÊú∫ÂàùÂßãÂåñÁöÑÁü©Ôºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># tensor([[0.6972, 0.0231, 0.3087],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0.2083, 0.6141, 0.6896],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0.7228, 0.9715, 0.5304],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0.7727, 0.1621, 0.9777],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0.6526, 0.6170, 0.2605]])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>[ 3 ] ÂàõÂª∫‰∏Ä‰∏™ 0 Â°´ÂÖÖÁöÑÁü©ÈòµÔºåÊï∞ÊçÆÁ±ªÂûã‰∏∫ longÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">zero&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dtype&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">long&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># tensor([[0, 0, 0],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0, 0, 0],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0, 0, 0],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0, 0, 0],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0, 0, 0]])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>[ 4 ] ÂàõÂª∫‰∏Ä‰∏™ tensor ‰ΩøÁî®Áé∞ÊúâÊï∞ÊçÆÂàùÂßãÂåñÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tensor&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="mf">5.5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># tensor([5.5000, 3.0000])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>[ 5 ] Ê†πÊçÆÁé∞ÊúâÁöÑ tensor ÂàõÂª∫ tensor„ÄÇËøô‰∫õÊñπÊ≥ïÂ∞ÜÈáçÁî®ËæìÂÖ• tensor ÁöÑÂ±ûÊÄßÔºàÂ¶ÇÔºödtypeÔºåÈô§ÈùûËÆæÁΩÆÊñ∞ÁöÑÂÄºËøõË°åË¶ÜÁõñÔºâÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Âà©Áî® new_* ÊñπÊ≥ïÂàõÂª∫ÂØπË±°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">new_ones&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dtype&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">double&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># tensor([[1., 1., 1.],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [1., 1., 1.],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [1., 1., 1.],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [1., 1., 1.],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [1., 1., 1.]], dtype=torch.float64)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ë¶ÜÁõñ dtype&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÂØπË±° size Áõ∏ÂêåÔºåÂè™ÊòØ ÂÄºÂíåÁ±ªÂûã ÂèëÁîüÂèòÂåñ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># tensor([[ 0.5691, -2.0126, -0.4064],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [-0.0863, 0.4692, -1.1209],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [-1.1177, -0.5764, -0.5363],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [-0.4390, 0.6688, 0.0889],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [ 1.3334, -1.1600, 1.8457]])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>[ 6 ] Ëé∑Âèñ sizeÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># torch.Size([5, 3])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>Tip:&lt;/p>
&lt;p>&lt;code>torch.Size&lt;/code> ËøîÂõû &lt;code>tuple&lt;/code> Á±ªÂûãÔºåÊîØÊåÅ &lt;code>tuple&lt;/code> Á±ªÂûãÊâÄÊúâÁöÑÊìç‰Ωú„ÄÇ&lt;/p>
&lt;/blockquote>
&lt;p>[ 7 ] Êìç‰Ωú&lt;/p>
&lt;p>[ 7.1 ] Âä†Ê≥ïÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># tensor([[ 0.7808, -1.4388, 0.3151],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [-0.0076, 1.0716, -0.8465],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [-0.8175, 0.3625, -0.2005],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [ 0.2435, 0.8512, 0.7142],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [ 1.4737, -0.8545, 2.4833]])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># tensor([[ 0.7808, -1.4388, 0.3151],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [-0.0076, 1.0716, -0.8465],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [-0.8175, 0.3625, -0.2005],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [ 0.2435, 0.8512, 0.7142],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [ 1.4737, -0.8545, 2.4833]])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Êèê‰æõËæìÂá∫ tensor ‰Ωú‰∏∫ÂèÇÊï∞Ôºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">empty&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">out&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># tensor([[ 0.7808, -1.4388, 0.3151],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [-0.0076, 1.0716, -0.8465],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [-0.8175, 0.3625, -0.2005],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [ 0.2435, 0.8512, 0.7142],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [ 1.4737, -0.8545, 2.4833]])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>[ 7.2 ] ÊõøÊç¢Ôºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># add x to y&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">y&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add_&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># tensor([[ 0.7808, -1.4388, 0.3151],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [-0.0076, 1.0716, -0.8465],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [-0.8175, 0.3625, -0.2005],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [ 0.2435, 0.8512, 0.7142],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [ 1.4737, -0.8545, 2.4833]])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>{% note info %}
&lt;code>_&lt;/code> ÁªìÂ∞æÁöÑÊìç‰Ωú‰ºöÊõøÊç¢ÂéüÂèòÈáè„ÄÇ
Â¶ÇÔºö&lt;code>x_copy_(y)&lt;/code>Ôºå&lt;code>x.t_()&lt;/code> ‰ºöÊîπÂèò &lt;code>x&lt;/code>
{% endnote %}&lt;/p>
&lt;p>[ 7.3 ] ‰ΩøÁî® Numpy ‰∏≠Á¥¢ÂºïÊñπÂºèÔºåÂØπ tensor ËøõË°åÊìç‰ΩúÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">[:,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># tensor([-2.0126, 0.4692, -0.5764, 0.6688, -1.1600])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>[ 8 ] &lt;code>torch.view&lt;/code> ÊîπÂèò tensor ÁöÑÁª¥Â∫¶ÂíåÂ§ßÂ∞è Ôºà‰∏é Numpy ‰∏≠ reshape Á±ª‰ººÔºâÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">view&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">16&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">z&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">view&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># -1 ‰ªéÂÖ∂‰ªñÁª¥Â∫¶Êé®Êñ≠&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">z&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># torch.Size([4, 4]) torch.Size([16]) torch.Size([2, 8])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>[ 9 ] Â¶ÇÊûúÂè™Êúâ‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑ tensorÔºå‰ΩøÁî® &lt;code>item()&lt;/code> Ëé∑Âèñ Python Êï∞ÊçÆÁ±ªÂûãÁöÑÊï∞ÂÄºÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">item&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># tensor([-0.2368])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># -0.23680149018764496&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="numpy-ËΩ¨Êç¢">Numpy ËΩ¨Êç¢&lt;/h3>
&lt;p>Torch Tensor ‰∏é Numpy Êï∞ÁªÑ‰πãÈó¥ËøõË°åËΩ¨Êç¢ÈùûÂ∏∏ËΩªÊùæ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ones&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">numpy&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># tensor([1., 1., 1., 1., 1.])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># [1. 1. 1. 1. 1.]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>Torch Tensor ‰∏é Numpy Êï∞ÁªÑÂÖ±‰∫´Â∫ïÂ±ÇÂÜÖÂ≠òÂú∞ÂùÄÔºå‰øÆÊîπ‰∏Ä‰∏™‰ºöÂØºËá¥Âè¶‰∏Ä‰∏™ÁöÑÂèòÂåñ„ÄÇ&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">a&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add_&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># tensor([2., 2., 2., 2., 2.])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># [2. 2. 2. 2. 2.]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">numpy&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">np&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ones&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">from_numpy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">out&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># [2. 2. 2. 2. 2.]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># tensor([2., 2., 2., 2., 2.], dtype=torch.float64)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>Tip:&lt;/p>
&lt;p>ÊâÄÊúâÁöÑ Tensor Á±ªÂûãÈªòËÆ§ÈÉΩÊòØÂü∫‰∫é CPUÔºå CharTensor Á±ªÂûã‰∏çÊîØÊåÅÂà∞ Numpy ÁöÑË£ÖÊç¢„ÄÇ&lt;/p>
&lt;/blockquote>
&lt;h3 id="cuda-Âº†Èáè">CUDA Âº†Èáè&lt;/h3>
&lt;p>‰ΩøÁî® &lt;code>.to()&lt;/code> ÂèØ‰ª•Â∞Ü Tensor ÁßªÂä®Âà∞‰ªª‰ΩïËÆæÂ§á‰∏≠„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">cuda&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">is_available&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">device&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">device&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;cuda&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># CUDA ËÆæÂ§áÂØπË±°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ones_like&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">device&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">device&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># Áõ¥Êé•‰ªé GPU ÂàõÂª∫Âº†Èáè&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">device&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">z&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">y&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">z&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># tensor([0.7632], device=&amp;#39;cuda:0&amp;#39;)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">z&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;cpu&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">double&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="c1"># tensor([0.7632], dtype=torch.float64)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="autograd-Ëá™Âä®Ê±ÇÂØº">Autograd Ëá™Âä®Ê±ÇÂØº&lt;/h2>
&lt;p>autograd ÂåÖ‰∏∫ Tensor ‰∏äÊâÄÊúâÁöÑÊìç‰ΩúÊèê‰æõ‰∫ÜËá™Âä®Ê±ÇÂØº„ÄÇÂÆÉÊòØ‰∏Ä‰∏™ËøêË°åÊó∂ÂÆö‰πâÁöÑÊ°ÜÊû∂ÔºåËøôÊÑèÂë≥ÁùÄÂèçÂêë‰º†Êí≠ÊòØÊ†πÊçÆ‰Ω†ÁöÑ‰ª£Á†ÅÊù•Á°ÆÂÆöÂ¶Ç‰ΩïËøêË°åÔºåÂπ∂‰∏îÊØèÊ¨°Ëø≠‰ª£ÂèØ‰ª•ÊòØ‰∏çÂêåÁöÑ„ÄÇ&lt;/p>
&lt;h3 id="Ê≠£Âêë‰º†Êí≠-ÂèçÂêë‰º†Êí≠">Ê≠£Âêë‰º†Êí≠ ÂèçÂêë‰º†Êí≠&lt;/h3>
&lt;p>Á•ûÁªèÁΩëÁªúÔºàNNÔºâÊòØÂú®Êüê‰∫õËæìÂÖ•Êï∞ÊçÆ‰∏äÊâßË°åÂµåÂ•óÂáΩÊï∞ÁöÑÈõÜÂêà„ÄÇ
Ëøô‰∫õÂáΩÊï∞Áî±ÂèÇÊï∞ÔºàÊùÉÈáçÂíåÂÅèÂ∑ÆÁªÑÊàêÔºâÂÆö‰πâÔºåÂèÇÊï∞Âú® PyTorch ‰∏≠Â≠òÂÇ®Âú®Âº†Èáè‰∏≠„ÄÇ&lt;/p>
&lt;p>ËÆ≠ÁªÉ NN ÂàÜ‰∏∫‰∏§‰∏™Ê≠•È™§Ôºö&lt;/p>
&lt;ul>
&lt;li>Ê≠£Âêë‰º†Êí≠ÔºöÂú®Ê≠£Âêë‰º†Êí≠‰∏≠ÔºåNN ÂØπÊ≠£Á°ÆÁöÑËæìÂá∫ËøõË°åÊúÄ‰Ω≥ÁåúÊµã„ÄÇÂÆÉÈÄöËøáÊØè‰∏™ÂáΩÊï∞ËøêË°åËæìÂÖ•Êï∞ÊçÆ‰ª•ËøõË°åÁåúÊµã„ÄÇ&lt;/li>
&lt;li>ÂèçÂêë‰º†Êí≠ÔºöÂú®ÂèçÂêë‰º†Êí≠‰∏≠ÔºåNN Ê†πÊçÆÂÖ∂ÁåúÊµã‰∏≠ÁöÑËØØÂ∑ÆË∞ÉÊï¥ÂÖ∂ÂèÇÊï∞„ÄÇÂÆÉÈÄöËøá‰ªéËæìÂá∫ÂêëÂêéÈÅçÂéÜÔºåÊî∂ÈõÜÊúâÂÖ≥ÂèÇÊï∞ÔºàÊ¢ØÂ∫¶ÔºâÁöÑËØØÂ∑ÆÂØºÊï∞Âπ∂‰ΩøÁî®Ê¢ØÂ∫¶‰∏ãÈôçÊù•‰ºòÂåñÂèÇÊï∞Êù•ÂÆûÁé∞„ÄÇ&lt;/li>
&lt;/ul>
&lt;p>[ 1 ] Êàë‰ª¨‰ªé torchvision Âä†ËΩΩ‰∫ÜÁªèËøáÈ¢ÑËÆ≠ÁªÉÁöÑ resnet18 Ê®°Âûã„ÄÇÂàõÂª∫‰∏Ä‰∏™ÈöèÊú∫Êï∞ÊçÆÂº†ÈáèÊù•Ë°®Á§∫ÂÖ∑Êúâ 3 ‰∏™ÈÄöÈÅìÁöÑÂçï‰∏™ÂõæÂÉèÔºåÈ´òÂ∫¶ÂíåÂÆΩÂ∫¶‰∏∫ 64ÔºåÂÖ∂ÂØπÂ∫îÁöÑlabelÂàùÂßãÂåñ‰∏∫‰∏Ä‰∫õÈöèÊú∫ÂÄº„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="nn">torchvision&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">model&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torchvision&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">models&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">resnet18&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pretrained&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">64&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">64&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">labels&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>[ 2 ] Êé•‰∏ãÊù•ÔºåÈÄöËøáÊ®°ÂûãÁöÑÊØè‰∏ÄÂ±ÇËøêË°åËæìÂÖ•Êï∞ÊçÆËøõË°åÈ¢ÑÊµã„ÄÇ&lt;strong>Ê≠£Âêë‰º†Êí≠&lt;/strong>„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">prediction&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">model&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>[ 3 ] ‰ΩøÁî®Ê®°ÂûãÁöÑÈ¢ÑÊµãÔºàpredicationÔºâÂíåÁõ∏Â∫îÁöÑÊ†áÁ≠æÔºàlabelsÔºâÊù•ËÆ°ÁÆóËØØÂ∑ÆÔºàlossÔºâ„ÄÇ
‰∏ã‰∏ÄÊ≠•ÈÄöËøáÂèçÂêë‰º†Êí≠Ê≠§ËØØÂ∑Æ„ÄÇÊàë‰ª¨Âú® loss tensor ‰∏äË∞ÉÁî® &lt;code>.backward()&lt;/code> Êó∂ÔºåÂºÄÂßãÂèçÂêë‰º†Êí≠„ÄÇAutograd ‰ºö‰∏∫ÊØè‰∏™Ê®°ÂûãÂèÇÊï∞ËÆ°ÁÆóÊ¢ØÂ∫¶Âπ∂Â∞ÜÂÖ∂Â≠òÂÇ®Âú®ÂèÇÊï∞ &lt;code>.grad&lt;/code> Â±ûÊÄß‰∏≠„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">loss&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">prediction&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">labels&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sum&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">loss&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">backword&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1"># backword pass&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>[ 4 ] Êé•‰∏ãÊù•ÔºåÊàë‰ª¨Âä†ËΩΩ‰∏Ä‰∏™‰ºòÂåñÂô®ÔºàSDGÔºâÔºåÂ≠¶‰π†Áéá‰∏∫ 0.01ÔºåÂä®Èáè‰∏∫ 0.9„ÄÇÂú® optim ‰∏≠Ê≥®ÂÜåÊ®°ÂûãÁöÑÊâÄÊúâÂèÇÊï∞„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">optim&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">optim&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">SDG&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">model&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">parameters&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">lr&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">1e-2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">momentum&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">0.9&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>[ 5 ] ÊúÄÂêéÔºåË∞ÉÁî® &lt;code>.step()&lt;/code> ÂêØÂä®Ê¢ØÂ∫¶‰∏ãÈôç„ÄÇ‰ºòÂåñÂô®ÈÄöËøá &lt;code>.grad&lt;/code> ‰∏≠Â≠òÂÇ®ÁöÑÊ¢ØÂ∫¶Êù•Ë∞ÉÊï¥ÊØè‰∏™ÂèÇÊï∞„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">optim&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">step&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1"># gradient descent&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="Á•ûÁªèÁΩëÁªúÁöÑÂæÆÂàÜ">Á•ûÁªèÁΩëÁªúÁöÑÂæÆÂàÜ&lt;/h3>
&lt;p>Ëøô‰∏ÄÂ∞èËäÇÔºåÊàë‰ª¨Â∞ÜÁúãÁúã autograd Â¶Ç‰ΩïÊî∂ÈõÜÊ¢ØÂ∫¶„ÄÇ
Êàë‰ª¨Âú®ÂàõÂª∫ Tensor Êó∂Ôºå‰ΩøÁî® &lt;code>requires_grad=True&lt;/code> ÂèÇÊï∞ÔºåË°®Á§∫Â∞ÜË∑üË∏™ Tensor ÁöÑÊâÄÊúâÊìç‰Ωú„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tensor&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mf">2.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">3.&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">require_grad&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tensor&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mf">6.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">4.&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">require_grad&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ‰ªé tensor a, b ÂàõÂª∫Âè¶‰∏Ä‰∏™ tensor Q&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Q&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="o">**&lt;/span>&lt;span class="mi">3&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="o">**&lt;/span>&lt;span class="mi">2&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÂÅáËÆæ tensor aÔºåb ÊòØÁ•ûÁªèÁΩëÁªúÁöÑÂèÇÊï∞Ôºåtensor Q ÊòØËØØÂ∑Æ„ÄÇÂú® NN ËÆ≠ÁªÉ‰∏≠ÔºåÊàë‰ª¨ÊÉ≥Ë¶ÅËé∑ÂæóÁõ∏ÂØπ‰∫éÂèÇÊï∞ÁöÑËØØÂ∑ÆÔºåÂç≥ÂêÑËá™ÂØπÂ∫îÁöÑÂÅèÂØºÔºö&lt;/p>
&lt;p>$$\frac{\partial Q}{\partial a}=9a^2$$&lt;/p>
&lt;p>ÂΩìÊàë‰ª¨Âú® tensor Q ‰∏äË∞ÉÁî® &lt;code>.backward()&lt;/code> Êó∂ÔºåAutograd Â∞ÜËÆ°ÁÆóËøô‰∫õÊ¢ØÂ∫¶Âπ∂Â∞ÜÂÖ∂Â≠òÂÇ®Âú®ÂêÑ‰∏™Âº†ÈáèÁöÑ &lt;code>.grad&lt;/code> Â±ûÊÄß‰∏≠„ÄÇ&lt;/p>
&lt;p>Êàë‰ª¨ÈúÄË¶ÅÂú® &lt;code>Q.backword()&lt;/code> ‰∏≠ÊòæÂºè‰º†ÈÄí &lt;code>gradient&lt;/code> ÂèÇÊï∞Ôºà‰∏é Q ÂΩ¢Áä∂Áõ∏ÂêåÁöÑÂº†ÈáèÔºåË°®Á§∫ Q Áõ∏ÂØπÊú¨Ë∫´ÁöÑÊ¢ØÂ∫¶Ôºâ„ÄÇ&lt;/p>
&lt;p>$$\frac{\partial Q}{\partial b}=-2b$$&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">external_grad&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tensor&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mf">1.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Q&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">backward&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">gradient&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">external_grad&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÊúÄÂêéÔºåÊ¢ØÂ∫¶ËÆ∞ÂΩïÂú® a.grad b.grad ‰∏≠ÔºåÊü•ÁúãÊî∂ÈõÜÁöÑÊ¢ØÂ∫¶ÊòØÂê¶Ê≠£Á°Æ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="o">**&lt;/span>&lt;span class="mi">2&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">grad&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># tensor([True, True])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">b&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">grad&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># tensor([True, True])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Êàë‰ª¨‰πüÂèØ‰ª•Â∞Ü Q ËÅöÂêà‰∏∫‰∏Ä‰∏™Ê†áÈáèÔºåÁÑ∂ÂêéÈöêÂºèÂú∞ÂêëÂêéË∞ÉÁî®ÔºåÂ¶ÇÔºö&lt;code>Q.sum().backward()&lt;/code>„ÄÇ&lt;/p>
&lt;h2 id="Á•ûÁªèÁΩëÁªú">Á•ûÁªèÁΩëÁªú&lt;/h2>
&lt;p>‰∏ä‰∏ÄËäÇÔºåÊàë‰ª¨‰∫ÜËß£Âà∞ nn ÂåÖ‰æùËµñ autograd ÂåÖÊù•ÂÆö‰πâÊ®°ÂûãÂπ∂Ê±ÇÂØº„ÄÇ‰∏ãÈù¢ÔºåÊàë‰ª¨Â∞Ü‰∫ÜËß£Â¶Ç‰ΩïÂÆö‰πâ‰∏Ä‰∏™ÁΩëÁªú„ÄÇ‰∏Ä‰∏™ nn.Module ÂåÖÂê´‰∏™ layer Âíå‰∏Ä‰∏™ forward(input) ÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ïËøîÂõû output„ÄÇ&lt;/p>
&lt;p>Â¶Ç‰∏ãÔºåËøôÊòØ‰∏Ä‰∏™ÂØπÊâãÂÜôÊï∞Â≠óÂõæÂÉèËøõË°åÂàÜÁ±ªÁöÑÂç∑ÁßØÁ•ûÁªèÁΩëÁªúÔºö&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/pytorch-handbook/CNN.png"
width="759"
height="209"
srcset="https://emerywan.github.io/blog/blog/p/pytorch-handbook/CNN_hufa4266fb90da2cc9816f33e05e560204_9416_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/pytorch-handbook/CNN_hufa4266fb90da2cc9816f33e05e560204_9416_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="CNN"
class="gallery-image"
data-flex-grow="363"
data-flex-basis="871px"
>&lt;/p>
&lt;p>Á•ûÁªèÁΩëÁªúÁöÑÂÖ∏ÂûãËÆ≠ÁªÉËøáÁ®ãÂ¶Ç‰∏ãÔºö&lt;/p>
&lt;ul>
&lt;li>ÂÆö‰πâÂåÖÂê´‰∏Ä‰∫õÂèØÂ≠¶‰π†ÁöÑÂèÇÊï∞ÔºàÊùÉÈáçÔºâÁ•ûÁªèÁΩëÁªúÊ®°Âûã&lt;/li>
&lt;li>Âú®Êï∞ÊçÆÈõÜ‰∏äËø≠‰ª£&lt;/li>
&lt;li>ÈÄöËøáÁ•ûÁªèÁΩëÁªúÂ§ÑÁêÜËæìÂÖ•&lt;/li>
&lt;li>ËÆ°ÁÆóÊçüÂ§±ÔºàËæìÂá∫ÁªìÊûúÂíåÊ≠£Á°ÆÂÄºÁöÑÂ∑ÆÂÄºÂ§ßÂ∞èÔºâ&lt;/li>
&lt;li>Â∞ÜÊ¢ØÂ∫¶ÂèçÂêë‰º†Êí≠ÂõûÁΩëÁªúÁöÑÂèÇÊï∞&lt;/li>
&lt;li>Êõ¥Êñ∞ÁΩëÁªúÁöÑÂèÇÊï∞ÔºàÊ¢ØÂ∫¶‰∏ãÈôçÔºâÔºöweight = weight - learning_rate * gradient&lt;/li>
&lt;/ul>
&lt;h3 id="ÂÆö‰πâÁΩëÁªú">ÂÆö‰πâÁΩëÁªú&lt;/h3>
&lt;p>Âú®Ê®°Âûã‰∏≠ÂøÖÈ°ªÂÆö‰πâ &lt;code>forward()&lt;/code>Ôºå &lt;code>backword&lt;/code>ÔºàÁî®Êù•ËÆ°ÁÆóÊ¢ØÂ∫¶Ôºâ‰ºöË¢´ autograd Ëá™Âä®ÂàõÂª∫„ÄÇÂèØÂú® &lt;code>forward()&lt;/code> ‰∏≠‰ΩøÁî®‰ªª‰ΩïÈíàÂØπ Tensor ÁöÑÊìç‰Ωú„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch.nn&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">nn&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch.nn.functional&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">F&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Net&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Model&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="fm">__init__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">super&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Net&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="fm">__init__&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 1 input image channel, 6 output channels, 3x3 square convolution&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># kernel&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">conv_1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Conv2d&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">conv_2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Conv2d&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">16&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># an affine operation: y = Wx + b&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fc1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Linear&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">16&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">6&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">120&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fc2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Linear&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">120&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">84&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fc3&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Linear&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">84&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">forward&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># Max Pooling over a (2, 2) window&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">F&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">max_pool2d&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">F&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">relu&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">conv1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)),&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># If the size is a square you can only specify a single number&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">F&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">max_pool2d&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">F&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">relu&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">conv2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)),&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">view&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">num_flat_features&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">F&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">relu&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fc1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">F&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">relu&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fc2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fc3&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">x&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">num_flat_features&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sefl&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">size&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">()[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">]&lt;/span> &lt;span class="c1"># all dimensions except the batch dimension&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">num_features&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">s&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">num_features&lt;/span> &lt;span class="o">*=&lt;/span> &lt;span class="n">s&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">num_features&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">net&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Net&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">net&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Net(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># (conv1): Conv2d(1, 6, kernel_size=(3, 3), stride=(1, 1))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># (conv2): Conv2d(6, 16, kernel_size=(3, 3), stride=(1, 1))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># (fc1): Linear(in_features=576, out_features=120, bias=True)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># (fc2): Linear(in_features=120, out_features=84, bias=True)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># (fc3): Linear(in_features=84, out_features=10, bias=True)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># )&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>parameters()&lt;/code> ËøîÂõûÂèØË¢´Â≠¶‰π†ÁöÑÂèÇÊï∞ÔºàÊùÉÈáçÔºâÂàóË°®ÂíåÂÄº&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">params&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">list&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">net&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">parameters&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">params&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="c1"># 10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">params&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="c1"># conv1 ÁöÑ weight torch.Size([6, 1, 3, 3])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÊµãËØïÈöèÊú∫ËæìÂÖ• 32x32„ÄÇÊ≥®ÔºöËøô‰∏™ÁΩëÁªúÔºàLeNetÔºâÁöÑÊúüÊúõÁöÑËæìÂÖ•Â§ßÂ∞èÊòØ 32x32ÔºåÂ¶ÇÊûú‰ΩøÁî® MINIST Êï∞ÊçÆÈõÜÊù•ËÆ≠ÁªÉËøô‰∏™ÁΩëÁªúÔºåËØ∑ÊääÂõæÁâáÂ§ßÂ∞èÈáçÊñ∞Ë∞ÉÊï¥Âà∞ 32x32„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">input&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">32&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">32&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">net&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">input&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># tensor([[ 0.1120, 0.0713, 0.1014, -0.0696, -0.1210, 0.0084, -0.0206, 0.1366,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># -0.0455, -0.0036]], grad_fn=&amp;lt;AddmmBackward&amp;gt;)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Â∞ÜÊâÄÊúâÁöÑÂèÇÊï∞ÁöÑÊ¢ØÂ∫¶ÁºìÂ≠òÊ∏ÖÈõ∂ÔºåËøõË°åÈöèÊú∫Ê¢ØÂ∫¶ÁöÑÂèçÂêë‰º†Êí≠„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">net&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">zero_grad&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">backward&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>Tip:&lt;/p>
&lt;p>&lt;code>torch.nn&lt;/code> ‰ªÖÊîØÊåÅÂ∞èÊâπÈáèËæìÂÖ•„ÄÇÊï¥‰∏™ &lt;code>torch.nn&lt;/code> ÂåÖÈÉΩÂè™ÊîØÊåÅÂ∞èÊâπÈáèÊ†∑Êú¨ÔºåËÄå‰∏çÊîØÊåÅÂçï‰∏™Ê†∑Êú¨„ÄÇ
Â¶ÇÔºö&lt;code>nn.Conv2d&lt;/code>Êé•Âèó‰∏Ä‰∏™4Áª¥ TensorÔºåÂàÜÂà´Áª¥ sSamples * nChannels * Height * Width ÔºàÊ†∑Êú¨Êï∞* ÈÄöÈÅìÊï∞ * È´ò * ÂÆΩÔºâ„ÄÇÂ¶ÇÊûú‰Ω†ÊúâÂçï‰∏™Ê†∑Êú¨ÔºåÂè™ÈúÄË¶Å‰ΩøÁî® &lt;code>input.unsqueeze(0)&lt;/code> Êù•Ê∑ªÂä†ÂÖ∂‰ªñÁöÑÁª¥Êï∞„ÄÇ&lt;/p>
&lt;/blockquote>
&lt;p>Ëá≥Ê≠§ÔºåÊàë‰ª¨Â§ßËá¥‰∫ÜËß£‰∫ÜÂ¶Ç‰ΩïÊûÑÂª∫‰∏Ä‰∏™ÁΩëÁªúÔºåÂõûÈ°æ‰∏Ä‰∏ãÂà∞ÁõÆÂâç‰∏∫Ê≠¢‰ΩøÁî®Âà∞ÁöÑÁ±ª„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>torch.Tensor&lt;/code>Ôºö ‰∏Ä‰∏™Â§öÁª¥Êï∞ÁªÑ„ÄÇ ÊîØÊåÅ‰ΩøÁî® backward() ËøõË°åËá™Âä®Ê¢ØÂ∫¶ËÆ°ÁÆóÔºåÂπ∂‰øùÂ≠òÂÖ≥‰∫éËøô‰∏™ÂêëÈáèÁöÑÊ¢ØÂ∫¶ w.r.t.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>nn.Model&lt;/code>Ôºö Á•ûÁªèÁΩëÁªúÊ®°Âùó„ÄÇÂÆûÁé∞Â∞ÅË£ÖÂèÇÊï∞„ÄÅÁßªÂä®Âà∞ GPU ‰∏äËøêË°å„ÄÅÂØºÂá∫„ÄÅÂä†ËΩΩÁ≠â„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>nn.Parameter&lt;/code>Ôºö ‰∏ÄÁßçÂº†Èáè„ÄÇÂ∞ÜÂÖ∂ÂàÜÈÖç‰∏∫ Model ÁöÑÂ±ûÊÄßÊó∂ÔºåËá™Âä®Ê≥®ÂÜå‰∏∫ÂèÇÊï∞„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>autograd.Function&lt;/code>Ôºö ÂÆûÁé∞‰∏Ä‰∏™Ëá™Âä®Ê±ÇÂØºÊìç‰ΩúÁöÑÂâçÂêëÂíåÂèçÂêëÂÆö‰πâ„ÄÇÊØè‰∏™ Tensor Êìç‰ΩúÈÉΩ‰ºöÂàõÂª∫Ëá≥Â∞ë‰∏Ä‰∏™ Function ËäÇÁÇπÔºåËØ•ËäÇÁÇπËøûÊé•Âà∞ÂàõÂª∫ Tensor ÁöÑÂáΩÊï∞ÔºåÂπ∂ÁºñÁ†ÅÂÖ∂ÂéÜÂè≤ËÆ∞ÂΩï„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="ÊçüÂ§±ÂáΩÊï∞">ÊçüÂ§±ÂáΩÊï∞&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">output&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">net&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">input&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">target&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># ‰æãÂ≠êÔºö‰∏Ä‰∏™ÂÅáËÆæÁöÑÁªìÊûú&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">target&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">target&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">view&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># ËÆ© target ‰∏é output ÁöÑÂΩ¢Áä∂Áõ∏Âêå&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">criterion&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">MSELoss&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">loss&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">criterion&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">output&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">target&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">loss&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ÂèçÂêë‰º†Êí≠">ÂèçÂêë‰º†Êí≠&lt;/h3>
&lt;p>Ë¶ÅÂÆûÁé∞ÂèçÂêë‰º†Êí≠ËØØÂ∑ÆÔºåÂè™ÈúÄË¶Å &lt;code>loss.backward()&lt;/code>„ÄÇ
‰ΩÜÊòØÔºåÈúÄË¶ÅÊ∏ÖÈô§Áé∞ÊúâÁöÑÊ¢ØÂ∫¶ÔºåÂê¶ÂàôÊ¢ØÂ∫¶Â∞ÜÁ¥ØÁßØÂà∞Áé∞ÊúâÁöÑÊ¢ØÂ∫¶‰∏≠„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">net&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">zero_grad&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1"># Â∞ÜÊâÄÊúâÁöÑÊ¢ØÂ∫¶ÁºìÂÜ≤ÂΩíÈõ∂&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">net&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">conv1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">bias&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">grad&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># conv1.bias.grad ÂèçÂêë‰º†Êí≠Ââç tensor([0., 0., 0., 0., 0., 0.])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">loss&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">backward&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">net&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">conv1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">bias&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">grad&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># ÂèçÂêë‰º†Êí≠Âêé tensor([0.0111, -0.0064, 0.0053, -0.0047, 0.0026, -0.0153])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="Êõ¥Êñ∞ÊùÉÈáç">Êõ¥Êñ∞ÊùÉÈáç&lt;/h3>
&lt;p>Âú®‰ΩøÁî® PyTorch Êó∂ÔºåÂèØ‰ª•‰ΩøÁî® &lt;code>torch.optim&lt;/code> ‰∏≠Êèê‰æõÁöÑÊñπÊ≥ïËøõË°åÊ¢ØÂ∫¶‰∏ãÈôç„ÄÇÂ¶ÇÔºöSDGÔºåNesterov-SDGÔºåAdamÔºåRMSprop Á≠â„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch.optim&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">optim&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÂàõÂª∫‰∏Ä‰∏™ optimizer&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">optimizer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">optim&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">SDG&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">net&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">parameters&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">lr&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">0.01&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Âú®ËÆ≠ÁªÉ‰∏≠Âæ™ÁéØ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">optimizer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">zero_grad&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1"># Â∞ÜÊ¢ØÂ∫¶ÁºìÂÜ≤Âå∫Ê∏ÖÈõ∂&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">output&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">net&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">input&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">loss&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">criterion&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">output&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">target&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">loass&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">backword&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">optimizer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">step&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1"># Êõ¥Êñ∞&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ËÆ≠ÁªÉÂàÜÁ±ªÂô®">ËÆ≠ÁªÉÂàÜÁ±ªÂô®&lt;/h2>
&lt;h3 id="Êï∞ÊçÆ‰ªéÂì™ÈáåÊù•">Êï∞ÊçÆ‰ªéÂì™ÈáåÊù•Ôºü&lt;/h3>
&lt;p>ÈÄöÂ∏∏ÔºåÈúÄË¶ÅÂ§ÑÁêÜÂõæÂÉè„ÄÅÊñáÊú¨„ÄÅÈü≥È¢ëÊàñËßÜÈ¢ëÊï∞ÊçÆÊó∂ÔºåÂèØ‰ª•‰ΩøÁî®Â∞ÜÊï∞ÊçÆÂä†ËΩΩÂà∞ NumPy Êï∞ÁªÑ‰∏≠ÁöÑÊ†áÂáÜ Python ÂåÖÔºåÂÜçÂ∞ÜËØ•Êï∞ÂÄºËΩ¨Êç¢‰∏∫ &lt;code>torch.*Tensor&lt;/code>„ÄÇ&lt;/p>
&lt;ul>
&lt;li>Â§ÑÁêÜÂõæÂÉèÔºåÂèØ‰ª•‰ΩøÁî® PillowÔºåOpenCV&lt;/li>
&lt;li>Â§ÑÁêÜÈü≥È¢ëÔºåÂèØ‰ª•‰ΩøÁî® SciPyÔºålibrosa&lt;/li>
&lt;li>Â§ÑÁêÜÊñáÊú¨ÔºåÂèØÂü∫‰∫é Python Êàñ Cython ÁöÑÂéüÂßãÂä†ËΩΩÔºåÊàñ NLTK Âíå SpaCy&lt;/li>
&lt;/ul>
&lt;p>ÂØπ‰∫éÂõæÂÉè‰ªªÂä°ÔºåÂÖ∂‰∏≠ÂåÖÂê´‰∫Ü‰∏Ä‰∏™ &lt;code>torchvision&lt;/code> ÁöÑÂåÖÔºåÂê´ÊúâÂ∏∏ËßÅÁöÑÊï∞ÊçÆÈõÜÔºàImagenetÔºåCIFAR10ÔºåMNISTÁ≠âÔºâÁöÑÊï∞ÊçÆÂä†ËΩΩÂô®Ôºå‰ª•ÂèäÁî®‰∫éÂõæÂÉèÁöÑÊï∞ÊçÆËΩ¨Êç¢Âô®Ôºàtorchvision.datasets Âíå torch.utils.data.DataLoaderÔºâ„ÄÇ&lt;/p>
&lt;p>Âú®Êú¨Á§∫‰æã‰∏≠ÔºåÂ∞Ü‰ΩøÁî® CIFAR10 Êï∞ÊçÆÈõÜ„ÄÇÂÖ∂‰∏≠ÂåÖÂê´ 10 ÂàÜÁ±ªÁöÑÂõæÂÉèÔºö‚ÄúÈ£ûÊú∫‚ÄùÔºå‚ÄúÊ±ΩËΩ¶‚ÄùÔºå‚ÄúÈ∏ü‚ÄùÔºå‚ÄúÁå´‚ÄùÔºå‚ÄúÈπø‚ÄùÔºå‚ÄúÁãó‚ÄùÔºå‚ÄúÈùíËõô‚ÄùÔºå‚ÄúÈ©¨‚ÄùÔºå‚ÄúËàπ‚ÄùÔºå‚ÄúÂç°ËΩ¶‚Äù„ÄÇÂõæÂÉèÁöÑÂ∞∫ÂØ∏‰∏∫ 3 * 32 * 32ÔºåÂç≥Â∞∫ÂØ∏‰∏∫ 32 * 32 ÂÉèÁ¥†ÁöÑ 3 ÈÄöÈÅìÂΩ©Ëâ≤ÂõæÂÉè„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/pytorch-handbook/CIFAR-10.png"
width="472"
height="369"
srcset="https://emerywan.github.io/blog/blog/p/pytorch-handbook/CIFAR-10_hubd3e6b51c00827c9a17b1eaa7622a23e_30944_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/pytorch-handbook/CIFAR-10_hubd3e6b51c00827c9a17b1eaa7622a23e_30944_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="CIFAR-10"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="306px"
>&lt;/p>
&lt;p>Êé•‰∏ãÊù•Ôºå‰Ωú‰∏∫ÊºîÁ§∫ÔºåÂ∞ÜÊåâÈ°∫Â∫èÊâßË°å‰ª•‰∏ãÊ≠•È™§ËÆ≠ÁªÉÂõæÂÉèÂàÜÁ±ªÂô®Ôºö&lt;/p>
&lt;ul>
&lt;li>‰ΩøÁî® &lt;code>torchvision&lt;/code> Âä†ËΩΩÂπ∂Ê†áÂáÜÂåñ CIFAR10 ËÆ≠ÁªÉÂíåÊµãËØïÊï∞ÊçÆÈõÜ&lt;/li>
&lt;li>ÂÆö‰πâ CNN&lt;/li>
&lt;li>ÂÆö‰πâÊçüÂ§±ÂáΩÊï∞&lt;/li>
&lt;li>Ê†πÊçÆËÆ≠ÁªÉÊï∞ÊçÆËÆ≠ÁªÉÁΩëÁªú&lt;/li>
&lt;li>Âú®ÊµãËØïÊï∞ÊçÆ‰∏äÊµãËØïÁΩëÁªú&lt;/li>
&lt;/ul>
&lt;h3 id="Âä†ËΩΩÂπ∂Ê†áÂáÜÂåñ-cifar10">Âä†ËΩΩÂπ∂Ê†áÂáÜÂåñ CIFAR10&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torchvision&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torchvision.transforms&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">transforms&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>torchvision ÁöÑËæìÂá∫ÊòØ [0, 1] ÁöÑ PILImage ÂõæÂÉèÔºåÊàë‰ª¨Ë¶ÅÊääÂÆÉËΩ¨Êç¢‰∏∫ÂΩí‰∏ÄÂåñËåÉÂõ¥‰∏∫ [-1, 1] ÁöÑÂº†Èáè„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">transform&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">transforms&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Compose&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="n">transforms&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ToTensor&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">transforms&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Normalize&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="mf">0.5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.5&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mf">0.5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.5&lt;/span>&lt;span class="p">))]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">trainset&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torchvision&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">datasets&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">CIFAR10&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">root&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;./data&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">train&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">download&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">transform&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">transform&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">trainloader&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">utils&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataLoader&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">trainset&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">batch_size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">shuffle&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">num_workers&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">testset&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">trochvision&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">datasets&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">CIFAR10&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">root&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;./data&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">train&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">False&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">download&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">transform&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">transform&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">testloader&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">utils&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataLoader&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">testset&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">barch_size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">shuffle&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">False&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">num_workers&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">classes&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;plane&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;car&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;bird&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;cat&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;deer&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;dog&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;frog&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;horse&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;ship&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;truck&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ÂÆö‰πâ-cnn">ÂÆö‰πâ CNN&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch.nn&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">nn&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch.nn.functional&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">F&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Net&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Module&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="fm">__init__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">super&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Net&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="fm">__init__&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># in_channels, out_channels, kernel_size&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ËæìÂÖ•ÁöÑ‰∏∫ 3 ÈÄöÈÅìÂõæÂÉèÔºåÊèêÂèñ 6 ‰∏™ÁâπÂæÅÔºåÂæóÂà∞ 6 ‰∏™ feature mapÔºåÂç∑ÁßØÊ†∏‰∏∫‰∏Ä‰∏™ 5*5 ÁöÑÁü©Èòµ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">conv1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Conv2d&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">pool&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">MaxPool2d&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">conv2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Conv2d&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">16&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># Âç∑ÁßØÂ±ÇËæìÂá∫‰∫Ü 16 ‰∏™ feature mapÔºåÊØè‰∏™ feature map ÊòØ 6*6 ÁöÑ‰∫åÁª¥Êï∞ÊçÆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fc1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Linear&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">16&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">120&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fc2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Linear&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">120&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">84&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fc3&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">84&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">forward&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">pool&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">F&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">relu&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">conv1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">pool&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">F&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">relu&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">conv2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">view&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">16&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">F&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">relu&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fc1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">F&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">relu&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fc2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fc3&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">x&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">net&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Net&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ÂÆö‰πâÊçüÂ§±ÂáΩÊï∞Âíå‰ºòÂåñÂô®">ÂÆö‰πâÊçüÂ§±ÂáΩÊï∞Âíå‰ºòÂåñÂô®&lt;/h3>
&lt;p>ËøôÈáåÊàë‰ª¨‰ΩøÁî®‰∫§ÂèâÁÜµ‰Ωú‰∏∫ÊçüÂ§±ÂáΩÊï∞Ôºå‰ΩøÁî®Â∏¶Âä®ÈáèÁöÑÈöèÊú∫Ê¢ØÂ∫¶‰∏ãÈôç„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch.optim&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">optim&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">criterion&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">CrossEntropyLoss&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">optimizer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">optim&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">SDG&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">net&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">parameters&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">lr&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">0.001&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">momentum&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">0.9&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ËÆ≠ÁªÉÁΩëÁªú">ËÆ≠ÁªÉÁΩëÁªú&lt;/h3>
&lt;p>Êé•‰∏ãÊù•ÔºåÂè™ÈúÄË¶ÅÂú®Ëø≠‰ª£Êï∞ÊçÆÔºåÂ∞ÜÊï∞ÊçÆËæìÂÖ•ÁΩëÁªú‰∏≠Âπ∂‰ºòÂåñ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">epoch&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">running_loss&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">0.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">enumerate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">trainloader&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">inputs&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">labels&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="c1"># Ëé∑ÂèñËæìÂÖ•&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">optimizer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">zero_grad&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1"># Â∞ÜÊ¢ØÂ∫¶ÁºìÂÜ≤Âå∫Ê∏ÖÈõ∂&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">outputs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">net&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">inputs&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># Ê≠£Âêë‰º†Êí≠&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">loss&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">criterion&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">outputs&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">lables&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">loss&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">backward&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1"># ÂèçÂêë‰º†Êí≠&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">optimizer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">step&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1"># ‰ºòÂåñ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">running_loss&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">loss&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">item&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="mi">2000&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1999&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="c1"># ÊØè 2000 ÊâπÊ¨°ÊâìÂç∞‰∏ÄÊ¨°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[]&amp;#39;&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">epoch&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">running_loss&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">2000&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">running_loss&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">0.0&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="Âú®ÊµãËØïÈõÜ‰∏äÊµãËØïÊï∞ÊçÆ">Âú®ÊµãËØïÈõÜ‰∏äÊµãËØïÊï∞ÊçÆ&lt;/h3>
&lt;p>Âú®‰∏äÈù¢ÁöÑËÆ≠ÁªÉ‰∏≠ÔºåÊàë‰ª¨ËÆ≠ÁªÉ‰∫Ü 2 Ê¨°ÔºåÊé•‰∏ãÊù•ÔºåÊàë‰ª¨Ë¶ÅÊ£ÄÊµãÁΩëÁªúÊòØÂê¶‰ªéÊï∞ÊçÆÈõÜ‰∏≠Â≠¶‰π†Âà∞‰∫ÜÊúâÁî®ÁöÑ‰∏úË•ø„ÄÇÈÄöËøáÈ¢ÑÊµãÁ•ûÁªèÁΩëÁªúËæìÂá∫ÁöÑÁ±ªÂà´Ê†áÁ≠æ‰∏éÂÆûÈôÖÊÉÖÂÜµÊ†áÁ≠æÂØπÊØîËøõË°åÊ£ÄÊµã„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">corrent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">total&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">with&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">no_grad&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">testloader&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">images&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">lobels&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">outputs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">net&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">images&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">predicted&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">outputs&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">total&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">labels&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">corrent&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">predicted&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">labels&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sum&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">item&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Accuracy of the network on the 10000 test images: &lt;/span>&lt;span class="si">%d&lt;/span>&lt;span class="s1"> &lt;/span>&lt;span class="si">%%&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mi">100&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">corrent&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">total&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Accuracy of the network on the 10000 test images: 9%&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Âú®ËÆ≠ÁªÉ‰∏§Ê¨°ÁöÑÁΩëÁªú‰∏≠ÔºåÈöèÊú∫ÈÄâÊã©ÁöÑÊ≠£Á°ÆÁéá‰∏∫ 10%„ÄÇÁΩëÁªú‰ºº‰πéÂ≠¶Âà∞‰∫Ü‰∏Ä‰∫õ‰∏úË•ø„ÄÇ&lt;/p>
&lt;p>ÈÇ£Ëøô‰∏™ÁΩëÁªúÔºåËØÜÂà´Âì™‰∏ÄÁ±ªÂ•ΩÔºåÂì™‰∏ÄÁ±ª‰∏çÂ•ΩÂë¢Ôºü&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">class_corrent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">list&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">0.&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">class_total&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">list&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">0.&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">with&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">no_grad&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">testloader&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">images&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">labels&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">outputs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">net&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">images&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">predicted&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">outputs&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">predicted&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">labels&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">squeeze&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">label&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">labels&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">class_correct&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">label&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">item&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">class_total&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">label&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Accuracy of &lt;/span>&lt;span class="si">%5s&lt;/span>&lt;span class="s1"> : &lt;/span>&lt;span class="si">%2d&lt;/span>&lt;span class="s1"> &lt;/span>&lt;span class="si">%%&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">classes&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="mi">100&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">class_correct&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">class_total&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Accuracy of plane : 99 %&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Accuracy of car : 0 %&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Accuracy of bird : 0 %&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Accuracy of cat : 0 %&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Accuracy of deer : 0 %&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Accuracy of dog : 0 %&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Accuracy of frog : 0 %&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Accuracy of horse : 0 %&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Accuracy of ship : 0 %&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Accuracy of truck : 0 %&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="‰ΩøÁî®-gpu">‰ΩøÁî® GPU&lt;/h2>
&lt;p>‰∏éÂ∞Ü tensor ÁßªÂà∞ GPU ‰∏ä‰∏ÄÊ†∑ÔºåÁ•ûÁªèÁΩëÁªú‰πüÂèØ‰ª•ÁßªÂä®Âà∞ GPU ‰∏ä„ÄÇ
Â¶ÇÊûúÂèØ‰ª•‰ΩøÁî® CUDAÔºåÂ∞ÜËÆæÂ§áÂÆö‰πâ‰∏∫Á¨¨‰∏Ä‰∏™ cuda ËÆæÂ§áÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">device&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">device&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;cuda:0&amp;#39;&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">cuda&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">is_available&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="s1">&amp;#39;cpu&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">device&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># cuda:0&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Â§çÂà∂ nn Âíå tensor Âà∞ GPU ‰∏ä„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">model&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">net&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">device&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">inputs&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">labels&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">device&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">device&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>Tip:&lt;/p>
&lt;p>‰ΩøÁî® &lt;code>.to(device)&lt;/code> Âπ∂Ê≤°ÊúâÂ§çÂà∂ nn / tensor Âà∞ GPU ‰∏äÔºåËÄåÊòØËøîÂõû‰∫Ü‰∏Ä‰∏™ copy„ÄÇÈúÄË¶ÅËµãÂÄºÂà∞‰∏Ä‰∏™Êñ∞ÁöÑÂèòÈáèÂêéÂú® GPU ‰∏ä‰ΩøÁî®Ëøô‰∏™ nn / tensor„ÄÇ&lt;/p>
&lt;/blockquote>
&lt;h2 id="ÂèÇËÄÉ">ÂèÇËÄÉ&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://pytorch.apachecn.org/#/docs/1.7/02" target="_blank" rel="noopener"
>https://pytorch.apachecn.org/#/docs/1.7/02&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>React Hooks</title><link>https://emerywan.github.io/blog/p/react-hooks/</link><pubDate>Thu, 28 Jan 2021 21:14:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/react-hooks/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/9.jpeg" alt="Featured image of post React Hooks" />&lt;h1 id="react-hooks-ÁÆÄ‰ªã">React Hooks ÁÆÄ‰ªã&lt;/h1>
&lt;h2 id="hook-Âê´‰πâ">Hook Âê´‰πâ&lt;/h2>
&lt;h1 id="ÁªÑ‰ª∂Á±ªÂíåÂáΩÊï∞ÁªÑ‰ª∂">ÁªÑ‰ª∂Á±ªÂíåÂáΩÊï∞ÁªÑ‰ª∂&lt;/h1>
&lt;h1 id="usestate">useState&lt;/h1>
&lt;h2 id="‰ΩøÁî®">‰ΩøÁî®&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useState&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;react&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">Example&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Â£∞Êòé‰∫Ü‰∏Ä‰∏™ count ÁöÑ state ÂèòÈáèÔºåÂπ∂ÂàùÂßãÂåñ‰∏∫ 0
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// setCount ËÆæÁΩÆ state ÂÄº count ÁöÑÊñπÊ≥ï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setCount&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÊØèÊ¨°ÁÇπÂáªÊåâÈíÆÔºåÂ∞Ü count ÁöÑÂÄº +1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">You&lt;/span> &lt;span class="nx">clicked&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="nx">times&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="na">onClick&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">setCount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">count&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)}&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Click&lt;/span> &lt;span class="nx">me&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">Example&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ËØ≠Ê≥ï">ËØ≠Ê≥ï&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Â£∞Êòé‰∏Ä‰∏™ state ÂèòÈáèÔºåÂπ∂ÂêåÊó∂ÂàùÂßãÂåñ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setState&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">initialState&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>useState ËøîÂõû‰∏Ä‰∏™ÂåÖÂê´‰∏§‰∏™ÂÖÉÁ¥†ÁöÑÊï∞ÁªÑ
&lt;ul>
&lt;li>state ÂèòÈáèÔºåÊåáÂêëÁä∂ÊÄÅÂΩìÂâçÂÄº&lt;/li>
&lt;li>setState Êõ¥Êñ∞ state ÂÄºÁöÑÊñπÊ≥ï&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>initialState Áä∂ÊÄÅÂàùÂßãÂÄºÂèØ‰ª•ÊòØÊï∞Â≠óÔºåÂ≠óÁ¨¶‰∏≤ÔºåÊï∞ÁªÑÔºåÂØπË±°Á≠â&lt;/li>
&lt;/ul>
&lt;h2 id="‰∏éÁ±ª‰∏≠‰ΩøÁî®-setstate-ÂºÇÂêå">‰∏éÁ±ª‰∏≠‰ΩøÁî® &lt;code>setState&lt;/code> ÂºÇÂêå&lt;/h2>
&lt;ul>
&lt;li>Áõ∏ÂêåÁÇπ
&lt;ul>
&lt;li>Âú®‰∏ÄÊ¨°Ê∏≤ÊüìÂë®Êúü‰∏≠Ë∞ÉÁî®Â§öÊ¨° setStateÔºåÊï∞ÊçÆÂè™ÊîπÂèò‰∏ÄÊ¨°&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>‰∏çÂêåÁÇπ
&lt;ul>
&lt;li>Á±ªÁªÑ‰ª∂‰∏≠ setState ‰∏∫ÂêàÂπ∂&lt;/li>
&lt;li>ÂáΩÊï∞ÁªÑ‰ª∂‰∏≠ setState ‰∏∫ÊõøÊç¢&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h1 id="useeffect">useEffect&lt;/h1>
&lt;p>useEffect Áî®Êù•ÊâßË°åÂâØ‰ΩúÁî®„ÄÇÂèØ‰ª•Â∞Ü useEffect Hook ÁúãÂÅö &lt;code>componentDidMount, componentDidUpdate, componentWillMount&lt;/code> ÁîüÂëΩÂë®ÊúüÂáΩÊï∞ÁöÑÁªÑÂêà„ÄÇ&lt;/p>
&lt;p>Â∏∏Áî®Âú®Ôºö&lt;/p>
&lt;ul>
&lt;li>ÊúçÂä°Âô®ËØ∑Ê±Ç&lt;/li>
&lt;li>ËÆøÈóÆÂÖÉÁ¥† dom ÂÖÉÁ¥†&lt;/li>
&lt;li>Êú¨Âú∞ÊåÅ‰πÖÂåñÁºìÂ≠ò&lt;/li>
&lt;li>ÁªëÂÆö/Ëß£Áªë‰∫ã‰ª∂&lt;/li>
&lt;li>Ê∑ªÂä†ËÆ¢ÈòÖ&lt;/li>
&lt;li>ËÆæÁΩÆÂÆöÊó∂Âô®&lt;/li>
&lt;li>ËÆ∞ÂΩïÊó•Âøó&lt;/li>
&lt;li>Á≠â&lt;/li>
&lt;/ul>
&lt;p>useEffect Êé•Êî∂‰∏Ä‰∏™ÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞‰ºöÂú®ÁªÑ‰ª∂Ê∏≤ÊüìÂÆåÊØïÂêéÊâçÊâßË°åÔºåËØ•ÂáΩÊï∞ÊúâË¶ÅÊ±ÇÔºöË¶Å‰πàËøîÂõû‰∏Ä‰∏™ËÉΩÊ∏ÖÈô§ÂâØ‰ΩúÁî®ÁöÑÂáΩÊï∞ÔºåË¶Å‰πàÂ∞±‰∏çËøîÂõû‰ªª‰ΩïÂÜÖÂÆπ„ÄÇ&lt;/p>
&lt;h2 id="‰∏çÈúÄË¶ÅÊ∏ÖÈô§ÁöÑ-effect">‰∏çÈúÄË¶ÅÊ∏ÖÈô§ÁöÑ effect&lt;/h2>
&lt;p>Âú® React Êõ¥Êñ∞ DOM ‰πãÂêéÔºåÊàë‰ª¨ÊÉ≥ËøêË°å‰∏Ä‰∫õÈ¢ùÂ§ñÁöÑ‰ª£Á†Å„ÄÇÊØîÂ¶ÇÂèëÈÄÅÁΩëÁªúËØ∑Ê±ÇÔºåÊâãÂä®ÂèòÊõ¥ DOMÔºåËÆ∞ÂΩïÊó•ÂøóÔºåËøô‰∫õÈÉΩÊòØÂ∏∏ËßÅÁöÑÊó†ÈúÄÊ∏ÖÈô§ÁöÑÊìç‰Ωú„ÄÇ
Âõ†‰∏∫Êàë‰ª¨Âú®ÊâßË°åÂÆåËøô‰∫õÊìç‰Ωú‰πãÂêéÔºåÂ∞±ÂèØ‰ª•ÂøΩÁï•‰ªñ‰ª¨‰∫Ü„ÄÇ&lt;/p>
&lt;p>‰ª•‰∏ã‰∏∫‰ΩøÁî® class Âíå Hook ÈÉΩÊòØÊÄé‰πàÂÆûÁé∞Ëøô‰∫õÂâØ‰ΩúÁî®ÁöÑÂØπÊØî„ÄÇ&lt;/p>
&lt;h3 id="‰ΩøÁî®Á±ªÁªÑ‰ª∂">‰ΩøÁî®Á±ªÁªÑ‰ª∂&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Âú® React Êõ¥Êñ∞ DOM Êìç‰ΩúÂêéÔºåÁ´ãÂç≥Êõ¥Êñ∞ document ÁöÑ title Â±ûÊÄß
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">class&lt;/span> &lt;span class="nx">Example&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">super&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÁªÑ‰ª∂Âä†ËΩΩÊó∂ÈúÄË¶ÅÊõ¥Êñ∞
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">componentDidMount&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`You clicked &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> times`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÁªÑ‰ª∂Êõ¥Êñ∞Êó∂ÈúÄË¶ÅÊõ¥Êñ∞
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">componentDidUpdate&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`You clicked &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> times`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Âú® render() ‰∏çËÉΩÊúâ‰ªª‰ΩïÂâØ‰ΩúÁî®„ÄÇÂ∫îËØ•Âú® react Êõ¥Êñ∞ DOM ÂêéÂÜçÊâßË°åÂâØ‰ΩúÁî®„ÄÇ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">You&lt;/span> &lt;span class="nx">clicked&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="nx">times&lt;/span>&lt;span class="p">.&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="na">onClick&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setState&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">count&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">})}&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">click&lt;/span> &lt;span class="nx">me&lt;/span>&lt;span class="p">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="‰ΩøÁî®-hook">‰ΩøÁî® Hook&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">useState&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">useEffect&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;react&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">Example&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setCount&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">useEffect&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">// ÁªèËøáÊ∏≤ÊüìÊàñÊõ¥Êñ∞Ôºå DOM Êõ¥Êñ∞ÂÆåÊØï‰πãÂêéÔºå‰ºöËøêË°åËØ• effect
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`You click &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> times`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">You&lt;/span> &lt;span class="nx">clicked&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="nx">times&lt;/span>&lt;span class="p">.&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="na">onClick&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setState&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">count&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">})}&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">click&lt;/span> &lt;span class="nx">me&lt;/span>&lt;span class="p">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>Á¨¨‰∏ÄÊ¨°Ê∏≤Êüì‰πãÂêéÂíåÊØèÊ¨°Êõ¥Êñ∞‰πãÂêéÈÉΩ‰ºöÊâßË°å useEffect„ÄÇ‰∏î React ‰øùËØÅÊØèÊ¨°ËøêË°å effect ÁöÑÂêåÊó∂ÔºåDOM Â∑≤ÁªèÊõ¥Êñ∞ÂÆåÊØï„ÄÇ&lt;/li>
&lt;li>useEffect ÊîæÂú®ÁªÑ‰ª∂ÂÜÖÈÉ®ËÆ©Êàë‰ª¨ÂèØ‰ª•Âú® effect ‰∏≠Áõ¥Êé•ËÆøÈóÆ state / props„ÄÇÊàë‰ª¨‰∏çÈúÄË¶ÅÁâπÊÆäÁöÑ API Êù•ËØªÂèñ„ÄÇ&lt;/li>
&lt;li>‰∏é componentDidMount Êàñ componentDidUpdate ‰∏çÂêåÔºå‰ΩøÁî® useEffect Ë∞ÉÂ∫¶ÁöÑ effect ‰∏ç‰ºöÈòªÂ°ûÊµèËßàÂô®Êõ¥Êñ∞Â±èÂπïÔºåËøôËÆ©‰Ω†ÁöÑÂ∫îÁî®ÁúãËµ∑Êù•ÂìçÂ∫îÊõ¥Âø´„ÄÇÂ§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÔºåeffect ‰∏çÈúÄË¶ÅÂêåÊ≠•Âú∞ÊâßË°å„ÄÇÂú®‰∏™Âà´ÊÉÖÂÜµ‰∏ãÔºà‰æãÂ¶ÇÊµãÈáèÂ∏ÉÂ±ÄÔºâÔºåÊúâÂçïÁã¨ÁöÑ useLayoutEffect Hook ‰æõ‰Ω†‰ΩøÁî®ÔºåÂÖ∂ API ‰∏é useEffect Áõ∏Âêå„ÄÇ&lt;/li>
&lt;/ul>
&lt;h2 id="ÈúÄË¶ÅÊ∏ÖÈô§ÁöÑ-effect">ÈúÄË¶ÅÊ∏ÖÈô§ÁöÑ effect&lt;/h2>
&lt;p>Êúâ‰∏Ä‰∫õÂâØ‰ΩúÁî®ÊòØÈúÄË¶ÅÊ∏ÖÈô§ÁöÑÔºåÂ¶ÇËÆ¢ÈòÖÂ§ñÈÉ®Êï∞ÊçÆÊ∫ê„ÄÇËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÊ∏ÖÈô§Â∑•‰ΩúÊòØÈùûÂ∏∏ÈáçË¶ÅÁöÑÔºåÂèØ‰ª•Èò≤Ê≠¢ÂºïËµ∑ÂÜÖÂ≠òÊ≥ÑÈú≤ÔºÅ&lt;/p>
&lt;h3 id="‰ΩøÁî®Á±ªÁªÑ‰ª∂-1">‰ΩøÁî®Á±ªÁªÑ‰ª∂&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">FriendStatus&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">super&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">isOnline&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleStatusChange&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleStatusChange&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bind&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">componentDidMount&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ChatAPI&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">subscribeToFriendStatus&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">friend&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleStatusChange&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">componentDidUpdate&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">componentWillUnmount&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Âú®ÁªÑ‰ª∂Âç∏ËΩΩÊó∂ÔºåÂÖ≥Èó≠ËÆ¢ÈòÖÁöÑÊï∞ÊçÆÊ∫ê
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">ChatAPI&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">unsubscribeFromFriendStatus&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">friend&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleStatusChange&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">handleStatusChange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">status&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setState&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">isOnline&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">status&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isOnline&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isOnline&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s1">&amp;#39;Loading...&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isOnline&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;Online&amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Offline&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="‰ΩøÁî®ÂáΩÊï∞ÁªÑ‰ª∂">‰ΩøÁî®ÂáΩÊï∞ÁªÑ‰ª∂&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">useState&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">useEffect&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;react&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">FriendStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">isOnline&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setIsOnline&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">useEffect&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="nx">handleStatusChange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">status&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setIsOnline&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">status&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isOnline&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ChatAPI&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">subscribeToFriendStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">friend&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">handleStatusChange&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// effect ÂèØÈÄâÊ∏ÖÈô§ÂâØ‰ΩúÁî®ÁöÑÂáΩÊï∞ÔºåËøîÂõûÂáΩÊï∞‰∏ç‰∏ÄÂÆöÈúÄË¶ÅÂëΩÂêç
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">cleanup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ChatAPI&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">unsubscribeFromFriendStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">friend&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">handleStatusChange&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">isOnline&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s1">&amp;#39;Loading...&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">isOnline&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;Online&amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Offline&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>React ‰ºöÂú®ÁªÑ‰ª∂Âç∏ËΩΩÁöÑÊó∂ÂÄôÊâßË°åÊ∏ÖÈô§Êìç‰Ωú„ÄÇ&lt;/li>
&lt;/ul>
&lt;h2 id="Â§ö‰∏™-effect-ÂÆûÁé∞ÂÖ≥Ê≥®ÁÇπÂàÜÁ¶ª">Â§ö‰∏™ Effect ÂÆûÁé∞ÂÖ≥Ê≥®ÁÇπÂàÜÁ¶ª&lt;/h2>
&lt;p>‰ΩøÁî® Hook ÁöÑÂÖ∂‰∏≠‰∏Ä‰∏™ÁõÆÁöÑÊòØË¶ÅËß£ÂÜ≥Ôºö class ÁîüÂëΩÂë®ÊúüÂáΩÊï∞‰∏≠ÁªèÂ∏∏ÂåÖÂê´‰∏çÁõ∏ÂÖ≥ÈÄªËæëÔºåÁõ∏ÂÖ≥ÈÄªËæëÂèàÂàÜÁ¶ªÂú®Âá†‰∏™‰∏çÂêåÁöÑÊñπÊ≥ï‰∏≠„ÄÇ&lt;/p>
&lt;p>Â¶Ç‰∏ã‰∏∫‰∏äÊñá‰∏≠ËÆ°Êï∞Âô®ÂíåÂ•ΩÂèãÁä∂ÊÄÅÊåáÁ§∫Âô®ÈÄªËæëÁªÑÂêàÂú®‰∏ÄËµ∑ÁöÑÁªÑ‰ª∂Ôºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">FriendStatusWithCounter&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">super&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">isOnline&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleStautsChange&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleStatusChange&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bind&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Áõ∏Â∫îÁöÑÈÄªËæëË¢´ÂàÜÈÖçÂú®‰∏â‰∏™‰∏çÂêåÁöÑÁîüÂëΩÂë®ÊúüÂáΩÊï∞‰∏≠
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">componentDidMount&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// counter
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`You clicked &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> times`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// friend status
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">ChatAPI&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">subscribeToFriendStatus&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fried&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleStatusChange&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">componentDidUpdate&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`You clicked &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> times`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">componentWillUnmount&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ChatAPI&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">unsubscribeFromFriendStatus&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">friend&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleStatusChange&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">handleStatusChange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">status&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setState&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">isOnline&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">status&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isOnline&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ëã•‰ΩøÁî® HookÔºåÂíå‰ΩøÁî®Â§ö‰∏™ state ÁöÑ Hook ‰∏ÄÊ†∑ÔºåÈÄöËøá‰ΩøÁî®Â§ö‰∏™ effectÔºåÂ∞Ü‰∏çÁõ∏ÂÖ≥ÁöÑÈÄªËæëÂàÜÁ¶ªÂà∞‰∏çÂêåÁöÑ effect ‰∏≠„ÄÇ&lt;/p>
&lt;p>Hook ÂÖÅËÆ∏ÊåâÁÖß‰ª£Á†ÅÁöÑÁî®ÈÄîËøõË°åÂàÜÁ¶ªÔºå‰∏çÂêå‰∫éÁîüÂëΩÂë®ÊúüÂáΩÊï∞„ÄÇÂ∞ÜÊåâÁÖß effect Â£∞ÊòéÁöÑÈ°∫Â∫è‰æùÊ¨°Ë∞ÉÁî®ÁªÑ‰ª∂‰∏≠ÁöÑÊØè‰∏Ä‰∏™ effect„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">FriendStatusWithCounter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setCount&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">useEffect&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`You clicked &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> times`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">isOneline&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">useIsOneline&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">useEffect&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="nx">handleStatusChange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">status&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setIsOneline&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">status&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isOneline&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ChatAPI&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">subscribeToFriendStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">friend&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">handleStatusChange&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ChatAPI&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">unsubscribeFromFriendStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">friend&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">handleStatusChange&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="Ë∑≥Ëøá-effect-ËøõË°åÊÄßËÉΩ‰ºòÂåñ">Ë∑≥Ëøá Effect ËøõË°åÊÄßËÉΩ‰ºòÂåñ&lt;/h2>
&lt;p>Âú®Á±ªÁªÑ‰ª∂‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá &lt;code>componentDidUpdate&lt;/code> ‰∏≠ &lt;code>prevProps&lt;/code> Âíå &lt;code>prevState&lt;/code> ÁöÑ props / state ÁöÑÂèòÂåñÊØîËæÉÔºåÂà§Êñ≠ÊòØÂê¶ÈúÄË¶ÅÊâßË°åÊüê‰∫õÂâØ‰ΩúÁî®„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">componentDidUpdate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">prevProps&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">prevState&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">prevState&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`You clicked &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> times`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Âú® Hook ‰∏≠ÔºåÂèØ‰ª•ÈÄöËøáÂØπ useEffect ‰º†ÈÄíÊï∞ÁªÑ‰Ωú‰∏∫Á¨¨‰∫åÂèØÈÄâÂèÇÊï∞ÔºåÈÄöÁü• React Ë∑≥ËøáÂØπ effect ÁöÑË∞ÉÁî®„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">useEffect&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`You clicked &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> times`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="p">]);&lt;/span> &lt;span class="c1">// Ë°®Á§∫ count Êõ¥ÊîπÊó∂‰ºöËøõË°åÊõ¥Êñ∞
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// {... , [5]} ÂΩì count === 5 Êó∂ÔºåË∑≥Ëøá effect
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>Ëã•Âè™ÊÉ≥ËøêË°å‰∏ÄÊ¨° effectÔºà‰ªÖÂú®ÁªÑ‰ª∂ÊåÇËΩΩÂíåÂç∏ËΩΩÊó∂ÊâßË°åÔºâÔºåÂèØ‰º†ÈÄí‰∏Ä‰∏™Á©∫Êï∞ÁªÑ [] ‰Ωú‰∏∫Á¨¨‰∫åÂèÇÊï∞„ÄÇ
&lt;ul>
&lt;li>‰º†ÂÖ•‰∏Ä‰∏™Á©∫Êï∞ÁªÑÔºà[]ÔºâÔºåeffect ÂÜÖÈÉ®ÁöÑ props Âíå state ‰ºö‰∏ÄÁõ¥Êã•ÊúâÂÖ∂ÂàùÂßãÂÄº„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>‰ΩøÁî®ËØ•‰ºòÂåñÔºåËØ∑Á°Æ‰øùÊï∞ÁªÑ‰∏≠ÂåÖÂê´‰∫ÜÊâÄÊúâÂ§ñÈÉ®‰ΩúÁî®Âüü‰∏≠‰ºöÈöèÊó∂Èó¥ÂèòÂåñ‰∏îÂú® effect ‰∏≠‰ΩøÁî®ÁöÑÂèòÈáèÔºåÂê¶Âàô‰ª£Á†Å‰ºöÁî®Âà∞ÂÖàÂâçÊ∏≤Êüì‰∏≠ÁöÑÊóßÂèòÈáè„ÄÇ&lt;/li>
&lt;/ul>
&lt;h2 id="ÊØèÊ¨°Êõ¥Êñ∞ÁöÑÊó∂ÂÄôÈÉΩË¶ÅËøêË°å-effect-ÁöÑÂéüÂõ†">ÊØèÊ¨°Êõ¥Êñ∞ÁöÑÊó∂ÂÄôÈÉΩË¶ÅËøêË°å Effect ÁöÑÂéüÂõ†&lt;/h2>
&lt;h1 id="Ëá™ÂÆö‰πâ-hook">Ëá™ÂÆö‰πâ Hook&lt;/h1>
&lt;p>Ëá™ÂÆö‰πâ Hook ÂèØ‰ª•Â∞ÜÁªÑ‰ª∂ÈÄªËæëÊèêÂèñÂà∞ÂèØÈáçÁî®ÁöÑÂáΩÊï∞‰∏≠„ÄÇ&lt;/p>
&lt;p>ÁõÆÂâç‰∏∫Ê≠¢ÔºåÂú® React ‰∏≠Êúâ‰∏§ÁßçÊµÅË°åÁöÑÊñπÂºèÂÖ±‰∫´ÁªÑ‰ª∂‰πãÈó¥ÁöÑÁä∂ÊÄÅÈÄªËæëÔºö&lt;/p>
&lt;ul>
&lt;li>render props&lt;/li>
&lt;li>È´òÈò∂ÁªÑ‰ª∂
‰ΩøÁî® Hook ÂèØ‰ª•Âú®‰∏çÂ¢ûÂä†ÁªÑ‰ª∂ÁöÑÊÉÖÂÜµ‰∏ãËß£ÂÜ≥Áõ∏ÂêåÁöÑÈóÆÈ¢ò„ÄÇ&lt;/li>
&lt;/ul>
&lt;h2 id="ÂàõÂª∫Ëá™ÂÆö‰πâ-hook">ÂàõÂª∫Ëá™ÂÆö‰πâ Hook&lt;/h2>
&lt;p>ÂΩìÊàë‰ª¨ÊÉ≥Âú®ÂáΩÊï∞Èó¥ÂÖ±‰∫´ÈÄªËæëÊó∂ÔºåÊàë‰ª¨ÂèØ‰ª•ÊääÂÆÉÊèêÂèñÂà∞Âè¶Â§ñ‰∏Ä‰∏™ÂáΩÊï∞‰∏≠„ÄÇÁî±‰∫éÁªÑ‰ª∂Âíå Hook ÈÉΩÊòØÂáΩÊï∞ÔºåÊâÄ‰ª•‰πüÂêåÊ†∑‰ΩøÁî®‰∫éËøôÁßçÊñπÂºè„ÄÇ&lt;/p>
&lt;p>Ëá™ÂÆö‰πâ Hook ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂÖ∂ÂêçÁß∞‰ª• &amp;ldquo;use&amp;rdquo; ÂºÄÂ§¥ÔºåÂáΩÊï∞ÂÜÖÈÉ®ÂèØ‰ª•Ë∞ÉÁî®ÂÖ∂‰ªñÁöÑ Hook„ÄÇ&lt;/p>
&lt;p>‰ª•‰∏ãÊòØÊ†πÊçÆ‰∏äÊñá‰∏≠ &lt;code>FriendStatus&lt;/code> ÂÆû‰æãÔºåÊâÄÊèêÂèñÁöÑËá™ÂÆö‰πâ Hook„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">useEffect&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;react&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ÂêçÁß∞‰∏ÄÂÆö‰ª• use ÂºÄÂ§¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">useFriendStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">friendID&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">isOnline&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setIsOnline&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">useEffect&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="nx">handleStatusChange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">status&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setIsOnline&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">status&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isOneline&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ChatAPI&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">subscribeToFriendStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">friendID&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">handleStatusChange&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ChatAPI&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">unsubcribeFromFriendStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">friendID&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">handleStatusChange&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">isOnline&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">useFriendStatus&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Âú®Ëøô‰∏™Ëá™ÂÆö‰πâ Hook ‰∏≠ÔºåÊ≤°ÊúâÂåÖÂê´‰ªª‰ΩïÊñ∞ÂÜÖÂÆπÔºàÈÄªËæë‰∏éÁªÑ‰ª∂‰∏≠ÁöÑÂÆåÂÖ®‰∏ÄËá¥Ôºâ&lt;/p>
&lt;h2 id="‰ΩøÁî®Ëá™ÂÆö‰πâ-hook">‰ΩøÁî®Ëá™ÂÆö‰πâ Hook&lt;/h2>
&lt;p>‰∏éÁªÑ‰ª∂‰∏ÄËá¥ÔºåËØ∑Á°Æ‰øùÂè™Âú®Ëá™ÂÆö‰πâ Hook ÁöÑÈ°∂Â±ÇÊó†Êù°‰ª∂Âú∞Ë∞ÉÁî®ÂÖ∂‰ªñ Hook„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">FriendStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">isOnline&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useFriendStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">friend&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">isOnline&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s2">&amp;#34;Loading...&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">isOnline&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;Online&amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Offline&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ËøôÊÆµ‰ª£Á†Å‰∏é‰πãÂâçÁöÑÂ∑•‰ΩúÊñπÂºèÂÆåÂÖ®‰∏ÄÊ†∑ÔºåÊàë‰ª¨Âè™ÊòØÂ∞ÜÂáΩÊï∞‰∏≠ÈúÄË¶ÅÂÖ±‰∫´ÁöÑÈÄªËæëÊèêÂèñÂà∞ÂçïÁã¨ÁöÑÂáΩÊï∞‰∏≠„ÄÇ&lt;/p>
&lt;ul>
&lt;li>Ëá™ÂÆö‰πâ Hook ÊòØ‰∏ÄÁßçËá™ÁÑ∂ÈÅµÂæ™ Hook ËÆæËÆ°ÁöÑÁ∫¶ÂÆöÔºå‰∏çÊòØ React ÁöÑÁâπÊÄß„ÄÇ&lt;/li>
&lt;li>Ëá™ÂÆö‰πâ Hook ÂøÖÈ°ª‰ª• &amp;ldquo;use&amp;rdquo; ÂºÄÂ§¥&lt;/li>
&lt;li>‰∏çÂêåÁªÑ‰ª∂‰∏≠‰ΩøÁî®Áõ∏ÂêåÁöÑ Hook ‰∏ç‰ºöÂÖ±‰∫´ state„ÄÇ
&lt;ul>
&lt;li>Ëá™ÂÆö‰πâ Hook ÊòØÈáçÁî®Áä∂ÊÄÅÈÄªËæëÁöÑÊú∫Âà∂Ôºà‰æãÂ¶ÇËÆæÁΩÆ‰∏∫ËÆ¢ÈòÖÂπ∂Â≠òÂÇ®ÂΩìÂâçÂÄºÔºâÔºåÊØèÊ¨°‰ΩøÁî®Ëá™ÂÆö‰πâ Hook Êó∂ÔºåÂÖ∂‰∏≠ÁöÑÊâÄÊúâ state ÂíåÂâØ‰ΩúÁî®ÂÆåÂÖ®ÈöîÁ¶ª„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="Âú®Â§ö‰∏™-hook-‰πãÈó¥‰º†ÈÄí‰ø°ÊÅØ">Âú®Â§ö‰∏™ Hook ‰πãÈó¥‰º†ÈÄí‰ø°ÊÅØ&lt;/h2>
&lt;p>Áî±‰∫é Hook Êú¨Ë∫´Â∞±ÊòØÂáΩÊï∞ÔºåÂõ†Ê≠§Êàë‰ª¨ÂèØ‰ª•Âú®ÂÆÉ‰ª¨‰πãÈó¥‰º†ÈÄí‰ø°ÊÅØ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ËøôÊòØ‰∏Ä‰∏™ËÅäÂ§©Ê∂àÊÅØÊé•Êî∂ËÄÖÁöÑÈÄâÊã©Âô®ÔºåÂÆÉ‰ºöÊòæÁ§∫ÂΩìÂâçÈÄâÂÆöÁöÑÂ•ΩÂèãÊòØÂê¶Âú®Á∫ø
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">ChatRecipientPicker&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÂΩìÂâçÈÄâÊã©ÁöÑÂ•ΩÂèã ID ‰øùÂ≠òÂú® recipientID Áä∂ÊÄÅÂèòÈáè‰∏≠
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">recipientID&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setRecipientID&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÂΩìÊõ¥Êñ∞ recipientID Áä∂ÊÄÅÂèòÈáèÊó∂ÔºåuseFriendStatus Hook ‰ºöÂèñÊ∂àËÆ¢ÈòÖ‰πãÂâçÈÄâ‰∏≠ÁöÑÂ•ΩÂèãÔºåÂπ∂ËÆ¢ÈòÖÊñ∞ÈÄâ‰∏≠ÁöÑÂ•ΩÂèãÁä∂ÊÄÅ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">isRecipientOnline&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useFriendStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">recipientID&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">Circle&lt;/span> &lt;span class="nx">color&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">isRecipientOnline&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;green&amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;red&amp;#39;&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">select&lt;/span> &lt;span class="c1">// &amp;lt;select&amp;gt; ‰∏≠ÈÄâÊã©ÂÖ∂‰ªñÂ•ΩÂèãÊó∂Êõ¥Êñ∞ recipientID
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">recipientID&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">onChange&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">e&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">setRecipientID&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Number&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">))}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">friendList&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">map&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">friend&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">option&lt;/span> &lt;span class="nx">key&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">friend&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">friend&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">friend&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/option&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/select&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Êàë‰ª¨Â∞ÜÂΩìÂâçÈÄâÊã©ÁöÑÂ•ΩÂèã ID ‰øùÂ≠òÂú® recipientID Áä∂ÊÄÅÂèòÈáè‰∏≠ÔºåÂπ∂‰ºöÂú®Áî®Êà∑‰ªé &amp;lt;select&amp;gt; ‰∏≠ÈÄâÊã©ÂÖ∂‰ªñÂ•ΩÂèãÊó∂Êõ¥Êñ∞Ëøô‰∏™ state„ÄÇ&lt;/p>
&lt;p>Áî±‰∫é useState ‰ºöÊèê‰æõ recipientID Áä∂ÊÄÅÂèòÈáèÁöÑÊúÄÊñ∞ÂÄºÔºåÂèØ‰ª•Â∞ÜÂÆÉ‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªôËá™ÂÆö‰πâÁöÑ useFriendStatus Hook„ÄÇÂΩìÊàë‰ª¨ÈÄâÊã©‰∏çÂêåÁöÑÂ•ΩÂèãÂπ∂Êõ¥Êñ∞ recipientID Áä∂ÊÄÅÂèòÈáèÊó∂ÔºåuseFriendStatus Hook ‰ºöÂèñÊ∂àËÆ¢ÈòÖ‰πãÂâçÈÄâ‰∏≠ÁöÑÂ•ΩÂèãÔºåÂπ∂ËÆ¢ÈòÖÊñ∞ÈÄâ‰∏≠ÁöÑÂ•ΩÂèãÁä∂ÊÄÅ„ÄÇ&lt;/p>
&lt;h1 id="hook-ËßÑÂàô">Hook ËßÑÂàô&lt;/h1>
&lt;h1 id="È¢ùÂ§ñÁöÑ-hook">È¢ùÂ§ñÁöÑ Hook&lt;/h1>
&lt;h1 id="ÂèÇËÄÉ">ÂèÇËÄÉ&lt;/h1>
&lt;ul>
&lt;li>&lt;a class="link" href="https://juejin.im/post/6844903814349193229" target="_blank" rel="noopener"
>https://juejin.im/post/6844903814349193229&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://juejin.im/post/6844903985338400782" target="_blank" rel="noopener"
>https://juejin.im/post/6844903985338400782&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.ruanyifeng.com/blog/2019/09/react-hooks.html" target="_blank" rel="noopener"
>https://www.ruanyifeng.com/blog/2019/09/react-hooks.html&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://zh-hans.reactjs.org/docs/hooks-intro.html" target="_blank" rel="noopener"
>https://zh-hans.reactjs.org/docs/hooks-intro.html&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Ëß£ÂÜ≥ Ubuntu Á¨îËÆ∞Êú¨ËÄ≥Êú∫Ê≤°ÊúâÂ£∞Èü≥ÁöÑÈóÆÈ¢ò</title><link>https://emerywan.github.io/blog/p/ubuntu-sound/</link><pubDate>Sat, 02 Jan 2021 02:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/ubuntu-sound/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/5.jpeg" alt="Featured image of post Ëß£ÂÜ≥ Ubuntu Á¨îËÆ∞Êú¨ËÄ≥Êú∫Ê≤°ÊúâÂ£∞Èü≥ÁöÑÈóÆÈ¢ò" />&lt;h2 id="ubuntu-ËÄ≥Êú∫Ê≤°ÊúâÂ£∞Èü≥">Ubuntu ËÄ≥Êú∫Ê≤°ÊúâÂ£∞Èü≥&lt;/h2>
&lt;p>Á¨îËÆ∞Êú¨‰ΩøÁî® Ubuntu ÊèíÊúâÁ∫øËÄ≥Êú∫ÂêéÔºåÂπ∂Ê≤°ÊúâÂèçÂ∫îÔºåËØ•Â§ñÊîæËøòÊòØÂ§ñÊîæ„ÄÇ&lt;/p>
&lt;p>ÊÑüËßâÊòØÈÄÇÈÖçÈóÆÈ¢òÔºåwindows ‰∏ãÊ≤°ÊúâÈóÆÈ¢ò„ÄÇÊâæ‰∫Ü‰∏ÄÂúàÂäûÊ≥ïÔºåÂè™ËÉΩÈÄöËøáËΩØ‰ª∂ÊâãÂä®ÂàáÊç¢‰∫ÜÔºåÊïàÊûúËøò‰∏çÈîô„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo apt install pavucontrol
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÂèØ‰ª•Âú®ËøôÈáåÂàáÊç¢ËæìÂá∫ËÆæÂ§áÔºö&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/ubuntu-sound/output.png"
width="514"
height="446"
srcset="https://emerywan.github.io/blog/blog/p/ubuntu-sound/output_hubad1730db6fbe32ffe9d254c812a9365_52081_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/ubuntu-sound/output_hubad1730db6fbe32ffe9d254c812a9365_52081_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="output"
class="gallery-image"
data-flex-grow="115"
data-flex-basis="276px"
>&lt;/p>
&lt;p>ÂàáÊç¢ËæìÂÖ•ËÆæÂ§áÔºö&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/ubuntu-sound/input.png"
width="517"
height="448"
srcset="https://emerywan.github.io/blog/blog/p/ubuntu-sound/input_hufb6fce95f1bcffd19d35ec16e321d778_54938_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/ubuntu-sound/input_hufb6fce95f1bcffd19d35ec16e321d778_54938_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="input"
class="gallery-image"
data-flex-grow="115"
data-flex-basis="276px"
>&lt;/p></description></item><item><title>NumPy</title><link>https://emerywan.github.io/blog/p/numpy/</link><pubDate>Tue, 01 Dec 2020 21:14:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/numpy/</guid><description>&lt;img src="https://emerywan.github.io/blog/imgs/3.jpeg" alt="Featured image of post NumPy" />&lt;h1 id="Êï∞ÊçÆÁ±ªÂûã">Êï∞ÊçÆÁ±ªÂûã&lt;/h1>
&lt;h1 id="Êï∞ÁªÑ-numpyarray">Êï∞ÁªÑ numpy.array&lt;/h1>
&lt;h4 id="npzeros">np.zeros&lt;/h4>
&lt;p>ÂàõÂª∫ÊåáÂÆöÂ§ßÂ∞èÁöÑÊï∞ÁªÑÔºåÊï∞ÁªÑÂÖÉÁ¥†‰ª• 0 Â°´ÂÖÖ„ÄÇ&lt;/p>
&lt;blockquote>
&lt;ul>
&lt;li>numpy.zeros(shape, dtype=None, order = &amp;lsquo;C&amp;rsquo;)&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;ul>
&lt;li>shape Êï∞ÁªÑÂΩ¢Áä∂&lt;/li>
&lt;li>dtype Êï∞ÊçÆÁ±ªÂûã&lt;/li>
&lt;li>order &amp;lsquo;C&amp;rsquo; Áî®‰∫é C ÁöÑË°åÊï∞ÁªÑÔºåÊàñËÄÖ &amp;lsquo;F&amp;rsquo; Áî®‰∫é FORTRAN ÁöÑÂàóÊï∞ÁªÑ&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">zero&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0. 0. 0. 0. 0.]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">zero&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dtype&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">int&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0 0 0 0 0]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">zero&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="c1"># ‰∏âË°å‰∫îÂàó&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">zero&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">shape&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0., 0., 0., 0., 0.],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0., 0., 0., 0., 0.],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0., 0., 0., 0., 0.],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="npones">np.ones&lt;/h4>
&lt;p>ÂàõÂª∫ÊåáÂÆöÂ§ßÂ∞èÁöÑÊï∞ÁªÑÔºåÊï∞ÁªÑÂÖÉÁ¥†‰ª• 1 Â°´ÂÖÖ„ÄÇ&lt;/p>
&lt;blockquote>
&lt;ul>
&lt;li>numpy.ones(shape, dtype=None, order=&amp;lsquo;C&amp;rsquo;)&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h4 id="npfull">np.full&lt;/h4>
&lt;p>ÂàõÂª∫ÊåáÂÆöÂ§ßÂ∞èÂíåÊï∞ÊçÆÁöÑÊï∞ÁªÑ&lt;/p>
&lt;blockquote>
&lt;ul>
&lt;li>numpy.full(shape, fill_value, dtype=None, order=&amp;lsquo;C&amp;rsquo;)&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÂàõÂª∫‰∏Ä‰∏™ ‰∏âË°å‰∫îÂàó ÂÄº‰∏∫ 666.0 ÁöÑÁü©Èòµ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">full&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="mf">666.0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="nparange">np.arange&lt;/h4>
&lt;p>Âú®Êï∞ÁªÑ‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî® range ÂàõÂª∫ÊåáÂÆöËåÉÂõ¥ÁöÑÊï∞ÁªÑÔºà‰∏çËÉΩ‰º†ÈÄíÊµÆÁÇπÊï∞Ôºâ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0, 20) Ê≠•Èïø‰∏∫ 2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0, 2, 4, 6, 8, 10, 12, 14, 16, 18]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Âú® numpy ‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî® arange ÂàõÂª∫Êï∞ÁªÑËåÉÂõ¥Âπ∂ËøîÂõû ndarray ÂØπË±°„ÄÇ&lt;/p>
&lt;blockquote>
&lt;ul>
&lt;li>numpy.arange(start, stop, step, dtype)&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;ul>
&lt;li>start Ëµ∑ÂßãÂÄºÔºåÈªòËÆ§‰∏∫ 0&lt;/li>
&lt;li>stop ÁªàÊ≠¢ÂÄºÔºå‰∏çÂåÖÂê´&lt;/li>
&lt;li>step Ê≠•ÈïøÔºåÈªòËÆ§‰∏∫ 1&lt;/li>
&lt;li>dtype Êï∞ÊçÆÁ±ªÂûã&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">arange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÂèØ‰ª•‰º†ÈÄíÊµÆÁÇπÊï∞&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">arange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0., 0.2, 0.4, 0.6, 0.8]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="nplinspace">np.linspace&lt;/h4>
&lt;p>ÂàõÂª∫‰∏Ä‰∏™‰∏ÄÁª¥Êï∞ÁªÑÔºåÊûÑÊàê‰∏Ä‰∏™Á≠âÂ∑ÆÊï∞Âàó„ÄÇ&lt;/p>
&lt;blockquote>
&lt;ul>
&lt;li>numpy.linspace(start, stop, num=50, endpoint=True, retstep=False,dtype=None, axis=0)&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;ul>
&lt;li>start Ëµ∑ÂßãÂÄº&lt;/li>
&lt;li>stop ÁªàÊ≠¢ÂÄºÔºàÈªòËÆ§ÂåÖÂê´ endpoint=TrueÔºâ&lt;/li>
&lt;li>endpoint ÂΩì‰∏∫ True Êó∂Ôºå‰ºöÂåÖÂê´ stop ÁöÑÂÄº&lt;/li>
&lt;li>retstep ÂΩì‰∏∫ True Êó∂ÔºåÁîüÊàêÁöÑÊï∞ÁªÑ‰∏≠‰ºöÊòæÁ§∫Èó¥Ë∑ù&lt;/li>
&lt;li>dtype Êï∞ÊçÆÁ±ªÂûã&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÁîüÊàê [0, 20] Èó¥Ë∑ù‰∏∫ 2 ÁöÑ 10 ‰∏™Êï∞&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">linspace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">11&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0., 2., 4., 6., 8., 10., 12., 14., 16., 18., 20.]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="nprandom">np.random&lt;/h4>
&lt;blockquote>
&lt;ul>
&lt;li>numpy.random.randint(low, high=None, size=None, dtype=None)&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>ÁîüÊàêÊåáÂÆöÁöÑÊï¥Êï∞„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Âú® [0, 10) Èó¥ÁîüÊàê‰∏Ä‰∏™ÈöèÊú∫Êï∞&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Âú® [0, 10) Èó¥ÁîüÊàê‰∏Ä‰∏™Â§ßÂ∞è‰∏∫ 10 ÁöÑ‰∏ÄÁª¥Êï∞ÁªÑ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [7, 7, 7, 7, 7, 4, 5, 6, 4, 7]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Âú® [0, 10) Èó¥ÁîüÊàê‰∏Ä‰∏™ 3Ë°å6Âàó ÁöÑÁü©Èòµ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÊåáÂÆöÈöèÊú∫ÁßçÂ≠êÔºå‰ΩøÁîüÊàêÁöÑÊï∞ÊçÆÂú®ÊµãËØïÊó∂‰øùÊåÅ‰∏ÄËá¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">seed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">666&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;ul>
&lt;li>numpy.random.random(size=None)&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>ÁîüÊàê [0.0, 1.0) Èó¥ÁöÑÊµÆÁÇπÊï∞„ÄÇ&lt;/p>
&lt;blockquote>
&lt;ul>
&lt;li>numpy.random.normal(loc=0.0, scale=1.0, size=None)&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>ÁîüÊàê‰∏Ä‰∏™Á¨¶ÂêàÊ≠£ÊÄÅÂàÜÂ∏ÉÁöÑÊµÆÁÇπÊï∞„ÄÇ&lt;/p>
&lt;ul>
&lt;li>loc ÂùáÂÄº&lt;/li>
&lt;li>scale ÊñπÂ∑Æ&lt;/li>
&lt;li>size Â§ßÂ∞è&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÁîüÊàê ÂùáÂÄº‰∏∫ 10 ÊñπÂ∑Æ‰∏∫ 100 ÁöÑÊµÆÁÇπÊï∞&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">normal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÁîüÊàê ÂùáÂÄº‰∏∫ 0 ÊñπÂ∑Æ‰∏∫ 1 ÁöÑ 3Ë°å5ÂàóÁöÑÁü©Èòµ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">normal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="numpyarray-Âü∫Êú¨Êìç‰Ωú">numpy.array Âü∫Êú¨Êìç‰Ωú&lt;/h1>
&lt;p>ÂÅáËÆæÊúâÂ¶Ç‰∏ã‰∏Ä‰∏™‰∏ÄÁª¥ÁöÑÊï∞ÁªÑ x Âíå ‰∏Ä‰∏™‰∏âË°å‰∫îÂàóÁöÑÁü©Èòµ XÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">numpy&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">np&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">seed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">arange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">X&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">arange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">15&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reshape&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [ 0, 1, 2, 3, 4],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [ 5, 6, 7, 8, 9],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [10, 11, 12, 13, 14]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="reshape">Reshape&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Â∞Ü x ËΩ¨ÁΩÆ‰∏∫ 2Ë°å5ÂàóÁöÑ Áü©Èòµ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">A&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reshape&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0, 1, 2, 3, 4],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [5, 6, 7, 8, 9]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ] &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Â∞ÜÂêëÈáèË£ÖÁΩÆÊàêÁü©Èòµ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">B&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reshape&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># -1ÔºöËÆ© numpy Ëá™Â∑±ÂÜ≥ÂÆöÁª¥Â∫¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 10Âàó&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">C&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reshape&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 10Ë°å&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">D&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reshape&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [1],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [2],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [3],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [4],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [5],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [6],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [7],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [8],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [9],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2Ë°å&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">E&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reshape&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [0, 1, 2, 3, 4],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># [5, 6, 7, 8, 9]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Êï∞ÊçÆ‰∏çËÉΩÊï¥Èô§ÁöÑÊÉÖÂÜµ‰∏ãÔºå‰∏çËÉΩ reshape&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">F&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reshape&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="Âü∫Êú¨Â±ûÊÄß">Âü∫Êú¨Â±ûÊÄß&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ndarray.ndim Áß©ÔºåÂç≥ËΩ¥ÁöÑÊï∞ÈáèÊàñÁª¥Â∫¶ÁöÑÊï∞Èáè&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ndim&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">X&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ndim&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ndarray.shape Êï∞ÁªÑÁª¥Â∫¶ÔºåÂØπ‰∫éÁü©Èòµ‰∏∫nË°åmÂàó&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">shape&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># (10, )&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">X&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">shape&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># (3, 5)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ndarray.size Êï∞ÁªÑÂÖÉÁ¥†ÁöÑÊÄª‰∏™Êï∞ÔºåÂØπ‰∫éÁü©Èòµ‰∏∫ n*m ‰∏™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">size&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">X&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">size&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 15&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="Êï∞ÊçÆËÆøÈóÆ">Êï∞ÊçÆËÆøÈóÆ&lt;/h2>
&lt;p>‰∏ÄÁª¥ numpy.array ÂèØ‰ª•ÂíåÊï∞ÁªÑ‰∏ÄÊ†∑ËøõË°åËÆøÈóÆ„ÄÇ&lt;/p>
&lt;p>Â§öÁª¥ numpy.array Âú®ËÆøÈóÆÊó∂ÔºåÊé®Ëçê‰º†ÂÖ•Â§ö‰∏™ÂèÇÊï∞„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ‰∏ÄÁª¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 0&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Êú∫Âô®Â≠¶‰π†Âü∫Á°Ä</title><link>https://emerywan.github.io/blog/p/mechine-learning-basics/</link><pubDate>Mon, 28 Sep 2020 14:02:02 +0800</pubDate><guid>https://emerywan.github.io/blog/p/mechine-learning-basics/</guid><description>&lt;h1 id="Êú∫Âô®Â≠¶‰π†">Êú∫Âô®Â≠¶‰π†&lt;/h1>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/machinelearning.png"
width="887"
height="316"
srcset="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/machinelearning_hu13b17d6db5217e228d729d78505e197d_53854_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mechine-learning-basics/machinelearning_hu13b17d6db5217e228d729d78505e197d_53854_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="machinelearning"
class="gallery-image"
data-flex-grow="280"
data-flex-basis="673px"
>&lt;/p>
&lt;h2 id="Âü∫Êú¨ÊúØËØ≠">Âü∫Êú¨ÊúØËØ≠&lt;/h2>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/lris_table.png"
width="497"
height="282"
srcset="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/lris_table_hu260d85a8756d54afc32312bc0e6db2f3_34466_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mechine-learning-basics/lris_table_hu260d85a8756d54afc32312bc0e6db2f3_34466_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="lris_table"
class="gallery-image"
data-flex-grow="176"
data-flex-basis="422px"
>&lt;/p>
&lt;p>Â¶ÇÂõæÊâÄÁ§∫Ë°®Ê†ºÔºåÊòØÈ∏¢Â∞æËä±ÔºàlrisÔºâÁõ∏ÂÖ≥‰ø°ÊÅØÁöÑÊï∞ÊçÆÔºåÂÖ∂‰∏≠Ôºö&lt;/p>
&lt;ul>
&lt;li>Êï∞ÊçÆÊï¥‰ΩìÁß∞‰∏∫Êï∞ÊçÆÈõÜÔºàdata setÔºâ&lt;/li>
&lt;li>ÊØè‰∏ÄË°åÊï∞ÊçÆÁß∞‰∏∫‰∏Ä‰∏™Ê†∑Êú¨ÔºàsampleÔºâ&lt;/li>
&lt;li>ÊØè‰∏ÄÂàóÔºàÈô§Ë°®Ê†ºÊúÄÂêé‰∏ÄÂàóÔºâË°®ËææÊ†∑Êú¨ÁöÑ‰∏Ä‰∏™ÁâπÂæÅÔºàfeatureÔºâ&lt;/li>
&lt;li>ÊúÄÂêé‰∏ÄÂàóÔºåÊàê‰∏∫Ê†áËÆ∞ÔºàlabelÔºâ&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/lris_feature.png"
width="729"
height="277"
srcset="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/lris_feature_hueb1f2deb5cb4168dcc54624d0c16003a_37076_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mechine-learning-basics/lris_feature_hueb1f2deb5cb4168dcc54624d0c16003a_37076_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="lris_feature"
class="gallery-image"
data-flex-grow="263"
data-flex-basis="631px"
>&lt;/p>
&lt;p>Â¶ÇÂõæÊâÄÁ§∫‰ø°ÊÅØÔºåÂÖ∂‰∏≠ ËêºÁâáÈïøÂ∫¶„ÄÅÂÆΩÂ∫¶ÔºåËä±Áì£ÁöÑÈïøÂ∫¶„ÄÅÂÆΩÂ∫¶Áß∞‰∏∫ ÁâπÂæÅÔºõÊØè‰∏ÄË°åÁâπÂæÅÁöÑÂÄºÁß∞‰∏∫ÁâπÂæÅÂêëÈáèÔºàÊï∞Â≠¶‰∏äÈÄöÂ∏∏‰ºöÂ∞ÜÂÖ∂Ë°®Á§∫‰∏∫ÂàóÂêëÈáèÔºâ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/lris_feature2.png"
width="740"
height="267"
srcset="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/lris_feature2_hu711adcd4960fbcd7b6d08efae6dde377_37358_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mechine-learning-basics/lris_feature2_hu711adcd4960fbcd7b6d08efae6dde377_37358_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="lris_feature2"
class="gallery-image"
data-flex-grow="277"
data-flex-basis="665px"
>&lt;/p>
&lt;p>Ëã•Â∞ÜËØ•Âõæ‰∏≠ÁöÑÊï∞ÊçÆË°®Á§∫‰∏∫Áü©ÈòµÁöÑÊñπÂºèÔºåÁªìÊûúÂ¶ÇÂõæÔºö&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/lris_array.png"
width="214"
height="248"
srcset="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/lris_array_hu72a83eec8e112bcbfe072659d9d3f18d_16930_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mechine-learning-basics/lris_array_hu72a83eec8e112bcbfe072659d9d3f18d_16930_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="lris_array"
class="gallery-image"
data-flex-grow="86"
data-flex-basis="207px"
>&lt;/p>
&lt;p>ÈÄâÊã©‰∏§ÁßçÈ∏¢Â∞æËä±ÁöÑÁâπÂæÅ‰∏∫‰æãÔºåÂ∞ÜÂÖ∂Ë°®Á§∫‰∏∫Â¶ÇÂõæÁöÑ‰∫åÁª¥Á©∫Èó¥ÔºàÂ§öÁª¥ÁâπÂæÅÂ∞ÜÂÖ∂Ë°®Á§∫‰∏∫Â§öÁª¥Á©∫Èó¥Ôºâ„ÄÇ&lt;/p>
&lt;p>Êàë‰ª¨Â∞ÜËøôÊ†∑ÁöÑÁ©∫Èó¥Áß∞‰∏∫ ÁâπÂæÅÁ©∫Èó¥Ôºàfeature spaceÔºâ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/lris_feature_space.png"
width="519"
height="361"
srcset="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/lris_feature_space_hu3ac3a516a704dd018abbe59f3e7cdabc_44237_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mechine-learning-basics/lris_feature_space_hu3ac3a516a704dd018abbe59f3e7cdabc_44237_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="lris_feature_space"
class="gallery-image"
data-flex-grow="143"
data-flex-basis="345px"
>&lt;/p>
&lt;p>ÂàÜÁ±ª‰ªªÂä°Êú¨Ë¥®Â∞±ÊòØÂú®ÁâπÂæÅÁ©∫Èó¥ÂàáÂàÜÔºåÂ¶ÇÂõæÊâÄÁ§∫ÔºåÂú®ÁâπÂæÅÁ©∫Èó¥‰∏≠ÔºåÂ∞ÜÈ∏¢Â∞æËä±Ê†πÊçÆ‰∏§ÁßçÁâπÂæÅÂàÜ‰∏∫‰∫Ü‰∏§Á±ª„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/lris_feature_space2.png"
width="514"
height="396"
srcset="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/lris_feature_space2_hu50eafd2c36f314e6e36adfce0dde2c44_59204_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mechine-learning-basics/lris_feature_space2_hu50eafd2c36f314e6e36adfce0dde2c44_59204_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="lris_feature_space2"
class="gallery-image"
data-flex-grow="129"
data-flex-basis="311px"
>&lt;/p>
&lt;h2 id="Êú∫Âô®Â≠¶‰π†ÁöÑÂü∫Êú¨‰ªªÂä°">Êú∫Âô®Â≠¶‰π†ÁöÑÂü∫Êú¨‰ªªÂä°&lt;/h2>
&lt;p>Êú∫Âô®Â≠¶‰π†ÁöÑÂü∫Êú¨‰ªªÂä°Âü∫Êú¨Êúâ‰∏§Á±ªÔºåÂàÜÂà´‰∏∫Ôºö&lt;/p>
&lt;blockquote>
&lt;ul>
&lt;li>ÂàÜÁ±ª&lt;/li>
&lt;li>ÂõûÂΩí&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h3 id="ÂàÜÁ±ª‰ªªÂä°">ÂàÜÁ±ª‰ªªÂä°&lt;/h3>
&lt;blockquote>
&lt;ul>
&lt;li>‰∏Ä‰∫õÁÆóÊ≥ïÂè™ÊîØÊåÅÂÆåÊàê‰∫åÂàÜÁ±ªÁöÑ‰ªªÂä°&lt;/li>
&lt;li>Â§öÂàÜÁ±ªÁöÑ‰ªªÂä°ÂèØ‰ª•ËΩ¨Êç¢Êàê‰∫åÂàÜÁ±ªÁöÑ‰ªªÂä°&lt;/li>
&lt;li>‰∏Ä‰∫õÁÆóÊ≥ïÂ§©ÁÑ∂ÁöÑÊîØÊåÅÂ§öÂàÜÁ±ªÈóÆÈ¢ò&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h4 id="‰∫åÂàÜÁ±ª">‰∫åÂàÜÁ±ª&lt;/h4>
&lt;p>‰∫åÂàÜÁ±ªÈóÆÈ¢òÁöÑÂ∏∏ËßÅÂÆû‰æãÔºö&lt;/p>
&lt;ul>
&lt;li>Âà§Êñ≠ÈÇÆ‰ª∂ÊòØÂûÉÂúæÈÇÆ‰ª∂Ôºõ‰∏çÊòØÂûÉÂúæÈÇÆ‰ª∂&lt;/li>
&lt;li>Âà§Êñ≠ÂèëÊîæÁªôÂÆ¢Êà∑‰ø°Áî®Âç°ÊúâÈ£éÈô©ÔºõÊó†È£éÈô©&lt;/li>
&lt;li>Âà§Êñ≠ÁóÖÊÇ£ËâØÊÄßËÇøÁò§ÔºõÊÅ∂ÊÄßËÇøÁò§&lt;/li>
&lt;li>Âà§Êñ≠ÊüêÊîØËÇ°Á•®Ê∂®ÔºõË∑å&lt;/li>
&lt;/ul>
&lt;h4 id="Â§öÂàÜÁ±ª">Â§öÂàÜÁ±ª&lt;/h4>
&lt;p>Â§öÂàÜÁ±ªÈóÆÈ¢òÁöÑÂ∏∏ËßÅÂÆû‰æãÔºö&lt;/p>
&lt;ul>
&lt;li>Êï∞Â≠óËØÜÂà´&lt;/li>
&lt;li>ÂõæÂÉèËØÜÂà´&lt;/li>
&lt;li>Âà§Êñ≠ÂèëÊîæÁªôÂÆ¢Êà∑‰ø°Áî®Âç°ÁöÑÈ£éÈô©ËØÑÁ∫ß&lt;/li>
&lt;li>Âõ¥Ê£ãÊ∏∏ÊàèÁ≠â&lt;/li>
&lt;li>Ëá™Âä®È©æÈ©∂ËØÜÂà´&lt;/li>
&lt;/ul>
&lt;h4 id="Â§öÊ†áÁ≠æÂàÜÁ±ª">Â§öÊ†áÁ≠æÂàÜÁ±ª&lt;/h4>
&lt;p>Â¶ÇÂõæÊâÄÁ§∫Ôºå‰∏∫Â§öÊ†áÁ≠æÂàÜÁ±ªÈóÆÈ¢òÁöÑÂ∏∏ËßÅÂÆû‰æãÔºö&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/label_classification.png"
width="873"
height="383"
srcset="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/label_classification_hud280503f45d6bb1349e14ec6a2810ad7_406716_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mechine-learning-basics/label_classification_hud280503f45d6bb1349e14ec6a2810ad7_406716_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="label_classification"
class="gallery-image"
data-flex-grow="227"
data-flex-basis="547px"
>&lt;/p>
&lt;h3 id="ÂõûÂΩí‰ªªÂä°">ÂõûÂΩí‰ªªÂä°&lt;/h3>
&lt;p>ÂõûÂΩíÈóÆÈ¢òÁöÑÁªìÊûú‰∏éÂàÜÁ±ªÈóÆÈ¢òÁöÑÁªìÊûú‰∏çÂêåÔºåÂõûÂΩíÈóÆÈ¢òÁöÑÁªìÊûúÊòØ‰∏Ä‰∏™ËøûÁª≠Êï∞Â≠óÁöÑÂÄºÔºåËÄåÈùû‰∏Ä‰∏™Á±ªÂà´„ÄÇ&lt;/p>
&lt;p>Â∏∏ËßÅÁöÑÂõûÂΩíÈóÆÈ¢òÊúâÔºö&lt;/p>
&lt;ul>
&lt;li>ÊàøÂ±ã‰ª∑Ê†º&lt;/li>
&lt;li>Â∏ÇÂú∫ÂàÜÊûê&lt;/li>
&lt;li>Â≠¶ÊúØÊàêÁª©&lt;/li>
&lt;li>ËÇ°Á•®‰ª∑Ê†º&lt;/li>
&lt;/ul>
&lt;p>Âú®‰∏Ä‰∫õÊÉÖÂÜµ‰∏ãÔºåÂõûÂΩí‰ªªÂä°ÂèØ‰ª•ÁÆÄÂåñÊàêÂàÜÁ±ª‰ªªÂä°„ÄÇ&lt;/p>
&lt;h2 id="Êú∫Âô®Â≠¶‰π†ÁÆóÊ≥ïÂàÜÁ±ª">Êú∫Âô®Â≠¶‰π†ÁÆóÊ≥ïÂàÜÁ±ª&lt;/h2>
&lt;h3 id="ÁõëÁù£Â≠¶‰π†">ÁõëÁù£Â≠¶‰π†&lt;/h3>
&lt;p>ÁõëÁù£Â≠¶‰π† &lt;code>supervised learning&lt;/code> ‰∏ªË¶ÅÂ§ÑÁêÜÁöÑÊòØÂàÜÁ±ªÈóÆÈ¢òÂíåÂõûÂΩíÈóÆÈ¢ò„ÄÇ&lt;/p>
&lt;p>ÁõëÁù£Â≠¶‰π†ÁöÑÂê´‰πâÊòØÁªôÊú∫Âô®ÁöÑËÆ≠ÁªÉÊï∞ÊçÆ‰∏≠Êã•Êúâ‚ÄúÊ†áËÆ∞‚ÄùÊàñËÄÖ‚ÄúÁ≠îÊ°à‚Äù„ÄÇÊ†πÊçÆËøô‰∫õÊï∞ÊçÆËøõË°åÊ®°ÂûãÁöÑËÆ≠ÁªÉ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/supervised_learning.png"
width="871"
height="313"
srcset="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/supervised_learning_huf7d45c74be41f0f4fbb77506581979b3_52561_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mechine-learning-basics/supervised_learning_huf7d45c74be41f0f4fbb77506581979b3_52561_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="supervised_learning"
class="gallery-image"
data-flex-grow="278"
data-flex-basis="667px"
>&lt;/p>
&lt;ul>
&lt;li>Â¶ÇÊ†πÊçÆÂõæÁâáÂà§Êñ≠Áå´ÁãóÔºàÂõæÂÉèÂ∑≤ÁªèÊã•Êúâ‰∫ÜÊ†áÂÆö‰ø°ÊÅØÔºâ&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/supervised_learning_2.png"
width="738"
height="291"
srcset="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/supervised_learning_2_hu2b9853d4704d9cf5e3f903309b997aeb_170020_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mechine-learning-basics/supervised_learning_2_hu2b9853d4704d9cf5e3f903309b997aeb_170020_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="supervised_learning_2"
class="gallery-image"
data-flex-grow="253"
data-flex-basis="608px"
>&lt;/p>
&lt;ul>
&lt;li>Â¶ÇÊõ¥ÂÖ∑ÊâãÂÜôÂ≠ó‰ΩìËØÜÂà´Êï∞Â≠óÔºàÁªôÂá∫ÁªìÊûúÊ†áËÆ∞Ôºâ&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/supervised_learning_3.png"
width="707"
height="408"
srcset="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/supervised_learning_3_hub5f7e5166008572d41af8d4590a4d11f_201016_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mechine-learning-basics/supervised_learning_3_hub5f7e5166008572d41af8d4590a4d11f_201016_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="supervised_learning_3"
class="gallery-image"
data-flex-grow="173"
data-flex-basis="415px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Èì∂Ë°åÂ∑≤ÁªèÁßØÁ¥Ø‰∫Ü‰∏ÄÂÆöÁöÑÂÆ¢Êà∑‰ø°ÊÅØÂíå‰ªñ‰ª¨‰ø°Áî®Âç°ÁöÑ‰ø°Áî®ÊÉÖÂÜµ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂåªÈô¢Â∑≤ÁªèÁßØÁ¥Ø‰∫Ü‰∏ÄÂÆöÁöÑÁóÖ‰∫∫‰ø°ÊÅØÂíå‰ªñ‰ª¨ÊúÄÁªàÁ°ÆËØäÊòØÂê¶ÊÇ£ÁóÖÁöÑÊÉÖÂÜµ„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Â∏∏ËßÅÁöÑÁõëÁù£Â≠¶‰π†ÁÆóÊ≥ïÊúâÔºö&lt;/p>
&lt;blockquote>
&lt;ul>
&lt;li>kËøëÈÇª&lt;/li>
&lt;li>Á∫øÊÄßÂõûÂΩíÂíåÂ§öÈ°πÂºèÂõûÂΩí&lt;/li>
&lt;li>ÈÄªËæëÂõûÂΩí&lt;/li>
&lt;li>SVM&lt;/li>
&lt;li>ÂÜ≥Á≠ñÊ†ëÂíåÈöèÊú∫Ê£ÆÊûó&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h3 id="ÈùûÁõëÁù£Â≠¶‰π†">ÈùûÁõëÁù£Â≠¶‰π†&lt;/h3>
&lt;p>ÈùûÁõëÁù£Â≠¶‰π† &lt;code>unsupervised learning&lt;/code> ÁªôÊú∫Âô®ÁöÑËÆ≠ÁªÉÊï∞ÊçÆÊ≤°Êúâ‰ªª‰Ωï‚ÄúÊ†áËÆ∞‚ÄùÊàñËÄÖ‚ÄúÁ≠îÊ°à‚Äù„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/unsupervised_learning.png"
width="431"
height="320"
srcset="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/unsupervised_learning_hu23cfcedd7d7c0433075d3be27fb1b699_35769_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mechine-learning-basics/unsupervised_learning_hu23cfcedd7d7c0433075d3be27fb1b699_35769_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="unsupervised_learning"
class="gallery-image"
data-flex-grow="134"
data-flex-basis="323px"
>&lt;/p>
&lt;p>ÂØπÊ≤°Êúâ‚ÄúÊ†áËÆ∞‚ÄùÁöÑÊï∞ÊçÆËøõË°åÂàÜÁ±ª &amp;ndash; ËÅöÁ±ªÂàÜÊûê„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/unsupervised_learning_2.png"
width="529"
height="305"
srcset="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/unsupervised_learning_2_hua6076421e113c36653c61737a036f410_62650_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mechine-learning-basics/unsupervised_learning_2_hua6076421e113c36653c61737a036f410_62650_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="unsupervised_learning_2"
class="gallery-image"
data-flex-grow="173"
data-flex-basis="416px"
>&lt;/p>
&lt;h4 id="ÊÑè‰πâ">ÊÑè‰πâ&lt;/h4>
&lt;h5 id="ÂØπÊï∞ÊçÆËøõË°åÈôçÁª¥Â§ÑÁêÜ">ÂØπÊï∞ÊçÆËøõË°åÈôçÁª¥Â§ÑÁêÜ&lt;/h5>
&lt;ul>
&lt;li>ÁâπÂæÅÊèêÂèñÔºöË°åÁî®Âç°ÁöÑ‰ø°Áî®ËØÑÁ∫ßÂíå‰∫∫ÁöÑËÉñÁò¶Êó†ÂÖ≥Ôºü&lt;/li>
&lt;li>ÁâπÂæÅÂéãÁº©ÔºöPCA&lt;/li>
&lt;/ul>
&lt;p>ÈôçÁª¥Â§ÑÁêÜÁöÑÊÑè‰πâÔºöÊñπ‰æøÂèØËßÜÂåñ&lt;/p>
&lt;p>Êàë‰ª¨Êó†Ê≥ïÁêÜËß£ÂõõÁª¥‰ª•‰∏äÁ©∫Èó¥ÔºåÊâÄ‰ª•ÂèØ‰ª•Â∞ÜÂÖ∂ÈôçÁª¥Âà∞‰∏âÁª¥ÊàñËÄÖ‰∫åÁª¥Á©∫Èó¥ÔºåÊñπ‰æøÁêÜËß£„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/unsupervised_learning_3.png"
width="441"
height="308"
srcset="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/unsupervised_learning_3_hu38269c3322bdeea39e5dc5fabf9129df_91476_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mechine-learning-basics/unsupervised_learning_3_hu38269c3322bdeea39e5dc5fabf9129df_91476_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="unsupervised_learning_3"
class="gallery-image"
data-flex-grow="143"
data-flex-basis="343px"
>&lt;/p>
&lt;h5 id="ÂºÇÂ∏∏Ê£ÄÊµã">ÂºÇÂ∏∏Ê£ÄÊµã&lt;/h5>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/unsupervised_learning_4.png"
width="658"
height="343"
srcset="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/unsupervised_learning_4_hu1a0363349b68a744dcaab61af015c7ec_76718_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mechine-learning-basics/unsupervised_learning_4_hu1a0363349b68a744dcaab61af015c7ec_76718_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="unsupervised_learning_4"
class="gallery-image"
data-flex-grow="191"
data-flex-basis="460px"
>&lt;/p>
&lt;h3 id="ÂçäÁõëÁù£Â≠¶‰π†">ÂçäÁõëÁù£Â≠¶‰π†&lt;/h3>
&lt;p>&lt;code>semi-supervised learning&lt;/code>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>‰∏ÄÈÉ®ÂàÜÊï∞ÊçÆÊúâ‚ÄúÊ†áËÆ∞‚ÄùÊàñËÄÖÁ≠îÊ°àÔºåÂè¶‰∏ÄÈÉ®ÂàÜÊï∞ÊçÆÊ≤°Êúâ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Â∏∏ËßÅÁöÑÂú∫ÊôØÔºöÂêÑÁßçÂéüÂõ†‰∫ßÁîüÁöÑÊ†áËÆ∞Áº∫Â§±„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Êàë‰ª¨ÈÄöÂ∏∏ÈÉΩÂÖà‰ΩøÁî®Êó†ÁõëÁù£Â≠¶‰π†ÊâãÊÆµÂØπÊï∞ÊçÆÂÅöÂ§ÑÁêÜÔºå‰πãÂêé‰ΩøÁî®ÁõëÁù£Â≠¶‰π†ÊâãÊÆµÂÅöÊ®°ÂûãÁöÑËÆ≠ÁªÉÂíåÈ¢ÑÊµã„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="Â¢ûÂº∫Â≠¶‰π†">Â¢ûÂº∫Â≠¶‰π†&lt;/h3>
&lt;p>Ê†πÊçÆÂë®Âõ¥ÁéØÂ¢ÉÁöÑÊÉÖÂÜµÔºåÈááÂèñË°åÂä®ÔºåÊ†πÊçÆÈááÂèñË°åÂä®ÁöÑÁªìÊûúÔºåÂ≠¶‰π†Ë°åÂä®ÊñπÂºè„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/reinforcement_learning.png"
width="734"
height="290"
srcset="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/reinforcement_learning_hu54ff37564e23648f6ad43f62f0917611_39669_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mechine-learning-basics/reinforcement_learning_hu54ff37564e23648f6ad43f62f0917611_39669_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="reinforcement_learning"
class="gallery-image"
data-flex-grow="253"
data-flex-basis="607px"
>&lt;/p>
&lt;ul>
&lt;li>Êó†‰∫∫È©æÈ©∂&lt;/li>
&lt;li>Êú∫Âô®‰∫∫&lt;/li>
&lt;/ul>
&lt;p>Âú®Â¢ûÂº∫Â≠¶‰π†‰∏≠ÔºåÁõëÁù£Â≠¶‰π†ÂíåÂçäÁõëÁù£Â≠¶‰π†ÊòØÂü∫Á°Ä„ÄÇ&lt;/p>
&lt;h2 id="Êú∫Âô®Â≠¶‰π†ÁöÑÂÖ∂‰ªñÂàÜÁ±ª">Êú∫Âô®Â≠¶‰π†ÁöÑÂÖ∂‰ªñÂàÜÁ±ª&lt;/h2>
&lt;h3 id="Âú®Á∫øÂ≠¶‰π†ÂíåÊâπÈáèÂ≠¶‰π†">Âú®Á∫øÂ≠¶‰π†ÂíåÊâπÈáèÂ≠¶‰π†&lt;/h3>
&lt;h4 id="Âú®Á∫øÂ≠¶‰π†">Âú®Á∫øÂ≠¶‰π†&lt;/h4>
&lt;p>&lt;code>Online Learning&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/online_learning.png"
width="881"
height="356"
srcset="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/online_learning_hufd2519c1c5cf57144a0949d734813375_60298_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mechine-learning-basics/online_learning_hufd2519c1c5cf57144a0949d734813375_60298_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="online_learning"
class="gallery-image"
data-flex-grow="247"
data-flex-basis="593px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>‰ºòÁÇπÔºöÂèäÊó∂ÂèçÊò†Êñ∞ÁöÑÁéØÂ¢ÉÂèòÂåñ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÈóÆÈ¢òÔºöÊñ∞ÁöÑÊï∞ÊçÆÂèØËÉΩÂ∏¶Êù•‰∏çÂ•ΩÁöÑÂèòÂåñÔºåÈîôËØØÁöÑÊï∞ÊçÆÂèØËÉΩÂ∏¶Êù•ÈîôËØØÁöÑÁªìÊûú&lt;/p>
&lt;ul>
&lt;li>Ëß£ÂÜ≥ÊñπÊ°àÔºöÈúÄË¶ÅÂä†Âº∫ÂØπÊï∞ÊçÆÁöÑÁõëÊéß&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>‰πüÈÄÇÁî®‰∫éÊï∞ÊçÆÈáèÂ∑®Â§ßÔºåÂÆåÂÖ®Êó†Ê≥ïÊâπÈáèÂ≠¶‰π†ÁöÑÁéØÂ¢É&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h4 id="ÊâπÈáèÂ≠¶‰π†Á¶ªÁ∫øÂ≠¶‰π†">ÊâπÈáèÂ≠¶‰π†ÔºàÁ¶ªÁ∫øÂ≠¶‰π†Ôºâ&lt;/h4>
&lt;p>&lt;code>Batch Learning / Offline Learning&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/batch_learning.png"
width="887"
height="316"
srcset="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/batch_learning_hu13b17d6db5217e228d729d78505e197d_53854_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mechine-learning-basics/batch_learning_hu13b17d6db5217e228d729d78505e197d_53854_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="batch_learning"
class="gallery-image"
data-flex-grow="280"
data-flex-basis="673px"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>‰ºòÁÇπÔºöÁÆÄÂçï&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÈóÆÈ¢òÔºöË¶ÅËÄÉËôëÂ¶ÇÂ¶Ç‰ΩïÈÄÇÂ∫îÁéØÂ¢ÉÂèòÂåñ&lt;/p>
&lt;ul>
&lt;li>Ëß£ÂÜ≥ÊñπÊ°àÔºöÂÆöÊó∂ÈáçÊñ∞ÊâπÈáèÂ≠¶‰π†&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Áº∫ÁÇπÔºöÊØèÊ¨°ÈáçÊñ∞ÊâπÈáèÂ≠¶‰π†ÔºåËøêË°åÈáèÂ∑®Â§ß„ÄÇÂú®Êüê‰∫õÁéØÂ¢ÉÂèòÂåñÈùûÂ∏∏Âø´ÁöÑÊÉÖÂÜµ‰∏ãÔºåÁîöËá≥ÊòØ‰∏çÂèØËÉΩÁöÑ„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="ÂèÇÊï∞Â≠¶‰π†ÂíåÈùûÂèÇÊï∞Â≠¶‰π†">ÂèÇÊï∞Â≠¶‰π†ÂíåÈùûÂèÇÊï∞Â≠¶‰π†&lt;/h3>
&lt;h4 id="ÂèÇÊï∞Â≠¶‰π†">ÂèÇÊï∞Â≠¶‰π†&lt;/h4>
&lt;p>&lt;code>Parametric Learning&lt;/code>&lt;/p>
&lt;p>Â¶ÇÂõæÊâÄÁ§∫Ôºå‰∏∫ÊàøÂ±ãÈù¢ÁßØ‰∏é‰ª∑Ê†ºÁöÑÂÖ≥Á≥ªÊõ≤Á∫ø„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/parametric_learning.png"
width="729"
height="405"
srcset="https://emerywan.github.io/blog/blog/p/mechine-learning-basics/parametric_learning_hu2c1f09a65fb7d83b5cf239a816caf4d4_38988_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/mechine-learning-basics/parametric_learning_hu2c1f09a65fb7d83b5cf239a816caf4d4_38988_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="parametric_learning"
class="gallery-image"
data-flex-grow="180"
data-flex-basis="432px"
>&lt;/p>
&lt;p>ÁâπÁÇπÔºö‰∏ÄÊó¶Â≠¶‰π†Âà∞‰∫ÜÂèÇÊï∞ÔºåÂ∞±‰∏çÈúÄË¶ÅÂéüÊúâÁöÑÊï∞ÊçÆÈõÜ„ÄÇ&lt;/p>
&lt;h4 id="ÈùûÂèÇÊï∞Â≠¶‰π†">ÈùûÂèÇÊï∞Â≠¶‰π†&lt;/h4>
&lt;p>&lt;code>Nonparametric Learning&lt;/code>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>‰∏çÂØπÊ®°ÂûãËøõË°åËøáÂ§öÂÅáËÆæ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÈùûÂèÇÊï∞‰∏çÁ≠â‰∫éÊ≤°ÊúâÂèÇÊï∞ÔºåËÄåÊòØÂØπÊï¥‰∏™‰∏çËøõË°åÂª∫Ê®°Ôºå‰∏çÂ≠¶‰π†‰∏Ä‰∫õÂèÇÊï∞&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>Spring Cloud Hystrix ÊúçÂä°ÂÆπÈîô</title><link>https://emerywan.github.io/blog/p/spring-cloud-hystrix/</link><pubDate>Wed, 29 Jul 2020 21:14:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/spring-cloud-hystrix/</guid><description>&lt;h1 id="spring-cloud-hystrix">Spring Cloud Hystrix&lt;/h1>
&lt;p>Âú®ÂæÆÊúçÂä°Êû∂ÊûÑ‰∏≠ÔºåÊàë‰ª¨Â∞ÜÁ≥ªÁªüÊãÜÂàÜÊàê‰∫Ü‰∏Ä‰∏™‰∏™ÁöÑÊúçÂä°ÂçïÂÖÉÔºåÂêÑÂçïÂÖÉÂ∫îÁî®Èó¥ÈÄöËøáÊúçÂä°Ê≥®ÂÜå‰∏éËÆ¢ÈòÖÁöÑÊñπÂºè‰∫íÁõ∏‰æùËµñ„ÄÇÁî±‰∫éÊØè‰∏™ÂçïÂÖÉÈÉΩÂú®‰∏çÂêåÁöÑËøõÁ®ã‰∏≠ËøêË°åÔºåÂ¶ÇÊûúÊüê‰∏™ÊúçÂä°‰∏çÂèØÁî®ÔºåÂèØËÉΩÂØºËá¥Á∫ßËÅîÊïÖÈöúÔºåÈÄ†ÊàêÊï¥‰∏™Á≥ªÁªü‰∏çÂèØÁî®ÁöÑÊÉÖÂÜµÔºàÈõ™Â¥©ÊïàÂ∫îÔºâ„ÄÇ‰∏∫‰∫ÜËß£ÂÜ≥ËøôÊ†∑ÁöÑÈóÆÈ¢òÔºå‰∫ßÁîü‰∫ÜÊñ≠Ë∑ØÂô®Á≠â‰∏ÄÁ≥ªÂàóÁöÑÊúçÂä°‰øùÊä§Êú∫Âà∂„ÄÇ&lt;/p>
&lt;h1 id="ÁÆÄ‰ªã">ÁÆÄ‰ªã&lt;/h1>
&lt;p>Spring Cloud HystrixÔºåÂÆÉÊòØ‰∏Ä‰∏™Âü∫‰∫é Netflix ÁöÑÂºÄÊ∫êÊ°ÜÊû∂ÔºåÂÖ∑ÊúâÂ¶Ç‰∏ãÂäüËÉΩÔºö&lt;/p>
&lt;ul>
&lt;li>ÊúçÂä°ÈôçÁ∫ß&lt;/li>
&lt;li>‰æùËµñÈöîÁ¶ª&lt;/li>
&lt;li>ÊúçÂä°ÁÜîÊñ≠&lt;/li>
&lt;li>ÁõëÊéßÔºàHystrix DashboardÔºâ&lt;/li>
&lt;/ul>
&lt;h1 id="ÂÆûÁé∞‰∏Ä‰∏™-hystrix-server">ÂÆûÁé∞‰∏Ä‰∏™ Hystrix Server&lt;/h1>
&lt;h2 id="Ê∑ªÂä†‰æùËµñ">Ê∑ªÂä†‰æùËµñ&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.springframework.cloud&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>spring-cloud-starter-netflix-hystrix&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="Ê∑ªÂä†Ê≥®Ëß£">Ê∑ªÂä†Ê≥®Ëß£&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@EnableCircuitBreaker&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@EnableDiscoveryClient&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@SpringBootApplication&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">HystrixApplication&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SpringApplication&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">run&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">HystrixApplication&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ÈÖçÁΩÆÊñá‰ª∂">ÈÖçÁΩÆÊñá‰ª∂&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">spring&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">application&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">hystrix-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">eureka&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">client&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">serviceUrl&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">defaultZone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">http://localhost:8761/eureka/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="hystrix-Â∫îÁî®">Hystrix Â∫îÁî®&lt;/h1>
&lt;h2 id="ÊúçÂä°ÈôçÁ∫ß">ÊúçÂä°ÈôçÁ∫ß&lt;/h2>
&lt;p>ÂÅáËÆæÁé∞Âú®Êúâ‰∏Ä‰∏™Êé•Âè£ &lt;code>/user/{id}&lt;/code> Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="n">ResultVo&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">UserInfo&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nf">getUserInfo&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nd">@PathVariable&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="n">id&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">userService&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getUserInfo&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Âú® UserService ‰∏≠Ê∑ªÂä†Ë∞ÉÁî®ÊñπÊ≥ïÁöÑÊúçÂä°ÈôçÁ∫ß„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@HystrixCommand&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">fallbackMethod&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;userFallback&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="n">ResultVo&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">UserInfo&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nf">getUserInfo&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="n">id&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Ê≠£Â∏∏ÁöÑÊúçÂä°Ë∞ÉÁî®Âíå‰∏öÂä° Ê≠§Â§Ñ‰ª• restTemplate ‰∏∫‰æã
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">restTemplate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getForObject&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">url&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;/user/{1}&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">ResultVo&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">id&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="n">ResultVo&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">UserInfo&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nf">userFallback&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Â§ÑÁêÜÊúçÂä°ÈôçÁ∫ßÈúÄË¶ÅËøîÂõûÁöÑÂÜÖÂÆπ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ÊúçÂä°ÈôçÁ∫ß-openfiegn">ÊúçÂä°ÈôçÁ∫ß OpenFiegn&lt;/h2>
&lt;h3 id="ÈÖçÁΩÆÊñá‰ª∂-1">ÈÖçÁΩÆÊñá‰ª∂&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">feign&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hystrix&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enabled&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="openfeign-client-Á´ØÂÆûÁé∞">OpenFeign Client Á´ØÂÆûÁé∞&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@FeignClient&lt;/span>&lt;span class="o">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;user&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="c1">// ËøúÁ®ãÊúçÂä°Âêç
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">fallback&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">UserClientFallback&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span> &lt;span class="c1">// ÊåáÂÆö ÂΩìÊúçÂä°ÈôçÁ∫ßÊó∂ÔºåÈááÁî®ÁöÑÊñπÊ≥ï
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">interface&lt;/span> &lt;span class="nc">UserClient&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@GetMapping&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;/user/{id}&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ResultVo&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">UserInfo&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nf">getUserInfo&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nd">@PathVariable&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="n">id&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">---&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ÂÆûÁé∞ UserClient Êé•Âè£
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nd">@Component&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">UserClientFallback&lt;/span> &lt;span class="kd">implements&lt;/span> &lt;span class="n">UserClient&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ResultVo&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">UserInfo&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nf">getUserInfo&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nd">@PathVariable&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="n">id&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ÂÆûÁé∞ÈôçÁ∫ßÂÜÖÂÆπ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="‰æùËµñÈöîÁ¶ª">‰æùËµñÈöîÁ¶ª&lt;/h2>
&lt;p>SpringCloud Hystrix ÁöÑ ‰æùËµñÈöîÁ¶ª Á±ª‰ºº‰∫édockerÁöÑ‚ÄúËà±Â£ÅÊ®°Âºè‚Äù„ÄÇ
dockerÈÄöËøá‚ÄùËà±Â£ÅÊ®°Âºè‚ÄùÂÆûÁé∞ËøõÁ®ãÈöîÁ¶ªÔºå‰ΩøÂæóÂÆπÂô®‰πãÈó¥‰∫í‰∏çÂΩ±Âìç„ÄÇ
ËÄåHystrix‰ΩøÁî®ËØ•Ê®°ÂºèÂÆûÁé∞Ôºö‚ÄúÁ∫øÁ®ãÊ±†ÈöîÁ¶ª‚ÄùÔºå‰ºö‰∏∫ÊØè‰∏Ä‰∏™HystrixCommandÂàõÂª∫‰∏Ä‰∏™Áã¨Á´ãÁ∫øÁ®ãÊ±†ÔºåËøôÊ†∑Â∞±ÁÆóÊüê‰∏™Âú®HystrixÂåÖË£Ö‰∏ãÁöÑ‰æùËµñÊúçÂä°Âá∫Áé∞Âª∂ËøüËøáÈ´òÊÉÖÂÜµÔºå‰πüÂè™ÊòØÂØπËØ•‰æùËµñÊúçÂä°ÁöÑË∞ÉÁî®‰∫ßÁîüÂΩ±ÂìçÔºåÂπ∂‰∏ç‰ºöÊãñÊÖ¢ÂÖ∂‰ªñÊúçÂä°„ÄÇ&lt;/p>
&lt;p>‰ΩøÁî® @HystrixCommand Êù•Â∞ÜÊüê‰∏™ÂáΩÊï∞ÂåÖË£ÖÊàê‰∫Ü Hystrix ÂëΩ‰ª§Êó∂ÔºåHystrixÊ°ÜÊû∂Ëá™Âä®Âú∞‰∏∫Ëøô‰∏™ÂáΩÊï∞ÂÆûÁé∞‰∫Ü‰æùËµñÈöîÁ¶ª„ÄÇÊâÄ‰ª•‰æùËµñÈöîÁ¶ªÔºåÊúçÂä°ÈôçÁ∫ßÂú®‰ΩøÁî®Êó∂ÂÄôÈÉΩÊòØ‰∏Ä‰ΩìÂåñÂÆûÁé∞ÁöÑÔºåËøôÊ†∑Â∞±ÂèØ‰ª•ÂÆûÁé∞ÊúçÂä°ÂÆπÈîô‰øùÊä§„ÄÇÂú®ÁºñÁ®ãÊ®°Âûã‰∏äÂ∞±‰ºöÈùûÂ∏∏Êñπ‰æø„ÄÇ&lt;/p>
&lt;h2 id="ÊúçÂä°ÁÜîÊñ≠">ÊúçÂä°ÁÜîÊñ≠&lt;/h2></description></item><item><title>Spring Cloud Zuul ÊúçÂä°ÁΩëÂÖ≥</title><link>https://emerywan.github.io/blog/p/spring-cloud-zuul/</link><pubDate>Tue, 28 Jul 2020 15:14:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/spring-cloud-zuul/</guid><description>&lt;h1 id="spring-cloud-zuul">Spring Cloud Zuul&lt;/h1>
&lt;p>Âú®ÂæÆÊúçÂä°Êû∂ÊûÑ‰∏≠ÔºåÂêéÁ´ØÊúçÂä°ÂæÄÂæÄ‰∏çÁõ¥Êé•ÂºÄÊîæÁªôË∞ÉÁî®Á´ØÔºåËÄåÊòØÈÄöËøá‰∏Ä‰∏™APIÁΩëÂÖ≥Ê†πÊçÆËØ∑Ê±ÇÁöÑurlÔºåË∑ØÁî±Âà∞Áõ∏Â∫îÁöÑÊúçÂä°„ÄÇ
ÂΩìÊ∑ªÂä†APIÁΩëÂÖ≥ÂêéÔºåÂú®Á¨¨‰∏âÊñπË∞ÉÁî®Á´ØÂíåÊúçÂä°Êèê‰æõÊñπ‰πãÈó¥Â∞±ÂàõÂª∫‰∫Ü‰∏ÄÈù¢Â¢ôÔºåËøôÈù¢Â¢ôÁõ¥Êé•‰∏éË∞ÉÁî®ÊñπÈÄö‰ø°ËøõË°åÊùÉÈôêÊéßÂà∂ÔºåÂêéÂ∞ÜËØ∑Ê±ÇÂùáË°°ÂàÜÂèëÁªôÂêéÂè∞ÊúçÂä°Á´Ø„ÄÇ
Spring Cloud Zuul ÊòØ‰∏Ä‰∏™Âü∫‰∫éJVMË∑ØÁî±ÂíåÊúçÂä°Á´ØÁöÑË¥üËΩΩÂùáË°°Âô®ÔºåÊèê‰æõÂä®ÊÄÅË∑ØÁî±ÔºåÁõëÊéßÔºåÂºπÊÄßÔºåÂÆâÂÖ®Á≠âÁöÑËæπÁºòÊúçÂä°„ÄÇ&lt;/p>
&lt;h1 id="ÁÆÄ‰ªã">ÁÆÄ‰ªã&lt;/h1>
&lt;p>Zuul ÁöÑ‰∏ªË¶ÅÂäüËÉΩÊòØË∑ØÁî±ËΩ¨ÂèëÂíåËøáÊª§Âô®ÔºàFilterÔºâ„ÄÇ‰∏çÂêåÁ±ªÂûãÁöÑ Filter Áî®‰∫éÂ§ÑÁêÜËØ∑Ê±ÇÔºåÂèØ‰ª•ÂÆûÁé∞‰ª•‰∏ãÂäüËÉΩÔºö&lt;/p>
&lt;ul>
&lt;li>ÊùÉÈôêÊéßÂà∂ÂíåÂÆâÂÖ®ÊÄßÔºöÂèØ‰ª•ËØÜÂà´ËÆ§ËØÅÈúÄË¶ÅÁöÑ‰ø°ÊÅØÂíåÊãíÁªù‰∏çÊª°Ë∂≥Êù°‰ª∂ÁöÑËØ∑Ê±Ç&lt;/li>
&lt;li>ÁõëÊéßÔºöÁõëÊéßËØ∑Ê±Ç‰ø°ÊÅØ&lt;/li>
&lt;li>Âä®ÊÄÅË∑ØÁî±ÔºöÊ†πÊçÆÈúÄË¶ÅÂä®ÊÄÅÂú∞Ë∑ØÁî±ËØ∑Ê±ÇÂà∞ÂêéÂè∞ÁöÑ‰∏çÂêåÊúçÂä°ÈõÜÁæ§&lt;/li>
&lt;li>ÂéãÂäõÊµãËØïÔºöÈÄêÊ∏êÂ¢ûÂ§ßÂà∞ÈõÜÁæ§ÁöÑÊµÅÈáèÔºå‰ª•‰æøËøõË°åÊÄßËÉΩËØÑ‰º∞&lt;/li>
&lt;li>Ë¥üËΩΩÂùáË°°Ôºö‰∏∫ÊØèÁßçÁ±ªÂûãÁöÑËØ∑Ê±ÇÂàÜÈÖçÂÆπÈáèÂπ∂‰∏¢ÂºÉË∂ÖËøáÈôêÈ¢ùÁöÑËØ∑Ê±Ç&lt;/li>
&lt;li>ÈôêÊµÅ&lt;/li>
&lt;li>ÈªëÁôΩÂêçÂçïËøáÊª§&lt;/li>
&lt;li>ÈùôÊÄÅËµÑÊ∫êÂ§ÑÁêÜÔºöÁõ¥Êé•Âú®zuulÂ§ÑÁêÜÈùôÊÄÅËµÑÊ∫êÁöÑÂìçÂ∫îËÄå‰∏çÈúÄË¶ÅËΩ¨ÂèëËøô‰∫õËØ∑Ê±ÇÂà∞ÂÜÖÈÉ®ÈõÜÁæ§‰∏≠&lt;/li>
&lt;/ul>
&lt;h1 id="Âü∫Á°Ä‰ΩøÁî®">Âü∫Á°Ä‰ΩøÁî®&lt;/h1>
&lt;h2 id="ÂàõÂª∫‰∏Ä‰∏™-api-gateway">ÂàõÂª∫‰∏Ä‰∏™ api-gateway&lt;/h2>
&lt;h3 id="Ê∑ªÂä†‰æùËµñ">Ê∑ªÂä†‰æùËµñ&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.springframework.cloud&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>spring-cloud-starter-zuul&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="Ê∑ªÂä†Ê≥®Ëß£">Ê∑ªÂä†Ê≥®Ëß£&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@EnableZuulProxy&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@EnableDiscoveryClient&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@SpringBootApplication&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">ApiGatewayApplication&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SpringApplication&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">run&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ApiGatewayApplication&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ÈÖçÁΩÆÊñá‰ª∂">ÈÖçÁΩÆÊñá‰ª∂&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">spring&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">application&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">api-gateway&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">9000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Ëá™ÂÆö‰πâË∑ØÁî±ËßÑÂàô&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">zuul&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">routes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">user&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/user/**&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">serviceId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">user &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ÊµãËØï">ÊµãËØï&lt;/h3>
&lt;p>ÈÄöËøá‰ª•‰∏äÈÖçÁΩÆÊñá‰ª∂ÈÖçÁΩÆÔºåÂç≥ÂèØÈÄöËøá api-gateway ÊúçÂä°ÂéªËØ∑Ê±Ç user ÊúçÂä°„ÄÇ&lt;/p>
&lt;p>ÂÅáËÆæ user ÊúçÂä°ÁöÑÁ´ØÂè£‰∏∫ 8080ÔºåÂÖ∂‰∏≠ÂåÖÂê´‰∏Ä‰∏™ api ‰∏∫ &lt;code>/info&lt;/code>„ÄÇ
ÈÄöËøáËÆøÈóÆ &lt;code>http://localhost:9000/user/info&lt;/code>ÔºåÂç≥ÂèØËÆøÈóÆËØ• api„ÄÇÔºàËã•ÂéüÊé•Âè£ÂåÖÂê´Ë∑ØÁî±ÂâçÁºÄ /userÔºåÈúÄË¶Å‰ΩøÁî® /user/user/info ËÆøÈóÆÔºâ&lt;/p>
&lt;h2 id="Â∏∏Áî®ÂäüËÉΩ">Â∏∏Áî®ÂäüËÉΩ&lt;/h2>
&lt;h3 id="Áªü‰∏ÄÂâçÁºÄ">Áªü‰∏ÄÂâçÁºÄ&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">zuul&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">prefix&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/proxy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="header-ËøáÊª§ÂèäÈáçÂÆöÂêëÊ∑ªÂä†-host">Header ËøáÊª§ÂèäÈáçÂÆöÂêëÊ∑ªÂä† Host&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">zuul&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ÈªòËÆ§‰∏∫ËØ•ÈÖçÁΩÆÔºå‰ºöËøáÊª§ Cookie Set-Cookie Authorization ‰ø°ÊÅØ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ËÆæÁΩÆ‰∏∫Á©∫Âç≥‰∏ç‰ºöËøáÊª§&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">sensitive-headers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Cookie,Set-Cookie,Authorization&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">zuul&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">add-host-header&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ÈáçÂÆöÂêë‰ºöÊ∑ªÂä† host ËØ∑Ê±ÇÂ§¥&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="Êü•ÁúãË∑ØÁî±‰ø°ÊÅØ">Êü•ÁúãË∑ØÁî±‰ø°ÊÅØ&lt;/h2>
&lt;h3 id="Ê∑ªÂä†‰æùËµñ-1">Ê∑ªÂä†‰æùËµñ&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.springframework.boot&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>spring-boot-starter-actuator&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ÈÖçÁΩÆÊñá‰ª∂-1">ÈÖçÁΩÆÊñá‰ª∂&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">9000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">management&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">endpoints&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">web&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exposure&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">include&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;routes&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ËÆøÈóÆÊé•Âè£">ËÆøÈóÆÊé•Âè£&lt;/h3>
&lt;ul>
&lt;li>ËÆøÈóÆ &lt;code>http://localhost:9000/actuator/routes&lt;/code> Ëé∑Âèñ‰ø°ÊÅØ&lt;/li>
&lt;li>ËÆøÈóÆ &lt;code>http://localhost:9000/actuator/routes/details&lt;/code> Ëé∑ÂèñËØ¶ÁªÜ‰ø°ÊÅØ&lt;/li>
&lt;/ul>
&lt;h1 id="zuul-Â∫îÁî®">Zuul Â∫îÁî®&lt;/h1>
&lt;h2 id="zuul-filter">Zuul Filter&lt;/h2>
&lt;p>FilterÊòØZuulÁöÑÊ†∏ÂøÉÔºåÁî®Êù•ÂÆûÁé∞ÂØπÂ§ñÊúçÂä°ÁöÑÊéßÂà∂„ÄÇFilterÊúâ4‰∏™ÁîüÂëΩÂë®Êúü„ÄÇ&lt;/p>
&lt;ul>
&lt;li>pre
&lt;ul>
&lt;li>Âú®ËØ∑Ê±ÇË¢´Ë∑ØÁî±Âà∞ÁõÆÊ†áÊúçÂä°ÂâçÊâßË°å„ÄÇ&lt;/li>
&lt;li>ÊØîÂ¶ÇÊùÉÈôêÊ†°È™å„ÄÅÊâìÂç∞Êó•ÂøóÁ≠âÂäüËÉΩ„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>routing
&lt;ul>
&lt;li>Âú®ËØ∑Ê±ÇË¢´Ë∑ØÁî±Âà∞ÁõÆÊ†áÊúçÂä°Êó∂ÊâßË°å„ÄÇ&lt;/li>
&lt;li>Áî®‰∫éÊûÑÂª∫ÂèëÈÄÅÁªôÂæÆÊúçÂä°ÁöÑËØ∑Ê±ÇÔºåÂπ∂‰ΩøÁî® Apache HttpClient Êàñ Netfilx Ribbon ËØ∑Ê±ÇÂæÆÊúçÂä°„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>post
&lt;ul>
&lt;li>ËøôÁßçËøáÊª§Âô®Âú®Ë∑ØÁî±Âà∞ÂæÆÊúçÂä°‰ª•ÂêéÊâßË°å„ÄÇ&lt;/li>
&lt;li>‰∏∫ÂìçÂ∫îÊ∑ªÂä†Ê†áÂáÜÁöÑHTTP Header„ÄÅÊî∂ÈõÜÁªüËÆ°‰ø°ÊÅØÂíåÊåáÊ†á„ÄÅÂ∞ÜÂìçÂ∫î‰ªéÂæÆÊúçÂä°ÂèëÈÄÅÁªôÂÆ¢Êà∑Á´ØÁ≠â„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>error
&lt;ul>
&lt;li>ÂÖ∂‰ªñÈò∂ÊÆµÂèëÁîüÈîôËØØÊó∂ÊâßË°åËØ•ËøáÊª§Âô®„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/spring-cloud-zuul/zuul-core.png"
width="921"
height="566"
srcset="https://emerywan.github.io/blog/blog/p/spring-cloud-zuul/zuul-core_hu334c91cd99c88cb1ff369a39dfc29056_46538_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/spring-cloud-zuul/zuul-core_hu334c91cd99c88cb1ff369a39dfc29056_46538_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="zuul-core"
class="gallery-image"
data-flex-grow="162"
data-flex-basis="390px"
>&lt;/p>
&lt;h3 id="Ëá™ÂÆö‰πâ-filter">Ëá™ÂÆö‰πâ Filter&lt;/h3>
&lt;p>ÂÆûÁé∞Ëá™ÂÆö‰πâ FilterÔºåÈúÄÁªßÊâø &lt;code>com.netflix.zuul.ZuulFilter&lt;/code>ÔºåÂπ∂Ë¶ÜÁõñÁªßÊâøÁöÑÊñπÊ≥ï„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Component&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">MyFilter&lt;/span> &lt;span class="kd">extends&lt;/span> &lt;span class="n">ZuulFilter&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">String&lt;/span> &lt;span class="nf">filterType&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÂÆö‰πâfilterÁöÑÁ±ªÂûãÔºåpre„ÄÅroute„ÄÅpost„ÄÅerror
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="nf">filterOrder&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÂÆö‰πâfilterÁöÑÈ°∫Â∫èÔºåÊï∞Â≠óË∂äÂ∞èË°®Á§∫È°∫Â∫èË∂äÈ´òÔºåË∂äÂÖàÊâßË°å
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">0&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">boolean&lt;/span> &lt;span class="nf">shouldFilter&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÊòØÂê¶ÈúÄË¶ÅÊâßË°åËØ•filterÔºåtrueË°®Á§∫ÊâßË°åÔºåfalseË°®Á§∫‰∏çÊâßË°å
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Object&lt;/span> &lt;span class="nf">run&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// filterÈúÄË¶ÅÊâßË°åÁöÑÂÖ∑‰ΩìÊìç‰Ωú
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="zuul-ÈôêÊµÅ">Zuul ÈôêÊµÅ&lt;/h3>
&lt;p>ÈôêÊµÅÂú®ÂâçÁΩÆËøáÊª§Âô®ÔºàpreÔºâÂâç‰ΩøÁî®ÔºåÂú®ËØ∑Ê±ÇË¢´ËΩ¨ÂèëÂâçË∞ÉÁî®Ôºå‰∏î‰ºòÂÖàÁ∫ßÊúÄÈ´ò„ÄÇ&lt;/p>
&lt;p>‰ª§ÁâåÊ°∂ÈôêÊµÅÁ§∫‰æã„ÄÇ‰ª§ÁâåÊ°∂ÁÆóÊ≥ïËÉΩÂ§üÂú®ÈôêÂà∂Êï∞ÊçÆÁöÑÂπ≥Âùá‰º†ËæìÈÄüÁéáÁöÑÂêåÊó∂ËøòÂÖÅËÆ∏ÊüêÁßçÁ®ãÂ∫¶ÁöÑÁ™ÅÂèë‰º†Ëæì„ÄÇ&lt;/p>
&lt;p>‰ª§ÁâåÊ°∂ÁÆóÊ≥ï‰ºö‰ª•‰∏Ä‰∏™ÊÅíÂÆöÁöÑÈÄüÂ∫¶ÂæÄÊ°∂ÈáåÊîæÂÖ•‰ª§ÁâåÔºåËÄåÂ¶ÇÊûúËØ∑Ê±ÇÈúÄË¶ÅË¢´Â§ÑÁêÜÔºåÂàôÈúÄË¶ÅÂÖà‰ªéÊ°∂ÈáåËé∑Âèñ‰∏Ä‰∏™‰ª§ÁâåÔºåÂΩìÊ°∂ÈáåÊ≤°Êúâ‰ª§ÁâåÂèØÂèñÊó∂ÔºåÂàôÊãíÁªùÊúçÂä°„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/spring-cloud-zuul/token-bucket.png"
width="595"
height="428"
srcset="https://emerywan.github.io/blog/blog/p/spring-cloud-zuul/token-bucket_hu1695d7ffe20c41b60543bc6e8b7c644d_101106_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/spring-cloud-zuul/token-bucket_hu1695d7ffe20c41b60543bc6e8b7c644d_101106_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="token-bucket"
class="gallery-image"
data-flex-grow="139"
data-flex-basis="333px"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">org.springframework.cloud.netflix.zuul.filters.support.FilterConstants&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Component&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">RateLimiterFilter&lt;/span> &lt;span class="kd">extends&lt;/span> &lt;span class="n">ZuulFilter&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Áõ¥Êé•‰ΩøÁî® guava ‰∏≠ÁöÑ RateLimiter ÂÆûÁé∞
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">private&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="n">RateLimiter&lt;/span> &lt;span class="n">RATE_LIMITER&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">RateLimiter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">create&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">100&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="nf">filterType&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">FilterConstants&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">PRE_TYPE&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">filterOrder&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÈôêÊµÅÊòØÊúÄÈ´ò‰ºòÂÖàÁ∫ßÔºåÊâÄ‰ª•ÊØîÊúÄÈ´ò‰ºòÂÖàÁ∫ß -3 ËøòË¶ÅÂ∞è
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">FilterConstants&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">SERVLET_DETECTION_FILTER_ORDER&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">1&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">boolean&lt;/span> &lt;span class="nf">shouldFilter&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="n">Object&lt;/span> &lt;span class="nf">run&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="kd">throws&lt;/span> &lt;span class="n">ZuulException&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Â¶ÇÊûúÊ≤°ÊúâÊãøÂà∞‰ª§Áâå
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="o">(!&lt;/span>&lt;span class="n">RATE_LIMITER&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">tryAcquire&lt;/span>&lt;span class="o">())&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">RuntimeException&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="zuul-Èâ¥ÊùÉ">Zuul Èâ¥ÊùÉ&lt;/h3>
&lt;p>Âú®ËØ∑Ê±ÇÊúçÂä°ÂâçÔºåÂà§Êñ≠ÊòØÂê¶ÊúâÊùÉÈôêËÆøÈóÆ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Component&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">TokenFilter&lt;/span> &lt;span class="kd">extends&lt;/span> &lt;span class="n">ZuulFilter&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="nf">filterType&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">FilterConstants&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">PRE_TYPE&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">filterOrder&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Ë∂äÂ∞èË∂äÈù†ÂâçÔºåÊîæÂú® PRE_DECORATION_FILTER_ORDER ‰πãÂâç
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">PRE_DECORATION_FILTER_ORDER&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">1&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">boolean&lt;/span> &lt;span class="nf">shouldFilter&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÈúÄË¶ÅÂÆö‰πâÁöÑÈÄªËæë
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nd">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="n">Object&lt;/span> &lt;span class="nf">run&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="kd">throws&lt;/span> &lt;span class="n">ZuulException&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">RequestContext&lt;/span> &lt;span class="n">requestContext&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">RequestContext&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getCurrentContext&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">HttpServletRequest&lt;/span> &lt;span class="n">request&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">requestContext&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getRequest&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ÈúÄË¶ÅÊ†πÊçÆÂÆûÈôÖÊÉÖÂÜµÔºå‰ªé header / cookie ‰∏≠Ëé∑Âèñ‰ø°ÊÅØ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="n">token&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">...;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Ê†πÊçÆÂÆûÈôÖÊÉÖÂÜµËøõË°åÊ†°È™å
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="o">(...)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// È¶ñÂÖàËÆæÁΩÆ zuul
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">requestContext&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setSendZuulResponse&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ËÆæÁΩÆËøîÂõû‰ø°ÊÅØ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">requestContext&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setResponseStatusCode&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">HttpStatus&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">UNAUTHORIZED&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">value&lt;/span>&lt;span class="o">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="zuul-Ë∑®Âüü">Zuul Ë∑®Âüü&lt;/h2>
&lt;p>Âú®ÊµèËßàÂô®‰∏≠ÁöÑ ajax ËØ∑Ê±ÇÊòØÊúâÂêåÊ∫êÁ≠ñÁï•ÁöÑÔºåÂ¶ÇÊûúËøùÂèç‰∫ÜÂêåÊ∫êÁ≠ñÁï•ÔºåÂ∞±‰ºöÊúâË∑®ÂüüÈóÆÈ¢ò„ÄÇÂú® Zuul ‰∏≠Ê∑ªÂä† CorsFilter ËøáÊª§Âô®ÔºåÊòØË∑®ÂüüÈóÆÈ¢òÁöÑ‰∏ÄÁßçËß£ÂÜ≥ÊñπÊ°à„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Configuration&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">CorsConfig&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Bean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="n">CorsFilter&lt;/span> &lt;span class="nf">corsFilter&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">final&lt;/span> &lt;span class="n">UrlBaseCorsConfigurationSource&lt;/span> &lt;span class="n">source&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">UrlBaseCorsConfigrationSOurce&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">final&lt;/span> &lt;span class="n">CorsConfiguration&lt;/span> &lt;span class="n">config&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">CorsConfiguration&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setAllowCredentials&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setAllowedOrigins&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Collections&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">singletonList&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;*&amp;#34;&lt;/span>&lt;span class="o">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setAllowedHeaders&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Collections&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">singletonList&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;*&amp;#34;&lt;/span>&lt;span class="o">))&lt;/span>&lt;span class="err">Ôºõ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setAllowedMethods&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Collections&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">singletonList&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;*&amp;#34;&lt;/span>&lt;span class="o">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setMaxAge&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">300L&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">source&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">registerCorsConfiguration&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;/**&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">config&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">CorsFilter&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">source&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Spring Cloud Config Áªü‰∏ÄÈÖçÁΩÆ‰∏≠ÂøÉ</title><link>https://emerywan.github.io/blog/p/spring-cloud-config/</link><pubDate>Mon, 27 Jul 2020 12:14:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/spring-cloud-config/</guid><description>&lt;h1 id="spring-cloud-config">Spring Cloud Config&lt;/h1>
&lt;p>Spring Cloud Config ÊòØ‰∏Ä‰∏™Ëß£ÂÜ≥ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÁöÑÈÖçÁΩÆÁÆ°ÁêÜÊñπÊ°à„ÄÇ&lt;/p>
&lt;ul>
&lt;li>Server
&lt;ul>
&lt;li>Êèê‰æõÈÖçÁΩÆÊñá‰ª∂ÁöÑÂ≠òÂÇ®Ôºå‰ª•Êé•Âè£ÁöÑÂΩ¢ÂºèÊèê‰æõÈÖçÁΩÆÊñá‰ª∂ÁöÑÂÜÖÂÆπ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Client
&lt;ul>
&lt;li>ÈÄöËøáÊé•Âè£Ëé∑ÂèñÊï∞ÊçÆÔºåÂπ∂‰æùÊçÆÊ≠§Êï∞ÊçÆÂàùÂßãÂåñÂ∫îÁî®&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h1 id="config-server">Config Server&lt;/h1>
&lt;h2 id="Êñ∞Âª∫‰∏Ä‰∏™-git-‰ªìÂ∫ì">Êñ∞Âª∫‰∏Ä‰∏™ git ‰ªìÂ∫ì&lt;/h2>
&lt;p>Âú® git ÊúçÂä°Âô®‰∏äÂàõÂª∫‰∏Ä‰∏™‰ªìÂ∫ìÔºåÁî®Êù•Â≠òÊîæÈÖçÁΩÆÊñá‰ª∂„ÄÇ&lt;/p>
&lt;p>Âπ∂Âú®‰ªìÂ∫ì‰∏≠Ê∑ªÂä†Áõ∏Â∫îÁöÑÈÖçÁΩÆÊñá‰ª∂„ÄÇ&lt;/p>
&lt;ul>
&lt;li>user-dev.yml&lt;/li>
&lt;li>user-test.yml&lt;/li>
&lt;li>user-prod.yml&lt;/li>
&lt;/ul>
&lt;h2 id="ÂÖ∑‰ΩìÂÆûÁé∞">ÂÖ∑‰ΩìÂÆûÁé∞&lt;/h2>
&lt;h3 id="Ê∑ªÂä†‰æùËµñ">Ê∑ªÂä†‰æùËµñ&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependencies&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.springframework.cloud&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>spring-cloud-config-server&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependencies&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="Ê∑ªÂä†Ê≥®Ëß£">Ê∑ªÂä†Ê≥®Ëß£&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@EnableConfigServer&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@EnableDiscoveryClient&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@SpringBootApplication&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">ConfigApplication&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SpringApplication&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">run&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ConfigApplication&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ÈÖçÁΩÆÊñá‰ª∂">ÈÖçÁΩÆÊñá‰ª∂&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">spring&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">application&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cloud&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">config&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">git&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uri&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">http://github.com/xxx/confg &lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ÈÖçÁΩÆÊñá‰ª∂‰ªìÂ∫ìÂú∞ÂùÄ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">username&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">password&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">searchpath&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">config-repo &lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># git‰ªìÂ∫ìÂú∞ÂùÄ‰∏ãÁöÑÁõ∏ÂØπÂú∞ÂùÄÔºåÂèØÈÖçÁΩÆÂ§ö‰∏™&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">eureka&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">client&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">serviceUrl&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">defaultZone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">http://localhost:8761/eureka/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ÈÄöËøáÊé•Âè£Êü•ÁúãÈÖçÁΩÆ">ÈÄöËøáÊé•Âè£Êü•ÁúãÈÖçÁΩÆ&lt;/h3>
&lt;p>‰ªìÂ∫ì‰∏≠ÁöÑÈÖçÁΩÆÊñá‰ª∂‰ºöË¢´ËΩ¨Êç¢ÊàêwebÊé•Âè£ÔºåÂêØÂä®Â∫îÁî®ÂêéÔºåÂèØÂú®ÊµèËßàÂô®‰∏≠Êü•ÁúãÈÖçÁΩÆÊñá‰ª∂ÔºàËã•ÈÖçÁΩÆÊñá‰ª∂ÁöÑÊ†ºÂºèÊúâÈîôËØØÔºåÂ∞ÜÊó†Ê≥ïËÆøÈóÆÔºâ„ÄÇ&lt;/p>
&lt;p>Â¶ÇËÆøÈóÆ &lt;code>http://localhost:8000/user/dev&lt;/code> Âç≥ÂèØËøîÂõû user-dev.yml ÁöÑÈÖçÁΩÆ‰ø°ÊÅØ„ÄÇ&lt;/p>
&lt;ul>
&lt;li>&lt;code>/{application}/{profile}[/{label}]&lt;/code>&lt;/li>
&lt;li>&lt;code>/{application}-{profile}.yml&lt;/code>&lt;/li>
&lt;li>&lt;code>/{label}/{application}-{profile}.yml&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>profileÔºöÈÖçÁΩÆÁéØÂ¢ÉÔºålabelÔºö‰ªìÂ∫ìÂàÜÊîØ„ÄÇ&lt;/p>
&lt;h1 id="config-client">Config Client&lt;/h1>
&lt;h2 id="Âú®È°πÁõÆ‰∏≠ÂàõÂª∫-bootstrapyml">Âú®È°πÁõÆ‰∏≠ÂàõÂª∫ bootstrap.yml&lt;/h2>
&lt;p>Âú®È°πÁõÆ‰∏≠Ôºåbootstrap.yml ‰ºö‰ºòÂÖà‰∫é application.yml Âä†ËΩΩ„ÄÇ&lt;/p>
&lt;h3 id="applicationyml-Â∫îÁî®Âú∫ÊôØ">application.yml Â∫îÁî®Âú∫ÊôØ&lt;/h3>
&lt;p>‰∏ªË¶ÅÁî®‰∫é Spring Boot È°πÁõÆÁöÑËá™Âä®ÂåñÈÖçÁΩÆ„ÄÇ&lt;/p>
&lt;h3 id="bootstrapyml-Â∫îÁî®Âú∫ÊôØ">bootstrap.yml Â∫îÁî®Âú∫ÊôØ&lt;/h3>
&lt;ul>
&lt;li>‰ªéÈ¢ùÂ§ñÁöÑËµÑÊ∫êÂä†ËΩΩÈÖçÁΩÆ‰ø°ÊÅØÔºàÂ¶Ç‰ΩøÁî® Spring Cloud Config Êó∂Ôºâ&lt;/li>
&lt;li>‰∏Ä‰∫õÂõ∫ÂÆö‰∏çËÉΩË¢´Ë¶ÜÁõñÁöÑÂ±ûÊÄßÔºàÂÖ∑ÊúâÈ´ò‰ºòÂÖàÁ∫ßÔºå‰∏ÄËà¨‰∏ç‰ºöË¢´Êú¨Âú∞ÈÖçÁΩÆÊàñapplication‰∏≠ÂêåÂêçÈÖçÁΩÆË¶ÜÁõñÔºâ&lt;/li>
&lt;li>‰∏Ä‰∫õ Âä†ÂØÜ/Ëß£ÂØÜ ÁöÑÂú∫ÊôØ&lt;/li>
&lt;/ul>
&lt;h2 id="ÂÖ∑‰ΩìÂÆûÁé∞-1">ÂÖ∑‰ΩìÂÆûÁé∞&lt;/h2>
&lt;h3 id="Ê∑ªÂä†‰æùËµñ-1">Ê∑ªÂä†‰æùËµñ&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.springframework.cloud&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>spring-cloud-starter-config&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ÈÖçÁΩÆÊñá‰ª∂-1">ÈÖçÁΩÆÊñá‰ª∂&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">spring&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">application&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">user &lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ËØ•Â∫îÁî®Ëé∑Âèñ‰πãÂâçÈÖçÁΩÆÂ•ΩÁöÑ user-dev.yml &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cloud&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">config&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">url&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">http://localhost:8000/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">profile&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">dev&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">master&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spring&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cloud&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">config&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">discovery&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enable&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ÂêØÁî®ÊúçÂä°ÂèëÁé∞ (Eureka)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">service-id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">config &lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># spring cloud config server Â∫îÁî®ÂêçÁß∞&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">profile&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">dev&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">master&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ÂêØÂä®ÊúçÂä°">ÂêØÂä®ÊúçÂä°&lt;/h3>
&lt;p>ÂêØÂä®ÊúçÂä°Êó∂ÔºåÂç≥‰ºöÂÖàÂéª git ‰ªìÂ∫ìËé∑ÂèñÈÖçÁΩÆ‰ø°ÊÅØ„ÄÇ&lt;/p>
&lt;h1 id="ÈÖçÁΩÆ‰ø°ÊÅØËá™Âä®Êõ¥Êñ∞">ÈÖçÁΩÆ‰ø°ÊÅØËá™Âä®Êõ¥Êñ∞&lt;/h1>
&lt;p>ÂΩì git ‰ªìÂ∫ì‰∏≠ÁöÑÈÖçÁΩÆ‰ø°ÊÅØÊõ¥Êñ∞ÂêéÔºå‰ΩøÁî®ÈÖçÁΩÆÁöÑÂÆ¢Êà∑Á´ØÂπ∂‰∏ç‰ºöËá™Âä®Êõ¥Êñ∞ÈÖçÁΩÆ„ÄÇÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶Å‰∏Ä‰∫õÊú∫Âà∂ÂéªËß¶ÂèëÈÖçÁΩÆÁöÑÊõ¥Êñ∞„ÄÇ&lt;/p>
&lt;h2 id="actuator">actuator&lt;/h2>
&lt;h3 id="Ê∑ªÂä†‰æùËµñ-2">Ê∑ªÂä†‰æùËµñ&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.springframework.boot&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>spring-boot-starter-actuator&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="Ê∑ªÂä†Ê≥®Ëß£ÊâìÂºÄÊõ¥Êñ∞Êú∫Âà∂">Ê∑ªÂä†Ê≥®Ëß£ÔºåÊâìÂºÄÊõ¥Êñ∞Êú∫Âà∂&lt;/h3>
&lt;p>ÈÄöËøáÂú®ÈúÄË¶ÅÂä†ËΩΩÊõ¥Êñ∞ÈÖçÁΩÆÁöÑÁ±ª‰∏äÊ∑ªÂä† &lt;code>@RefreshScope&lt;/code>ÔºåÂΩìÂÆ¢Êà∑Á´ØÈÄöËøáËß¶Âèë POST ÊñπÂºèÁöÑ &lt;code>/refresh&lt;/code> Êó∂Ôºå‰ºöËá™Âä®Â∞ÜÊñ∞ÁöÑÈÖçÁΩÆÊõ¥Êñ∞Âà∞Áõ∏Â∫îÁöÑÂ≠óÊÆµ‰∏≠„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@RefreshScope&lt;/span> &lt;span class="c1">// ËØ•Á±ª‰∏≠ÈÖçÁΩÆÁõ∏ÂÖ≥‰ºöËá™Âä®Âà∑Êñ∞
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nd">@RestController&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">ActuatorController&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Value&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;${env}&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="n">env&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@RequestMapping&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;/env&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="n">env&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">env&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ÈÖçÁΩÆÊñá‰ª∂-2">ÈÖçÁΩÆÊñá‰ª∂&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># server Á´ØÊ∑ªÂä†&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">management&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">endpoints&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">web&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exposure&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">include&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;*&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># client Á´ØÊ∑ªÂä†&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">management&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">endpoints&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">web&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exposure&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">include&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">refresh&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ÊµãËØïËá™Âä®Âà∑Êñ∞">ÊµãËØïËá™Âä®Âà∑Êñ∞&lt;/h3>
&lt;p>ÂΩì git ‰ªìÂ∫ì‰∏≠ÈÖçÁΩÆÊñá‰ª∂Êõ¥Êñ∞ÂêéÔºåÈÄöËøáÂèëÈÄÅ POST ËØ∑Ê±ÇÂà∞ &lt;code>/refresh&lt;/code> ÂêéÔºåÂÆ¢Êà∑Á´Ø‰ºöËá™Âä®Ëé∑ÂèñÊúÄÊñ∞ÈÖçÁΩÆ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">curl -v -X POST http://localhost:8080/actuator/refresh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="spring-cloud-bus-Êé®Ëçê">Spring Cloud Bus ÔºàÊé®ËçêÔºâ&lt;/h2>
&lt;p>ÈÄöËøá spring cloud busÔºåÈÄöËøá POST ËØ∑Ê±Ç &lt;code>/bus-refresh&lt;/code>ÔºåÂÆûÁé∞Ëá™Âä®Ëé∑ÂèñÊúÄÊñ∞ÈÖçÁΩÆ„ÄÇ&lt;/p>
&lt;p>Ëá≥Ê≠§‰∏§ÁßçÊ∂àÊÅØ‰ª£ÁêÜÔºö&lt;/p>
&lt;ul>
&lt;li>RabbitMQ&lt;/li>
&lt;li>Kafka&lt;/li>
&lt;/ul>
&lt;h2 id="webhook">WebHook&lt;/h2>
&lt;p>WebHook ÊòØÂΩìÊüê‰∏™‰∫ã‰ª∂ÂèëÁîüÊó∂ÔºåÈÄöËøáÂèëÈÄÅ http post ËØ∑Ê±ÇÁöÑÊñπÂºèÊù•ÈÄöÁü•‰ø°ÊÅØÊé•Êî∂Êñπ„ÄÇ&lt;/p>
&lt;p>ÈÄöËøáÂàõÂª∫ WebHook Âç≥ÂèØËá™Âä®Ëß¶Âèë POST ËØ∑Ê±ÇÔºåËÆ©ÂÆ¢Êà∑Á´ØÂä®ÊÄÅÂà∑Êñ∞ÈÖçÁΩÆ„ÄÇ&lt;/p></description></item><item><title>Spring Cloud ÊúçÂä°ÈÄö‰ø°</title><link>https://emerywan.github.io/blog/p/spring-cloud-openfeign/</link><pubDate>Sun, 26 Jul 2020 21:14:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/spring-cloud-openfeign/</guid><description>&lt;h1 id="spring-cloud-ÊúçÂä°ÈÄö‰ø°">Spring Cloud ÊúçÂä°ÈÄö‰ø°&lt;/h1>
&lt;ul>
&lt;li>
&lt;p>ÂêåÊ≠•ÈÄö‰ø°Ôºö&lt;/p>
&lt;ul>
&lt;li>dobbo ÈÄöËøá RPC ËøúÁ®ãË∞ÉÁî®„ÄÇ&lt;/li>
&lt;li>spring cloud ÈÄöËøá REST Êé•Âè£Ë∞ÉÁî®„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ÂºÇÊ≠•ÈÄö‰ø°Ôºö&lt;/p>
&lt;ul>
&lt;li>ÈÄöËøáÊ∂àÊÅØÂØπÂàóÔºåÂ¶ÇÔºöRabbitMQÔºåKafkaÔºåActiveM Á≠â„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>Êú¨Êñá‰∏ªË¶Å‰ªãÁªç Spring Cloud ‰ΩøÁî® RestTemplate / OpenFeign ËøõË°å REST Êé•Âè£Ë∞ÉÁî®„ÄÇ&lt;/p>
&lt;h1 id="resttemplate">RestTemplate&lt;/h1>
&lt;h2 id="ÈÄöËøá-resttemplate-ËøõË°åË∞ÉÁî®">ÈÄöËøá RestTemplate ËøõË°åË∞ÉÁî®&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="n">ProductInfo&lt;/span> &lt;span class="nf">getProductMsg&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="n">id&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">RestTemplate&lt;/span> &lt;span class="n">restTemplate&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">RestTemplate&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ProductInfo&lt;/span> &lt;span class="n">response&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">restTemplate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getForObject&lt;/span>&lt;span class="o">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;http://example.com/product/info&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="c1">// ËøúÁ®ãË∞ÉÁî®Âú∞ÂùÄ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">ProductInfo&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="c1">// response Á±ªÂûã
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="c1">// ÈúÄË¶Å‰º†ÈÄíÁöÑÂèÇÊï∞
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">response&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="Âà©Áî®-loadbalancerclient-Ëé∑Âèñ‰ø°ÊÅØ">Âà©Áî® LoadBalancerClient Ëé∑Âèñ‰ø°ÊÅØ&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Autowired&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">private&lt;/span> &lt;span class="n">LoadBalancerClient&lt;/span> &lt;span class="n">loadBalancerClient&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="n">ProductInfo&lt;/span> &lt;span class="nf">getProductMsg&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="n">id&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">RestTemplate&lt;/span> &lt;span class="n">restTemplate&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">RestTemplate&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ServiceInstance&lt;/span> &lt;span class="n">serviceInstance&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">loadBalancerClient&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">choose&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;PRODUCT&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Âà©Áî® loadBalancerClient ÈÄöËøáÂ∫îÁî®ÂêçÔºàspring.application.nameÔºâËé∑Âèñ‰ø°ÊÅØ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="n">url&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">format&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;http://%s:%s&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">serviceInstance&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getHost&lt;/span>&lt;span class="o">(),&lt;/span> &lt;span class="n">serviceInstance&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getPort&lt;/span>&lt;span class="o">())&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;/product/info&amp;#34;&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ProductInfo&lt;/span> &lt;span class="n">response&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">restTemplate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getForObject&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">url&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">ProductInfo&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">id&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">response&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="Âà©Áî®-loadbalance-Âú®-resttemplate-‰∏≠Áõ¥Êé•‰ΩøÁî®Â∫îÁî®ÂêçÁß∞">Âà©Áî® LoadBalance Âú® RestTemplate ‰∏≠Áõ¥Êé•‰ΩøÁî®Â∫îÁî®ÂêçÁß∞&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">class&lt;/span> &lt;span class="nc">RestTemplateConfig&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Bean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@LoadBalance&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="n">RestTemplate&lt;/span> &lt;span class="nf">restTemplate&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">RestTemplate&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">---&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Autowired&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">private&lt;/span> &lt;span class="n">RestTemplate&lt;/span> &lt;span class="n">restTemplate&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="n">ProductInfo&lt;/span> &lt;span class="nf">getProductMsg&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="n">id&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Âà©Áî® @LoadBalance ÂèØ‰ª•Âú® RestTemplate ‰∏≠‰ΩøÁî®Â∫îÁî®ÂêçÁß∞
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">ProductInfo&lt;/span> &lt;span class="n">response&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">restTemplate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getForObject&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;http://PRODUCT/product/msg&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">ProductInfo&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">id&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">response&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="openfeign-Êé®Ëçê">OpenFeign ÔºàÊé®ËçêÔºâ&lt;/h1>
&lt;h2 id="ÂºïÂÖ•‰æùËµñ">ÂºïÂÖ•‰æùËµñ&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.springframework.cloud&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>spring-cloud-starter-openfeign&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="Ê∑ªÂä†ÂêØÂä®Ê≥®Ëß£">Ê∑ªÂä†ÂêØÂä®Ê≥®Ëß£&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">org.springframework.cloud.openfeign.EnableFeignClients&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@EnableFeignClients&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@SpringBootApplication&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@EnableDiscoveryClient&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">FeignApplication&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SpringApplication&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">run&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">FeignApplication&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ÂÖ∑‰ΩìÂÆûÁé∞">ÂÖ∑‰ΩìÂÆûÁé∞&lt;/h2>
&lt;p>Áé∞Âú®Êúâ‰∏§‰∏™ÊúçÂä°ÔºåÂàÜÂà´‰∏∫ Prodcut Âíå Order „ÄÇ
ÈúÄÊ±ÇÔºö Order ÊúçÂä°‰∏≠ÔºåÂÆ¢Êà∑ËøõË°å‰∫Ü‰∏ãÂçïÊìç‰ΩúÂêéÔºåË∞ÉÁî® ProductÔºàFeignÔºâ ÁöÑËøõË°åÂáèÂ∫ìÂ≠òÊìç‰Ωú„ÄÇ&lt;/p>
&lt;ul>
&lt;li>Product ÊúçÂä°‰∏≠ÔºåÂÆö‰πâËøúÁ®ãË∞ÉÁî®Á´Ø„ÄÇ&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">DecreaseStockInput&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">---&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@FeignClient&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;product&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="c1">// name: ËøúÁ®ãÊúçÂä°Âêç(Spring.application.name)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">public&lt;/span> &lt;span class="kd">interface&lt;/span> &lt;span class="nc">ProductClient&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@RequestMapping&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;/product/decrease_stock&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">decreaseStock&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nd">@RequestBody&lt;/span> &lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">DecreaseStockInput&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">decreaseStockInputList&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>Order ÊúçÂä°‰∏≠ÔºåÂØπ Product Client ËøõË°åË∞ÉÁî®„ÄÇ&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Service&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">OrderServiceImpl&lt;/span> &lt;span class="kd">implements&lt;/span> &lt;span class="n">OrderService&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Ê≥®ÂÖ•ÁöÑ‰∏∫ Product ‰∏≠ÁöÑ ProductClient
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ÈÄöËøá‰æùËµñÁöÑÊñπÂºè
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nd">@Autowired&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="n">ProductClient&lt;/span> &lt;span class="n">productClient&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="n">OrderDTO&lt;/span> &lt;span class="nf">create&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">OrderDTO&lt;/span> &lt;span class="n">orderDTO&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Ë∞ÉÁî® Product ÊúçÂä°‰∏≠ÁöÑ api ËøõË°åÂáèÂ∫ìÂ≠òÊìç‰Ωú
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">productClient&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">decreaseStock&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">decreaseStockInputList&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Spring Cloud Eureka ÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞</title><link>https://emerywan.github.io/blog/p/spring-cloud-eureka/</link><pubDate>Sat, 25 Jul 2020 13:14:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/spring-cloud-eureka/</guid><description>&lt;h1 id="eureka-ÊâæÂà∞Âï¶">Eureka ÊâæÂà∞Âï¶ÔºÅ&lt;/h1>
&lt;p>ÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞&lt;/p>
&lt;h1 id="ÁÆÄ‰ªã">ÁÆÄ‰ªã&lt;/h1>
&lt;ul>
&lt;li>Spring Cloud Â∞ÅË£Ö‰∫Ü Netflix ÂÖ¨Âè∏ÂºÄÂèëÁöÑ Eureka Ê®°ÂùóÊù•ÂÆûÁé∞ÊúçÂä°Ê≥®ÂÜåÂíåÂèëÁé∞„ÄÇÈááÁî®‰∫Ü C-S ÁöÑËÆæËÆ°Êû∂ÊûÑ„ÄÇÁî®Êù•ÁÆÄÂåñ‰∏éÊúçÂä°Âô®ÁöÑ‰∫§‰∫í„ÄÅ‰Ωú‰∏∫ËΩÆËØ¢Ë¥üËΩΩÂùáË°°Âô®ÔºåÂπ∂Êèê‰æõÊúçÂä°ÁöÑÊïÖÈöúÂàáÊç¢ÊîØÊåÅ„ÄÇ&lt;/li>
&lt;li>Áî±‰∏§‰∏™ÁªÑ‰ª∂ÁªÑÊàê„ÄÇ
&lt;ul>
&lt;li>Ereka Server„ÄÇ Ê≥®ÂÜå‰∏≠ÂøÉ&lt;/li>
&lt;li>Ereka Client„ÄÇ ÊúçÂä°Ê≥®ÂÜå&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>Eureka ÈááÁî®‰∫Ü&lt;strong>ÂÆ¢Êà∑Á´ØÂèëÁé∞&lt;/strong>ÁöÑÊñπÂºèÔºåÂú®ÊúçÂä°ËøêË°åÊó∂ÔºåÈÄöËøá(ËΩÆËÆ≠„ÄÅhashÁ≠âË¥üËΩΩÂùáË°°Êú∫Âà∂Á≠âÊñπÂºè)Ê≥®ÂÜå‰∏≠ÂøÉÊâæÂà∞ÈúÄË¶ÅÊúçÂä°ÔºàÂç≥ A ÈÄöËøá Ê≥®ÂÜå‰∏≠ÂøÉ Êâæ BÔºåÈúÄË¶ÅË∞ÅÊâæË∞ÅÔºâ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/spring-cloud-eureka/eureka-server-discovery.png"
width="1202"
height="571"
srcset="https://emerywan.github.io/blog/blog/p/spring-cloud-eureka/eureka-server-discovery_huebe0236b66186033cdf1592e4bf67abe_104496_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/spring-cloud-eureka/eureka-server-discovery_huebe0236b66186033cdf1592e4bf67abe_104496_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="eureka-server-discovery"
class="gallery-image"
data-flex-grow="210"
data-flex-basis="505px"
>&lt;/p>
&lt;h1 id="eureka-server">Eureka Server&lt;/h1>
&lt;p>Ê≥®ÂÜå‰∏≠ÂøÉËÆ∞ÂΩïÁùÄÊâÄÊúâÂ∫îÁî®ÁöÑ‰ø°ÊÅØÂíåÁä∂ÊÄÅ(Â¶ÇÔºöÂ∫îÁî®ÂêçÔºåÊâÄÂú®ÊúçÂä°Âô®ÔºåÊòØÂê¶Ê≠£Â∏∏Â∑•‰Ωú)„ÄÇ&lt;/p>
&lt;h2 id="ÂÆûÁé∞‰∏Ä‰∏™Ê≥®ÂÜå‰∏≠ÂøÉ">ÂÆûÁé∞‰∏Ä‰∏™Ê≥®ÂÜå‰∏≠ÂøÉ&lt;/h2>
&lt;h3 id="1-ÂºïÂÖ•‰æùËµñ">1. ÂºïÂÖ•‰æùËµñ&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependencies&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.springframework.cloud&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>spring-cloud-starter&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.springframework.cloud&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>spring-cloud-starter-eureka-server&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependencies&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="2-Ê∑ªÂä†ÂêØÂä®Ê≥®Ëß£">2. Ê∑ªÂä†ÂêØÂä®Ê≥®Ëß£&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@EnableEurekaServer&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@SpringBootApplication&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">EurekaServerApplication&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SpringApplication&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">run&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">EurekaServerApplication&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-ÈÖçÁΩÆÊñá‰ª∂">3. ÈÖçÁΩÆÊñá‰ª∂&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">spring&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">application&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">eureka-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">Server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8761&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">eureka&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">client&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">register-with-eureka&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ÊòØÂê¶Â∞ÜËá™Â∑±Ê≥®ÂÜåÂà∞Eureka ServerÔºå‰Ωú‰∏∫ Server Á´Ø‰∏çÈúÄË¶Å&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fetch-registry&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ÊòØÂê¶‰ªéEureka ServerËé∑ÂèñÊ≥®ÂÜå‰ø°ÊÅØÔºå‰Ωú‰∏∫ Server Á´Ø‰∏çÈúÄË¶Å&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">service-url&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Êé•Êî∂ÁöÑÊòØ‰∏Ä‰∏™ Map ÁªìÊûÑ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">defaultZone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">http://localhost:8761/eureka/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="4-ÂêØÂä®Á®ãÂ∫è">4. ÂêØÂä®Á®ãÂ∫è&lt;/h3>
&lt;p>ÂêØÂä®ÂêéÔºåËÆøÈóÆ http://localhost:8761/ÔºåÂç≥ÂèØÁúãÂà∞ Spring Eureka ÁïåÈù¢„ÄÇ&lt;/p>
&lt;h2 id="ÂÆûÁé∞-eureka-ÈõÜÁæ§">ÂÆûÁé∞ Eureka ÈõÜÁæ§&lt;/h2>
&lt;p>Âú®‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ÔºåÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÊòØÊúÄÈáçË¶ÅÁöÑÂü∫Á°ÄÈÉ®ÂàÜÔºåÁêÜÂ∫îÈöèÊó∂Â§Ñ‰∫éÂèØ‰ª•Êèê‰æõÊúçÂä°ÁöÑÁä∂ÊÄÅ„ÄÇ‰∏∫‰∫ÜÁª¥ÊåÅÂÖ∂ÂèØÁî®ÊÄßÔºåÈÄöÂ∏∏‰ºöÈááÁî®ÈõÜÁæ§ÁöÑÊñπÊ°à„ÄÇEurekaÈÄöËøá&lt;strong>‰∫íÁõ∏Ê≥®ÂÜå&lt;/strong>ÁöÑÊñπÂºèÊù•ÂÆûÁé∞È´òÂèØÁî®ÁöÑÈÉ®ÁΩ≤&lt;/p>
&lt;h3 id="ÂèåËäÇÁÇπÊ≥®ÂÜå">ÂèåËäÇÁÇπÊ≥®ÂÜå&lt;/h3>
&lt;p>ÂàõÂª∫‰∏§Âè∞ÊúçÂä°Âô®ÔºåÁ´ØÂè£ÂàÜÂà´‰∏∫ 8761 Âíå 8762„ÄÇ&lt;/p>
&lt;p>Â∞Ü 8761 ÁöÑÊúçÂä°Âô®ÈÖçÁΩÆÊåáÂêë 8761ÔºåÂ∞Ü 8762 ÁöÑÊúçÂä°Âô®ÊåáÂêë 8761„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">spring&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">application&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">eureka-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">Server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8761&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">eureka&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">client&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">register-with-eureka&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fetch-registry&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">service-url&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Â∞Ü service-url ÊåáÂêë 8762&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">defaultZone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">http://localhost:8762/eureka/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spring&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">application&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">eureka-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">Server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8762&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">eureka&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">client&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">register-with-eureka&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fetch-registry&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">service-url&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Â∞Ü service-url ÊåáÂêë 8761&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">defaultZone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">http://localhost:8761/eureka/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÂêØÂä®Á®ãÂ∫èÂêéÔºåÈÄöËøá http://localhost:8761/ Âíå http://localhost:8762/ ÈÉΩÂèØËÆøÈóÆ Eureka ÁïåÈù¢„ÄÇÂπ∂‰∏îÂèØ‰ª•ÁúãÂà∞Âè¶‰∏Ä‰∏™ËäÇÁÇπ‰ø°ÊÅØËäÇÁÇπÁöÑ‰ø°ÊÅØ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/spring-cloud-eureka/eureka-server-cluster-1.png"
width="1849"
height="596"
srcset="https://emerywan.github.io/blog/blog/p/spring-cloud-eureka/eureka-server-cluster-1_huba86fcdb4b5d0d0d30bd35cfb721e86e_55103_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/spring-cloud-eureka/eureka-server-cluster-1_huba86fcdb4b5d0d0d30bd35cfb721e86e_55103_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="eureka-server-cluster-1"
class="gallery-image"
data-flex-grow="310"
data-flex-basis="744px"
>&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/spring-cloud-eureka/eureka-server-cluster-2.png"
width="1745"
height="582"
srcset="https://emerywan.github.io/blog/blog/p/spring-cloud-eureka/eureka-server-cluster-2_hu2962bd37558dde85fe30af951e20dc3b_54772_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/spring-cloud-eureka/eureka-server-cluster-2_hu2962bd37558dde85fe30af951e20dc3b_54772_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="eureka-server-cluster-2"
class="gallery-image"
data-flex-grow="299"
data-flex-basis="719px"
>&lt;/p>
&lt;h3 id="Â§öËäÇÁÇπÊ≥®ÂÜå">Â§öËäÇÁÇπÊ≥®ÂÜå&lt;/h3>
&lt;p>Âú®Áîü‰∫ß‰∏≠Êàë‰ª¨ÈúÄË¶Å‰∏âÂè∞ÊàñËÄÖÂ§ß‰∫é‰∏âÂè∞ÁöÑÊ≥®ÂÜå‰∏≠ÂøÉÊù•‰øùËØÅÊúçÂä°ÁöÑÁ®≥ÂÆöÊÄßÔºåÈÖçÁΩÆÁöÑÂéüÁêÜÂÖ∂ÂÆûÈÉΩ‰∏ÄÊ†∑ÔºöÂ∞ÜÊ≥®ÂÜå‰∏≠ÂøÉÂàÜÂà´ÊåáÂêëÂÖ∂ÂÆÉÁöÑÊ≥®ÂÜå‰∏≠ÂøÉ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spring&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">application&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">eureka-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8761&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">eureka&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">client&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">register-with-eureka&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fetch-registry&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">serviceUrl&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">defaultZone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">http://localhost:8762/eureka/,http://localhost:8763/eureka/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spring&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">application&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">eureka-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8762&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">eureka&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">client&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">register-with-eureka&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fetch-registry&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">serviceUrl&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">defaultZone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">http://localhost:8761/eureka/,http://localhost:8763/eureka/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spring&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">application&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">eureka-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8763&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">eureka&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">client&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">register-with-eureka&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fetch-registry&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">serviceUrl&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">defaultZone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">http://localhost:8761/eureka/,http://localhost:8762/eureka/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="eureka-client">Eureka Client&lt;/h1>
&lt;h2 id="ÂÆûÁé∞‰∏Ä‰∏™ÊúçÂä°Ê≥®ÂÜå">ÂÆûÁé∞‰∏Ä‰∏™ÊúçÂä°Ê≥®ÂÜå&lt;/h2>
&lt;h3 id="1-‰æùËµñÈÖçÁΩÆ">1. ‰æùËµñÈÖçÁΩÆ&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependencies&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.springframework.cloud&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>spring-cloud-starter-eureka&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependencies&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="2-Ê∑ªÂä†ÂêØÂä®Ê≥®Ëß£-1">2. Ê∑ªÂä†ÂêØÂä®Ê≥®Ëß£&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">org.springframework.cloud.netflix.eureka.server.EnableEurekaServer&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@EnableDiscoveryClient&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@SpringBootApplication&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">ClientApplication&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SpringApplication&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">run&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ClientApplication&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-ÈÖçÁΩÆÊñá‰ª∂-1">3. ÈÖçÁΩÆÊñá‰ª∂&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">spring&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">application&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">eureka-client&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">eureka&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">client&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">serviceUrl&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">defaultZone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">http://localhost:8761/eureka/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># instance: # Ëá™ÂÆö‰πâÈìæÊé•&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># hostname: example.com&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="4-ÂêØÂä®Á®ãÂ∫è-1">4. ÂêØÂä®Á®ãÂ∫è&lt;/h3>
&lt;p>ÂêØÂä®Á®ãÂ∫èÂêéÔºåËøõÂÖ• Eureka È°µÈù¢ http://localhost:8761/eureka/ÔºåÂç≥ÂèØÁúãÂà∞Ê≥®ÂÜåÁöÑÊúçÂä° eureka-client„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/spring-cloud-eureka/eureka-client.png"
width="1888"
height="356"
srcset="https://emerywan.github.io/blog/blog/p/spring-cloud-eureka/eureka-client_hu7c72d91007eb8a4a1109447929086548_37277_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/spring-cloud-eureka/eureka-client_hu7c72d91007eb8a4a1109447929086548_37277_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="eureka-client"
class="gallery-image"
data-flex-grow="530"
data-flex-basis="1272px"
>&lt;/p>
&lt;h1 id="ÊÄªÁªì">ÊÄªÁªì&lt;/h1>
&lt;ul>
&lt;li>ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ÔºåÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÊòØÊúÄÈáçË¶ÅÁöÑÂü∫Á°ÄÈÉ®ÂàÜ&lt;/li>
&lt;li>@EnableEurekaServer @EnableEurekaClient&lt;/li>
&lt;li>ÂÖ∑Êúâ ÂøÉË∑≥Ê£ÄÊµãÔºåÂÅ•Â∫∑Ê£ÄÊü•ÔºåË¥üËΩΩÂùáË°°Á≠âÂäüËÉΩ&lt;/li>
&lt;li>‰∏∫‰øùËØÅÈ´òÂèØÁî®ÔºåÂª∫ËÆÆÈõÜÁæ§ÈÉ®ÁΩ≤&lt;/li>
&lt;/ul></description></item><item><title>Èõ∑Ëõá ÁÅµÂàÉ 15 Ê†áÂáÜÁâà 2018 ÈªëËãπÊûú</title><link>https://emerywan.github.io/blog/p/razer-blade-base-hackintosh/</link><pubDate>Thu, 27 Feb 2020 21:14:45 +0800</pubDate><guid>https://emerywan.github.io/blog/p/razer-blade-base-hackintosh/</guid><description>&lt;p>&lt;strong>Ë≠¶ÂëäÔºöËØ•ÊïôÁ®ã‰ªÖ‰∏∫‰∏™‰∫∫ËÆ∞ÂΩïÔºåËØ•Á¨îËÆ∞Êú¨ÂÆâË£ÖÊ∂âÂèäËß£ÈîÅBIOSÔºåÂ≠òÂú®‰∏ÄÂÆöÈ£éÈô©ÔºåÂ¶ÇÊÇ®‰ΩøÁî®ËØ•ÊïôÁ®ãÂØπËÆ°ÁÆóÊú∫ËøõË°åÊõ¥ÊîπÔºåÊâÄÈÄ†ÊàêÁöÑÁöÑ‰ªª‰ΩïÂêéÊûúÊàëÊ¶Ç‰∏çË¥üË¥£„ÄÇ&lt;/strong>&lt;/p>
&lt;h1 id="ÂÜôÂú®ÊúÄÂâç">ÂÜôÂú®ÊúÄÂâç&lt;/h1>
&lt;ul>
&lt;li>
&lt;p>ÂºÄÂ≠¶ÂêéÂ§™ÂøôÔºåÂπ∂‰∏îÁîµËÑëÊàëÊç¢‰∫ÜÂùóÊõ¥Â§ßÁöÑÁ°¨ÁõòÔºåËøôÂè∞ÁîµËÑëÊàë‰∏çÊâìÁÆóÂÜçÂÆâË£ÖÈªëËãπÊûú‰∫ÜÔºåÊú¨ÊïôÁ®ãÂèØËÉΩ‰ºö‰∏çÂÜçÊõ¥Êñ∞ÔºåÊúÄÊñ∞‰∏ä‰º†ÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏≠ÔºåÊ∑ªÂä†‰∫ÜÂØπ type-C 4K 30Hz ÁöÑÊîØÊåÅÔºå4K 60Hz ÊòæÁ§∫Âô®‰ºöÈªëÂ±èÔºåÊó†Ê≥ïËæìÂá∫‰ø°Âè∑„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Â¶ÇÊûúÊÉ≥Ë¶Å‰ΩøÁî® Clover ÂÆâË£Ö 10.15 Êàñ‰ª•‰∏ãÁ≥ªÁªüÁöÑËØùÔºåÂèØ‰ª•‰æùÊóßÊåâÁÖßÊ≠§ÊïôÁ®ãÔºàËØ∑Â∞Ü Clover Âíå kext ÈÄâÊã©Âà∞ÈÄÇÂ∫îÁâàÊú¨Ôºâ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Â¶ÇÊûúÊâìÁÆóÂÆâË£ÖÊñ∞Á≥ªÁªü‰ΩøÁî®ÁöÑËØùÔºåÂª∫ËÆÆ‰ΩøÁî® Opencore ÂÆâË£Ö„ÄÇÊé®ËçêÂèÇËÄÉ &lt;a class="link" href="https://github.com/Tyson-Hu/RazerBlade15-Base-Model-Hackintosh_macOS_Monterey" target="_blank" rel="noopener"
>RazerBlade15-Base-Model-Hackintosh_macOS_Monterey&lt;/a>ÔºåËØ•ÊïôÁ®ãÂÜôÁöÑÈùûÂ∏∏ËØ¶ÁªÜÔºåÊÑüË∞¢‰ªñÁöÑ‰ªòÂá∫„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Âª∫ËÆÆ‰∏çË¶Å‰ΩøÁî® ‰∏úËäùÔºàÈì†‰æ†ÔºâÁöÑÂõ∫ÊÄÅÁ°¨ÁõòÔºåÊàëÁöÑÁ°¨Áõò‰∏∫&lt;strong>‰∏úËäù tr200&lt;/strong>ÔºåÂú® macOS ‰∏≠Ëé´ÂêçÂç°È°øÔºåÊàëÁöÑ&lt;strong>‰∏úËäùUÁõò&lt;/strong>Âú® macOS ‰∏≠‰πüËé´ÂêçÂç°È°øÔºåÂÖ∂‰ªñÁ≥ªÁªüÊ≤°Êúâ‰ªÄ‰πàÈóÆÈ¢ò„ÄÇÔºàÁéÑÂ≠¶ÈóÆÈ¢òÔºüÔºâ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Á•ù‰Ω†Áé©ÂæóÊÑâÂø´ÔºÅ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;hr>
&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/EmeryWan/Razer-Blade-15-2018-Base-Hackintosh" target="_blank" rel="noopener"
>Github ‚û°Ô∏è&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Âõ†‰∏∫Áñ´ÊÉÖÂéüÂõ†Êò•ËäÇ‰∏ÄÁõ¥ÂÆÖÂú®ÂÆ∂ÔºåÂ≠¶Ê†°ÂÅáÊúü‰πüÂª∂Èïø‰∫ÜÔºåÊâæÂà∞‰∫ÜÂêåÊ¨æÁ¨îËÆ∞Êú¨ÁöÑÊïôÁ®ãÔºåÊâÄ‰ª•ÂÖ•ÂùëÂÆâË£ÖÈªëËãπÊûúÔºåÊúÄËøëÊääÊ≠•È™§Êï¥ÁêÜ‰∫Ü‰∏Ä‰∏ã„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂÆâË£ÖËøáÁ®ãÊàë‰∏ªË¶ÅÂèÇËÄÉ‰∫Ü &lt;a class="link" href="https://www.tonymacx86.com/threads/guide-razer-blade-15-2018-detailed-install-guide-high-sierra-10-13-6-17g2208-17g5019.264017/" target="_blank" rel="noopener"
>ËøôÁØá&lt;/a> Âíå &lt;a class="link" href="https://github.com/stonevil/Razer_Blade_Advanced_early_2019_Hackintosh" target="_blank" rel="noopener"
>ËøôÁØá&lt;/a> ÊïôÁ®ãÔºåÊÑüË∞¢‰ªñ‰ª¨ÁöÑËæõËã¶‰ªòÂá∫„ÄÇÈÉ®ÂàÜÂÜÖÂÆπ‰∏∫‰ªñ‰ª¨ÊâÄÂÜôÊïôÁ®ãÁöÑÊ±âÂåñÔºåËØ¶ÁªÜÊàñÁ≤æÁÆÄÔºåÊàëÁöÑÊ∞¥Âπ≥ÊúâÈôêÔºåÂàöÊé•Ëß¶ÈªëËãπÊûúÔºåÂª∫ËÆÆÂêåÊó∂ÂèÇËÄÉ‰ªñ‰ª¨ÁöÑÊïôÁ®ã„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;hr>
&lt;ul>
&lt;li>Á°¨‰ª∂‰ªãÁªç&lt;/li>
&lt;li>ÁªìÊûú‰ªãÁªç&lt;/li>
&lt;li>Ëß£ÈîÅBIOS&lt;/li>
&lt;li>ÂÆâË£ÖÂâçÂáÜÂ§á&lt;/li>
&lt;li>Á≥ªÁªüÂÆâË£Ö&lt;/li>
&lt;li>DSDTÔºåSSDTÂà∂‰Ωú&lt;/li>
&lt;li>ÁΩëÂç°&lt;/li>
&lt;li>‰∏Ä‰∫õ‰ºòÂåñ&lt;/li>
&lt;li>ÂèÇËÄÉ&lt;/li>
&lt;li>Êõ¥Êñ∞&lt;/li>
&lt;/ul>
&lt;h2 id="1-Á°¨‰ª∂‰ªãÁªç">[1] Á°¨‰ª∂‰ªãÁªç&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">&lt;/th>
&lt;th style="text-align:center">ÂûãÂè∑&lt;/th>
&lt;th style="text-align:center">ÊúÄÁªàÊÉÖÂÜµ&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">CPU&lt;/td>
&lt;td style="text-align:center">i7-8750H&lt;/td>
&lt;td style="text-align:center">ÂèØÁî®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">GPU&lt;/td>
&lt;td style="text-align:center">Nvdia 1060 Max-Q&lt;/td>
&lt;td style="text-align:center">Èô§ 10.13 High Sierra ÂÆâË£Ö WebDriver Â§ñ‰∏çÂèØÁî®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">Á°¨Áõò&lt;/td>
&lt;td style="text-align:center">Êõ¥Êç¢‰∫Ü ÈáëÂ£´È°ø A2000&lt;/td>
&lt;td style="text-align:center">ÂèØÁî®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">ÁΩëÂç°&lt;/td>
&lt;td style="text-align:center">9560NGW&lt;/td>
&lt;td style="text-align:center">WIFI ÁõÆÂâçÊó†Ëß£ÔºåËìùÁâôÂèØÁî®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">ÊòæÁ§∫Âô®&lt;/td>
&lt;td style="text-align:center">1080P&lt;/td>
&lt;td style="text-align:center">ÂèØÁî®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">ÊëÑÂÉèÂ§¥&lt;/td>
&lt;td style="text-align:center">&lt;/td>
&lt;td style="text-align:center">ÂèØÁî®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">Êâ¨Â£∞Âô®&lt;/td>
&lt;td style="text-align:center">&lt;/td>
&lt;td style="text-align:center">ÂèØÁî®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">ËÄ≥Êú∫&lt;/td>
&lt;td style="text-align:center">&lt;/td>
&lt;td style="text-align:center">Êó†Ê≥ïÊ£ÄÊµãÂà∞È∫¶ÂÖãÈ£é&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">È∫¶ÂÖãÈ£é&lt;/td>
&lt;td style="text-align:center">&lt;/td>
&lt;td style="text-align:center">‰∏çÂèØÁî®ÔºåÂ∑≤ËØÜÂà´Ôºå‰ΩÜÂú®ËÆæÁΩÆ‰∏≠Êú™ÁúãËßÅËæìÂÖ•ÁîµÂπ≥&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">Ëß¶ÊéßÊùø&lt;/td>
&lt;td style="text-align:center">&lt;/td>
&lt;td style="text-align:center">ÊâãÂäøÂèØÁî®ÔºàÂèçÂ∫îÁ®çÊÖ¢Ôºâ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">HDMI Êé•Âè£&lt;/td>
&lt;td style="text-align:center">&lt;/td>
&lt;td style="text-align:center">Áõ¥ÈÄöÊòæÂç°ÔºåÈô§ÂÆâË£Ö High Sierra Â§ñ‰∏çÂèØÁî®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">Mini DP Êé•Âè£&lt;/td>
&lt;td style="text-align:center">&lt;/td>
&lt;td style="text-align:center">Áõ¥ÈÄöÊòæÂç°ÔºåÈô§ÂÆâË£Ö High Sierra Â§ñ‰∏çÂèØÁî®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">Èõ∑Áîµ3&lt;/td>
&lt;td style="text-align:center">&lt;/td>
&lt;td style="text-align:center">Ë¢´ËØÜÂà´Êàê USB3.1ÔºåÂèØÂ§ñÊé•ÊãìÂ±ïÂùûÂ§ñÊé•ÊòæÁ§∫Âô®ÔºåÊàëÁöÑÁîµËÑë‰∏≠ÈúÄË¶ÅÂà†Èô§SSDT-12-OptTabl.aml&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="2-ÂÆâË£ÖÁªìÊûú">[2] ÂÆâË£ÖÁªìÊûú&lt;/h2>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/2-1.png"
width="586"
height="353"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/2-1_hu2b7930256d93d7df669e002f0ee8a5ea_76515_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/2-1_hu2b7930256d93d7df669e002f0ee8a5ea_76515_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="2-1"
class="gallery-image"
data-flex-grow="166"
data-flex-basis="398px"
>&lt;/p>
&lt;h3 id="‰∏Ä‰∫õÂ∞èÈóÆÈ¢ò">‰∏Ä‰∫õÂ∞èÈóÆÈ¢ò&lt;/h3>
&lt;p>Êàë‰πüÊòØÂàöÂàöÊé•Ëß¶ÈªëËãπÊûúÔºåÂæàÂ§öÈóÆÈ¢òÊàë‰πüÊó†Ê≥ïËß£ÂÜ≥ÔºåÊúâË∞Å‰∫ÜËß£ÁöÑËØùÂ∏åÊúõËÉΩÂ∏ÆÂä©‰∏Ä‰∏ãÔºåÊÑüË∞¢„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;del>È∫¶ÂÖãÈ£éÊó†Ê≥ï‰ΩøÁî®ÔºåÁ≥ªÁªüËÉΩÊâæÂà∞‰ΩÜÊó†Ê≥ï‰ΩøÁî®ÔºåËÄ≥Êú∫È∫¶ÂÖãÈ£éÊó†Ê≥ïÊâæÂà∞„ÄÇÊÉ≥Ë¶Å‰ΩøÁî®ÁöÑËØùÂè™ËÉΩÈÄöËøáËìùÁâôËÄ≥Êú∫‰∫Ü„ÄÇ&lt;/del>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ËÄ≥Êú∫È∫¶ÂÖãÊó†Ê≥ïËØÜÂà´„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ËæìÂá∫ËÆæÂ§áÈªòËÆ§ËØÜÂà´Âà∞‰∫ÜÊâ¨Â£∞Âô®ÂíåËÄ≥Êú∫ÔºàÂç≥‰ΩøÊú™ÊèíÂÖ•ËÄ≥Êú∫ÔºâÔºåÊó†Ê≥ïËá™Âä®ÂàáÊç¢ÔºåÈúÄÊâãÂä®ÂàáÊç¢„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/2-2.png"
width="294"
height="170"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/2-2_hubc4478c282b951d1ef6fe2ce5f964b3d_36544_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/2-2_hubc4478c282b951d1ef6fe2ce5f964b3d_36544_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="2-2"
class="gallery-image"
data-flex-grow="172"
data-flex-basis="415px"
>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="Êõ¥Êñ∞">Êõ¥Êñ∞&lt;/h3>
&lt;p>‰ªäÂ§©Êú¨Êù•ÊÉ≥Ê†πÊçÆ &lt;a class="link" href="https://blog.daliansky.net/Use-AppleALC-sound-card-to-drive-the-correct-posture-of-AppleHDA.html" target="_blank" rel="noopener"
>ËøôÁØáÊñáÁ´†&lt;/a> Â∞ùËØïËá™Â∑±ÂÆöÂà∂‰∏Ä‰∏ã &lt;code>AppleALC&lt;/code> ÔºåÂΩìÊàëÊääÊúâÊïàËäÇÁÇπÂíåË∑ØÂæÑÂºÑÂÆå‰πãÂêéÔºåÂáÜÂ§á‰∏ãËΩΩ &lt;a class="link" href="https://github.com/acidanthera/AppleALC/releases" target="_blank" rel="noopener"
>AppleALC-DEBUG&lt;/a> ÁºñËØëÁöÑÊó∂ÂÄôÔºåÊ≤°ÊÉ≥Âà∞ÊúÄÊñ∞ÁâàÊú¨Â∑≤ÁªèÊ∑ªÂä†‰∫ÜËøô‰∏™Á¨îËÆ∞Êú¨ÁöÑ &lt;code>layout-id:23&lt;/code>„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/2-3.png"
width="873"
height="546"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/2-3_huecb3588f2c0bb9ac90822e9e02e3e4ec_119856_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/2-3_huecb3588f2c0bb9ac90822e9e02e3e4ec_119856_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="2-3"
class="gallery-image"
data-flex-grow="159"
data-flex-basis="383px"
>&lt;/p>
&lt;p>ËØ∑ÊåâÁÖßÂ¶ÇÂõæ‰øÆÊîπÔºå‰øùÂ≠òÂêéÈáçÂêØ„ÄÇÊàëÁöÑÁîµËÑëËÄ≥Êú∫È∫¶ÂÖãÈ£éÊó†Ê≥ïËØÜÂà´ÔºàÊàëÂú® Ubuntu ‰∏ã‰πüÊó†Ê≥ïÊâæÂà∞ËÄ≥Êú∫È∫¶ÂÖãÈ£éÁöÑÊúâÊïàËäÇÁÇπ‰ø°ÊÅØÔºâ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/2-4.png"
width="1279"
height="678"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/2-4_hud4d6f2c40445a0b958e52be6265bd97d_161259_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/2-4_hud4d6f2c40445a0b958e52be6265bd97d_161259_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="2-4"
class="gallery-image"
data-flex-grow="188"
data-flex-basis="452px"
>&lt;/p>
&lt;p>Ê∑ªÂä† type-c ËæìÂá∫ 4kÔºåÂè™ËÉΩÊîØÊåÅÂà∞ÊúÄÈ´ò 30HzÔºåËæìÂá∫ 60Hz ‰ºöÁõ¥Êé•ÈªëÂ±è„ÄÇÂèØ‰ª•ÂÆâË£Ö‰∏Ä‰∏™ &lt;a class="link" href="https://github.com/avibrazil/RDM" target="_blank" rel="noopener"
>RDM&lt;/a> ËøõË°åÁÆ°ÁêÜ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/2-5.png"
width="1316"
height="696"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/2-5_hu390d568d81002677c5e0774860cb2cfd_174773_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/2-5_hu390d568d81002677c5e0774860cb2cfd_174773_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="2-5"
class="gallery-image"
data-flex-grow="189"
data-flex-basis="453px"
>&lt;/p>
&lt;h2 id="3-Ëß£ÈîÅbios">[3] Ëß£ÈîÅBIOS&lt;/h2>
&lt;p>&lt;strong>Ëß£ÈîÅBIOSÔºåÂ≠òÂú®‰∏ÄÂÆöÈ£éÈô©ÔºåÂ¶ÇÊÇ®‰ΩøÁî®ËØ•ÊïôÁ®ãÂØπËÆ°ÁÆóÊú∫ËøõË°åÊõ¥ÊîπÔºåÊâÄÈÄ†ÊàêÁöÑÁöÑ‰ªª‰ΩïÂêéÊûúÊàëÊ¶Ç‰∏çË¥üË¥£ÔºÅÔºÅÔºÅ&lt;/strong>&lt;/p>
&lt;p>Èõ∑ËõáÂõΩÂÜÖÂÆòÁΩëÊ≤°ÊúâÊèê‰æõÈ©±Âä®ÂíåBIOSÁöÑ‰∏ãËΩΩÔºåÂ¶ÇÊúâÈúÄË¶ÅÔºåÈúÄË¶ÅËÆøÈóÆÁæéÂõΩÂÆòÁΩë„ÄÇ&lt;a class="link" href="https://support.razer.com/gaming-laptops/razer-blade-15-2018-base/" target="_blank" rel="noopener"
>ÁÇπÊàë„ÄÇ&lt;/a>&lt;/p>
&lt;p>ËØ•Á¨îËÆ∞Êú¨ DVMT È¢ÑÂàÜÈÖçÈªòËÆ§‰∏∫ 32MBÔºå‰∏çË∂≥‰ª•ÂêØÂä® MacOSÔºåÂú® BIOS ‰∏≠ËØ•ËÆæÁΩÆÈ°πÈªòËÆ§ÈöêËóèÔºåÊâÄ‰ª•Ë¶ÅÊèêÂèñÊú¨Êú∫ BIOS Âπ∂‰∏îËøõË°åËß£ÈîÅÔºåÂ∞Ü DVMT È¢ÑÂàÜÈÖçÈªòËÆ§ËÆæÁΩÆ‰∏∫ 64MBÔºà1080PÔºâÔºåÂàÜËæ®ÁéáÊõ¥È´òËØ∑ÂàÜÈÖçÊõ¥Â§ßÁ©∫Èó¥„ÄÇ&lt;/p>
&lt;p>&lt;strong>Âª∫ËÆÆÂú® windows ‰∏ãÊìç‰Ωú„ÄÇ&lt;/strong>&lt;/p>
&lt;h3 id="3-1-ÊèêÂèñÊú¨Êú∫-bios">[3-1] ÊèêÂèñÊú¨Êú∫ BIOS&lt;/h3>
&lt;p>&lt;strong>Ê≥®ÊÑèÂ§á‰ªΩÂ•Ω„ÄÇ&lt;/strong>&lt;/p>
&lt;p>ÊâìÂºÄ &lt;code>AFUWINGUI.exe&lt;/code>ÔºåÁÇπÂáª Save ÊåâÈíÆÔºåÂØºÂá∫Êú¨Êú∫ÂΩìÂâç BIOS „ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/3-1.png"
width="625"
height="463"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/3-1_hu2b3b289386be70a81cfc03a2fd4a6ba9_25755_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/3-1_hu2b3b289386be70a81cfc03a2fd4a6ba9_25755_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="3-1"
class="gallery-image"
data-flex-grow="134"
data-flex-basis="323px"
>&lt;/p>
&lt;h3 id="3-2-‰øÆÊîπ-bios">[3-2] ‰øÆÊîπ BIOS&lt;/h3>
&lt;ul>
&lt;li>ÊâìÂºÄ &lt;code>AMIBCP.exe&lt;/code> ÔºåÁÇπÂáª File -&amp;gt; open ÊâìÂºÄÂØºÂá∫ÁöÑ BIOS„ÄÇ&lt;/li>
&lt;li>Â¶ÇÂõæÔºåÂú®Â∑¶‰æßÈÄâÊã© / -&amp;gt; Setup -&amp;gt; ChipsetÔºåÂ∞ÜÂ∑¶‰æßÁöÑ &lt;code>System Agent Configuration&lt;/code> ÁöÑ Access Áî± Default ‰øÆÊîπ‰∏∫ USER&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/3-2.png"
width="1073"
height="752"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/3-2_hu504742517ec89fe4fa26edd955452484_46678_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/3-2_hu504742517ec89fe4fa26edd955452484_46678_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="3-2"
class="gallery-image"
data-flex-grow="142"
data-flex-basis="342px"
>&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/3-3.png"
width="981"
height="234"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/3-3_hu384a5070e96805721cfad18ac4b9c8d8_22227_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/3-3_hu384a5070e96805721cfad18ac4b9c8d8_22227_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="3-3"
class="gallery-image"
data-flex-grow="419"
data-flex-basis="1006px"
>&lt;/p>
&lt;ul>
&lt;li>‰øÆÊîπÂÆåÂêéÁÇπÂáª File -&amp;gt; Save as„ÄÇÈáçÂëΩÂêç‰∏∫Êñ∞ÁöÑ BIOS„ÄÇ&lt;/li>
&lt;/ul>
&lt;h3 id="3-3-Âà∑ÂÖ•Êñ∞-bios">[3-3] Âà∑ÂÖ•Êñ∞ BIOS&lt;/h3>
&lt;p>&lt;strong>ÔºÅÔºÅÔºÅ Ê≥®ÊÑèÔºåËØ•ËøáÁ®ãËôΩÁÑ∂ÁÆÄÂçïÔºå‰ΩÜÊúâ‰∏ÄÂÆöÈ£éÈô©ÔºåÈÄ†ÊàêÁöÑ‰ªª‰ΩïÁªìÊûú‰∏éÊú¨‰∫∫Êó†ÂÖ≥„ÄÇ&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ÈáçÊñ∞ÊâìÂºÄ AFUWINGUI.exeÔºåÁÇπÂáª Open ÊâìÂºÄÂàöÂàö‰øÆÊîπÂêéÁöÑ BIOS„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/3-4.png"
width="625"
height="463"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/3-4_hu3d9923cc8e5f7434310ba01f6dc9c068_25929_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/3-4_hu3d9923cc8e5f7434310ba01f6dc9c068_25929_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="3-4"
class="gallery-image"
data-flex-grow="134"
data-flex-basis="323px"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Â∞ΩÂèØËÉΩÁöÑÈÄÄÂá∫ÂÖ∂‰ªñÁ®ãÂ∫èÔºåÂ∞ΩÈáè‰øùÊåÅÂêéÂè∞Âπ≤ÂáÄÔºåÂÜçÁÇπÂáª Flash Âà∑ÂÖ•Êñ∞ÁöÑ BIOS„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/3-5.png"
width="625"
height="463"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/3-5_hu3d9923cc8e5f7434310ba01f6dc9c068_27476_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/3-5_hu3d9923cc8e5f7434310ba01f6dc9c068_27476_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="3-5"
class="gallery-image"
data-flex-grow="134"
data-flex-basis="323px"
>&lt;/p>
&lt;ul>
&lt;li>ÈáçÂêØ&lt;/li>
&lt;/ul>
&lt;h2 id="4-ÂÆâË£ÖÂâçÂáÜÂ§á">[4] ÂÆâË£ÖÂâçÂáÜÂ§á&lt;/h2>
&lt;h3 id="4-1-ÂáÜÂ§ámacos-catalina-ÂÆâË£ÖÁõò">[4-1] ÂáÜÂ§ámacOS Catalina ÂÆâË£ÖÁõò&lt;/h3>
&lt;p>Êé®Ëçê‰ΩøÁî®&lt;a class="link" href="https://blog.daliansky.net/" target="_blank" rel="noopener"
>ÈªëÊûúÂ∞èÂÖµ&lt;/a>Âà∂‰ΩúÁöÑÈïúÂÉèÔºå‰ΩøÁî® &lt;strong>TransMac&lt;/strong> Âà∂‰ΩúÔºàËΩØ‰ª∂Âú®Êñá‰ª∂Â§π‰∏≠Â∑≤Êèê‰æõÔºâ„ÄÇ&lt;a class="link" href="https://blog.daliansky.net/macOS-Catalina-10.15.3-19D76-Release-version-with-Clover-5103-original-image-Double-EFI-Version.html" target="_blank" rel="noopener"
>ËøôÈáåÊòØ10.15.3ÁöÑÈïúÂÉè&lt;/a>„ÄÇ&lt;/p>
&lt;p>Â¶ÇÊûúÊÇ®Ë¶ÅÂÆâË£ÖÊõ¥Êñ∞ÁöÑÁ≥ªÁªüÔºåËØ∑ÂçáÁ∫ß CLOVERÔºåÂíå kexts/ Âà∞ÂØπÂ∫îÂÖºÂÆπÊàñÊõ¥Êñ∞ÁöÑÁâàÊú¨ÔºåÂèØÂ∞ÜÂà∂‰ΩúÂ•ΩÁöÑÂÆâË£ÖÁõò‰∏≠ &lt;code>EFI/CLOVER&lt;/code> ÁöÑÊñá‰ª∂ËøõË°åÂêåÂêçÊõøÊç¢„ÄÇÔºàÊú™Êù•ÁöÑÊñ∞ÁâàÊú¨ÂèØËÉΩ‰∏çÂèØÈ¢ÑÁü•ÁöÑÈóÆÈ¢òÔºåËØ∑ÈÖåÊÉÖÂçáÁ∫ßÔºâ„ÄÇ&lt;/p>
&lt;h3 id="4-2-ÂêØÂä®ÁõòÂà∂‰Ωú">[4-2] ÂêØÂä®ÁõòÂà∂‰Ωú&lt;/h3>
&lt;p>ËØ∑ÂèÇËÄÉÔºåÊàñËá™Ë°åÊêúÁ¥¢ÔºåÁΩë‰∏äÊïôÁ®ãÂæàÂ§ö„ÄÇ&lt;a class="link" href="https://zhuanlan.zhihu.com/p/58630676" target="_blank" rel="noopener"
>ÁÇπÊàë„ÄÇ&lt;/a>&lt;/p>
&lt;h2 id="5-Á≥ªÁªüÂÆâË£Ö">[5] Á≥ªÁªüÂÆâË£Ö&lt;/h2>
&lt;h3 id="5-1-bios-ËÆæÁΩÆ">[5-1] BIOS ËÆæÁΩÆ&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;code>Advanced&lt;/code>&lt;/p>
&lt;ul>
&lt;li>&lt;code>Thunderbolt(TM) Configuration&lt;/code>
&lt;ul>
&lt;li>&lt;code>Security Level&lt;/code> ËÆæÁΩÆÊàê &lt;code>No Security&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;code>Chipset&lt;/code>&lt;/p>
&lt;ul>
&lt;li>&lt;code>System Agent (SA) Configuration&lt;/code>
&lt;ul>
&lt;li>&lt;code>Graphics Configuration&lt;/code>
&lt;ul>
&lt;li>&lt;code>DVMT Pre-Allocated&lt;/code> ËÆæÁΩÆÊàê &lt;code>64&lt;/code>&lt;/li>
&lt;li>&lt;code>DVMT Total Gfx Mem&lt;/code> ËÆæÁΩÆÊàê &lt;code>MAX&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;code>Security&lt;/code>&lt;/p>
&lt;ul>
&lt;li>&lt;code>Secure Boot&lt;/code> ËÆæÁΩÆÊàê &lt;code>Disabled&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;code>Boot&lt;/code>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>Fast Boot&lt;/code> ËÆæÁΩÆÊàê &lt;code>Disabled&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>CSM Configuration&lt;/code>&lt;/p>
&lt;ul>
&lt;li>&lt;code>CSM Support&lt;/code> ËÆæÁΩÆÊàê &lt;code>Disabled&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="5-2-ÂÆâË£ÖËøáÁ®ã">[5-2] ÂÆâË£ÖËøáÁ®ã&lt;/h3>
&lt;p>Á≥ªÁªüÂÆâË£ÖËøáÁ®ãÂ§ßËá¥Áõ∏ÂêåÔºåÈÄâÊã©UÁõòÂêØÂä®ÂêéËøõÂÖ•ÂÆâË£Ö„ÄÇÂÆâË£ÖËøáÁ®ã‰ºöÈáçÂêØÂá†Ê¨°„ÄÇ&lt;/p>
&lt;p>ÂèØËá™Ë°åÊêúÁ¥¢ÔºåÂèÇËÄÉÂÖ∂‰ªñ‰∫∫ÁöÑÊ≠•È™§„ÄÇ&lt;/p>
&lt;h3 id="5-3-ÂÆâË£ÖÊó∂ÂèØËÉΩÂá∫Áé∞ÁöÑÈóÆÈ¢ò">[5-3] ÂÆâË£ÖÊó∂ÂèØËÉΩÂá∫Áé∞ÁöÑÈóÆÈ¢ò&lt;/h3>
&lt;p>ÊòæÁ§∫Á®ãÂ∫èÂâØÊú¨Â∑≤ÊçüÂùè&lt;/p>
&lt;ul>
&lt;li>Êñ≠ÁΩë&lt;/li>
&lt;li>ÊâìÂºÄÁªàÁ´Ø&lt;/li>
&lt;li>‰øÆÊîπÊó∂Èó¥‰∏∫Á≥ªÁªüÂèëÂ∏ÉÂØπÂ∫îÁöÑÊó∂Èó¥„ÄÇ&lt;/li>
&lt;/ul>
&lt;p>Â¶Ç‰øÆÊîπ‰∏∫ 2019Âπ¥„ÄÇËæìÂÖ• &lt;code>date 000000002019&lt;/code>„ÄÇ&lt;/p>
&lt;h2 id="6-dsdtssdtÂà∂‰Ωú">[6] DSDTÔºåSSDTÂà∂‰Ωú&lt;/h2>
&lt;p>ÈÄöËøá‰øÆË°•DSDTÔºåSSDTÈ©±Âä®Ëß¶ÊéßÊùøÔºåÈü≥È¢ëÔºåÁîµÊ±†Áä∂ÊÄÅÔºå‰∫ÆÂ∫¶ÊéßÂà∂Á≠â„ÄÇ&lt;/p>
&lt;h3 id="6-1-ÂáÜÂ§á‰øÆË°•">[6-1] ÂáÜÂ§á‰øÆË°•&lt;/h3>
&lt;p>[6-1-1]&lt;/p>
&lt;p>ÂºÄÊú∫Âú® Clover ÂºïÂØºÁïåÈù¢‰∏≠Êåâ &lt;code>F4&lt;/code>ÔºåÊâÄÈúÄÊñá‰ª∂‰ºöÂä†ËΩΩÂà∞ &lt;code>EFI/Clover/ACPI/origin&lt;/code> ‰∏≠„ÄÇÈÄöËøá Clover Configurator ÊåÇËΩΩÂêØÂä®ÁöÑ EFIÔºàÈÄöËøáUÁõòÂêØÂä®Â∞±ÊåÇËΩΩUÁõòÔºâ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-1.png"
width="1279"
height="678"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-1_hu144b08cce4e790f431926a2da7d31c39_187647_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-1_hu144b08cce4e790f431926a2da7d31c39_187647_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="6-1"
class="gallery-image"
data-flex-grow="188"
data-flex-basis="452px"
>&lt;/p>
&lt;p>[6-1-2]&lt;/p>
&lt;p>Â∞Ü origin Êñá‰ª∂Â§πÂ§çÂà∂Âà∞Ê°åÈù¢ÔºåÂêåÊó∂Â∞Ü &lt;code>iasl&lt;/code> ËΩØ‰ª∂Â§çÂà∂Âà∞Êñá‰ª∂Â§π‰∏≠„ÄÇ&lt;/p>
&lt;p>[6-1-3]&lt;/p>
&lt;p>ÊâìÂºÄÁªàÁ´Ø&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> ~/Desktop
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir patched
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">./origin/iasl -da -dl DSDT.aml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>[6-1-4]&lt;/p>
&lt;p>ÊâìÂºÄ originÔºå‰ΩøÁî® &lt;code>MaciASL&lt;/code> ÊâìÂºÄÁîüÊàêÁöÑ &lt;strong>DSDT.dsl&lt;/strong> Êñá‰ª∂„ÄÇÁÇπÂáª CompileÔºåÁ°Æ‰øùÊ≤°ÊúâÈîôËØØ„ÄÇÔºàÈªòËÆ§Â∫îËØ•Ê≤°Êúâ errorÔºå‰ΩÜÊúâÂæàÂ§ö warningÔºåwarning ‰∏çÂøÖÂÖ≥Á≥ªÔºåËã•Êúâ error ËØ∑Â∞Ü error Â§Ñ‰ª£Á†ÅÊ≥®ÈáäÊàñÂà†Èô§Ôºâ&lt;/p>
&lt;p>[6-1-5]&lt;/p>
&lt;p>Á°Æ‰øùÊ≤°Êúâ errors ÂêéÔºåÁÇπÂáª Patch„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-2.png"
width="1025"
height="725"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-2_hu66c83b6f1d65cd60613cc338a3dbc89f_356101_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-2_hu66c83b6f1d65cd60613cc338a3dbc89f_356101_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="6-2"
class="gallery-image"
data-flex-grow="141"
data-flex-basis="339px"
>&lt;/p>
&lt;h3 id="6-2-‰øÆÂ§çÁîµÊ±†">[6-2] ‰øÆÂ§çÁîµÊ±†&lt;/h3>
&lt;p>[1] Âú®ÂºπÁ™óÁöÑÂ∑¶‰æßÁÇπÂáª &lt;code>_RehabMan Laptop/[bat]Razer Blade (2014)&lt;/code> ÔºåÁ≠âÂæÖÂè≥‰æßËøõË°åÂåπÈÖçÂêéÁÇπÂáª Apply„ÄÇ&lt;/p>
&lt;p>Â¶ÇÊûúÁΩëÁªú‰∏çÂ•ΩÁöÑËØùÂèØËÉΩÊó†Ê≥ïÂä†ËΩΩÔºàgithubÔºâÔºåËØ∑ÂàáÊç¢Âà∞ÂêàÈÄÇÁöÑÁΩëÁªúÔºåÊàñËÆøÈóÆ &lt;a class="link" href="https://github.com/RehabMan/Laptop-DSDT-Patch/blob/master/battery/battery_Razer-Blade-2014.txt" target="_blank" rel="noopener"
>ËøôÈáå&lt;/a>ÔºåÊàñÂ§çÂà∂‰ª•‰∏ã‰ª£Á†Å„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-3.png"
width="1025"
height="725"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-3_hu7d9acb8df49ac7ec09c34c4f5acd4d1b_432072_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-3_hu7d9acb8df49ac7ec09c34c4f5acd4d1b_432072_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="6-3"
class="gallery-image"
data-flex-grow="141"
data-flex-basis="339px"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-txt" data-lang="txt">&lt;span class="line">&lt;span class="cl">#Maintained by: RehabMan for: Laptop Patches
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#battery_Razer-Blade-2014.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># created by sidelia 2016-01-17
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># changes for Razer Blade Stealth (Kaby Lake) by BlenderSleuth (minor fixes by RehabMan)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># works for:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Razer Blade (2014)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Razer Blade Stealth (Kaby Lake), per BlenderSleuth
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Razer Blade (14&amp;#34;, late 2016)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Razer Blade Pro (2017)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Razer Blade 15 (2018), per JomanJi/blodtanner
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into method label B1B2 remove_entry;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into definitionblock code_regex . insert
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">begin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Method (B1B2, 2, NotSerialized) { Return(Or(Arg0, ShiftLeft(Arg1, 8))) }\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">end;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into device label EC0 code_regex BIF1,\s+16, replace_matched begin IF10,8,IF11,8, end;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into device label EC0 code_regex BIF2,\s+16, replace_matched begin IF20,8,IF21,8, end;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into device label EC0 code_regex BIF3,\s+16, replace_matched begin IF30,8,IF31,8, end;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into device label EC0 code_regex BIF4,\s+16, replace_matched begin IF40,8,IF41,8, end;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into device label EC0 code_regex BST0,\s+16, replace_matched begin ST00,8,ST01,8, end;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into device label EC0 code_regex BST1,\s+16, replace_matched begin ST10,8,ST11,8, end;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into device label EC0 code_regex BST2,\s+16, replace_matched begin ST20,8,ST21,8, end;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into device label EC0 code_regex BST3,\s+16, replace_matched begin ST30,8,ST31,8, end;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into method label _BIF code_regex \^\^EC0\.BIF1, replaceall_matched begin B1B2(^^EC0.IF10,^^EC0.IF11), end;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into method label _BIF code_regex \^\^EC0\.BIF2, replaceall_matched begin B1B2(^^EC0.IF20,^^EC0.IF21), end;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into method label _BIF code_regex \^\^EC0\.BIF3, replaceall_matched begin B1B2(^^EC0.IF30,^^EC0.IF31), end;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into method label _BIF code_regex \^\^EC0\.BIF4, replaceall_matched begin B1B2(^^EC0.IF40,^^EC0.IF41), end;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into method label _BST code_regex \^\^EC0\.BST0, replaceall_matched begin B1B2(^^EC0.ST00,^^EC0.ST01), end;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into method label _BST code_regex \^\^EC0\.BST1, replaceall_matched begin B1B2(^^EC0.ST10,^^EC0.ST11), end;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into method label _BST code_regex \^\^EC0\.BST2, replaceall_matched begin B1B2(^^EC0.ST20,^^EC0.ST21), end;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into method label _BST code_regex \^\^EC0\.BST3, replaceall_matched begin B1B2(^^EC0.ST30,^^EC0.ST31), end;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># added for Razer Blade 15 (2018), per JomanJi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into device label EC0 code_regex BIF0,\s+16, replace_matched begin IF00,8,IF01,8, end;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into method label _BIF code_regex \(\^\^EC0.BIF0, replaceall_matched begin (B1B2(\^\^EC0.IF00,\^\^EC0.IF01), end;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># utility methods to read/write buffers from/to EC
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into method label RE1B parent_label EC0 remove_entry;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into method label RECB parent_label EC0 remove_entry;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into device label EC0 insert
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">begin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Method (RE1B, 1, NotSerialized)\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> OperationRegion(ERAM, EmbeddedControl, Arg0, 1)\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Field(ERAM, ByteAcc, NoLock, Preserve) { BYTE, 8 }\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Return(BYTE)\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Method (RECB, 2, Serialized)\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">// Arg0 - offset in bytes from zero-based EC\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">// Arg1 - size of buffer in bits\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ShiftRight(Add(Arg1,7), 3, Arg1)\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Name(TEMP, Buffer(Arg1) { })\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Add(Arg0, Arg1, Arg1)\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Store(0, Local0)\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> While (LLess(Arg0, Arg1))\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Store(RE1B(Arg0), Index(TEMP, Local0))\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Increment(Arg0)\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Increment(Local0)\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Return(TEMP)\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">end;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># buffer fields
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into device label EC0 code_regex (ECCM,)\s+(256) replace_matched begin ECCX,%2,//%1%2 end;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into method label _BIF code_regex \(\^\^EC0.ECCM, replaceall_matched begin (^^EC0.RECB(0x60,256), end;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>[2] ÁÇπÂáª CompileÔºåÁ°Æ‰øùÊ≤°ÊúâÈîôËØØ„ÄÇÔºàÈªòËÆ§ÊÉÖÂÜµ‰∏ãÊ≤°ÊúâÔºå‰∏çÂêåÁâàÊú¨BIOSÂèØËÉΩÊÉÖÂÜµ‰∏çÂêåÔºâ„ÄÇ&lt;/p>
&lt;h3 id="6-4-‰øÆÂ§çÈáçÂêØ‰øùÂ≠òËÉåÂÖâ‰∫ÆÂ∫¶">[6-4] ‰øÆÂ§çÈáçÂêØ‰øùÂ≠òËÉåÂÖâ‰∫ÆÂ∫¶&lt;/h3>
&lt;p>[6-4-1]&lt;/p>
&lt;p>Âú®Â∑¶‰æßËèúÂçïÊ†èÂêë‰∏ãÊªëÂä®ÔºåÊâæÂà∞ &lt;code>[gfx0] Disable/Enable on _WAK/_PTS (DSDT)&lt;/code>ÔºåÁÇπÂáªÈÉΩÂçïÂáª Apply„ÄÇ&lt;/p>
&lt;p>ÁΩëÁªú‰∏çÂ•ΩÂèØÁÇπÂáª &lt;a class="link" href="https://github.com/RehabMan/Laptop-DSDT-Patch/blob/master/graphics/graphics_PTS_WAK-disable.txt" target="_blank" rel="noopener"
>ËøôÈáå&lt;/a> ÊàñÂ§çÂà∂‰ª•‰∏ã‰ª£Á†Å„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-txt" data-lang="txt">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#Maintained by: RehabMan for: Laptop Patches
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#graphics_PTS_WAK-disable.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># The purpose of this patch is to add code to to _WAK
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># that disables Radeon/nvidia on wake and add code
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># to _PTS that enables it on _PTS.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># The path of _OFF may have to be customized to match your SSDTs
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># The patch attempts to identify the correct _REG by using
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># the ACPI PNP identifier for the EC.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Use this patch if you experience trouble shutting down
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># or restarting your laptop when disabling nvida/radeon.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into method label _PTS code_regex ([\s\S]*) replace_matched
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">begin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">External(\\_SB.PCI0.PEG0.PEGP._ON, MethodObj)\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">If (CondRefOf(\\_SB.PCI0.PEG0.PEGP._ON)) { \\_SB.PCI0.PEG0.PEGP._ON() }\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">%1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">end;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into method label _WAK code_regex (Return\s+\(.*) replace_matched
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">begin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">External(\\_SB.PCI0.PEG0.PEGP._OFF, MethodObj)\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">If (CondRefOf(\\_SB.PCI0.PEG0.PEGP._OFF)) { \\_SB.PCI0.PEG0.PEGP._OFF() }\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">%1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">end;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>[6-4-2] Êåâ command + F ÊêúÁ¥¢ &lt;code>Device (ALSD)&lt;/code>ÔºåÊâæÂà∞Â¶ÇÂõæ‰ª£Á†ÅÔºåÂ∞ÜÂÖ∂ÊõøÊç¢‰∏∫‰ª•‰∏ã‰ª£Á†Å„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-4.png"
width="1025"
height="725"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-4_hub68a8a966914faccc2fa404696284489_152896_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-4_hub68a8a966914faccc2fa404696284489_152896_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="6-4"
class="gallery-image"
data-flex-grow="141"
data-flex-basis="339px"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-txt" data-lang="txt">&lt;span class="line">&lt;span class="cl">Device (_SB.ALS0)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Name (_HID, &amp;#34;ACPI0008&amp;#34;) // _HID: Hardware ID
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Name (_CID, &amp;#34;smc-als&amp;#34;) // _STA: Status
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Name (_ALI, 300) // _ALI: Ambient Light Illuminance
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Name (_ALR, Package () // _ALR: Ambient Light Response
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Package () { 100, 300 },
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> })
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-5.png"
width="1025"
height="725"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-5_hub980ce45be6280fc8a0a8de2a9044e65_256600_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-5_hub980ce45be6280fc8a0a8de2a9044e65_256600_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="6-5"
class="gallery-image"
data-flex-grow="141"
data-flex-basis="339px"
>&lt;/p>
&lt;h3 id="6-3-‰øÆÂ§çËß¶ÊéßÊùø">[6-3] ‰øÆÂ§çËß¶ÊéßÊùø&lt;/h3>
&lt;p>ÁÅµÂàÉ 15 ÁöÑÊ†áÂáÜÁâàÂíåÁ≤æËã±Áâà‰ΩøÁî®ÁöÑËß¶ÊéßÊùø‰∏çÂêåÔºåËØ∑Ê†πÊçÆËá™Â∑±ÁöÑÁîµËÑëËøõË°åÈÄâÊã©‰øÆÂ§çÊñπÊ°à„ÄÇ&lt;/p>
&lt;h4 id="6-3-1-Ê†áÂáÜÁâà">[6-3-1] Ê†áÂáÜÁâà&lt;/h4>
&lt;p>[6-3-1-1]&lt;/p>
&lt;p>ÁªßÁª≠ÊêúÁ¥¢ &lt;code>SSCN&lt;/code>„ÄÇÊâæÂà∞ Scope ‰∏∫ &lt;code>_SB.PCI0.I2C0&lt;/code> ‰∏ãÁöÑ SSCN ÊñπÊ≥ï„ÄÇÂ§çÂà∂ SSCN ‰∏é FMCNÔºàÂú® SSCN ‰∏ãÊñπÔºâËøô ‰∏§‰∏™ÊñπÊ≥ï„ÄÇÂπ∂Â∞ÜËøô‰∏§‰∏™ÊñπÊ≥ïÂ¶ÇÂõæÈáçÂëΩÂêçÔºà‰πüÂèØÈÄâÊã©Âà†Èô§Ôºâ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-6.png"
width="1025"
height="725"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-6_hu7d9acb8df49ac7ec09c34c4f5acd4d1b_280587_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-6_hu7d9acb8df49ac7ec09c34c4f5acd4d1b_280587_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="6-6"
class="gallery-image"
data-flex-grow="141"
data-flex-basis="339px"
>&lt;/p>
&lt;p>ÈáçÂëΩÂêç‰∏∫Ôºö&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-7.png"
width="1025"
height="725"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-7_hu3f7d5d77e0868263a4b670cd80a4de9e_282582_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-7_hu3f7d5d77e0868263a4b670cd80a4de9e_282582_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="6-7"
class="gallery-image"
data-flex-grow="141"
data-flex-basis="339px"
>&lt;/p>
&lt;p>[6-3-1-3]&lt;/p>
&lt;p>ÊêúÁ¥¢ TPD0„ÄÇÂ∞Ü‰πãÂâçÂâ™ÂàáÁöÑ‰∏§‰∏™ÊñπÊ≥ïÊîæÂà∞ &lt;code>_INI&lt;/code> ÊñπÊ≥ïÂêé„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-8.png"
width="1025"
height="725"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-8_hu7d9acb8df49ac7ec09c34c4f5acd4d1b_154135_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-8_hu7d9acb8df49ac7ec09c34c4f5acd4d1b_154135_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="6-8"
class="gallery-image"
data-flex-grow="141"
data-flex-basis="339px"
>&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-9.png"
width="1025"
height="725"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-9_hu7d9acb8df49ac7ec09c34c4f5acd4d1b_286656_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-9_hu7d9acb8df49ac7ec09c34c4f5acd4d1b_286656_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="6-9"
class="gallery-image"
data-flex-grow="141"
data-flex-basis="339px"
>&lt;/p>
&lt;p>[6-3-1-4]&lt;/p>
&lt;p>Âêë‰∏ãÊâæÂà∞Â¶Ç‰∏ã‰ª£Á†Å„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-10.png"
width="1025"
height="725"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-10_hu23d7821cfcc16e2238565e92d2428825_290461_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-10_hu23d7821cfcc16e2238565e92d2428825_290461_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="6-10"
class="gallery-image"
data-flex-grow="141"
data-flex-basis="339px"
>&lt;/p>
&lt;p>Â∞ÜÂÖ∂Êõ¥Êîπ‰∏∫Â¶ÇÂõæ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-11.png"
width="1025"
height="725"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-11_hu1c5f5c37fa8eeab89aecaea9b074d8a6_267651_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-11_hu1c5f5c37fa8eeab89aecaea9b074d8a6_267651_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="6-11"
class="gallery-image"
data-flex-grow="141"
data-flex-basis="339px"
>&lt;/p>
&lt;h4 id="6-3-2-Á≤æËã±Áâà">[6-3-2] Á≤æËã±Áâà&lt;/h4>
&lt;p>[6-3-2-1]&lt;/p>
&lt;p>Âú® Patch È°µÈù¢‰∏≠Á≤òË¥¥‰ª•‰∏ã‰ª£Á†Å‰ª£Á†ÅÔºåÁÇπÂáª Apply„ÄÇ&lt;/p>
&lt;p>[6-3-2-2]&lt;/p>
&lt;p>ÁÇπÂáª Compile ËøõË°åÁºñËØëÁ°ÆÂÆöÊó† errorÔºàÈªòËÆ§Ê≤°ÊúâÔºâ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-txt" data-lang="txt">&lt;span class="line">&lt;span class="cl">into method label _STA parent_label GPI0 replace_content begin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Return (0x0F)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">end;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">into_all method label _CRS parent_label TPD0 replace_content begin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ConcatenateResTemplate (SBFB, SBFI)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">end;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="6-4-‰øùÂ≠ò‰øÆÊîπÂ•ΩÁöÑ-dsdtaml">[6-4] ‰øùÂ≠ò‰øÆÊîπÂ•ΩÁöÑ DSDT.aml&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>ÁÇπÂáª File -&amp;gt; save as „ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>File Format ÈÄâÊã© &lt;code>ACPI Machine Language Binary&lt;/code>„ÄÇÂëΩÂêç‰∏∫ DSDT.aml„ÄÇÂ≠òÂÖ•Ê°åÈù¢‰∏≠ÁöÑ parched Êñá‰ª∂Â§π‰∏≠„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="6-5-Â±èËîΩ-nvdia-ÊòæÂç°">[6-5] Â±èËîΩ Nvdia ÊòæÂç°&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>Â¶ÇÊûú‰Ω†ÈÄâÊã©ÂÆâË£Ö High Sierra ÂÆâË£Ö WebDriver ‰ΩøÁî® Nvidia ÊòæÂç°ÁöÑËØùÔºå‰∏çÁî®ËØ•Ë°•‰∏Å&lt;/strong>„ÄÇ&lt;/li>
&lt;/ul>
&lt;p>[ÁÇπÂáªËøôÈáåÊü•ÁúãÊîØÊåÅÈ©±Âä®ÁöÑ High Sierra ](&lt;a class="link" href="https://www.tonymacx86.com/nvidia-drivers/" target="_blank" rel="noopener"
>https&lt;/a> : &lt;a class="link" href="https://www.tonymacx86.com/nvidia-drivers/" target="_blank" rel="noopener"
>//www.tonymacx86.com/nvidia-drivers/&lt;/a>)&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Âú®ÁöÑÁ¨îËÆ∞Êú¨‰∏ä‰ΩøÁî®ËØ•Ë°•‰∏Å‰ºöÂØºËá¥ type-c ËΩ¨ËßÜÈ¢ëÊé•Âè£Êó†‰ø°Âè∑ÔºåÊó†Ê≥ïÊãìÂ±ïÊòæÁ§∫Âô®ÔºåËã•Âá∫Áé∞Áõ∏ÂêåÊÉÖÂÜµËØ∑Âà†Èô§ËØ•Ë°•‰∏Å„ÄÇ&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>[6-5-1]&lt;/p>
&lt;p>ÂÜçÊ¨°ËøõÂÖ• origin Êñá‰ª∂Â§π‰∏≠ÔºåÂú®ÁªàÁ´ØËæìÂÖ•&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">./origin/iasl -da -dl SSDT-12-OptTabl.aml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>[6-5-2]&lt;/p>
&lt;p>Ê†πÊçÆ‰∏äÊñπ‰øÆË°•ÁîµÊ±†Áä∂ÊÄÅÔºåËß¶ÊéßÊùøÁöÑÊñπÂºèÁ±ª‰ººÔºå‰ΩøÁî® MaciASL ÊâìÂºÄ &lt;strong>SSDT-12-OptTabl.dsl&lt;/strong>&lt;/p>
&lt;p>[6-5-3]&lt;/p>
&lt;p>Êåâ command + F ÊêúÁ¥¢‰ª•‰∏ã‰ª£Á†Å&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-txt" data-lang="txt">&lt;span class="line">&lt;span class="cl">Method (_OFF, 0, Serialized) // _OFF: Power Off
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-12.png"
width="1025"
height="725"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-12_hu2676900d025708aa224f75aaa3467a9c_159091_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-12_hu2676900d025708aa224f75aaa3467a9c_159091_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="6-12"
class="gallery-image"
data-flex-grow="141"
data-flex-basis="339px"
>&lt;/p>
&lt;p>[6-5-4]&lt;/p>
&lt;p>Âú®ËØ•‰ª£Á†Å‰∏äÊñπÔºåÁ≤òË¥¥‰ª•‰∏ã‰ª£Á†Å&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-txt" data-lang="txt">&lt;span class="line">&lt;span class="cl">Method (_INI) {_OFF() } // added to call _OFF
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>[6-5-5]&lt;/p>
&lt;p>ÁÇπÂáª patchÔºåÂ∞Ü‰ª•‰∏ã‰ª£Á†ÅÁ≤òË¥¥Âà∞ÂºπÁ™ó‰∏≠ÔºåÁÇπÂáª apply„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-txt" data-lang="txt">&lt;span class="line">&lt;span class="cl">into method label _INI parent_label \_SB.PCI0.GFX0 insert
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">begin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">//added to turn nvidia/radeon off\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">External(\_SB.PCI0.PEG0.PEGP._OFF, MethodObj)\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">\n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">end;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>[6-5-6]&lt;/p>
&lt;p>ÁÇπÂáªÁºñËØëÔºåÂá∫Áé∞‰∏Ä‰∏™ÈîôËØØ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-13.png"
width="1025"
height="725"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-13_hua74e3ca4eeedf7cfd113fba4cc112dcf_385932_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-13_hua74e3ca4eeedf7cfd113fba4cc112dcf_385932_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="6-13"
class="gallery-image"
data-flex-grow="141"
data-flex-basis="339px"
>&lt;/p>
&lt;p>[6-5-7]&lt;/p>
&lt;p>ÊêúÁ¥¢‰∏Ä‰∏ã‰ª£Á†ÅÔºåÂπ∂Â∞ÜÂÖ∂Âà†Èô§ÔºåÂÜçÊ¨°ÁºñËØë„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">External &lt;span class="o">(&lt;/span>_SB_.PCI0.PEG0.TGPC, IntObj&lt;span class="o">)&lt;/span> // &lt;span class="o">(&lt;/span>from opcode&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-14.png"
width="1025"
height="725"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-14_huc397bebb9da1198e3070ace5d1200979_429156_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-14_huc397bebb9da1198e3070ace5d1200979_429156_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="6-10"
class="gallery-image"
data-flex-grow="141"
data-flex-basis="339px"
>&lt;/p>
&lt;p>[6-5-8]&lt;/p>
&lt;p>ÁÇπÂáª File -&amp;gt; Save As„ÄÇÂ∞ÜÊúÄÁªàÁöÑ /aml Êñá‰ª∂‰øùÂ≠ò„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-15.png"
width="1025"
height="725"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-15_huc397bebb9da1198e3070ace5d1200979_427498_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-15_huc397bebb9da1198e3070ace5d1200979_427498_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="6-11"
class="gallery-image"
data-flex-grow="141"
data-flex-basis="339px"
>&lt;/p>
&lt;h3 id="6-6-Âà∂‰Ωú-ssdt-usbxaml">[6-6] Âà∂‰Ωú SSDT-USBX.aml&lt;/h3>
&lt;p>Â¶ÇÊûúÊÉ≥Âà∂‰ΩúËá™Â∑±ÁöÑ SSDT-USBX.aml„ÄÇËØ∑ÂèÇËÄÉ &lt;a class="link" href="https://github.com/stonevil/Razer_Blade_Advanced_early_2019_Hackintosh#usb-mapping" target="_blank" rel="noopener"
>ÁÇπÊàë„ÄÇ&lt;/a>&lt;/p>
&lt;p>‰ΩøÁî® USBMap„ÄÇ&lt;a class="link" href="https://github.com/corpnewt/USBMap" target="_blank" rel="noopener"
>ÁÇπÊàë&lt;/a>&lt;/p>
&lt;h3 id="6-7-Â§çÂà∂Êèê‰æõÁöÑÁöÑ-aml-Êñá‰ª∂">[6-7] Â§çÂà∂Êèê‰æõÁöÑÁöÑ .aml Êñá‰ª∂&lt;/h3>
&lt;p>Â∞ÜÊñá‰ª∂Â§π‰∏≠ÁöÑ SSDT-PNLF.amlÔºåSSDT-UIAC-ALL.amlÔºåSSDT-USBX.amlÔºåSSDT-XOSI.aml Âêå‰∏äÈù¢‰øÆË°•ÁöÑ‰∏§‰∏™Êñá‰ª∂‰∏ÄÂêåÊîæÂÖ• patched Êñá‰ª∂Â§π‰∏≠ÔºåÊúÄÂêé patched Êñá‰ª∂Â§π‰∏≠Â∫îËØ•ÊúâÂ¶Ç‰∏ã6‰∏™Êñá‰ª∂„ÄÇ&lt;/p>
&lt;p>&lt;strong>Â¶ÇÊûú type-c ËΩ¨ËßÜÈ¢ëÊé•Âè£Êó†‰ø°Âè∑ÔºåËØ∑Âà†Èô§SSDT-12-OptTabl.aml&lt;/strong>&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-16.png"
width="618"
height="293"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-16_hu06ceecd71981737f4621cc2ff5d5371e_32019_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/6-16_hu06ceecd71981737f4621cc2ff5d5371e_32019_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="6-16"
class="gallery-image"
data-flex-grow="210"
data-flex-basis="506px"
>&lt;/p>
&lt;h2 id="7-ÁΩëÂç°">[7] ÁΩëÂç°&lt;/h2>
&lt;h3 id="7-1-Êõ¥Êç¢ÂçöÈÄöÁΩëÂç°">[7-1] Êõ¥Êç¢ÂçöÈÄöÁΩëÂç°&lt;/h3>
&lt;p>Âú®ÁΩë‰∏äÊâæËøáÊãÜÊú∫ÂõæÔºåÁΩëÂç°ÈôÑËøëÁöÑ‰ΩçÁΩÆËøòÊòØÊå∫Â§öÁöÑÔºåÊàëÁöÑÈÄâÊã©ÊòØÊãÜÊú∫ÁöÑ &lt;code>BCM94360cs2&lt;/code> + ËΩ¨Êé•Âç°ÔºåÂèØÁõ¥Êé•ÂÖçÈ©±‰ΩøÁî®„ÄÇ&lt;/p>
&lt;p>Áõ∏ÊØî‰ΩøÁî®ÂéüË£ÖÁöÑÁΩëÂç°‰ΩçÁΩÆÁ®çÊúâÁÇπÈ´òÔºåÂéãÂú®‰∏ÄÊ†πÁöÑÊéíÁ∫ø‰∏äÔºå‰ΩÜÊòØ‰∏çÂΩ±ÂìçÔºåÂ¶ÇÈÄâÊã©ÂêåÊ¨æÁΩëÂç°ÔºåËØ∑Ê≥®ÊÑèÁªùÁºòÔºåÂª∫ËÆÆ‰∏äËû∫‰∏ùÁöÑÊó∂ÂÄô‰∏çË¶ÅÊãßÂ§™Á¥ßÔºå‰∏çÊùæÂä®Âç≥ÂèØ„ÄÇË£Ö‰∏ä‰πãÂêéÁöÑÊïàÊûúÂ¶ÇÂõæ„ÄÇ&lt;/p>
&lt;p>**Â∞èÊèêÁ§∫: **ÊãßËû∫‰∏ùÂâçÊúÄÂ•ΩÊääÊòìÁ¢éË¥¥ÁªôÊ∏ÖÁêÜÂπ≤ÂáÄ„ÄÇËøô‰∏™Ë¥¥Á∫∏ÂàÜÈáèÂ§™Ë∂≥ÔºåÂç°Âú®Ëû∫‰∏ùÂ≠î‰∏≠ÂØºËá¥‰∏ÄÁõ¥Êªë‰∏ù„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/7-1.png"
width="574"
height="668"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/7-1_hu1161da1d8dba47d941a13aa6ae79cf52_787645_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/7-1_hu1161da1d8dba47d941a13aa6ae79cf52_787645_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="7-1"
class="gallery-image"
data-flex-grow="85"
data-flex-basis="206px"
>&lt;/p>
&lt;p>**‰ΩøÁî®ÊïàÊûú: **2.4G WIFI Âíå ËìùÁâôÊúâÂπ≤Êâ∞ÔºåÂ∞§ÂÖ∂ÊòØ 2.4G WIFI ‰ΩøÁî®Â∏¶ÂÆΩÈ´òÁöÑÊó∂ÂÄôÔºåËìùÁâôÂá†‰πé‰∏çËÉΩÁî®„ÄÇÂÖ∂‰ªñ‰ΩøÁî®Âú∫ÊôØÂü∫Êú¨ËâØÂ•Ω„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ÊÉ≥ÊäòËÖæÁöÑËØùÂèØÈÄâÊã© &lt;code>DW1820A&lt;/code>ÔºåÂèØÂèÇËÄÉ &lt;a class="link" href="https://blog.daliansky.net/DW1820A_BCM94350ZAE-driver-inserts-the-correct-posture.html" target="_blank" rel="noopener"
>ËøôÈáå„ÄÇ&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂçöÈÄö &lt;code>BCM94352Z&lt;/code> ÔºåÁé∞Âú®‰ª∑Èí±Ë¢´ÁÇíÁöÑÂæàÈ´òÔºåÁõÆÂâçÂ∞ÜËøë 300ÔºåÊúâÈí±ÈöèÊÑè„ÄÇ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="7-2-‰ΩøÁî®Ëá™Â∏¶ÁΩëÂç°">[7-2] ‰ΩøÁî®Ëá™Â∏¶ÁΩëÂç°&lt;/h3>
&lt;p>Intel ËìùÁâôÈªòËÆ§ÂÖçÈ©±ÔºåWiFi ÁõÆÂâçÊó†Ëß£„ÄÇ&lt;/p>
&lt;p>ËìùÁâô‰ªé windows ÈáçÂêØËøõÂÖ• macOS ÂèØ‰ΩøÁî®ÔºàÁΩëÂç°Êú™Êñ≠ÁîµÊâÄ‰ª•‰∏ä‰º†‰∫ÜÈ©±Âä®Ôºâ„ÄÇ&lt;/p>
&lt;p>Â∞Ü &lt;a class="link" href="https://github.com/zxystd/IntelBluetoothFirmware/releases" target="_blank" rel="noopener"
>ËØ•È©±Âä®&lt;/a> ÊîæÂÖ• EFI/CLOVER/kextsÔºåÂèØ‰ª•ÂÆûÁé∞ÂÜ∑ÂêØÂä®È©±Âä®Ëá™Â∏¶ÁΩëÂç°ËìùÁâô„ÄÇ&lt;/p>
&lt;p>**‰ΩøÁî®ÊïàÊûú: **ËìùÁâôÈîÆÁõòÔºåËìùÁâôÈü≥ÁÆ±Ê≤°ÊúâÈóÆÈ¢òÔºåËìùÁâôÈº†Ê†áË≤å‰ºº‰∏çËÉΩÁî®„ÄÇ&lt;/p>
&lt;h3 id="7-3-‰ΩøÁî®usbÁΩëÂç°">[7-3] ‰ΩøÁî®USBÁΩëÂç°&lt;/h3>
&lt;p>usb ÁΩëÂç°È©±Âä®ÂÆâË£Ö„ÄÇ&lt;a class="link" href="https://github.com/chris1111/Wireless-USB-Adapter-Clover/releases" target="_blank" rel="noopener"
>ÁÇπÊàë„ÄÇ&lt;/a>&lt;/p>
&lt;ul>
&lt;li>COMFAST CF-WU815N 150M ÂçïÈ¢ë&lt;/li>
&lt;li>COMFAST CF-811AC 650M ÂèåÈ¢ë&lt;/li>
&lt;li>COMFAST CF-812AC 1300M ÂèåÈ¢ë&lt;/li>
&lt;li>Êõ¥Â§öÂÖ∂‰ªñÂûãÂè∑Ëá™Ë°åÊêúÁ¥¢&lt;/li>
&lt;/ul>
&lt;h2 id="8-‰∏Ä‰∫õ‰ºòÂåñ">[8] ‰∏Ä‰∫õ‰ºòÂåñ&lt;/h2>
&lt;h3 id="8-1-hidpi">[8-1] HIDPI&lt;/h3>
&lt;p>ÂºÄÂêØ HIDPI ÂêéÂèØËÉΩ‰ºöÂØºËá¥ÂºÄÊú∫Á¨¨‰∫åÈò∂ÊÆµ Logo ÂèòÂ§ßÔºåÂõ†‰∏∫ÂàÜËæ®ÁéáÊòØ‰ªøÂÜíÁöÑÔºå‰∏çÂΩ±Âìç‰ΩøÁî®„ÄÇ&lt;/p>
&lt;p>‰ΩøÁî®ÁªàÁ´ØÊâßË°åÔºö&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">sh -c &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>curl -fsSL https://raw.githubusercontent.com/xzhih/one-key-hidpi/master/hidpi.sh&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>
&lt;p>ÈÄâÊã© &amp;ldquo;ÂºÄÂêØ HIDPI&amp;rdquo;&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÊòæÁ§∫ÁöÑ ICON ÈÄâÊã© Macbook ProÔºàÂú®ËÆæÁΩÆÁïåÈù¢ÊòæÁ§∫ÁöÑÊ†∑ÂºèÔºâ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÈÄâÊã©ÂàÜËæ®ÁéáÈÖçÁΩÆ 1080P ÊòæÁ§∫Âô®ÔºàÊ†πÊçÆËá™Ë∫´ÊÉÖÂÜµÈÄâÊã©Ôºâ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Êõ¥Â§öËØ¶ÁªÜÊÉÖÂÜµÂèØÂèÇËÄÉËøôÁØáÊñáÁ´†„ÄÇ&lt;a class="link" href="https://www.sqlsec.com/2018/09/hidpi.html" target="_blank" rel="noopener"
>ÁÇπÊàë„ÄÇ&lt;/a>&lt;/p>
&lt;h3 id="8-2-ÊâìÂºÄ-trim">[8-2] ÊâìÂºÄ TRIM&lt;/h3>
&lt;p>Â¶ÇÊûú‰ΩøÁî® SSDÔºå‰∏ÄÂÆöË¶ÅÊâìÂºÄ TRIMÔºåÈò≤Ê≠¢Á≥ªÁªüÂ§öÊ¨°Êì¶ÂÜôÔºåÁ°Æ‰øùÁ°¨ÁõòÂØøÂëΩ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">sudo trimforce &lt;span class="nb">enable&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÂÆåÊàêÂêéÁ≥ªÁªü‰ºöËøõË°å‰∏ÄÊ¨°ÈáçÂêØ„ÄÇ&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/8-1.png"
width="597"
height="392"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/8-1_hu7ef8c94d672dd32ca37ffb306a046a5c_44030_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/8-1_hu7ef8c94d672dd32ca37ffb306a046a5c_44030_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="8-1"
class="gallery-image"
data-flex-grow="152"
data-flex-basis="365px"
>&lt;/p>
&lt;h3 id="8-3-Á¶ÅÁî®Áù°Áú†">[8-3] Á¶ÅÁî®Áù°Áú†&lt;/h3>
&lt;p>Âú®ÁªàÁ´ØËøêË°å‰ª•‰∏ãÂëΩ‰ª§ÔºåÂπ∂Âú® ËÆæÁΩÆ -&amp;gt; ËäÇËÉΩ ‰∏≠ÂÖ≥Èó≠Áõ∏Â∫îËÆæÁΩÆ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">sudo pmset -a hibernatemode &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo rm /var/vm/sleepimage
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo mkdir /var/vm/sleepimage
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/8-2.png"
width="668"
height="447"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/8-2_hud42e2df37bc11de06acd6253c0889518_56255_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/8-2_hud42e2df37bc11de06acd6253c0889518_56255_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="8-2"
class="gallery-image"
data-flex-grow="149"
data-flex-basis="358px"
>&lt;/p>
&lt;p>&lt;img src="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/8-3.png"
width="668"
height="447"
srcset="https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/8-3_hu811770682d9683eef53048df303f786e_59426_480x0_resize_box_3.png 480w, https://emerywan.github.io/blog/blog/p/razer-blade-base-hackintosh/8-3_hu811770682d9683eef53048df303f786e_59426_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="8-3"
class="gallery-image"
data-flex-grow="149"
data-flex-basis="358px"
>&lt;/p>
&lt;h3 id="8-4-Ê¥óÁôΩÂ∫èÂàóÂè∑">[8-4] ‚ÄúÊ¥óÁôΩ‚ÄùÂ∫èÂàóÂè∑&lt;/h3>
&lt;p>ÁΩëÁªú‰∏äÂ∑≤ÁªèÊúâÂæàÂ§öÊïôÁ®ãÔºåËá™Ë°åÊêú‰∏Ä‰∏ã„ÄÇ&lt;/p>
&lt;h1 id="ÂèÇËÄÉ">ÂèÇËÄÉ&lt;/h1>
&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/stonevil/Razer_Blade_Advanced_early_2019_Hackintosh" target="_blank" rel="noopener"
>https://github.com/stonevil/Razer_Blade_Advanced_early_2019_Hackintosh&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.tonymacx86.com/threads/guide-razer-blade-15-2018-detailed-install-guide-high-sierra-10-13-6-17g2208-17g5019.264017/" target="_blank" rel="noopener"
>https://www.tonymacx86.com/threads/guide-razer-blade-15-2018-detailed-install-guide-high-sierra-10-13-6-17g2208-17g5019.264017/&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://blog.daliansky.net/" target="_blank" rel="noopener"
>https://blog.daliansky.net/&lt;/a>&lt;/li>
&lt;/ul></description></item></channel></rss>
<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="ç´¢å¼• ç´¢å¼•ï¼ˆindexï¼‰æ˜¯å¸®åŠ© MySQL é«˜æ•ˆè·å–æ•°æ®çš„æ•°æ®ç»“æ„ï¼Œæé«˜æŸ¥è¯¢æ•ˆç‡ã€‚ ä¼˜ç‚¹ æé«˜æ•°æ®çš„æŸ¥è¯¢é€Ÿåº¦ é™ä½æ•°æ®åº“çš„ IO æˆæœ¬ ç¼ºç‚¹ å ç”¨ç£ç›˜ç©ºé—´ å¢åˆ æ”¹éœ€è¦ç»´æŠ¤ç´¢"><title>MySQL ç´¢å¼•</title><link rel=canonical href=https://emerywan.github.io/blog/p/mysql/index/><link rel=stylesheet href=/blog/scss/style.min.53b36bd111ab91c36b669e22939503ad8be1ecdac357e4514855ae8d8deda711.css><meta property="og:title" content="MySQL ç´¢å¼•"><meta property="og:description" content="ç´¢å¼• ç´¢å¼•ï¼ˆindexï¼‰æ˜¯å¸®åŠ© MySQL é«˜æ•ˆè·å–æ•°æ®çš„æ•°æ®ç»“æ„ï¼Œæé«˜æŸ¥è¯¢æ•ˆç‡ã€‚ ä¼˜ç‚¹ æé«˜æ•°æ®çš„æŸ¥è¯¢é€Ÿåº¦ é™ä½æ•°æ®åº“çš„ IO æˆæœ¬ ç¼ºç‚¹ å ç”¨ç£ç›˜ç©ºé—´ å¢åˆ æ”¹éœ€è¦ç»´æŠ¤ç´¢"><meta property="og:url" content="https://emerywan.github.io/blog/p/mysql/index/"><meta property="og:site_name" content="ä¸€å±‚"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="MySQL"><meta property="article:published_time" content="2022-06-30T14:02:02+08:00"><meta property="article:modified_time" content="2022-06-30T14:02:02+08:00"><meta property="og:image" content="https://emerywan.github.io/blog/imgs/15.jpeg"><meta name=twitter:title content="MySQL ç´¢å¼•"><meta name=twitter:description content="ç´¢å¼• ç´¢å¼•ï¼ˆindexï¼‰æ˜¯å¸®åŠ© MySQL é«˜æ•ˆè·å–æ•°æ®çš„æ•°æ®ç»“æ„ï¼Œæé«˜æŸ¥è¯¢æ•ˆç‡ã€‚ ä¼˜ç‚¹ æé«˜æ•°æ®çš„æŸ¥è¯¢é€Ÿåº¦ é™ä½æ•°æ®åº“çš„ IO æˆæœ¬ ç¼ºç‚¹ å ç”¨ç£ç›˜ç©ºé—´ å¢åˆ æ”¹éœ€è¦ç»´æŠ¤ç´¢"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://emerywan.github.io/blog/imgs/15.jpeg"><link rel="shortcut icon" href=https://emerywan.github.io/blog/imgs/favicon.ico><link rel=preconnect href=https://fonts.proxy.ustclug.org><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.proxy.ustclug.org/css2?family=Noto+Sans+SC&family=Roboto&family=Roboto+Mono&display=swap" rel=stylesheet><style>:root{--sys-font-family:-apple-system, BlinkMacSystemFont, "Roboto", "Noto Sans SC", "Segoe UI", "Droid Sans", "Helvetica Neue", Ubuntu;--zh-font-family:-apple-system, BlinkMacSystemFont, "Roboto", "Noto Sans SC",  "PingFang SC", "Hiragino Sans GB", "Droid Sans Fallback", Ubuntu, "Microsoft YaHei";--code-font-family:"SF Mono", SFMono-Regular, "Roboto Mono", "Ubuntu Mono", Menlo, Monaco, Consolas, "Courier New", monospace, var(--zh-font-family);--base-font-family:-apple-system, BlinkMacSystemFont, "Roboto", "Noto Sans SC", var(--sys-font-family), var(--zh-font-family), sans-serif;--article-font-family:-apple-system, BlinkMacSystemFont, "Roboto", "Noto Sans SC", var(--base-font-family);--article-line-height:1.6;--article-font-size:1.6rem}</style></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=åˆ‡æ¢èœå•>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/blog><img src=/blog/img/avatar_hud10ed4afecf1b63b1391b35c2778f738_36574_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/blog>ä¸€å±‚</a></h1><h2 class=site-description>è¿ç€è¿™å²æœˆçš„é£ã€‚</h2></div></header><ol class=social-menu><li><a href=https://github.com/emerywan target=_blank title=GitHub><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://emery.letout.cn target=_blank title=Home><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-smart-home" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#6f32be" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19 8.71l-5.333-4.148a2.666 2.666.0 00-3.274.0L5.059 8.71A2.665 2.665.0 004.03 10.815v7.2a2 2 0 002 2h12a2 2 0 002-2v-7.2c0-.823-.38-1.6-1.03-2.105"/><path d="M16 15c-2.21 1.333-5.792 1.333-8 0"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/blog/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>é¦–é¡µ</span></a></li><li><a href=/blog/about/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>å…³äº</span></a></li><li><a href=/blog/categories/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg><span>åˆ†ç±»</span></a></li><li><a href=/blog/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>å½’æ¡£</span></a></li><li><a href=/blog/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>æœç´¢</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>ğŸŒ— Dark</span></li></div></ol></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/blog/p/mysql/index/><img src=/blog/imgs/15.jpeg loading=lazy alt="Featured image of post MySQL ç´¢å¼•"></a></div><div class=article-details><header class=article-category><a href=/blog/categories/%E6%8A%80%E6%9C%AF/ style=background-color:#91d5ff;color:#fff>æŠ€æœ¯</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/blog/p/mysql/index/>MySQL ç´¢å¼•</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>06 - 30, 2022</time></div></footer></div></header><section class=article-content><h2 id=ç´¢å¼•>ç´¢å¼•</h2><p>ç´¢å¼•ï¼ˆindexï¼‰æ˜¯å¸®åŠ© MySQL é«˜æ•ˆè·å–æ•°æ®çš„æ•°æ®ç»“æ„ï¼Œæé«˜æŸ¥è¯¢æ•ˆç‡ã€‚</p><ul><li><p>ä¼˜ç‚¹</p><ul><li>æé«˜æ•°æ®çš„æŸ¥è¯¢é€Ÿåº¦</li><li>é™ä½æ•°æ®åº“çš„ IO æˆæœ¬</li></ul></li><li><p>ç¼ºç‚¹</p><ul><li>å ç”¨ç£ç›˜ç©ºé—´</li><li>å¢åˆ æ”¹éœ€è¦ç»´æŠ¤ç´¢å¼•ï¼Œæ€§èƒ½å¯èƒ½ä¼šä¸‹é™</li></ul></li></ul><h2 id=ç´¢å¼•çš„åˆ†ç±»>ç´¢å¼•çš„åˆ†ç±»</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- æŸ¥çœ‹è¡¨ä¸­çš„ç´¢å¼•
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>show</span><span class=w> </span><span class=k>index</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=k>table_name</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=ä¸»é”®ç´¢å¼•>ä¸»é”®ç´¢å¼•</h3><p>å½“ä¸€å¼ è¡¨ï¼ŒæŠŠæŸä¸ªåˆ—è®¾ä¸ºä¸»é”®çš„æ—¶å€™ï¼Œåˆ™è¯¥åˆ—å°±æ˜¯ä¸»é”®ç´¢å¼•ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>demo</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>id</span><span class=w> </span><span class=nb>int</span><span class=w> </span><span class=k>primary</span><span class=w> </span><span class=k>key</span><span class=w> </span><span class=n>auto_increment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=æ™®é€šç´¢å¼•>æ™®é€šç´¢å¼•</h3><p>ç”¨è¡¨ä¸­çš„æ™®é€šåˆ—æ„å»ºçš„ç´¢å¼•ï¼Œæ²¡æœ‰ä»»ä½•é™åˆ¶ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>demo</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>id</span><span class=w> </span><span class=nb>int</span><span class=w> </span><span class=k>primary</span><span class=w> </span><span class=k>key</span><span class=w> </span><span class=n>auto_increment</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>name</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>128</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>index</span><span class=w> </span><span class=n>demo_index_name</span><span class=p>(</span><span class=n>name</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>---
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>create</span><span class=w> </span><span class=k>index</span><span class=w> </span><span class=n>demo_index_name</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=n>demo_table</span><span class=p>(</span><span class=n>name</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=å”¯ä¸€ç´¢å¼•>å”¯ä¸€ç´¢å¼•</h3><p>ç´¢å¼•åˆ—çš„å€¼å¿…é¡»å”¯ä¸€ï¼Œå…è®¸æœ‰å¤šä¸ªç©ºå€¼ nullï¼ˆå’Œä¸»é”®ä¸åŒï¼Œä¸»é”®ä¸å…è®¸ä¸ºç©ºï¼‰ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>demo</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>id</span><span class=w> </span><span class=nb>int</span><span class=w> </span><span class=k>primary</span><span class=w> </span><span class=k>key</span><span class=w> </span><span class=n>auto_increment</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>name</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>128</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>unique</span><span class=w> </span><span class=k>index</span><span class=w> </span><span class=n>new_unique_index_name</span><span class=p>(</span><span class=n>name</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>---
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>create</span><span class=w> </span><span class=k>unique</span><span class=w> </span><span class=k>index</span><span class=w> </span><span class=n>new_unique_index_name</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=n>demo_table</span><span class=p>(</span><span class=n>name</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=å…¨æ–‡ç´¢å¼•>å…¨æ–‡ç´¢å¼•</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>demo</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>id</span><span class=w> </span><span class=nb>int</span><span class=w> </span><span class=k>primary</span><span class=w> </span><span class=k>key</span><span class=w> </span><span class=n>auto_increment</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>name</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>128</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>content</span><span class=w> </span><span class=nb>text</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>fulltext</span><span class=w> </span><span class=k>index</span><span class=w> </span><span class=n>demo_fulltext_index_content</span><span class=p>(</span><span class=n>content</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=ç»„åˆç´¢å¼•>ç»„åˆç´¢å¼•</h3><p>ç»„åˆç´¢å¼• / è”åˆç´¢å¼•</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>create</span><span class=w> </span><span class=k>index</span><span class=w> </span><span class=n>demo_name_age_index</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=n>demo</span><span class=p>(</span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>age</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=èšç°‡ç´¢å¼•>èšç°‡ç´¢å¼•</h3><ul><li><p>ç´¢å¼•å’Œæ•°æ®æ”¾åœ¨ä¸€èµ·ï¼Œç´¢å¼•ç»“æ„çš„å¶å­èŠ‚ç‚¹ä¿å­˜äº†è¡Œæ•°æ®ï¼Œæ‰¾åˆ°äº†ç´¢å¼•å°±æ‰¾åˆ°äº†æ•°æ®ã€‚</p></li><li><p>è®¿é—®æ•°æ®æ›´å¿«ï¼Œèšç°‡ç´¢å¼•å°†ç´¢å¼•å’Œæ•°æ®ä¿å­˜åœ¨ä¸€ä¸ªB+æ ‘ä¸Šã€‚</p></li><li><p>æ’å…¥é€Ÿåº¦ä¸¥é‡ä¾èµ–äºæ’å…¥é¡ºåºã€‚</p></li><li><p>æ›´æ–°èšç°‡ç´¢å¼•åˆ—çš„ä»£ä»·å¾ˆé«˜ã€‚</p></li></ul><p><img src=/blog/p/mysql/index/index8.png width=722 height=369 srcset="/blog/p/mysql/index/index8_hu9d45f79d8b338c019791de22ea52eb90_62479_480x0_resize_box_3.png 480w, /blog/p/mysql/index/index8_hu9d45f79d8b338c019791de22ea52eb90_62479_1024x0_resize_box_3.png 1024w" loading=lazy alt=index8 class=gallery-image data-flex-grow=195 data-flex-basis=469px></p><h3 id=éèšç°‡ç´¢å¼•äºŒçº§ç´¢å¼•>éèšç°‡ç´¢å¼•ï¼ˆäºŒçº§ç´¢å¼•ï¼‰</h3><p>å°†æ•°æ®ä¸ç´¢å¼•åˆ†å¼€å­˜å‚¨ï¼Œç´¢å¼•ç»“æ„çš„å¶å­èŠ‚ç‚¹å…³è”çš„æ˜¯å¯¹åº”çš„ä¸»é”®ã€‚</p><p><img src=/blog/p/mysql/index/clustering-index.png width=840 height=571 srcset="/blog/p/mysql/index/clustering-index_hub32172b742ab96d724c643b42699b935_232051_480x0_resize_box_3.png 480w, /blog/p/mysql/index/clustering-index_hub32172b742ab96d724c643b42699b935_232051_1024x0_resize_box_3.png 1024w" loading=lazy alt=clustering-index class=gallery-image data-flex-grow=147 data-flex-basis=353px></p><ul><li>äºŒçº§ç´¢å¼•è®¿é—®éœ€è¦ä¸¤æ¬¡ç´¢å¼•æŸ¥æ‰¾ï¼Œè¦å›è¡¨ã€‚</li></ul><p><img src=/blog/p/mysql/index/index9.png width=727 height=389 srcset="/blog/p/mysql/index/index9_hua49cf0193b83cd4f61e5b4747229532b_46178_480x0_resize_box_3.png 480w, /blog/p/mysql/index/index9_hua49cf0193b83cd4f61e5b4747229532b_46178_1024x0_resize_box_3.png 1024w" loading=lazy alt=index9 class=gallery-image data-flex-grow=186 data-flex-basis=448px></p><h2 id=ç´¢å¼•çš„ç»“æ„>ç´¢å¼•çš„ç»“æ„</h2><h3 id=b-tree>B Tree</h3><p>B æ ‘æ˜¯ä¸€ç§å¤šå‰å¹³è¡¡æŸ¥æ‰¾æ ‘ï¼Œå…¶ä¸»è¦ç‰¹ç‚¹ï¼š</p><ul><li><p>æ ‘çš„èŠ‚ç‚¹ä¸­å­˜å‚¨ç€å¤šä¸ªå…ƒç´ ï¼Œæ¯ä¸ªå†…èŠ‚ç‚¹æœ‰å¤šä¸ªåˆ†å‰ã€‚</p></li><li><p>åœ¨æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½å‚¨å­˜æ•°æ®ã€‚æ¯ä¸ªèŠ‚ç‚¹ä¸­åŒ…å«é”®å€¼å’Œæ•°æ®ï¼ŒèŠ‚ç‚¹ä¸­çš„é”®å€¼ä»å°åˆ°å¤§æ’åˆ—ã€‚</p></li><li><p>çˆ¶èŠ‚ç‚¹å½“ä¸­çš„å…ƒç´ ä¸ä¼šå‡ºç°åœ¨å­èŠ‚ç‚¹ä¸­ã€‚</p></li><li><p>æ‰€æœ‰çš„å¶å­ç»“ç‚¹éƒ½ä½äºåŒä¸€å±‚ï¼Œå¶èŠ‚ç‚¹å…·æœ‰ç›¸åŒçš„æ·±åº¦ï¼Œå¶èŠ‚ç‚¹ä¹‹é—´æ²¡æœ‰æŒ‡é’ˆè¿æ¥ã€‚</p></li></ul><p><img src=/blog/p/mysql/index/BTree.png width=824 height=496 srcset="/blog/p/mysql/index/BTree_hu5a2ea9e01a7974b484f27a03994c1eb9_162577_480x0_resize_box_3.png 480w, /blog/p/mysql/index/BTree_hu5a2ea9e01a7974b484f27a03994c1eb9_162577_1024x0_resize_box_3.png 1024w" loading=lazy alt=BTree class=gallery-image data-flex-grow=166 data-flex-basis=398px></p><h3 id=b-tree-1>B+ Tree</h3><p>B+ æ ‘æ˜¯ B æ ‘çš„å‡çº§ç‰ˆã€‚B+ æ ‘åœ¨ç»“æ„ä¸Šå’ŒBæ ‘çš„åŒºåˆ«åœ¨äºï¼š</p><ul><li><p>åªæœ‰å¶å­èŠ‚ç‚¹æ‰ä¼šå­˜å‚¨æ•°æ®ï¼Œéå¶å­èŠ‚ç‚¹åªå­˜å‚¨é”®å€¼ï¼Œç”¨äºæŸ¥æ‰¾ã€‚</p></li><li><p>å¶å­èŠ‚ç‚¹ä¹‹é—´ä½¿ç”¨åŒå‘æŒ‡é’ˆè¿æ¥ï¼Œæœ€åº•å±‚çš„å¶å­èŠ‚ç‚¹å½¢æˆäº†ä¸€ä¸ªåŒå‘æœ‰åºé“¾è¡¨ã€‚</p></li><li><p>å¶å­èŠ‚ç‚¹ä¿å­˜äº†çˆ¶èŠ‚ç‚¹æ‰€æœ‰å…³é”®å­—è®°å½•çš„æŒ‡é’ˆã€‚</p></li></ul><p><img src=/blog/p/mysql/index/BTree2.png width=726 height=486 srcset="/blog/p/mysql/index/BTree2_hu9d51150ef65d39ad05b8ca626e16e349_124398_480x0_resize_box_3.png 480w, /blog/p/mysql/index/BTree2_hu9d51150ef65d39ad05b8ca626e16e349_124398_1024x0_resize_box_3.png 1024w" loading=lazy alt=B+Tree class=gallery-image data-flex-grow=149 data-flex-basis=358px></p><p>ç›¸æ¯”ä¸ B æ ‘ï¼ŒB+ æ ‘æœ‰ä»¥ä¸‹æå‡ï¼š</p><ul><li><p>æ‰«è¡¨èƒ½åŠ›æ›´å¼ºï¼ˆè¿›è¡Œå…¨è¡¨æ‰«æï¼Œåªéœ€è¦éå†å¶å­èŠ‚ç‚¹å³å¯ï¼‰</p></li><li><p>å…·æœ‰æ›´å¥½çš„ç£ç›˜è¯»å†™èƒ½åŠ›ï¼ˆéå¶å­èŠ‚ç‚¹ä¸å­˜å‚¨æ•°æ®ï¼Œä½¿æ ‘æ›´çŸ®ï¼ŒIO æ“ä½œæ›´å°‘ï¼Œä¸€æ¬¡ç£ç›˜åŠ è½½æ‰«æèŒƒå›´æ›´å¤§ï¼‰</p></li><li><p>æŸ¥è¯¢æ•ˆç‡ç¨³å®šï¼ˆæ•°æ®éƒ½å­˜å‚¨åœ¨å¶å­èŠ‚ç‚¹ï¼ŒIO æ¬¡æ•°ç¨³å®šï¼‰</p></li><li><p>å¢åˆ æ•°æ®æ•ˆç‡æ›´é«˜ï¼ˆæ•°æ®åœ¨å¶å­èŠ‚ç‚¹ä»¥æœ‰åºé“¾è¡¨å­˜å‚¨ï¼Œå¯æé«˜æ•°æ®å¢åˆ æ•ˆç‡ï¼‰</p></li></ul><p>æ•°æ®åº“ä¸­ï¼ŒB+ æ ‘çš„é«˜åº¦ä¸€èˆ¬éƒ½åœ¨ 2~4 å±‚ã€‚ç”±äº MySQL çš„ INNODB å¼•æ“åœ¨è®¾è®¡æ—¶æ˜¯å°† B+ æ ‘çš„æ ¹èŠ‚ç‚¹å¸¸é©»å†…å­˜çš„ï¼Œå› æ­¤åœ¨æŸ¥æ‰¾æŸä¸€é”®å€¼çš„è¡Œè®°å½•æ—¶ï¼Œæœ€å¤šåªéœ€è¦ 1~3 æ¬¡ç£ç›˜IOã€‚</p><h3 id=hash>Hash</h3><p>æ”¯æŒ hash ç´¢å¼•çš„æ˜¯ Memory å­˜å‚¨å¼•æ“ã€‚é‡‡ç”¨ä¸€å®šçš„ hash ç®—æ³•ï¼Œå°†é”®å€¼æ¢ç®—æˆæ–°çš„ hash å€¼ï¼Œæ˜ å°„åˆ°å¯¹åº”çš„æ§½ä½ä¸Šï¼Œç„¶åå­˜å‚¨åœ¨ hash è¡¨ä¸­ã€‚</p><p><img src=/blog/p/mysql/index/hash.png width=551 height=297 srcset="/blog/p/mysql/index/hash_hu44e081159408b7a12e5ef78d4b9f0b5d_44702_480x0_resize_box_3.png 480w, /blog/p/mysql/index/hash_hu44e081159408b7a12e5ef78d4b9f0b5d_44702_1024x0_resize_box_3.png 1024w" loading=lazy alt=hash class=gallery-image data-flex-grow=185 data-flex-basis=445px></p><p>ç‰¹ç‚¹ï¼š</p><ul><li>åªèƒ½ç”¨äºå¯¹ç­‰æ¯”è¾ƒï¼ˆ=, inï¼‰ï¼Œä¸æ”¯æŒèŒƒå›´æŸ¥è¯¢ï¼ˆbetween, >, &lt;ï¼‰</li><li>æ— æ³•åˆ©ç”¨ç´¢å¼•å®Œæˆæ’åºæ“ä½œ</li><li>æŸ¥è¯¢æ•ˆç‡é«˜ï¼Œé€šå¸¸åªéœ€è¦ä¸€æ¬¡æ£€ç´¢ï¼ˆæ—  hash å†²çªçš„æƒ…å†µï¼‰</li></ul><h2 id=åˆ›å»ºç´¢å¼•çš„åŸåˆ™>åˆ›å»ºç´¢å¼•çš„åŸåˆ™</h2><h3 id=-å»ºè®®åˆ›å»ºç´¢å¼•>ğŸ™† å»ºè®®åˆ›å»ºç´¢å¼•</h3><ul><li>âœ… <code>select</code> è¯­å¥ï¼Œé¢‘ç¹ä½œä¸º <code>where</code> æ¡ä»¶çš„å­—æ®µ</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>employees</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>first_name</span><span class=o>=</span><span class=s2>&#34;Georgi&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- index(first_name)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>employees</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>first_name</span><span class=o>=</span><span class=s2>&#34;Georgi&#34;</span><span class=w> </span><span class=k>and</span><span class=w> </span><span class=n>last_name</span><span class=o>=</span><span class=s2>&#34;Cools&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- è”åˆç´¢å¼•
</span></span></span><span class=line><span class=cl><span class=c1>-- index(first_name, last_name)
</span></span></span><span class=line><span class=cl><span class=c1>-- æ³¨æ„æ»¡è¶³ï¼šæœ€å·¦å‰ç¼€åŸåˆ™
</span></span></span><span class=line><span class=cl><span class=c1>-- index(last_name, first_name) -&gt; where first_name=&#34;Georgi&#34; æ— æ³•ä½¿ç”¨ç´¢å¼•
</span></span></span></code></pre></td></tr></table></div></div><ul><li>âœ… <code>update/delete</code> è¯­å¥çš„ <code>where</code> æ¡ä»¶</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>update</span><span class=w> </span><span class=n>employees</span><span class=w> </span><span class=k>set</span><span class=w> </span><span class=n>first_name</span><span class=o>=</span><span class=s2>&#34;Jim&#34;</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>emp_no</span><span class=o>=</span><span class=s2>&#34;100001&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>delete</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>employees</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>fitst_name</span><span class=o>=</span><span class=s2>&#34;Georgi&#34;</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li>âœ… éœ€è¦åˆ†ç»„ï¼Œæ’åºçš„å­—æ®µ</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>select</span><span class=w> </span><span class=n>dept_no</span><span class=p>,</span><span class=w> </span><span class=k>count</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>dept_emp</span><span class=w> </span><span class=k>group</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=n>dept_no</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li>âœ… ä½¿ç”¨ <code>distinct</code> çš„å­—æ®µ</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>select</span><span class=w> </span><span class=k>distinct</span><span class=p>(</span><span class=n>first_name</span><span class=p>)</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>employees</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li><p>âœ… å­—æ®µéœ€è¦å”¯ä¸€æ€§çº¦æŸ</p><ul><li>å”¯ä¸€ç´¢å¼•</li><li>ä¸»é”®ç´¢å¼•</li></ul></li><li><p>âœ… å¤šè¡¨æŸ¥è¯¢ï¼Œè¿æ¥å­—æ®µåº”åˆ›å»ºç´¢å¼•</p><ul><li><strong>ç±»å‹åŠ¡å¿…ä¿æŒä¸€è‡´</strong>ï¼Œé¿å…éšå¼è£…æ¢</li></ul></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>select</span><span class=w> </span><span class=n>emp</span><span class=p>.</span><span class=o>*</span><span class=p>,</span><span class=w> </span><span class=n>d</span><span class=p>.</span><span class=n>dept_name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>employees</span><span class=w> </span><span class=n>emp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>left</span><span class=w> </span><span class=k>join</span><span class=w> </span><span class=n>dept_emp</span><span class=w> </span><span class=n>de</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=n>emp</span><span class=p>.</span><span class=n>emp_no</span><span class=o>=</span><span class=n>de</span><span class=p>.</span><span class=n>emp_no</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>left</span><span class=w> </span><span class=k>join</span><span class=w> </span><span class=n>departments</span><span class=w> </span><span class=n>d</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=n>de</span><span class=p>.</span><span class=n>dept_no</span><span class=o>=</span><span class=n>d</span><span class=p>.</span><span class=n>dept_no</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>de</span><span class=p>.</span><span class=n>emp_no</span><span class=o>=</span><span class=s2>&#34;100001&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- employees.emp_no  dept_emp.emp_no  ç±»å‹åŠ¡å¿…ä¿æŒä¸€è‡´
</span></span></span><span class=line><span class=cl><span class=c1>-- dept_emp.dept_no  departmants.dept_no  ç±»å‹åŠ¡å¿…ä¿æŒä¸€è‡´  
</span></span></span></code></pre></td></tr></table></div></div><h3 id=-ä¸å»ºè®®åˆ›å»ºç´¢å¼•>ğŸ™… ä¸å»ºè®®åˆ›å»ºç´¢å¼•</h3><ul><li><p>âŒ <code>where</code> å­å¥ä¸­ç”¨ä¸åˆ°çš„å­—æ®µ</p><p>ç´¢å¼•çš„ä½œç”¨æ˜¯å¿«é€Ÿå®šä½åˆ°æƒ³è¦çš„æ•°æ®ï¼Œç”¨ä¸åˆ°å°±æ²¡æœ‰å¿…è¦åˆ›å»ºæ•°æ®äº†ã€‚</p></li><li><p>âŒ è¡¨é‡Œçš„è®°å½•éå¸¸å°‘</p><p>å¦‚åªæœ‰ 100 æ¡æ•°æ®ï¼Œæœ‰æ— å½±å“ä¸å¤§ã€‚</p></li><li><p>âŒ æœ‰å¤§é‡é‡å¤æ•°æ®ï¼Œé€‰æ‹©æ€§ä½</p><p>å¦‚ï¼šæ€§åˆ«å­—æ®µï¼Œå¯¼è‡´å¤§é‡å›è¡¨ã€‚</p><p>ç´¢å¼•çš„é€‰æ‹©æ€§è¶Šé«˜ï¼ŒæŸ¥è¯¢æ•ˆç‡è¶Šå¥½ï¼Œå¯ä»¥åœ¨æŸ¥æ‰¾è¿‡ç¨‹ä¸­è¿‡æ»¤æ›´å¤šçš„è¡Œ</p></li><li><p>âŒ é¢‘ç¹æ›´æ–°çš„å­—æ®µï¼Œåˆ›å»ºç´¢å¼•è¦è€ƒè™‘ç»´æŠ¤ç´¢å¼•çš„å¼€é”€</p><p>é¢‘ç¹ä¿®æ”¹çš„å­—æ®µï¼Œä¸æ¨èåˆ›å»ºç´¢å¼•ã€‚</p></li></ul><h2 id=ç´¢å¼•å¤±æ•ˆä¸è§£å†³æ–¹æ¡ˆ>ç´¢å¼•å¤±æ•ˆä¸è§£å†³æ–¹æ¡ˆ</h2><blockquote><p>æ˜¯å¦ä½¿ç”¨ç´¢å¼•å–å†³äº ğŸš€ æŸ¥è¯¢ä»£ä»·</p><p>å³ä½¿å¯ä»¥ä½¿ç”¨ç´¢å¼•æ—¶ï¼Œä½† MySQL è¯„ä¼°åï¼Œä¸å¦‚å…¨è¡¨æ‰«æï¼Œä¼šæ”¾å¼ƒä½¿ç”¨ç´¢å¼•</p></blockquote><h3 id=-ç´¢å¼•åˆ—ä¸ç‹¬ç«‹è¿›è¡Œäº†è®¡ç®—æˆ–å˜æˆäº†å‚æ•°>âš ï¸ ç´¢å¼•åˆ—ä¸ç‹¬ç«‹ï¼Œè¿›è¡Œäº†è®¡ç®—æˆ–å˜æˆäº†å‚æ•°</h3><ul><li>ç´¢å¼•å­—æ®µè¿›è¡Œäº†è¡¨è¾¾å¼è®¡ç®—</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>explain</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>form</span><span class=w> </span><span class=n>employees</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>emp_no</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>100003</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><img src=/blog/p/mysql/index/index1.png width=1185 height=157 srcset="/blog/p/mysql/index/index1_huaa761d032e691cca90bef5eef1dadb87_81724_480x0_resize_box_3.png 480w, /blog/p/mysql/index/index1_huaa761d032e691cca90bef5eef1dadb87_81724_1024x0_resize_box_3.png 1024w" loading=lazy alt=1 class=gallery-image data-flex-grow=754 data-flex-basis=1811px></p><p>åº”äº‹å…ˆè®¡ç®—å¥½è¡¨è¾¾å¼çš„å€¼ï¼Œå†ä¼ å…¥ï¼Œé¿å…åœ¨ SQL <code>where</code> çš„å·¦ä¾§åšè®¡ç®—ã€‚</p><ul><li>ç´¢å¼•å­—æ®µæ˜¯å‡½æ•°çš„å‚æ•°</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>explain</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>employees</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=k>substring</span><span class=p>(</span><span class=n>fitst_name</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&#34;Geo&#34;</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>äº‹å…ˆè®¡ç®—å¥½å†ä¼ å…¥ã€‚</p><p>æˆ–è€…ä½¿ç”¨ä¸€äº›ç­‰ä»·çš„ SQLã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>explain</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>employees</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>first_name</span><span class=w> </span><span class=n>list</span><span class=w> </span><span class=s2>&#34;Geo%&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- first_name éœ€è¦æ˜¯ç´¢å¼•çš„æƒ…å†µä¸‹æœ‰æ•ˆï¼ˆæ ¹æ®å®é™…åœºæ™¯ï¼‰
</span></span></span><span class=line><span class=cl><span class=c1>-- æ³¨æ„ like ç´¢å¼•å¤±æ•ˆçš„æƒ…å†µ
</span></span></span></code></pre></td></tr></table></div></div><p><img src=/blog/p/mysql/index/index2.png width=1169 height=154 srcset="/blog/p/mysql/index/index2_hu58e272ce7b5bb61c6085e6a94f631f41_86327_480x0_resize_box_3.png 480w, /blog/p/mysql/index/index2_hu58e272ce7b5bb61c6085e6a94f631f41_86327_1024x0_resize_box_3.png 1024w" loading=lazy alt=2 class=gallery-image data-flex-grow=759 data-flex-basis=1821px></p><h3 id=-ä½¿ç”¨äº†å·¦æ¨¡ç³Š>âš ï¸ ä½¿ç”¨äº†å·¦æ¨¡ç³Š</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>explain</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>employees</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>first_name</span><span class=w> </span><span class=k>like</span><span class=w> </span><span class=s2>&#34;%Geo%&#34;</span><span class=p>;</span><span class=w>  </span><span class=c1>-- æ— æ³•ä½¿ç”¨ç´¢å¼•
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>explain</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>employee</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>first_name</span><span class=w> </span><span class=k>like</span><span class=w> </span><span class=s2>&#34;Geo%&#34;</span><span class=p>;</span><span class=w>  </span><span class=c1>-- å¯ä»¥ä½¿ç”¨ç´¢å¼•
</span></span></span></code></pre></td></tr></table></div></div><p>å¦‚æœæ— æ³•é¿å…ï¼Œä¸”æœ‰è¾ƒé«˜éœ€æ±‚ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨æœç´¢å¼•æ“ã€‚</p><h3 id=-or-æŸ¥è¯¢çš„éƒ¨åˆ†å­—æ®µæ²¡æœ‰ç´¢å¼•>âš ï¸ or æŸ¥è¯¢çš„éƒ¨åˆ†å­—æ®µæ²¡æœ‰ç´¢å¼•</h3><p>or çš„å«ä¹‰æ˜¯ä¸¤ä¸ªæ¡ä»¶æ»¡è¶³ä¸€ä¸ªå³å¯ï¼Œæ‰€ä»¥åªæœ‰ä¸€ä¸ªæ¡ä»¶åˆ—æœ‰ç´¢å¼•æ˜¯æ— ç”¨çš„ã€‚åªè¦æ¡ä»¶åˆ—ä¸­æœ‰ä¸€ä¸ªä¸æ˜¯ç´¢å¼•åˆ—ï¼Œå°±ä¼šè¿›è¡Œå…¨è¡¨æ‰«æã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>explain</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>employees</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>first_name</span><span class=o>=</span><span class=s2>&#34;Georgi&#34;</span><span class=w> </span><span class=k>or</span><span class=w> </span><span class=n>last_name</span><span class=o>=</span><span class=s2>&#34;Georgi&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- å‡è®¾å½“å‰ first_name æœ‰ç´¢å¼•ï¼Œlast_name æ²¡æœ‰ç´¢å¼•ï¼Œè¯¥æ¡ sql æ— æ³•ä½¿ç”¨ç´¢å¼•
</span></span></span><span class=line><span class=cl><span class=c1>-- index(fitst_name)
</span></span></span></code></pre></td></tr></table></div></div><p><img src=/blog/p/mysql/index/index3.png width=1148 height=176 srcset="/blog/p/mysql/index/index3_hua5c1e2b296fd025c6e1f6de1e5790543_84429_480x0_resize_box_3.png 480w, /blog/p/mysql/index/index3_hua5c1e2b296fd025c6e1f6de1e5790543_84429_1024x0_resize_box_3.png 1024w" loading=lazy alt=3 class=gallery-image data-flex-grow=652 data-flex-basis=1565px></p><p>è§£å†³ï¼šæ ¹æ®å®é™…ä¸šåŠ¡ï¼Œæ·»åŠ ç›¸åº”çš„ç´¢å¼•ã€‚</p><p>æ·»åŠ ç´¢å¼•åï¼Œé¿å…äº†å…¨è¡¨æ‰«æã€‚</p><p><img src=/blog/p/mysql/index/index4.png width=1129 height=139 srcset="/blog/p/mysql/index/index4_hu903a3bbf3d6eb2ece40fc0c15484c985_86767_480x0_resize_box_3.png 480w, /blog/p/mysql/index/index4_hu903a3bbf3d6eb2ece40fc0c15484c985_86767_1024x0_resize_box_3.png 1024w" loading=lazy alt=4 class=gallery-image data-flex-grow=812 data-flex-basis=1949px></p><h3 id=-ä¸ç¬¦åˆæœ€å·¦å‰ç¼€åŸåˆ™çš„æŸ¥è¯¢>âš ï¸ ä¸ç¬¦åˆæœ€å·¦å‰ç¼€åŸåˆ™çš„æŸ¥è¯¢</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>explain</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>employees</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>first_name</span><span class=o>=</span><span class=s2>&#34;Facello&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- index(last_name, first_name)
</span></span></span></code></pre></td></tr></table></div></div><p><img src=/blog/p/mysql/index/index5.png width=1156 height=155 srcset="/blog/p/mysql/index/index5_huc69773c1cc30429ec167298f8192f5a8_78720_480x0_resize_box_3.png 480w, /blog/p/mysql/index/index5_huc69773c1cc30429ec167298f8192f5a8_78720_1024x0_resize_box_3.png 1024w" loading=lazy alt=5 class=gallery-image data-flex-grow=745 data-flex-basis=1789px></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>explain</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>employees</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>first_name</span><span class=o>=</span><span class=s2>&#34;Facello&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- æ›´æ¢ç´¢å¼•é¡ºåº
</span></span></span><span class=line><span class=cl><span class=c1>-- index(first_name, last_name)
</span></span></span></code></pre></td></tr></table></div></div><p><img src=/blog/p/mysql/index/index6.png width=1144 height=179 srcset="/blog/p/mysql/index/index6_huc94bdeb83f55eebd5e2d4f615313b023_79724_480x0_resize_box_3.png 480w, /blog/p/mysql/index/index6_huc94bdeb83f55eebd5e2d4f615313b023_79724_1024x0_resize_box_3.png 1024w" loading=lazy alt=6 class=gallery-image data-flex-grow=639 data-flex-basis=1533px></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>employees</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>last_name</span><span class=o>=</span><span class=s2>&#34;&#34;</span><span class=w> </span><span class=k>and</span><span class=w> </span><span class=n>first_name</span><span class=o>=</span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- index(first_name, last_name)
</span></span></span><span class=line><span class=cl><span class=c1>-- MySQL çš„å¼•æ“ä¸ºæ›´å¥½åˆ©ç”¨å¤åˆç´¢å¼•ï¼Œä¼šåŠ¨æ€è°ƒæ•´å­—æ®µé¡ºåº
</span></span></span></code></pre></td></tr></table></div></div><h3 id=-å­—ç¬¦ä¸²æ¡ä»¶æ²¡æœ‰ä½¿ç”¨->âš ï¸ å­—ç¬¦ä¸²æ¡ä»¶æ²¡æœ‰ä½¿ç”¨ ""</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>explain</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>dept_emp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>dept_no</span><span class=o>=</span><span class=mi>3</span><span class=p>;</span><span class=w>  </span><span class=c1>-- è¿™é‡Œ dept_no åœ¨æ•°æ®åº“å®šä¹‰ä¸º varchar
</span></span></span></code></pre></td></tr></table></div></div><h3 id=-éšå¼è½¬æ¢å¯¼è‡´ç´¢å¼•å¤±æ•ˆ>âš ï¸ éšå¼è½¬æ¢å¯¼è‡´ç´¢å¼•å¤±æ•ˆ</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>select</span><span class=w> </span><span class=n>emp</span><span class=p>.</span><span class=o>*</span><span class=p>,</span><span class=w> </span><span class=n>d</span><span class=p>.</span><span class=n>dept_name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>employees</span><span class=w> </span><span class=n>emp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>left</span><span class=w> </span><span class=k>join</span><span class=w> </span><span class=n>dept_emp</span><span class=w> </span><span class=n>de</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=n>emp</span><span class=p>.</span><span class=n>emp_no</span><span class=o>=</span><span class=n>de</span><span class=p>.</span><span class=n>emp_no</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>left</span><span class=w> </span><span class=k>join</span><span class=w> </span><span class=n>departments</span><span class=w> </span><span class=n>d</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=n>de</span><span class=p>.</span><span class=n>dept_no</span><span class=o>=</span><span class=n>d</span><span class=p>.</span><span class=n>dept_no</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>de</span><span class=p>.</span><span class=n>emp_no</span><span class=o>=</span><span class=s2>&#34;100001&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- employees.emp_no  dept_emp.emp_no  ç±»å‹ä¸ä¸€è‡´æ—¶ä¼šå¯¼è‡´éšå¼è½¬æ¢
</span></span></span><span class=line><span class=cl><span class=c1>-- dept_emp de  departments.dept_no  ç±»å‹ä¸ä¸€è‡´æ—¶ä¼šå¯¼è‡´éšå¼è½¬æ¢
</span></span></span></code></pre></td></tr></table></div></div><h3 id=null-æ¡ä»¶æŸ¥è¯¢>null æ¡ä»¶æŸ¥è¯¢</h3><ul><li><p>æŸ¥è¯¢æ—¶ï¼Œé‡‡ç”¨ <code>is null</code> <code>is not null</code> æ¡ä»¶ï¼Œæ ¹æ®è¡¨ä¸­çš„æ•°æ®åˆ†å¸ƒï¼Œ<strong>MySQL ä¼šè‡ªè¡Œåˆ¤æ–­æ˜¯å¦èµ°ç´¢å¼•ï¼Œå¹¶ä¸å›ºå®š</strong></p></li><li><p>MySQL å®˜æ–¹å»ºè®®å°½é‡æŠŠå­—æ®µå®šä¹‰ä¸º <code>NOT NULL</code></p></li></ul><p><img src=/blog/p/mysql/index/index7.png width=821 height=497 srcset="/blog/p/mysql/index/index7_hu4d7b4705c5cf93f7dc141b75d9f23067_225180_480x0_resize_box_3.png 480w, /blog/p/mysql/index/index7_hu4d7b4705c5cf93f7dc141b75d9f23067_225180_1024x0_resize_box_3.png 1024w" loading=lazy alt=7 class=gallery-image data-flex-grow=165 data-flex-basis=396px></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>explain</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>users</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>mobile</span><span class=w> </span><span class=k>is</span><span class=w> </span><span class=k>null</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=mysql-è¯„ä¼°å…¨è¡¨æ‰«ææ›´å¿«>MySQL è¯„ä¼°å…¨è¡¨æ‰«ææ›´å¿«</h3><p>MySQL åœ¨æŸ¥è¯¢æ—¶ï¼Œä¼šè¯„ä¼°ä½¿ç”¨ç´¢å¼•çš„æ•ˆç‡ä¸èµ°å…¨è¡¨æ‰«æçš„æ•ˆç‡ï¼Œå¦‚æœèµ°å…¨è¡¨æ‰«ææ›´å¿«ï¼Œåˆ™æ”¾å¼ƒç´¢å¼•ï¼Œèµ°å…¨è¡¨æ‰«æã€‚</p><p>å› ä¸ºç´¢å¼•æ˜¯ç”¨æ¥ç´¢å¼•å°‘é‡æ•°æ®çš„ï¼Œå¦‚æœé€šè¿‡ç´¢å¼•æŸ¥è¯¢è¿”å›å¤§æ‰¹é‡çš„æ•°æ®ï¼Œåˆ™è¿˜ä¸å¦‚èµ°å…¨è¡¨æ‰«ææ¥çš„å¿«ï¼Œæ­¤æ—¶ç´¢å¼•å°±ä¼šå¤±æ•ˆã€‚</p><h2 id=æœ€å·¦å‰ç¼€æ³•åˆ™>æœ€å·¦å‰ç¼€æ³•åˆ™</h2><p>æœ€å·¦å‰ç¼€æ³•åˆ™æŒ‡çš„æ˜¯æŸ¥è¯¢ä»ç´¢å¼•çš„æœ€å·¦åˆ—å¼€å§‹ï¼Œå¹¶ä¸”ä¸è·³è¿‡ç´¢å¼•ä¸­çš„åˆ—ã€‚</p><p>å¦‚æœè·³è·ƒæŸä¸€åˆ—ï¼Œç´¢å¼•å°†ä¼šéƒ¨åˆ†å¤±æ•ˆ(åé¢çš„å­—æ®µç´¢å¼•å¤±æ•ˆ)ã€‚</p><p>ä¸­é—´ä¸èƒ½è·³è¿‡æŸä¸€åˆ—ï¼Œå¦åˆ™è¯¥åˆ—åé¢çš„å­—æ®µç´¢å¼•å°†å¤±æ•ˆã€‚</p><h2 id=èŒƒå›´æŸ¥è¯¢>èŒƒå›´æŸ¥è¯¢</h2><p>è”åˆç´¢å¼•ä¸­ï¼Œå‡ºç°èŒƒå›´æŸ¥è¯¢(>, &lt;)ï¼ŒèŒƒå›´æŸ¥è¯¢å³ä¾§çš„åˆ—ç´¢å¼•å¤±æ•ˆã€‚</p><h2 id=è¦†ç›–ç´¢å¼•>è¦†ç›–ç´¢å¼•</h2><p>å¯¹äºç´¢å¼• Xï¼Œ<code>SELECT</code> çš„å­—æ®µåªéœ€è¦ä»ç´¢å¼•ä¸­å°±èƒ½è·å¾—ï¼Œè€Œæ— éœ€å›è¡¨è·å–ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- index(name, age, pos)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>select</span><span class=w> </span><span class=n>pos</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>staffs</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;July&#34;</span><span class=w> </span><span class=k>and</span><span class=w> </span><span class=n>age</span><span class=o>=</span><span class=mi>14</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=å‰ç¼€ç´¢å¼•>å‰ç¼€ç´¢å¼•</h2><p>å½“å­—æ®µç±»å‹ä¸ºå­—ç¬¦ä¸²ï¼ˆvarcharï¼Œtextï¼Œlongtextç­‰ï¼‰æ—¶ï¼Œæœ‰æ—¶å€™éœ€è¦ç´¢å¼•å¾ˆé•¿çš„å­—ç¬¦ä¸²ï¼Œè¿™ä¼šè®©
ç´¢å¼•å˜å¾—å¾ˆå¤§ï¼ŒæŸ¥è¯¢æ—¶ï¼Œæµªè´¹å¤§é‡çš„ç£ç›˜ IOï¼Œ å½±å“æŸ¥è¯¢æ•ˆç‡ã€‚</p><p>å¯ä»¥åªå°†å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†å‰ç¼€ï¼Œå»ºç«‹ç´¢å¼•ï¼Œè¿™æ ·å¯ä»¥å¤§å¤§èŠ‚çº¦ç´¢å¼•ç©ºé—´ï¼Œä»è€Œæé«˜ç´¢å¼•æ•ˆç‡ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- ä¸º email å­—æ®µï¼Œå»ºç«‹ç´¢å¼•é•¿åº¦ä¸º 5 çš„å‰ç¼€ç´¢å¼•
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>create</span><span class=w> </span><span class=k>index</span><span class=w> </span><span class=n>index_email_5</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=n>tb_user</span><span class=p>(</span><span class=n>email</span><span class=p>(</span><span class=mi>5</span><span class=p>));</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=explain>explain</h2><p>æŸ¥çœ‹ SQL è¯­å¥çš„æ‰§è¡Œè®¡åˆ’ã€‚å­—æ®µå«ä¹‰ï¼š</p><ul><li><p>id</p><ul><li>åœ¨ä¸€ä¸ªå¤§çš„æŸ¥è¯¢è¯­å¥ä¸­ï¼Œæ¯ä¸ª select å…³é”®å­—éƒ½å¯¹åº”ä¸€ä¸ªå”¯ä¸€ id</li><li>id ç›¸åŒï¼Œæ‰§è¡Œé¡ºåºä»ä¸Šåˆ°ä¸‹ï¼›id ä¸åŒï¼Œå€¼è¶Šå¤§ï¼Œè¶Šå…ˆæ‰§è¡Œ</li></ul></li><li><p>select_type</p><ul><li>è¡¨ç¤º select å¯¹åº”çš„æŸ¥è¯¢ç±»å‹</li><li>SIMPLE (ç®€å• select,ä¸ä½¿ç”¨ union æˆ–å­æŸ¥è¯¢ç­‰)</li><li>PRIMARY (æŸ¥è¯¢ä¸­è‹¥åŒ…å«ä»»ä½•å¤æ‚çš„å­éƒ¨åˆ†,æœ€å¤–å±‚çš„ select è¢«æ ‡è®°ä¸º PRIMARY)</li><li>UNION (union ä¸­çš„ç¬¬äºŒä¸ªæˆ–åé¢çš„ select è¯­å¥)</li><li>SUBQUERY (å­æŸ¥è¯¢ä¸­çš„ç¬¬ä¸€ä¸ª select)</li></ul></li><li><p>table</p><ul><li>è¿™ä¸€è¡Œçš„æ•°æ®æ˜¯å…³äºå“ªå¼ è¡¨</li></ul></li><li><p>type</p><ul><li>MySQL åœ¨è¡¨ä¸­æ‰¾åˆ°æ‰€éœ€è¡Œçš„æ–¹å¼</li><li>æ€§èƒ½ç”±å¥½åˆ°å·®çš„è¿æ¥ç±»å‹ä¸ºï¼šNULLã€systemã€constã€eq_refï¼‰ã€refã€rangeã€indexã€allï¼ˆå…¨è¡¨æ‰«æï¼‰</li></ul></li><li><p>possible_keys</p><ul><li>å¯èƒ½åº”ç”¨åœ¨è¿™å¼ è¡¨ä¸Šçš„ç´¢å¼•</li></ul></li><li><p>key</p><ul><li>å®é™…ä½¿ç”¨çš„ç´¢å¼•ï¼Œå¦‚æœä¸º NULLï¼Œåˆ™æ²¡æœ‰ä½¿ç”¨ç´¢å¼•</li></ul></li><li><p>key_len</p><ul><li>å®é™…ä½¿ç”¨ç´¢å¼•çš„é•¿åº¦ï¼ˆè¯¥å€¼ä¸ºç´¢å¼•å­—æ®µæœ€å¤§å¯èƒ½é•¿åº¦ï¼Œå¹¶éå®é™…ä½¿ç”¨é•¿åº¦ï¼Œåœ¨ä¸æŸå¤±ç²¾ç¡®æ€§çš„å‰æä¸‹ï¼Œé•¿åº¦è¶ŠçŸ­è¶Šå¥½ï¼‰</li></ul></li><li><p>ref</p><ul><li>ä¸Šè¿°è¡¨çš„è¿æ¥åŒ¹é…æ¡ä»¶ï¼Œå³å“ªäº›åˆ—æˆ–å¸¸é‡è¢«ç”¨äºæŸ¥æ‰¾ç´¢å¼•åˆ—ä¸Šçš„å€¼</li></ul></li><li><p>rows</p><ul><li>MySQL è®¤ä¸ºå¿…é¡»è¦æ‰§è¡ŒæŸ¥è¯¢çš„è¡Œæ•°ï¼Œåœ¨ innodb å¼•æ“çš„è¡¨ä¸­ï¼Œæ˜¯ä¸€ä¸ªä¼°è®¡å€¼ï¼Œä¸æ˜¯å‡†ç¡®çš„</li></ul></li><li><p>Extra</p><ul><li>MySQLè§£å†³æŸ¥è¯¢çš„è¯¦ç»†ä¿¡æ¯</li></ul></li></ul><h2 id=å‚è€ƒ>å‚è€ƒ</h2><ul><li><a class=link href=https://juejin.cn/post/6936032090546765837 target=_blank rel=noopener>https://juejin.cn/post/6936032090546765837</a></li></ul></section><footer class=article-footer><section class=article-tags><a href=/blog/tags/mysql/>MySQL</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-contents--wrapper><h2 class=section-title>ç›¸å…³æ–‡ç« </h2><div class=related-contents><div class="flex article-list--tile"><article class=has-image><a href=/blog/p/mysql/innodb/buffer-pool/><div class=article-image><img src=/blog/p/mysql/innodb/buffer-pool/bufferpool.afc31921376eaf2e2d6bba9b82da6f9b_hu9753cf048aa8ef6ecf388c9b29af095f_8518_250x150_fill_q75_h2_box_smart1_2.webp width=250 height=150 loading=lazy alt="Featured image of post InnoDB ç¼“å†²æ±  Buffer Pool" data-key=/mysql/innodb/buffer-pool data-hash="md5-r8MZITdury4ta7qbgtpvmw=="></div><div class=article-details><h2 class=article-title>InnoDB ç¼“å†²æ±  Buffer Pool</h2></div></a></article><article class=has-image><a href=/blog/p/mysql/master-slave-replication/><div class=article-image><img src=/blog/p/mysql/master-slave-replication/copy.aadc4504c6a415278334a163547b1cd3_hu2815b7bcceb4bc2e593bd903d3b2a777_501311_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy alt="Featured image of post MySQL å¤åˆ¶" data-key=/mysql/master-slave-replication data-hash="md5-qtxFBMakFSeDNKFjVHsc0w=="></div><div class=article-details><h2 class=article-title>MySQL å¤åˆ¶</h2></div></a></article><article class=has-image><a href=/blog/p/mysql/how-execute/><div class=article-image><img src=/blog/p/mysql/how-execute/mysql.90e923cd80a1508a2f112454597f2cf4_hu2e25f96503f96a8e12f0e1c93e28468a_180676_250x150_fill_q75_h2_box_smart1_2.webp width=250 height=150 loading=lazy alt="Featured image of post MySQL è¯­å¥æ˜¯æ€ä¹ˆæ‰§è¡Œçš„" data-key=/mysql/how-execute data-hash="md5-kOkjzYChUIovESRUWX8s9A=="></div><div class=article-details><h2 class=article-title>MySQL è¯­å¥æ˜¯æ€ä¹ˆæ‰§è¡Œçš„</h2></div></a></article><article class=has-image><a href=/blog/p/mysql/split-database-and-table/><div class=article-image><img src=/blog/imgs/2.jpeg loading=lazy data-key=/mysql/split-database-and-table data-hash=/blog/imgs/2.jpeg></div><div class=article-details><h2 class=article-title>MySQL åˆ†åº“åˆ†è¡¨</h2></div></a></article><article class=has-image><a href=/blog/p/mysql/sql-optimize/><div class=article-image><img src=/blog/imgs/20.jpeg loading=lazy data-key=/mysql/sql-optimize data-hash=/blog/imgs/20.jpeg></div><div class=article-details><h2 class=article-title>SQL è¯­å¥ä¼˜åŒ–</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2023 ä¸€å±‚</section><section class=powerby><b><a href=http://beian.miit.gov.cn/ target=_blank rel="nofollow noopener">èµ£ICPå¤‡19004365å·-3</a></b><br>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=%s>Stack</a></b> by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a><br></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">ç›®å½•</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#ç´¢å¼•>ç´¢å¼•</a></li><li><a href=#ç´¢å¼•çš„åˆ†ç±»>ç´¢å¼•çš„åˆ†ç±»</a><ol><li><a href=#ä¸»é”®ç´¢å¼•>ä¸»é”®ç´¢å¼•</a></li><li><a href=#æ™®é€šç´¢å¼•>æ™®é€šç´¢å¼•</a></li><li><a href=#å”¯ä¸€ç´¢å¼•>å”¯ä¸€ç´¢å¼•</a></li><li><a href=#å…¨æ–‡ç´¢å¼•>å…¨æ–‡ç´¢å¼•</a></li><li><a href=#ç»„åˆç´¢å¼•>ç»„åˆç´¢å¼•</a></li><li><a href=#èšç°‡ç´¢å¼•>èšç°‡ç´¢å¼•</a></li><li><a href=#éèšç°‡ç´¢å¼•äºŒçº§ç´¢å¼•>éèšç°‡ç´¢å¼•ï¼ˆäºŒçº§ç´¢å¼•ï¼‰</a></li></ol></li><li><a href=#ç´¢å¼•çš„ç»“æ„>ç´¢å¼•çš„ç»“æ„</a><ol><li><a href=#b-tree>B Tree</a></li><li><a href=#b-tree-1>B+ Tree</a></li><li><a href=#hash>Hash</a></li></ol></li><li><a href=#åˆ›å»ºç´¢å¼•çš„åŸåˆ™>åˆ›å»ºç´¢å¼•çš„åŸåˆ™</a><ol><li><a href=#-å»ºè®®åˆ›å»ºç´¢å¼•>ğŸ™† å»ºè®®åˆ›å»ºç´¢å¼•</a></li><li><a href=#-ä¸å»ºè®®åˆ›å»ºç´¢å¼•>ğŸ™… ä¸å»ºè®®åˆ›å»ºç´¢å¼•</a></li></ol></li><li><a href=#ç´¢å¼•å¤±æ•ˆä¸è§£å†³æ–¹æ¡ˆ>ç´¢å¼•å¤±æ•ˆä¸è§£å†³æ–¹æ¡ˆ</a><ol><li><a href=#-ç´¢å¼•åˆ—ä¸ç‹¬ç«‹è¿›è¡Œäº†è®¡ç®—æˆ–å˜æˆäº†å‚æ•°>âš ï¸ ç´¢å¼•åˆ—ä¸ç‹¬ç«‹ï¼Œè¿›è¡Œäº†è®¡ç®—æˆ–å˜æˆäº†å‚æ•°</a></li><li><a href=#-ä½¿ç”¨äº†å·¦æ¨¡ç³Š>âš ï¸ ä½¿ç”¨äº†å·¦æ¨¡ç³Š</a></li><li><a href=#-or-æŸ¥è¯¢çš„éƒ¨åˆ†å­—æ®µæ²¡æœ‰ç´¢å¼•>âš ï¸ or æŸ¥è¯¢çš„éƒ¨åˆ†å­—æ®µæ²¡æœ‰ç´¢å¼•</a></li><li><a href=#-ä¸ç¬¦åˆæœ€å·¦å‰ç¼€åŸåˆ™çš„æŸ¥è¯¢>âš ï¸ ä¸ç¬¦åˆæœ€å·¦å‰ç¼€åŸåˆ™çš„æŸ¥è¯¢</a></li><li><a href=#-å­—ç¬¦ä¸²æ¡ä»¶æ²¡æœ‰ä½¿ç”¨->âš ï¸ å­—ç¬¦ä¸²æ¡ä»¶æ²¡æœ‰ä½¿ç”¨ ""</a></li><li><a href=#-éšå¼è½¬æ¢å¯¼è‡´ç´¢å¼•å¤±æ•ˆ>âš ï¸ éšå¼è½¬æ¢å¯¼è‡´ç´¢å¼•å¤±æ•ˆ</a></li><li><a href=#null-æ¡ä»¶æŸ¥è¯¢>null æ¡ä»¶æŸ¥è¯¢</a></li><li><a href=#mysql-è¯„ä¼°å…¨è¡¨æ‰«ææ›´å¿«>MySQL è¯„ä¼°å…¨è¡¨æ‰«ææ›´å¿«</a></li></ol></li><li><a href=#æœ€å·¦å‰ç¼€æ³•åˆ™>æœ€å·¦å‰ç¼€æ³•åˆ™</a></li><li><a href=#èŒƒå›´æŸ¥è¯¢>èŒƒå›´æŸ¥è¯¢</a></li><li><a href=#è¦†ç›–ç´¢å¼•>è¦†ç›–ç´¢å¼•</a></li><li><a href=#å‰ç¼€ç´¢å¼•>å‰ç¼€ç´¢å¼•</a></li><li><a href=#explain>explain</a></li><li><a href=#å‚è€ƒ>å‚è€ƒ</a></li></ol></nav></div></section></aside></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous></script><script type=text/javascript src=/blog/ts/main.js defer></script>
<script></script></body></html>
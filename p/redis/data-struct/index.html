<!doctype html><html lang dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Redis æä¾›äº†ä¸°å¯Œçš„æ•°æ®ç±»å‹ï¼Œå¸¸è§çš„æœ‰äº”ç§ï¼š String å­—ç¬¦ä¸² List åˆ—è¡¨ Hash å“ˆå¸Œ Set é›†åˆ Zset æœ‰åºé›†åˆ éšç€ Redis ç‰ˆæœ¬çš„æ›´æ–°ï¼Œåé¢åˆæ”¯æŒäº†å››ç§æ•°æ®ç±»å‹ï¼š BitMap (2.2) HyperLogLog (2.8) GEO (3.2) Stream (5.0) åœ¨çº¿ Redis"><title>Redis å¸¸è§æ•°æ®ç»“æ„</title><link rel=canonical href=https://emerywan.github.io/blog/p/redis/data-struct/><link rel=stylesheet href=/blog/scss/style.min.9fdfe1d69c4486d1a84c3c7b288ce74b0111a02a60a6c12f21c6b7cc02b131b4.css><meta property="og:title" content="Redis å¸¸è§æ•°æ®ç»“æ„"><meta property="og:description" content="Redis æä¾›äº†ä¸°å¯Œçš„æ•°æ®ç±»å‹ï¼Œå¸¸è§çš„æœ‰äº”ç§ï¼š String å­—ç¬¦ä¸² List åˆ—è¡¨ Hash å“ˆå¸Œ Set é›†åˆ Zset æœ‰åºé›†åˆ éšç€ Redis ç‰ˆæœ¬çš„æ›´æ–°ï¼Œåé¢åˆæ”¯æŒäº†å››ç§æ•°æ®ç±»å‹ï¼š BitMap (2.2) HyperLogLog (2.8) GEO (3.2) Stream (5.0) åœ¨çº¿ Redis"><meta property="og:url" content="https://emerywan.github.io/blog/p/redis/data-struct/"><meta property="og:site_name" content="ä¸€å±‚"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="Redis"><meta property="article:published_time" content="2022-06-01T01:52:45+08:00"><meta property="article:modified_time" content="2022-06-01T01:52:45+08:00"><meta property="og:image" content="https://emerywan.github.io/blog/p/redis/data-struct/redis.jpg"><meta name=twitter:title content="Redis å¸¸è§æ•°æ®ç»“æ„"><meta name=twitter:description content="Redis æä¾›äº†ä¸°å¯Œçš„æ•°æ®ç±»å‹ï¼Œå¸¸è§çš„æœ‰äº”ç§ï¼š String å­—ç¬¦ä¸² List åˆ—è¡¨ Hash å“ˆå¸Œ Set é›†åˆ Zset æœ‰åºé›†åˆ éšç€ Redis ç‰ˆæœ¬çš„æ›´æ–°ï¼Œåé¢åˆæ”¯æŒäº†å››ç§æ•°æ®ç±»å‹ï¼š BitMap (2.2) HyperLogLog (2.8) GEO (3.2) Stream (5.0) åœ¨çº¿ Redis"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://emerywan.github.io/blog/p/redis/data-struct/redis.jpg"><link rel="shortcut icon" href=https://emerywan.github.io/blog/imgs/favicon.ico><link rel=preconnect href=https://fonts.proxy.ustclug.org><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.proxy.ustclug.org/css2?family=Noto+Sans+SC&family=Roboto&family=Roboto+Mono&display=swap" rel=stylesheet><style>:root{--sys-font-family:-apple-system, BlinkMacSystemFont, "Roboto", "Noto Sans SC", "Segoe UI", "Droid Sans", "Helvetica Neue", Ubuntu;--zh-font-family:-apple-system, BlinkMacSystemFont, "Roboto", "Noto Sans SC",  "PingFang SC", "Hiragino Sans GB", "Droid Sans Fallback", Ubuntu, "Microsoft YaHei";--code-font-family:"SF Mono", SFMono-Regular, "Roboto Mono", "Ubuntu Mono", Menlo, Monaco, Consolas, "Courier New", monospace;--base-font-family:-apple-system, BlinkMacSystemFont, "Roboto", "Noto Sans SC", var(--sys-font-family), var(--zh-font-family), sans-serif;--article-font-family:-apple-system, BlinkMacSystemFont, "Roboto", "Noto Sans SC", var(--base-font-family);--article-line-height:1.6;--article-font-size:1.6rem}</style></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=åˆ‡æ¢èœå•>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/blog><img src=/blog/img/avatar_hud10ed4afecf1b63b1391b35c2778f738_36574_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/blog>ä¸€å±‚</a></h1><h2 class=site-description>è¿ç€è¿™å²æœˆçš„é£ã€‚</h2></div></header><ol class=social-menu><li><a href=https://github.com/emerywan target=_blank title=GitHub><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://www.letout.cn target=_blank title=Home><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-smart-home" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#6f32be" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19 8.71l-5.333-4.148a2.666 2.666.0 00-3.274.0L5.059 8.71A2.665 2.665.0 004.03 10.815v7.2a2 2 0 002 2h12a2 2 0 002-2v-7.2c0-.823-.38-1.6-1.03-2.105"/><path d="M16 15c-2.21 1.333-5.792 1.333-8 0"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/blog/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>é¦–é¡µ</span></a></li><li><a href=/blog/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>å½’æ¡£</span></a></li><li><a href=/blog/categories/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg><span>åˆ†ç±»</span></a></li><li><a href=/blog/about/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>å…³äº</span></a></li><li><a href=/blog/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>æœç´¢</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>ğŸŒ— Dark</span></li></div></ol></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/blog/p/redis/data-struct/><img src=/blog/p/redis/data-struct/redis_hu9919f7b3f46635b6673d32d5992520f9_29030_800x0_resize_q75_box.jpg srcset="/blog/p/redis/data-struct/redis_hu9919f7b3f46635b6673d32d5992520f9_29030_800x0_resize_q75_box.jpg 800w, /blog/p/redis/data-struct/redis_hu9919f7b3f46635b6673d32d5992520f9_29030_1600x0_resize_q75_box.jpg 1600w" width=800 height=400 loading=lazy alt="Featured image of post Redis å¸¸è§æ•°æ®ç»“æ„"></a></div><div class=article-details><header class=article-category><a href=/blog/categories/%E6%8A%80%E6%9C%AF/ style=background-color:#91d5ff;color:#fff>æŠ€æœ¯</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/blog/p/redis/data-struct/>Redis å¸¸è§æ•°æ®ç»“æ„</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>06 - 01, 2022</time></div></footer></div></header><section class=article-content><p>Redis æä¾›äº†ä¸°å¯Œçš„æ•°æ®ç±»å‹ï¼Œå¸¸è§çš„æœ‰äº”ç§ï¼š</p><ul><li>String å­—ç¬¦ä¸²</li><li>List åˆ—è¡¨</li><li>Hash å“ˆå¸Œ</li><li>Set é›†åˆ</li><li>Zset æœ‰åºé›†åˆ</li></ul><p>éšç€ Redis ç‰ˆæœ¬çš„æ›´æ–°ï¼Œåé¢åˆæ”¯æŒäº†å››ç§æ•°æ®ç±»å‹ï¼š</p><ul><li>BitMap (2.2)</li><li>HyperLogLog (2.8)</li><li>GEO (3.2)</li><li>Stream (5.0)</li></ul><p><a class=link href=https://try.redis.io/ target=_blank rel=noopener>åœ¨çº¿ Redis ä½“éªŒ â†’ https://try.redis.io/</a></p><h2 id=-string>ğŸ¦® String</h2><p>String æ˜¯æœ€åŸºæœ¬çš„ <code>key-value</code> ç»“æ„ã€‚<code>key</code> æ˜¯å”¯ä¸€æ ‡è¯†ï¼ˆå¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€æ•°å­—ï¼‰ï¼Œ<code>value</code> æ˜¯å…·ä½“çš„å€¼ï¼ˆæœ€é•¿å¯ä»¥å®¹çº³ 521Mï¼‰ã€‚</p><p><img src=/blog/p/redis/data-struct/string.webp width=1698 height=724 srcset="/blog/p/redis/data-struct/string_hu6be3934e7d6496236c063d8dd99c676c_31658_480x0_resize_q75_h2_box_2.webp 480w, /blog/p/redis/data-struct/string_hu6be3934e7d6496236c063d8dd99c676c_31658_1024x0_resize_q75_h2_box_2.webp 1024w" loading=lazy class=gallery-image data-flex-grow=234 data-flex-basis=562px></p><h3 id=-å¸¸ç”¨å‘½ä»¤>ğŸ—ï¸ å¸¸ç”¨å‘½ä»¤</h3><ul><li>ğŸ§© åŸºæœ¬æ“ä½œ</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># è®¾ç½®</span>
</span></span><span class=line><span class=cl><span class=nb>set</span> name emery
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># è·å–</span>
</span></span><span class=line><span class=cl>get name
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># åˆ¤æ–­ key æ˜¯å¦å­˜åœ¨</span>
</span></span><span class=line><span class=cl>exists name
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># è·å–å­—ç¬¦ä¸²çš„é•¿åº¦</span>
</span></span><span class=line><span class=cl>strlen name
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># åˆ é™¤</span>
</span></span><span class=line><span class=cl>del name
</span></span></code></pre></td></tr></table></div></div><ul><li>ğŸ§© æ‰¹é‡è®¾ç½®</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># æ‰¹é‡è®¾ç½® k-v</span>
</span></span><span class=line><span class=cl>mset key1 value1 key2 value2
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># æ‰¹é‡è·å– k-v</span>
</span></span><span class=line><span class=cl>mget key1 key2
</span></span></code></pre></td></tr></table></div></div><ul><li>ğŸ§© è®¡æ•°å™¨ï¼ˆvalue ä¸ºæ•´æ•°ï¼‰</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># è®¾ç½®</span>
</span></span><span class=line><span class=cl><span class=nb>set</span> num <span class=m>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># +1</span>
</span></span><span class=line><span class=cl>incr num
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># +10</span>
</span></span><span class=line><span class=cl>incrby num <span class=m>10</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># -1</span>
</span></span><span class=line><span class=cl>decr num
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># -10</span>
</span></span><span class=line><span class=cl>decrby num <span class=m>10</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>ğŸ§© è¿‡æœŸï¼ˆé»˜è®¤ä¸ºæ°¸ä¸è¿‡æœŸï¼‰</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># æ·»åŠ å¹¶è®¾ç½®è¿‡æœŸæ—¶é—´ ex-&gt;ç§’ px-&gt;æ¯«ç§’</span>
</span></span><span class=line><span class=cl><span class=nb>set</span> name emery ex <span class=m>60</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># å¯¹å·²å­˜åœ¨çš„ key è®¾ç½®è¿‡æœŸ</span>
</span></span><span class=line><span class=cl>expire name <span class=m>60</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># æŸ¥çœ‹è¿‡æœŸæ—¶é—´</span>
</span></span><span class=line><span class=cl>ttl name
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ç§»é™¤è¿‡æœŸæ—¶é—´ï¼ˆæ— è¿‡æœŸæ—¶é—´ ttl è¿”å› -1ï¼‰</span>
</span></span><span class=line><span class=cl>persist name
</span></span></code></pre></td></tr></table></div></div><ul><li>ğŸ§© å­˜åœ¨ä¸ä¸å­˜åœ¨</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># key ä¸å­˜åœ¨æ‰æˆåŠŸ</span>
</span></span><span class=line><span class=cl><span class=nb>set</span> name emery nx
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># key å­˜åœ¨æ‰æˆåŠŸ</span>
</span></span><span class=line><span class=cl><span class=nb>set</span> name emery xx
</span></span></code></pre></td></tr></table></div></div><h3 id=-å®ç°æ–¹å¼>ğŸ¡ å®ç°æ–¹å¼</h3><p>String çš„åº•å±‚å®ç°æ˜¯è‡ªå®šä¹‰çš„ SDSï¼ˆç®€å•åŠ¨æ€å­—ç¬¦ä¸²ï¼‰ã€‚</p><p>ç›¸æ¯”äº C è¯­è¨€çš„å­—ç¬¦ä¸²ï¼š</p><ul><li>SDS ä¸ä»…å¯ä»¥ä¿å­˜æ–‡æœ¬ï¼Œè¿˜å¯ä»¥ä¿å­˜äºŒè¿›åˆ¶æ•°æ®ï¼ˆå¦‚å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ç­‰ï¼‰ã€‚</li></ul><p>SDS çš„ API éƒ½ä¼šä¸€å¤„ç†äºŒè¿›åˆ¶çš„æ–¹å¼å¤„ç†ä¿å­˜åœ¨ <code>buf[]</code> æ•°ç»„ä¸­çš„æ•°æ®ã€‚</p><ul><li>SDS è·å–å­—ç¬¦ä¸²é•¿åº¦çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ã€‚</li></ul><p>C è¯­è¨€çš„å­—ç¬¦ä¸²ä¸ä¼šè®°å½•è‡ªèº«é•¿åº¦ï¼Œè·å–éœ€è¦éå†ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚SDS ç»“æ„ä¸­è®°å½•äº†é•¿åº¦ã€‚</p><ul><li>SDS çš„ API æ˜¯å®‰å…¨çš„ï¼Œæ‹¼æ¥å­—ç¬¦ä¸²ä¸ä¼šå¯¼è‡´ç¼“å†²åŒºæº¢å‡ºã€‚</li></ul><p>SDS åœ¨æ‹¼æ¥å‰ä¼šæ£€æŸ¥ç©ºé—´æ˜¯å¦æ»¡è¶³è¦æ±‚ï¼Œä¸å¤Ÿçš„è¯ä¼šè‡ªåŠ¨æ‰©å®¹ã€‚</p><h3 id=-ä½¿ç”¨åœºæ™¯>ğŸ§µ ä½¿ç”¨åœºæ™¯</h3><ul><li><p>ğŸ“ ç¼“å­˜å¯¹è±¡</p><ul><li>ç›´æ¥ç¼“å­˜ JSONã€‚ <code>SET user:1 '{"name":"emery", "age":18}'</code></li><li>åˆ†ç¦»ä¸º user:id ä½œä¸º keyï¼Œç”¨ mset å­˜å‚¨ã€‚ <code>MSET user:1:name emery user:1:age 18 user:2:name lin user:2:age 20</code></li></ul></li><li><p>ğŸ“ å¸¸è§„è®¡æ•°</p></li></ul><p>Redis å¤„ç†å‘½ä»¤æ˜¯å•çº¿ç¨‹çš„ï¼Œæ‰€ä»¥æ‰§è¡Œå‘½ä»¤çš„è¿‡ç¨‹æ˜¯åŸå­çš„ã€‚å¯ä»¥å¯¹è®¿é—®è®¿é—®æ¬¡æ•°ã€ç‚¹èµã€è½¬å‘ã€åº“å­˜æ•°é‡è¿›è¡Œç»Ÿè®¡ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>set</span> aritcle:readcount:1001 <span class=m>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># åŸå­æ“ä½œ</span>
</span></span><span class=line><span class=cl>incr aritcle:readcount:1001
</span></span></code></pre></td></tr></table></div></div><ul><li>ğŸ“ <a class=link href=https://www.letout.cn/p/distributed-lock/redis/ target=_blank rel=noopener>åˆ†å¸ƒå¼é”</a></li></ul><p><code>NX</code> å‚æ•°å¯ä»¥å®ç°åœ¨ key å­˜åœ¨çš„æ—¶å€™ï¼Œæ‰æ’å…¥æ•°æ®ï¼Œå¯ä»¥ç”¨æ¥å®ç°åˆ†å¸ƒå¼é”ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># lock_key åˆ†å¸ƒå¼é”çš„ key</span>
</span></span><span class=line><span class=cl><span class=c1># unique_value å®¢æˆ·ç«¯ç”Ÿæˆçš„å”¯ä¸€æ ‡è¯†</span>
</span></span><span class=line><span class=cl><span class=c1># NX åœ¨ lock_key ä¸å­˜åœ¨æ—¶ï¼Œæ‰è¿›è¡Œæ“ä½œ</span>
</span></span><span class=line><span class=cl><span class=c1># PX æ¯«ç§’ 10000ms -&gt; 10s</span>
</span></span><span class=line><span class=cl><span class=nb>set</span> lock_key unique_value NX PX <span class=m>10000</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>ğŸ“ å…±äº« session ä¿¡æ¯</li></ul><p>Session ä¿å­˜åœ¨æœåŠ¡ç«¯ï¼Œé€šå¸¸ç”¨äºä¿å­˜ç”¨æˆ·çš„ä¼šè¯çŠ¶æ€ï¼ˆç™»å½•ï¼‰ã€‚</p><p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œç”¨æˆ·å¤šæ¬¡è¯·æ±‚ä¸ä¸€å®šéƒ½åœ¨åŒä¸€å°æœåŠ¡å™¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ© Redis å¯¹ Session ä¿¡æ¯è¿›è¡Œç»Ÿä¸€çš„å­˜å‚¨å’Œç®¡ç†ï¼ŒæœåŠ¡å™¨éƒ½å»åŒä¸€ä¸ª Redis è·å–ç›¸å…³çš„ Session ä¿¡æ¯ï¼Œè¿™æ ·å°±è§£å†³äº†åˆ†å¸ƒå¼ç³»ç»Ÿä¸‹ Session å­˜å‚¨çš„é—®é¢˜ã€‚</p><p><img src=/blog/p/redis/data-struct/session.webp width=473 height=412 srcset="/blog/p/redis/data-struct/session_hua9fef675509e88be48c6a316850a3976_17592_480x0_resize_q75_h2_box_2.webp 480w, /blog/p/redis/data-struct/session_hua9fef675509e88be48c6a316850a3976_17592_1024x0_resize_q75_h2_box_2.webp 1024w" loading=lazy class=gallery-image data-flex-grow=114 data-flex-basis=275px></p><h2 id=-list>ğŸ… List</h2><p>List æ˜¯ç®€å•çš„å­—ç¬¦ä¸²åˆ—è¡¨ï¼ŒæŒ‰ç…§æ’å…¥é¡ºåºæ’åºï¼Œå¯ä»¥ä»å¤´éƒ¨æˆ–å°¾éƒ¨å‘ List ä¸­æ·»åŠ å…ƒç´ ã€‚æœ€å¤§é•¿åº¦ä¸º <code>2^32 - 1</code>ã€‚</p><h3 id=-å¸¸ç”¨å‘½ä»¤-1>ğŸ—ï¸ å¸¸ç”¨å‘½ä»¤</h3><p><img src=/blog/p/redis/data-struct/list.webp width=1936 height=684 srcset="/blog/p/redis/data-struct/list_huc892bbfdf91688e9656244dd3482dcd2_21712_480x0_resize_q75_h2_box_2.webp 480w, /blog/p/redis/data-struct/list_huc892bbfdf91688e9656244dd3482dcd2_21712_1024x0_resize_q75_h2_box_2.webp 1024w" loading=lazy class=gallery-image data-flex-grow=283 data-flex-basis=679px></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># æ’å…¥</span>
</span></span><span class=line><span class=cl>lpush key value
</span></span><span class=line><span class=cl>rpush key value
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ç§»é™¤</span>
</span></span><span class=line><span class=cl>lpop key
</span></span><span class=line><span class=cl>rpop key
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># è¿”å›æŒ‡å®šåŒºé—´å†…çš„å…ƒç´ ï¼ˆä» 0 å¼€å§‹ï¼‰</span>
</span></span><span class=line><span class=cl>lrange key start end
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># å¼¹å‡ºä¸€ä¸ªå…ƒç´ ï¼Œå¹¶é˜»å¡ timeout ç§’ï¼ˆå½“ timeout=0 å°±ä¸€ç›´é˜»å¡ï¼‰</span>
</span></span><span class=line><span class=cl>blpop key timeout
</span></span><span class=line><span class=cl>brpop key timeout
</span></span></code></pre></td></tr></table></div></div><h3 id=-å®ç°æ–¹å¼-1>ğŸ¡ å®ç°æ–¹å¼</h3><p>Redis List åº•å±‚ç”±ï¼ˆ1ï¼‰å‹ç¼©åˆ—è¡¨ æˆ– ï¼ˆ2ï¼‰åŒå‘é“¾è¡¨ å®ç°ã€‚</p><ul><li><p>å‹ç¼©åˆ—è¡¨ï¼š</p><ul><li>å¦‚æœåˆ—è¡¨çš„å…ƒç´ ä¸ªæ•°å°äº 512 ä¸ªï¼ˆé»˜è®¤å€¼ï¼Œå¯ç”± list-max-ziplist-entries é…ç½®ï¼‰ï¼Œ</li><li>åˆ—è¡¨æ¯ä¸ªå…ƒç´ çš„å€¼éƒ½å°äº 64 å­—èŠ‚ï¼ˆé»˜è®¤å€¼ï¼Œå¯ç”± list-max-ziplist-value é…ç½®ï¼‰ï¼Œ</li><li>Redis ä¼šä½¿ç”¨å‹ç¼©åˆ—è¡¨ä½œä¸º List ç±»å‹çš„åº•å±‚æ•°æ®ç»“æ„ã€‚</li></ul></li><li><p>åŒå‘åˆ—è¡¨ï¼šä¸æ»¡è¶³å‹ç¼©åˆ—è¡¨çš„æ¡ä»¶åº•å±‚å°±ä¼šä½¿ç”¨åŒå‘åˆ—è¡¨ã€‚</p></li></ul><blockquote><p>å‹ç¼©åˆ—è¡¨</p><p>æ˜¯ Reids ä¸ºäº†èŠ‚çº¦å†…å­˜è€Œå¼€å‘çš„ï¼Œç”±è¿ç»­å†…å­˜å—ç»„æˆçš„é¡ºåºå‹æ•°æ®ç»“æ„ï¼Œæœ‰ç‚¹ç±»å‹äºæ•°ç»„ã€‚</p><p>åœ¨è¡¨å¤´æœ‰ä¸‰ä¸ªå­—æ®µï¼š
ï¼ˆ1ï¼‰zlbytesï¼šå‹ç¼©åˆ—è¡¨å ç”¨çš„å†…å­˜å­—èŠ‚æ•°ï¼›
ï¼ˆ2ï¼‰zltailï¼šåˆ—è¡¨å°¾çš„åç§»é‡ï¼ˆå°¾éƒ¨è·ç¦»é¦–éƒ¨æœ‰å¤šå°‘ä¸ªå­—èŠ‚ï¼‰ï¼›
ï¼ˆ3ï¼‰zllenï¼šå‹ç¼©åˆ—è¡¨åŒ…å«çš„èŠ‚ç‚¹æ•°é‡ï¼›</p><p>åœ¨è¡¨å°¾æœ‰ä¸€ä¸ªå­—æ®µï¼š
ï¼ˆ4ï¼‰zlendï¼šåˆ—è¡¨ç»“æŸçš„æ ‡å¿—ï¼ˆå›ºå®šå€¼ 0xFF -> 255ï¼‰ï¼›</p><p>æŸ¥æ‰¾å®šä½ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå…ƒç´ çš„æ—¶é—´å¤æ‚åº¦ä¸ºï¼šO(1)
æŸ¥æ‰¾å…¶ä»–å…ƒç´ ï¼Œåªèƒ½é€ä¸ªæŸ¥æ‰¾ï¼ŒO(n)ï¼Œæ‰€ä»¥å‹ç¼©åˆ—è¡¨ä¸é€‚åˆä¿å­˜è¿‡å¤šçš„å…ƒç´ ã€‚</p><p>åœ¨ Redisä¸­ï¼ŒListã€Hashã€Zset å¯¹è±¡ï¼Œåœ¨å…ƒç´ æ•°é‡è¾ƒå°‘ï¼Œå…ƒç´ å€¼ä¸å¤§æ—¶ï¼Œä¼šä½¿ç”¨å‹ç¼©åˆ—è¡¨ä½œä¸ºåº•å±‚æ•°æ®ç»“æ„ã€‚</p></blockquote><h3 id=-ä½¿ç”¨åœºæ™¯-1>ğŸ§µ ä½¿ç”¨åœºæ™¯</h3><ul><li>ğŸ“ æ¶ˆæ¯é˜Ÿåˆ—</li></ul><p><img src=/blog/p/redis/data-struct/list-mq.webp width=1642 height=374 srcset="/blog/p/redis/data-struct/list-mq_hu84909a50c09ec905badb1edece873c1a_26948_480x0_resize_q75_h2_box_2.webp 480w, /blog/p/redis/data-struct/list-mq_hu84909a50c09ec905badb1edece873c1a_26948_1024x0_resize_q75_h2_box_2.webp 1024w" loading=lazy class=gallery-image data-flex-grow=439 data-flex-basis=1053px></p><h2 id=-hash>ğŸ¦› Hash</h2><p>Hash æ˜¯ä¸€ä¸ªé”®å€¼å¯¹çš„é›†åˆ <code>key-value</code>ï¼Œç‰¹åˆ«é€‚åˆå­˜å‚¨å¯¹è±¡ã€‚</p><p><img src=/blog/p/redis/data-struct/hash.webp width=1240 height=888 srcset="/blog/p/redis/data-struct/hash_hu502a0c0c4b1bff1d1b5a1b9e04992920_41732_480x0_resize_q75_h2_box_2.webp 480w, /blog/p/redis/data-struct/hash_hu502a0c0c4b1bff1d1b5a1b9e04992920_41732_1024x0_resize_q75_h2_box_2.webp 1024w" loading=lazy class=gallery-image data-flex-grow=139 data-flex-basis=335px></p><h3 id=-å¸¸ç”¨å‘½ä»¤-2>ğŸ—ï¸ å¸¸ç”¨å‘½ä»¤</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># å­˜å‚¨ä¸€ä¸ª key=people çš„å“ˆå¸Œè¡¨ </span>
</span></span><span class=line><span class=cl>hset people name <span class=s2>&#34;Emery&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># è·å–å“ˆå¸Œè¡¨ä¸­çš„å€¼</span>
</span></span><span class=line><span class=cl>hget people name
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># å­˜å‚¨å¤šä¸ªé”®å€¼å¯¹</span>
</span></span><span class=line><span class=cl>hmset people name <span class=s2>&#34;Emery&#34;</span> age <span class=m>18</span>
</span></span><span class=line><span class=cl><span class=c1># æ‰¹é‡è·å–é”®å€¼å¯¹</span>
</span></span><span class=line><span class=cl>hmget people name age
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># åˆ é™¤ä¸€ä¸ªå“ˆå¸Œè¡¨</span>
</span></span><span class=line><span class=cl>hdel people
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># è·å¾—å“ˆå¸Œè¡¨ä¸­key-valueå¯¹çš„æ•°é‡</span>
</span></span><span class=line><span class=cl>hlen people
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># è·å–å“ˆå¸Œè¡¨ä¸­æ‰€æœ‰çš„ key</span>
</span></span><span class=line><span class=cl>hgetall people
</span></span></code></pre></td></tr></table></div></div><h3 id=-å®ç°æ–¹å¼-2>ğŸ¡ å®ç°æ–¹å¼</h3><p>Hash ç±»å‹çš„åº•å±‚æ•°æ®ç»“æ„ç”± ï¼ˆ1ï¼‰å‹ç¼©åˆ—è¡¨ æˆ– ï¼ˆ2ï¼‰å“ˆå¸Œè¡¨ å®ç°ã€‚</p><ul><li><p>å‹ç¼©åˆ—è¡¨</p><ul><li>å…ƒç´ å°äº 512 ä¸ª</li><li>æ‰€æœ‰çš„å€¼å°äº 64 å­—èŠ‚</li><li>ä½¿ç”¨å‹ç¼©åˆ—è¡¨</li></ul></li><li><p>å“ˆå¸Œè¡¨</p><ul><li>ä¸æ»¡è¶³ä»¥ä¸Šæ¡ä»¶ä½¿ç”¨ hash è¡¨</li></ul></li></ul><h3 id=-ä½¿ç”¨åœºæ™¯-2>ğŸ§µ ä½¿ç”¨åœºæ™¯</h3><ul><li>ğŸ“ ç¼“å­˜å¯¹è±¡</li></ul><p><img src=/blog/p/redis/data-struct/hash-object.webp width=1192 height=840 srcset="/blog/p/redis/data-struct/hash-object_huacd74159ecd6ae063f912243dd43d93b_31326_480x0_resize_q75_h2_box_2.webp 480w, /blog/p/redis/data-struct/hash-object_huacd74159ecd6ae063f912243dd43d93b_31326_1024x0_resize_q75_h2_box_2.webp 1024w" loading=lazy class=gallery-image data-flex-grow=141 data-flex-basis=340px></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>hmset uid:10001 name Tom age <span class=m>15</span>
</span></span><span class=line><span class=cl>hmset uid:10002 name Jerry age <span class=m>13</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>hmget uid:10001
</span></span></code></pre></td></tr></table></div></div><p>ä½¿ç”¨ String ç±»å‹ç¼“å­˜ JSON ä¹Ÿæ˜¯ç¼“å­˜å¯¹è±¡çš„ä¸€ç§å‡¡æ˜¯ï¼Œå¦‚æœå¯¹è±¡ä¸­æŸäº›å±æ€§é¢‘ç¹å˜åŒ–ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ Hashã€‚</p><ul><li>ğŸ›’ è´­ç‰©è½¦<ul><li>ğŸ˜ƒ ç”¨æˆ· id -> key</li><li>ğŸª å•†å“ id -> field</li><li>ğŸ”¢ å•†å“æ•°é‡ -> value</li></ul></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># æ·»åŠ å•†å“ cart:{ç”¨æˆ·id} {å•†å“id} 1</span>
</span></span><span class=line><span class=cl>hset cart:10001 <span class=m>22223</span> <span class=m>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># æ·»åŠ æ•°é‡</span>
</span></span><span class=line><span class=cl>hincrby cart:10001 <span class=m>22223</span> <span class=m>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># è·å¾—å•†å“æ•°é‡</span>
</span></span><span class=line><span class=cl>hget cart:10001 <span class=m>22223</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># åˆ é™¤å•†å“</span>
</span></span><span class=line><span class=cl>hdel cart:10001 <span class=m>22223</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># è·å–è´­ç‰©è½¦æ‰€æœ‰å•†å“</span>
</span></span><span class=line><span class=cl>hgetall cart:10001
</span></span></code></pre></td></tr></table></div></div><p>åœ¨å®é™…ä¸šåŠ¡ä¸­ï¼ŒRedis ä¸­åªå­˜å‚¨äº†å•†å“çš„ id ä¿¡æ¯ï¼Œåœ¨å›æ˜¾å•†å“çš„å…·ä½“ä¿¡æ¯æ—¶ï¼Œå†æ‹¿å•†å“ id æŸ¥è¯¢ä¸€æ¬¡æ•°æ®åº“ï¼Œè·å–å®Œæ•´çš„å•†å“ä¿¡æ¯ã€‚</p><h2 id=-set>ğŸ‘ Set</h2><p>Set æ˜¯ä¸€ä¸ªæ— åºå¹¶å”¯ä¸€çš„é›†åˆï¼ˆå­˜å‚¨é¡ºåºä¸ä¼šæŒ‰ç…§æ’å…¥çš„å…ˆåé¡ºåºè¿›è¡Œå­˜å‚¨ï¼‰ã€‚</p><p>é›†åˆä¸­æœ€å¤šå¯ä»¥å­˜å‚¨ <code>2^32 - 1</code> ä¸ªå…ƒç´ ï¼Œé™¤å¢åˆ æ”¹æŸ¥å¤–ï¼Œè¿˜æ”¯æŒå¤šä¸ªé›†åˆçš„äº¤é›†ã€å¹¶é›†å’Œå·®é›†ã€‚</p><p><img src=/blog/p/redis/data-struct/set.webp width=1268 height=654 srcset="/blog/p/redis/data-struct/set_hu834a88f1bdb5e75fecc5121b1cadeb66_29462_480x0_resize_q75_h2_box_2.webp 480w, /blog/p/redis/data-struct/set_hu834a88f1bdb5e75fecc5121b1cadeb66_29462_1024x0_resize_q75_h2_box_2.webp 1024w" loading=lazy class=gallery-image data-flex-grow=193 data-flex-basis=465px></p><p>List ä¸ Set çš„åŒºåˆ«ï¼š</p><ul><li>List å¯ä»¥å­˜å‚¨é‡å¤å…ƒç´ ï¼ŒSet ä¸å¯ä»¥</li><li>List æŒ‰ç…§å…ƒç´ æ·»åŠ çš„é¡ºåºå­˜å‚¨å…ƒç´ ï¼ŒSet å­˜å‚¨å…ƒç´ æ˜¯æ— åºçš„</li></ul><h3 id=-å¸¸ç”¨å‘½ä»¤-3>ğŸ—ï¸ å¸¸ç”¨å‘½ä»¤</h3><ul><li>ğŸ§© å¸¸ç”¨æ“ä½œ</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># æ·»åŠ å…ƒç´ ï¼ˆå·²å­˜åœ¨åˆ™å¿½ç•¥ï¼‰</span>
</span></span><span class=line><span class=cl>sadd key value1 <span class=o>[</span>value2 ...<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># åˆ é™¤å…ƒç´ </span>
</span></span><span class=line><span class=cl>srem key value1 <span class=o>[</span>value2 ...<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># è·å–æ‰€æœ‰çš„å…ƒç´ </span>
</span></span><span class=line><span class=cl>smembers key
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># è·å–é›†åˆä¸­çš„å…ƒç´ ä¸ªæ•°</span>
</span></span><span class=line><span class=cl>scard key
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># åˆ¤æ–­æ˜¯å¦å­˜åœ¨</span>
</span></span><span class=line><span class=cl>sismember key value
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ä»é›†åˆä¸­éšæœºé€‰å– count ä¸ªå…ƒç´ ï¼Œä¸ä»ä¸­åˆ é™¤</span>
</span></span><span class=line><span class=cl>srandmember key <span class=o>[</span>count<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ä»é›†åˆä¸­éšæœºé€‰å– count ä¸ªå…ƒç´ ï¼Œå¹¶åˆ é™¤</span>
</span></span><span class=line><span class=cl>spop key <span class=o>[</span>count<span class=o>]</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>ğŸ§© è¿ç®—æ“ä½œ</li></ul><p>âš  Set çš„äº¤å¹¶å·®é›†è¿ç®—çš„å¤æ‚åº¦è¾ƒé«˜ï¼Œåœ¨æ•°æ®é‡è¾ƒå¤§æ—¶ï¼Œå¦‚æœç›´æ¥æ‰§è¡Œè®¡ç®—ï¼Œä¼šå¯¼è‡´ Redis å®ä¾‹é˜»å¡ã€‚
åœ¨å®é™…ä¸­ï¼Œæ¨èè·å–æ•°æ®åï¼Œåœ¨å®¢æˆ·ç«¯å»å®Œæˆè®¡ç®—ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># äº¤é›†</span>
</span></span><span class=line><span class=cl>sinter key1 <span class=o>[</span>key2 ...<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=c1># äº¤é›†å¹¶å­˜å‚¨</span>
</span></span><span class=line><span class=cl>sinterstore destination key1 <span class=o>[</span>key2 ...<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># å¹¶é›†</span>
</span></span><span class=line><span class=cl>sunion key1 <span class=o>[</span>key2 ...<span class=o>]</span>
</span></span><span class=line><span class=cl>sunionstore destination key1 <span class=o>[</span>key2 ...<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># å·®é›†</span>
</span></span><span class=line><span class=cl>sdiff key1 <span class=o>[</span>key2 ...<span class=o>]</span>
</span></span><span class=line><span class=cl>sdiffstore destination key1 <span class=o>[</span>key2 ...<span class=o>]</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=-å®ç°æ–¹å¼-3>ğŸ¡ å®ç°æ–¹å¼</h3><p>Set ç±»å‹çš„åº•å±‚æ•°æ®ç»“æ„ç”± ï¼ˆ1ï¼‰å“ˆå¸Œè¡¨ æˆ– ï¼ˆ2ï¼‰æ•´æ•°é›†åˆå®ç°ã€‚</p><ul><li><p>æ•´æ•°é›†åˆ</p><ul><li>å…ƒç´ ä¸ªæ•°å°‘äº 512 ä¸ªï¼Œåº•å±‚é‡‡ç”¨æ•´æ•°é›†åˆä½œä¸ºæ•°æ®ç»“æ„</li></ul></li><li><p>å“ˆå¸Œè¡¨</p><ul><li>ä¸æ»¡è¶³ä»¥ä¸Šæ¡ä»¶ï¼Œä½¿ç”¨å“ˆå¸Œè¡¨ä½œä¸ºåº•å±‚æ•°æ®ç»“æ„</li></ul></li></ul><h3 id=-ä½¿ç”¨åœºæ™¯-3>ğŸ§µ ä½¿ç”¨åœºæ™¯</h3><p>Set ä¸»è¦æ˜¯æ— ç»­ï¼Œä¸å¯é‡å¤ï¼Œå¯æ±‚äº¤å¹¶å·®çš„ç‰¹æ€§ã€‚</p><ul><li>ğŸ“ ç‚¹èµ</li></ul><p>Set ç±»å‹å¯ä»¥ä¿è¯ç”¨æˆ·åªèƒ½ç‚¹ä¸€ä¸ªèµã€‚</p><ul><li>key -> æ–‡ç«  id</li><li>value -> ç”¨æˆ· id</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># æ–‡ç«  1 è¢« id ä¸º 1ã€2ã€3 çš„ç”¨æˆ·ç‚¹èµ</span>
</span></span><span class=line><span class=cl>sadd article:1 uid:1
</span></span><span class=line><span class=cl>sadd article:1 uid:2
</span></span><span class=line><span class=cl>sadd article:1 uid:3
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># å–æ¶ˆç‚¹èµ</span>
</span></span><span class=line><span class=cl>srem article:1 uid:1
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># è·å– æ–‡ç«  1 çš„ç‚¹èµç”¨æˆ· id</span>
</span></span><span class=line><span class=cl>smembers article:1
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># è·å– æ–‡ç«  1 çš„ç‚¹èµæ•°é‡</span>
</span></span><span class=line><span class=cl>scard article:1
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># åˆ¤æ–­ ç”¨æˆ· 1 æ˜¯å¦å¯¹æ–‡ç«  1 è¿›è¡Œäº†ç‚¹èµ</span>
</span></span><span class=line><span class=cl>sismember article:1 uid:1
</span></span></code></pre></td></tr></table></div></div><ul><li>ğŸ“ å…±åŒå…³æ³¨</li></ul><p>Set æ”¯æŒäº¤é›†è¿ç®—ï¼Œå¯ä»¥ç”¨æ¥è®¡ç®—å…±åŒå…³æ³¨çš„å¥½å‹ï¼Œå…¬ä¼—å·ç­‰ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># id ä¸º 1ã€2 çš„ç”¨æˆ·å…³æ³¨çš„å…¬ä¼—å·</span>
</span></span><span class=line><span class=cl>sadd uid:1 <span class=m>5</span> <span class=m>6</span> <span class=m>7</span> <span class=m>8</span> <span class=m>9</span>
</span></span><span class=line><span class=cl>sadd uid:2 <span class=m>7</span> <span class=m>8</span> <span class=m>9</span> <span class=m>10</span> <span class=m>11</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># è·å–å…±åŒå…³æ³¨</span>
</span></span><span class=line><span class=cl>sinter uid:1 uid:2
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ç»™ uid:2 æ¨è uid:1 å…³æ³¨çš„å…¬ä¼—å·</span>
</span></span><span class=line><span class=cl>sdiff uid:1 uid:2
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># éªŒè¯æŸä¸ªå…¬ä¼—å·æ˜¯å¦è¢«åŒæ—¶å…³æ³¨</span>
</span></span><span class=line><span class=cl>sismember uid:1 <span class=m>5</span>  <span class=c1># -&gt; 1 å…³æ³¨</span>
</span></span><span class=line><span class=cl>sismember uid:2 <span class=m>5</span>  <span class=c1># -&gt; 0 æœªå…³æ³¨</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>ğŸ“ æŠ½å¥–æ´»åŠ¨</li></ul><p>key->æ´»åŠ¨åï¼Œvalue->ç”¨æˆ·åï¼Œå­˜å‚¨æŸæ´»åŠ¨ä¸­ä¸­å¥–çš„ç”¨æˆ·å ï¼ŒSet ç±»å‹å› ä¸ºæœ‰å»é‡åŠŸèƒ½ï¼Œå¯ä»¥ä¿è¯åŒä¸€ä¸ªç”¨æˆ·ä¸ä¼šä¸­å¥–ä¸¤æ¬¡ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>sadd lucky Tom Jerry John Sean Marry Lindy Sary Mark
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># æŠ½å– 1 ä¸ªä¸€ç­‰å¥–ï¼š</span>
</span></span><span class=line><span class=cl>srangememeber lucky <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=c1># æŠ½å– 2 ä¸ªäºŒç­‰å¥–ï¼š</span>
</span></span><span class=line><span class=cl>srangememeber lucky <span class=m>2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ä¸å…è®¸é‡å¤è·å¥–</span>
</span></span><span class=line><span class=cl>spop lucky <span class=m>1</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=-zset>ğŸ¦¥ Zset</h2><p>Zsetï¼ˆæœ‰åºé›†åˆï¼Œä»å°åˆ°å¤§ï¼‰ ç›¸æ¯”äº Set ç±»å‹å¤šäº†ä¸€ä¸ªæ’åºåˆ†å€¼ socreã€‚</p><p>å¯¹äºæœ‰åºé›†åˆ ZSet æ¥è¯´ï¼Œæ¯ä¸ªå­˜å‚¨çš„å…ƒç´ ç”±ä¸¤ä¸ªå€¼ç»„æˆï¼Œä¸€ä¸ªæ˜¯æœ‰åºé›†åˆçš„å…ƒç´ å€¼ï¼Œä¸€ä¸ªæ˜¯æ’åºå€¼ã€‚</p><p>Zset ä¸­å…ƒç´ ä¸èƒ½é‡å¤ï¼Œåˆ†æ•°å€¼å¯ä»¥é‡å¤ï¼Œå¹¶ä¸”å¯ä»¥æ’åºã€‚</p><p><img src=/blog/p/redis/data-struct/zset.webp width=1226 height=616 srcset="/blog/p/redis/data-struct/zset_hudfba1ba2f4862e7afd7997bee0d59f08_21828_480x0_resize_q75_h2_box_2.webp 480w, /blog/p/redis/data-struct/zset_hudfba1ba2f4862e7afd7997bee0d59f08_21828_1024x0_resize_q75_h2_box_2.webp 1024w" loading=lazy class=gallery-image data-flex-grow=199 data-flex-basis=477px></p><h3 id=-å¸¸ç”¨å‘½ä»¤-4>ğŸ—ï¸ å¸¸ç”¨å‘½ä»¤</h3><ul><li>ğŸ§© å¸¸ç”¨æ“ä½œ</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># å‘æœ‰åºé›†åˆä¸­åŠ å…¥å¸¦åˆ†å€¼çš„å…ƒç´ </span>
</span></span><span class=line><span class=cl>zadd key socre number <span class=o>[[</span>score number<span class=o>]</span> ...<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ä»æœ‰åºé›†åˆä¸­åˆ é™¤å…ƒç´ </span>
</span></span><span class=line><span class=cl>zrem key number <span class=o>[</span>number ...<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># è¿”å›æœ‰åºé›†åˆä¸­å…ƒç´ çš„åˆ†æ•°</span>
</span></span><span class=line><span class=cl>zscore key number
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># è¿”å›æœ‰åºé›†åˆä¸­å…ƒç´ çš„ä¸ªæ•°</span>
</span></span><span class=line><span class=cl>zcard key
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ä¸ºæœ‰åºé›†åˆä¸­ member çš„åˆ†å€¼åŠ ä¸Š increment</span>
</span></span><span class=line><span class=cl>zincrby key increment member
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># æ­£åºè·å–æœ‰åºé›†åˆä¸­ start-&gt;end çš„ä¸‹è¡¨å…ƒç´ </span>
</span></span><span class=line><span class=cl>zrange key start end <span class=o>[</span>withscores<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># å€’åºè·å–æœ‰åºé›†åˆä¸­ start-&gt;end çš„ä¸‹æ ‡å…ƒç´ </span>
</span></span><span class=line><span class=cl>zrevrange key start end <span class=o>[</span>withscores<span class=o>]</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=-å®ç°æ–¹å¼-4>ğŸ¡ å®ç°æ–¹å¼</h3><p>æœ‰åºé›†åˆ Zset åº•å±‚ä½¿ç”¨ ï¼ˆ1ï¼‰å‹ç¼©åˆ—è¡¨ æˆ– ï¼ˆ2ï¼‰è·³è¡¨ ä½œä¸ºæ•°æ®ç»“æ„ã€‚</p><ul><li><p>å‹ç¼©åˆ—è¡¨ï¼šæœ‰åºé›†åˆä¸­å…ƒç´ å°äº 128 ä¸ªï¼Œå¹¶ä¸”æ¯ä¸ªå…ƒç´ çš„å€¼å°äº 64 å­—èŠ‚æ—¶ï¼Œä½¿ç”¨å‹ç¼©åˆ—è¡¨ä½œä¸ºåº•å±‚æ•°æ®ç»“æ„ã€‚</p></li><li><p>è·³è¡¨ï¼šä¸æ»¡è¶³ä¸Šè¿°æ¡ä»¶ï¼Œä½¿ç”¨è°ƒè¡¨ã€‚</p></li></ul><h3 id=-ä½¿ç”¨åœºæ™¯-4>ğŸ§µ ä½¿ç”¨åœºæ™¯</h3><ul><li>ğŸ“ æ’è¡Œæ¦œ</li></ul><p>ä¾‹å¦‚æ¸¸æˆç§¯åˆ†æ’è¡Œæ¦œï¼Œè§†é¢‘æ’­æ”¾æ’åï¼Œç”µå•†ç³»ç»Ÿä¸­å•†å“çš„é”€é‡æ’åã€‚</p><p>key->æ’è¡Œæ¦œçš„ç±»å‹ï¼›member->éœ€æ’è¡Œçš„å†…å®¹ï¼ˆå¦‚æ–‡ç« idï¼‰ï¼›score->ç‚¹å‡»æ•°ã€ç‚¹èµæ•°ç­‰</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># emery å‘çš„id=1çš„æ–‡ç« è·å¾—äº† 200 ä¸ªèµ</span>
</span></span><span class=line><span class=cl>zadd user:emery:ranking <span class=m>200</span> arcticle:1 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ç»™æ–‡ç«  1 ç‚¹èµ</span>
</span></span><span class=line><span class=cl>zincrby user:emery:ranking <span class=m>1</span> article:1
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># æŸ¥çœ‹æŸç¯‡æ–‡ç« çš„ç‚¹èµæ•°</span>
</span></span><span class=line><span class=cl>zscore user:emery:ranking article:1
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># æŸ¥çœ‹ç‚¹èµæ•°æœ€å¤šçš„ 3 ç¯‡æ–‡ç« </span>
</span></span><span class=line><span class=cl>zrevrange user:emery:ranking <span class=m>0</span> <span class=m>2</span> withscores
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># è·å– 100 èµåˆ° 200 èµçš„æ–‡ç« </span>
</span></span><span class=line><span class=cl>zrangebysocre user:emery:ranking <span class=m>100</span> <span class=m>200</span> withscores
</span></span></code></pre></td></tr></table></div></div><ul><li>ğŸ“ å»¶æ—¶é˜Ÿåˆ—</li></ul><p>åˆ©ç”¨ score å­˜å‚¨å»¶æ—¶æ‰§è¡Œçš„æ—¶é—´ï¼Œä½¿ç”¨ zrangebysocre æŸ¥è¯¢æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„å¾…å¤„ç†ä»»åŠ¡ï¼Œå†è¿›è¡Œå¤„ç†ã€‚</p><h2 id=-å‚è€ƒ>ğŸ”— å‚è€ƒ</h2><ul><li><a class=link href=https://xiaolincoding.com/redis/data_struct/command.html target=_blank rel=noopener>https://xiaolincoding.com/redis/data_struct/command.html</a></li></ul></section><footer class=article-footer><section class=article-tags><a href=/blog/tags/redis/>Redis</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-contents--wrapper><h2 class=section-title>ç›¸å…³æ–‡ç« </h2><div class=related-contents><div class="flex article-list--tile"><article class=has-image><a href=/blog/p/redis/replication/><div class=article-image><img src=/blog/p/redis/replication/replication.30f627456b5f3b1226d679fcb7c12eaf_hu79bab96584f6667bba9965688b174414_176167_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy alt="Featured image of post Redis å¤åˆ¶" data-key=/redis/replication data-hash="md5-MPYnRWtfOxIm1nn8t8Eurw=="></div><div class=article-details><h2 class=article-title>Redis å¤åˆ¶</h2></div></a></article><article class=has-image><a href=/blog/p/redis/cache-problem/><div class=article-image><img src=/blog/p/redis/cache-problem/cache.a0d60eac72b6de265f4d8537dd5a2a6f_huc44aa64b3fbd973aaa777c758ea67bcf_92231_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy alt="Featured image of post Redis ç¼“å­˜é—®é¢˜" data-key=/redis/cache-problem data-hash="md5-oNYOrHK23iZfTYU33Voqbw=="></div><div class=article-details><h2 class=article-title>Redis ç¼“å­˜é—®é¢˜</h2></div></a></article><article class=has-image><a href=/blog/p/redis/persistence/><div class=article-image><img src=/blog/p/redis/persistence/cow.0a175731701ab393cbffd1a003fca111_huef7edcdd3c38f136e9d4b420711ff934_42621_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy alt="Featured image of post Redis æŒä¹…åŒ–" data-key=/redis/persistence data-hash="md5-ChdXMXAas5PL/9GgA/yhEQ=="></div><div class=article-details><h2 class=article-title>Redis æŒä¹…åŒ–</h2></div></a></article><article class=has-image><a href=/blog/p/distributed/lock/redis/><div class=article-image><img src=/blog/imgs/1.jpeg loading=lazy data-key=/distributed/lock/redis data-hash=/blog/imgs/1.jpeg></div><div class=article-details><h2 class=article-title>ä½¿ç”¨ Redis å®ç°åˆ†å¸ƒå¼é”</h2></div></a></article><article class=has-image><a href=/blog/p/design-pattern/observer/><div class=article-image><img src=/blog/p/design-pattern/observer/observer.d66f5921d7d3ecf6b53b22504fe1af1d_hua5fe444eaf0979d6378130641051be73_47507_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy alt="Featured image of post è§‚å¯Ÿè€…æ¨¡å¼" data-key=/design-pattern/observer data-hash="md5-1m9ZIdfT7Pa1OyJQT+GvHQ=="></div><div class=article-details><h2 class=article-title>è§‚å¯Ÿè€…æ¨¡å¼</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2023 ä¸€å±‚</section><section class=powerby><b><a href=http://beian.miit.gov.cn/ target=_blank rel="nofollow noopener">èµ£ICPå¤‡19004365å·-3</a></b><br>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=%s>Stack</a></b> by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a><br></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">ç›®å½•</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#-string>ğŸ¦® String</a><ol><li><a href=#-å¸¸ç”¨å‘½ä»¤>ğŸ—ï¸ å¸¸ç”¨å‘½ä»¤</a></li><li><a href=#-å®ç°æ–¹å¼>ğŸ¡ å®ç°æ–¹å¼</a></li><li><a href=#-ä½¿ç”¨åœºæ™¯>ğŸ§µ ä½¿ç”¨åœºæ™¯</a></li></ol></li><li><a href=#-list>ğŸ… List</a><ol><li><a href=#-å¸¸ç”¨å‘½ä»¤-1>ğŸ—ï¸ å¸¸ç”¨å‘½ä»¤</a></li><li><a href=#-å®ç°æ–¹å¼-1>ğŸ¡ å®ç°æ–¹å¼</a></li><li><a href=#-ä½¿ç”¨åœºæ™¯-1>ğŸ§µ ä½¿ç”¨åœºæ™¯</a></li></ol></li><li><a href=#-hash>ğŸ¦› Hash</a><ol><li><a href=#-å¸¸ç”¨å‘½ä»¤-2>ğŸ—ï¸ å¸¸ç”¨å‘½ä»¤</a></li><li><a href=#-å®ç°æ–¹å¼-2>ğŸ¡ å®ç°æ–¹å¼</a></li><li><a href=#-ä½¿ç”¨åœºæ™¯-2>ğŸ§µ ä½¿ç”¨åœºæ™¯</a></li></ol></li><li><a href=#-set>ğŸ‘ Set</a><ol><li><a href=#-å¸¸ç”¨å‘½ä»¤-3>ğŸ—ï¸ å¸¸ç”¨å‘½ä»¤</a></li><li><a href=#-å®ç°æ–¹å¼-3>ğŸ¡ å®ç°æ–¹å¼</a></li><li><a href=#-ä½¿ç”¨åœºæ™¯-3>ğŸ§µ ä½¿ç”¨åœºæ™¯</a></li></ol></li><li><a href=#-zset>ğŸ¦¥ Zset</a><ol><li><a href=#-å¸¸ç”¨å‘½ä»¤-4>ğŸ—ï¸ å¸¸ç”¨å‘½ä»¤</a></li><li><a href=#-å®ç°æ–¹å¼-4>ğŸ¡ å®ç°æ–¹å¼</a></li><li><a href=#-ä½¿ç”¨åœºæ™¯-4>ğŸ§µ ä½¿ç”¨åœºæ™¯</a></li></ol></li><li><a href=#-å‚è€ƒ>ğŸ”— å‚è€ƒ</a></li></ol></nav></div></section></aside></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous></script><script type=text/javascript src=/blog/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>